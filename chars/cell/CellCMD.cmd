;==============================
;"Cell", from Super Boutuden 2
;==============================

;----------------------------------------
;Author:	The Necromancer
;		flowergirl@cutey.com
;----------------------------------------

;===========================================================================
;-| Notes |-----------------------------------------------------------------
;Nothing.

;-| Hyper Motions |--------------------------------------------------------

[Command]
name = "Makankosappou"
command = ~D, DF, F, D, DF, F, z
time = 25

[Command]
name = "Makankosappou"
command = ~D, DF, F, D, F, z
time = 25

[Command]
name = "Makankosappou"
command = ~D, F, D, DF, F, z
time = 25

[Command]
name = "Makankosappou"
command = ~D, F, D, F, z
time = 25

[Command]
name = "Big Bang Attack"
command = ~D, DB, B, D, DB, B, z
time = 25

[Command]
name = "Big Bang Attack"
command = ~D, DB, B, D, B, z
time = 25

[Command]
name = "Big Bang Attack"
command = ~D, B, D, DB, B, z
time = 25

[Command]
name = "Big Bang Attack"
command = ~D, B, D, B, z
time = 25

[Command]
name = "Chou KameHameHa"
command = ~D, DB, B, F, z
time = 25

[Command]
name = "Chou KameHameHa"
command = ~D, B, F, z
time = 25

[Command]
name = "Gekitotsu Urutora Barebo Ru"
command = ~F, B, D, U, a+b
time = 60

[Command]
name = "Gekitotsu Urutora Barebo Ru"
command = ~F, B, DB, D, U, a+b
time = 60

;-| Special Motions |------------------------------------------------------

[Command]
name = "Ki Barrier"
command = ~D, DB, B, x
time = 20

[Command]
name = "Ki Barrier"
command = ~D, B, x
time = 20

[Command]
name = "Ki Barrier"
command = ~D, DB, B, y
time = 20

[Command]
name = "Ki Barrier"
command = ~D, B, y
time = 20

[Command]
name = "Jishin Ha"
command = ~D, DF, F, x
time = 20

[Command]
name = "Jishin Ha"
command = ~D, F, x
time = 20

[Command]
name = "Jishin Ha"
command = ~D, DF, F, y
time = 20

[Command]
name = "Jishin Ha"
command = ~D, F, y
time = 20

[Command]
name = "Bakuretsu Kyaku"
command = ~D, DF, F, a
time = 20

[Command]
name = "Bakuretsu Kyaku"
command = ~D, F, a
time = 20

[Command]
name = "Bakuretsu Kyaku"
command = ~D, DF, F, b
time = 20

[Command]
name = "Bakuretsu Kyaku"
command = ~D, F, b
time = 20

[Command]
name = "Zanzouken"
command = ~F, D, DF, a
time = 20

[Command]
name = "Zanzouken"
command = ~F, D, F, a
time = 20

[Command]
name = "Zanzouken"
command = ~F, D, DF, b
time = 20

[Command]
name = "Zanzouken"
command = ~F, D, F, b
time = 20

[Command]
name = "Taiyoken"
command = ~$D, $U, z
time = 20

[Command]
name = "Renzokou Kikou Ha"
command = ~D, DB, B, z
time = 20

[Command]
name = "Renzokou Kikou Ha"
command = ~D, B, z
time = 20

[Command]
name = "Kienzan"
command = ~B, DB, D, DF, F, z
time = 20

[Command]
name = "Kienzan"
command = ~B, D, F, z
time = 20

[Command]
name = "Kantsu Energy Dan"
command = ~F, B, F, z
time = 20

[Command]
name = "Geshiki Naraku Otoshi"
command = ~F, D, DF, x
time = 20

[Command]
name = "Geshiki Naraku Otoshi"
command = ~F, D, F, x
time = 20

[Command]
name = "Geshiki Naraku Otoshi"
command = ~F, D, DF, y
time = 20

[Command]
name = "Geshiki Naraku Otoshi"
command = ~F, D, F, y
time = 20

;-| Misc Motions |---------------------------------------------------------

[Command]
name = "EvadeFWD"
command = /F, b+y
time = 12

[Command]
name = "EvadeBWD"
command = /B, b+y
time = 12

;-| Double Tap |-----------------------------------------------------------

[Command]
name = "FF"     
command = F, F
time = 12

[Command]
name = "BB"     
command = B, B
time = 12

[Command]
name = "Long Jump"
command = ~D, UF
time = 12

[Command]
name = "Long Jump"
command = ~D, UB
time = 12

;-| 2/3 Button Combination |-----------------------------------------------

[Command]
name = "recovery"
command = x+y
time = 5

[Command]
name = "recovery"
command = y+z
time = 5

[Command]
name = "recovery"
command = x+z
time = 5

[Command]
name = "recovery"
command = x+y+z
time = 5

[Command]
name = "xy"
command = x+y
time = 5

[Command]
name = "yz"
command = y+z
time = 5

[Command]
name = "xz"
command = x+z
time = 5

[Command]
name = "xyz"
command = x+y+z
time = 5

[Command]
name = "ab"
command = a+b
time = 5

[Command]
name = "bc"
command = b+c
time = 5

[Command]
name = "ac"
command = a+c
time = 5

[Command]
name = "abc"
command = a+b+c
time = 5

[Command]
name = "xa"
command = x+a
time = 5

[Command]
name = "by"
command = b+y
time = 5

[Command]
name = "cz"
command = c+z
time = 5

;-| Dir + Button |---------------------------------------------------------

;-| Single Button |---------------------------------------------------------

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "s"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup" 
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

[Command]
name = "holdx" 
command = /x
time = 1

[Command]
name = "holdy" 
command = /y
time = 1

[Command]
name = "holdz" 
command = /z
time = 1

[Command]
name = "holda" 
command = /a
time = 1

[Command]
name = "holdb" 
command = /b
time = 1

[Command]
name = "holdc" 
command = /c
time = 1

[Command]
name = "holds" 
command = /s
time = 1

;---------------------------------------------------------------------------

[Statedef -1]

;===========================================================================
;-| Misc |------------------------------------------------------------------

;---------------------------------------------------------------------------
;Long Jump
[State -1: 		Long Jump]
type 			= ChangeState
value 		= 40
triggerall 		= (Command = "Long Jump")
trigger1		= (StateType = S) && (Ctrl)

;---------------------------------------------------------------------------
;Run Fwd
[State -1: 		Run Fwd]
type 			= ChangeState
value 		= 100
triggerall 		= (Command = "FF") && (StateNo != [100,106])
trigger1		= (StateType = S) && (Ctrl)

;---------------------------------------------------------------------------
;Run Back
[State -1: 		Run Back]
type 			= ChangeState
value 		= 105
triggerall 		= (Command = "BB") && (StateNo != [100,106])
trigger1		= (StateType = S) && (Ctrl)

;---------------------------------------------------------------------------
;Evade Forward
[State -1: 		EvadeFWD]
type 			= ChangeState
value 		= 7010
triggerall 		= (Command = "EvadeFWD")
trigger1		= ((StateType = S) && (Ctrl)) || ((Power >= 500) && ((StateNo = 150) || (StateNo = 152)))

;---------------------------------------------------------------------------
;Evade Backward
[State -1: 		EvadeBWD]
type 			= ChangeState
value 		= 7020
triggerall 		= (Command = "EvadeBWD")
trigger1		= (StateType = S) && (Ctrl)

;---------------------------------------------------------------------------
;Ki Charge
[State -1: 		Ki Charge]
type 			= ChangeState
value 		= 7030
triggerall 		= (Command = "holda") && (Command = "holdx") && (Command != "holdfwd") && (Command != "holdback") && (Var(2) <= 0)
trigger1		= (StateType = S) && (Ctrl)

;===========================================================================
;-| Hyper |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Makankosappou
[State -1: 		Makankosappou]
type 			= ChangeState
value 		= 3000
triggerall 		= (Command = "Makankosappou") && (Power >= 1000)
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) > 0)

;---------------------------------------------------------------------------
;Big Bang Attack
[State -1: 		Big Bang Attack]
type 			= ChangeState
value 		= 3010
triggerall 		= (Command = "Big Bang Attack") && (Power >= 1000)
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) > 0)

;---------------------------------------------------------------------------
;Chou KameHameHa
[State -1: 		Chou KameHameHa]
type 			= ChangeState
value 		= 3020
triggerall 		= (Command = "Chou KameHameHa") && (Power >= 2000)
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) > 0)

;---------------------------------------------------------------------------
;Gekitotsu Urutora Barebo Ru
[State -1: 		Gekitotsu Urutora Barebo Ru]
type 			= ChangeState
value 		= 3030
triggerall 		= (Command = "Gekitotsu Urutora Barebo Ru") && (Power >= 3000)
trigger1		= ((StateType = S) && (Ctrl)) || (StateNo = 40) || (Var(3) > 0)

;===========================================================================
;-| Special |---------------------------------------------------------------

;---------------------------------------------------------------------------
;Ki Barrier
[State -1: 		Ki Barrier]
type 			= ChangeState
value 		= 1000
triggerall 		= (Command = "Ki Barrier")
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;---------------------------------------------------------------------------
;Geshiki Naraku Otoshi
[State -1: 		Geshiki Naraku Otoshi]
type 			= ChangeState
value 		= 1090
triggerall 		= (Command = "Geshiki Naraku Otoshi")
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;---------------------------------------------------------------------------
;Jishin Ha
[State -1: 		Jishin Ha]
type 			= ChangeState
value 		= 1010
triggerall 		= (Command = "Jishin Ha")
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;---------------------------------------------------------------------------
;Zanzouken
[State -1: 		Zanzouken]
type 			= ChangeState
value 		= 1030
triggerall 		= (Command = "Zanzouken")
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;---------------------------------------------------------------------------
;Bakuretsu Kyaku
[State -1: 		Bakuretsu Kyaku]
type 			= ChangeState
value 		= 1020
triggerall 		= (Command = "Bakuretsu Kyaku")
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1)

;---------------------------------------------------------------------------
;Raigeki Shuu
[State -1: 		Raigeki Shuu]
type 			= ChangeState
value 		= 1040
triggerall 		= (Command = "holddown") && (Command = "holdfwd") && ((Command = "a") || (Command = "b"))
trigger1		= ((StateType = A) && (Ctrl) && (Vel X > 0)) || ((StateNo = 1091) && (MoveContact))

;---------------------------------------------------------------------------
;Taiyoken
[State -1: 		Taiyoken]
type 			= ChangeState
value 		= 1050
triggerall 		= (Command = "Taiyoken")
trigger1		= ((StateType = S) && (Ctrl)) || (StateNo = 40) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;---------------------------------------------------------------------------
;Renzokou Kikou Ha
[State -1: 		Renzokou Kikou Ha]
type 			= ChangeState
value 		= 1060
triggerall 		= (Command = "Renzokou Kikou Ha")
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;---------------------------------------------------------------------------
;Kienzan
[State -1: 		Kienzan]
type 			= ChangeState
value 		= 1070
triggerall 		= (Command = "Kienzan") && (NumHelper = 0)
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;---------------------------------------------------------------------------
;Kantsu Energy Dan
[State -1: 		Kantsu Energy Dan]
type 			= ChangeState
value 		= 1080
triggerall 		= (Command = "Kantsu Energy Dan")
trigger1		= ((StateType = S) && (Ctrl)) || (Var(3) = 1) || ((StateNo = 1021) && (AnimElem = 3, < 5) && (MoveContact))

;===========================================================================
;-| Basic |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Throw001
[State -1: 		Throw]
type 			= ChangeState
value 		= 800
triggerall 		= (Command = "xa") && ((Command = "holdback") || (Command = "holdfwd")) && (Var(2) <= 0)
trigger1		= (StateType = S) && (Ctrl) && (StateNo != [100,105])

;---------------------------------------------------------------------------
;Stand Weak Punch
[State -1: 		SWP]
type 			= ChangeState
value 		= 200
triggerall 		= (Command = "x") && (Command != "holddown") && (Var(2) <= 0)
trigger1		= (StateType = S) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holddown") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 400)) && (MoveContact) && (HitPauseTime <= 4)

;---------------------------------------------------------------------------
;Stand Strong Punch
[State -1: 		SSP]
type 			= ChangeState
value 		= (IfElse(EnemyNear, Pos Y > -40,210,215))
triggerall 		= (Command = "y") && (Command != "holddown") && (Var(2) <= 0)
trigger1		= (StateType = S) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holddown") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 220) || (StateNo = 400) || (StateNo = 420)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)

;---------------------------------------------------------------------------
;Stand Weak Kick
[State -1: 		SWK]
type 			= ChangeState
value 		= 220
triggerall 		= (Command = "a") && (Command != "holddown") && (Var(2) <= 0)
trigger1		= (StateType = S) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holddown") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 220) || (StateNo = 400)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)

;---------------------------------------------------------------------------
;Stand Strong Kick
[State -1: 		SSK]
type 			= ChangeState
value 		= (IfElse(EnemyNear, Pos Y > -40,230,235))
triggerall 		= (Command = "b") && (Command != "holddown") && (Var(2) <= 0)
trigger1		= (StateType = S) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holddown") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 210) || (StateNo = 220)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)
trigger3		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holddown") && (Command != "holdup")
trigger3		= ((StateNo = 400) || (StateNo = 410) || (StateNo = 420)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)

;---------------------------------------------------------------------------
;Crouch Weak Punch
[State -1: 		CWP]
type 			= ChangeState
value 		= 400
triggerall 		= (Command = "x") && (Command = "holddown") && (Var(2) <= 0)
trigger1		= (StateType = C) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 400)) && (MoveContact) && (HitPauseTime <= 4)

;---------------------------------------------------------------------------
;Crouch Strong Punch
[State -1: 		CSP]
type 			= ChangeState
value 		= 410
triggerall 		= (Command = "y") && (Command = "holddown") && (Var(2) <= 0)
trigger1		= (StateType = C) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 220) || (StateNo = 400) || (StateNo = 420)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)

;---------------------------------------------------------------------------
;Crouch Weak Kick
[State -1: 		CWK]
type 			= ChangeState
value 		= 420
triggerall 		= (Command = "a") && (Command = "holddown") && (Var(2) <= 0)
trigger1		= (StateType = C) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 220) || (StateNo = 400) || (StateNo = 420)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)

;---------------------------------------------------------------------------
;Crouch Strong Kick
[State -1: 		CSK]
type 			= ChangeState
value 		= 430
triggerall 		= (Command = "b") && (Command = "holddown") && (Var(2) <= 0)
trigger1		= (StateType = C) && (Ctrl)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holdup")
trigger2		= ((StateNo = 200) || (StateNo = 210) || (StateNo = 220)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)
trigger2		= (Command != "holdfwd") && (Command != "holdback") && (Command != "holdup")
trigger3		= ((StateNo = 400) || (StateNo = 410) || (StateNo = 420)) && (MoveContact) && (AnimElemTime(2) > 3) && (AnimTime <= 0)

;---------------------------------------------------------------------------
;Jump Weak Punch
[State -1: 		JWP]
type 			= ChangeState
value 		= 600
triggerall 		= (Command = "x") && (Var(2) <= 0)
trigger1		= (StateType = A) && (Ctrl)

;---------------------------------------------------------------------------
;Jump Strong Punch
[State -1: 		JSP]
type 			= ChangeState
value 		= 610
triggerall 		= (Command = "y") && (Var(2) <= 0)
trigger1		= (StateType = A) && (Ctrl)

;---------------------------------------------------------------------------
;Jump Weak Kick
[State -1: 		JWK]
type 			= ChangeState
value 		= 620
triggerall 		= (Command = "a") && (Var(2) <= 0)
trigger1		= (StateType = A) && (Ctrl)

;---------------------------------------------------------------------------
;Jump Strong Kick
[State -1: 		JSK]
type 			= ChangeState
value 		= 630
triggerall 		= (Command = "b") && (Var(2) <= 0)
trigger1		= (StateType = A) && (Ctrl)
trigger2		= (StateNo = 620) && (MoveContact) && (AnimElemTime(1) = [5,12])

;---------------------------------------------------------------------------
;Kikou Ha
[State -1: 		Kikou Ha]
type 			= ChangeState
value 		= 700
triggerall		= (Command = "z") && (Command != "Kienzan") && (Var(2) <= 0)
trigger1		= ((StateType != A) && (Ctrl)) || (Var(3) = 1)
trigger2		= (StateNo = 40) || ((StateNo = 700) && (AnimElem = 3, > 5) && (PrevStateNo != 700))