;Var(3)  = ジャンプ管理1（距離）
;Var(4)  = ジャンプ管理2（高さ）
;Var(5)  = 強弱管理
;Var(6)  = 覇王至高拳の溜め段階
;Var(7)  = 勝利ポーズ分岐
;Var(8)  = 
;Var(9)  = 
;Var(10) = 極限虎砲ヒット数
;Var(11) = 強飛燕疾風脚後追い討ち判定
;Var(12) = 
;var(13) = 
;Var(14) = 
;Var(15) = 
;Var(16) = 
;var(17) = 
;Var(18) = 
;Var(19) = 
;Var(20) = 
;Var(21) = 
;Var(22) = 
;Var(23) = 
;Var(24) = 
;Var(25) = 
;Var(26) = 
;var(27) = 
;Var(28) = 
;Var(29) = 
;Var(30) = 
;Var(31) = 
;Var(32) = 
;Var(33) = 
;Var(34) = 
;Var(35) = 
;var(36) = 
;Var(37) = 
;Var(38) = 
;Var(39) = 
;Var(40) = 
;var(41) = ヒット判定
;var(42) = コンボ数
;Var(43) = カウンターヒット判定
;var(44) = KO時時間経過
;Var(45) = ガード時statetype判定
;var(46) = MAX発動残り時間
;Var(47) = 通常技どこでもキャンセル判定
;Var(48) = ヒット判定（どこでもキャンセル用）
;Var(49) = MAX発動中判定
;Var(50) = カウンターヒット追い討ち有効時間
;var(51) = 投げぬけ成功判定
;Var(52) = キャラ判別
;var(53) = エクシード判定
;var(54) = ビットの接触判定
;var(55) = 
;var(56) = 
;var(57) = 
;Var(58) = 
;Var(59) = AI判定

;fvar(39) = ゲームシステム判別

[Data]
life = 1001
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 23     ;キャラの幅(後方,地上)
ground.front = 18    ;キャラの幅(前方,地上)
air.back = 16        ;キャラの幅(後方,空中)
air.front = 16       ;キャラの幅(前方,空中)
height = 55          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -91   ;頭の大体の座標
mid.pos = -1, -60    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 3.3      ;前進の速度
walk.back = -3.3     ;後退の速度
run.fwd  =6.9, 0       ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -6.625,-2.5     ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.5      ;垂直ジャンプの速度
jump.back = -3.3       ;後ジャンプの速度
jump.fwd = 3.3         ;前ジャンプの速度
runjump.back = -5.2,-9.5;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 5.2,-9.5   ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-6  ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.8 ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.8    ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 28  ;空中でジャンプする最低限の高さ
yaccel = .5         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
;歩き
[Statedef 20]
type    = S
physics = S
sprpriority = 0
ctrl = 1

[State 20, 1]
type = VelSet
triggerall = var(12) = 0
trigger1 = command = "holdfwd" && var(59) = 0
x = const(velocity.walk.fwd.x)

[State 20, 1]
type = VelSet
triggerall = var(12) = 10
trigger1 = command = "holdfwd" && var(59) = 0
x = 2.9

[State 20, 2]
type = VelSet
triggerall = var(12) = 0
trigger1 = command = "holdback" && var(59) = 0
x = const(velocity.walk.back.x)

[State 20, 2]
type = VelSet
triggerall = var(12) = 10
trigger1 = command = "holdback" && var(59) = 0
x = -2.9

[State 20, 3]
type = ChangeAnim
triggerall = var(12) = 0
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 3]
type = ChangeAnim
triggerall = var(12) = 10
triggerall = vel x > 0
trigger1 = Anim != 22 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 22

[State 20, 4]
type = ChangeAnim
triggerall = var(12) = 0
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 20, 4]
type = ChangeAnim
triggerall = var(12) = 10
triggerall = vel x < 0
trigger1 = Anim != 23 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 23

;---------------------------------------------------------------------------
;ジャンプ開始
[Statedef 40]
type    = A
physics = S
anim = 40
ctrl = 0
velset = 0,0

[State 40, 1]
type = VarSet
triggerall = PrevStateNo != 100
triggerall = var(59) = 0
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
triggerall = PrevStateNo != 100
triggerall = var(59) = 0
triggerall = Time = 0
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = PrevStateNo != 100
triggerall = var(59) = 0
triggerall = Time = 0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 1]
type = VarSet
triggerall = PrevStateNo != 100
triggerall = var(59) = 1
trigger1 = Random = [0,80]
sysvar(1) = 0

[State 40, 2]
type = VarSet
triggerall = PrevStateNo != 100
triggerall = var(59) = 1
trigger1 = Random = [81,750]
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = PrevStateNo != 100
triggerall = var(59) = 1
trigger1 = Random = [751,999]
sysvar(1) = -1

[State 40, 1]
type = VarSet
trigger1 = PrevStateNo = 100
trigger1 = Time = 0
sysvar(1) = 1

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 40, 4]
type = VarSet
triggerall = Time = 0
triggerall = var(59) = 0
trigger1 = PrevStateNo = 100
trigger2 = Command = "longjump"
trigger3 = Command = "longjump" && Command = "holdfwd"
trigger4 = Command = "longjump" && Command = "holdback"
var(3) = 1

[State 40, 4]
type = VarSet
triggerall = var(59) = 1
triggerall = Time = 0
trigger1 = PrevStateNo = 100
trigger2 = Random = [0,280]
var(3) = 1

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 40, 5]
type = VarSet
triggerall = var(59) = 0
trigger1 = command != "holdup"
var(4) = 1

[State 40, 5]
type = VarSet
triggerall = var(59) = 1
trigger1 = Random = [0,180]
var(4) = 1

[State 40, 6]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = !Var(3)
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))

[State 40, 7]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(3)
x = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, const(velocity.runjump.fwd.x), const(velocity.runjump.back.x)))

[State 40, 8]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = !Var(4)
y = ifelse (Var(4), -8, ifelse (Var(3) && !SysVar(1), -8.9, const(velocity.jump.y)))

[State 40, 9]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(4)
y = -6.5

[State 40, Position]
type = PosAdd
trigger1 = 1 && Var(3) && Vel X
x = -Vel X

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 40, ifelse(var(3),1,0)
channel = 20

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;三角跳び
[Statedef 48]
type    = A
physics = N
anim = 48
ctrl = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 40, 2]
type = VarSet
triggerall = var(59) = 0
trigger1 = Time = 0
sysvar(1) = ifelse(Vel X > 0, -1, 1)

[State 40, 6]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 40, 6]
type = VelMul
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x))

[State 40, 8]
type = VelSet
trigger1 = AnimTime = 0
y = const(velocity.jump.y)

[State 52, Effect]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, 0
channel = 20

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプ
[Statedef 50]
type    = A
physics = N

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !Var(4)
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Var(4)
value = ifelse((vel x)=0, 51, ifelse((vel x)>0, 52, 53))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 3000, AfterImage]
type = AfterImage
trigger1 = Time = 0
trigger1 = Var(3)
time = 20
length = 9
TimeGap  = 2
FrameGap = 3
PalBright = 0,0,0
PalContrast = 256,256,256
palcolor = 256
PalAdd = 0,0,0
PalMul = 1,1,1
trans = none

[State 920, 0]
type = VelAdd
trigger1 = Time >= 0
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ジャンプ着地
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 1000, Spark]
type = RemoveExplod
Trigger1 = Time = 0
id = 615

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;フロントグランドステップ
[Statedef 100]
type    = S
physics = N
anim = 100
velset = 0,0
ctrl = 0

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 8020
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3

[State 100, 1]
type = VelSet
trigger1 = AnimElemTime(2) = 0
x = 11.5

[State 105, 1]
type = VelMul
trigger1 = AnimElemTime(2) >= 0
trigger1 = AnimElemTime(3) < 0
x = .95

[State 100, 1]
type = VelSet
trigger1 = AnimElemTime(3) = 0
x = 0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 100, Effect]
type = PlaySnd
trigger1 = time = 1
value = 100,0
channel = 18

[State 100, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;ガードキャンセルフロントステップ
[Statedef 101]
type    = S
physics = S
anim = 100
velset = 0,0
ctrl = 0

[State 1000, VarSet]
type = VarAdd
triggerall = Command = "gc_step"
triggerall = Time = 0
triggerall = var(46) > 352
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -352

[State 1000, VarSet]
type = VarAdd
triggerall = Command = "gc_step"
triggerall = Time = 0
triggerall = var(46) = [1,352]
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 1000, VarSet]
type = VarAdd
triggerall = Command = "FF"
triggerall = Time = 0
triggerall = var(46) > 117
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -117

[State 1000, VarSet]
type = VarAdd
triggerall = Command = "FF"
triggerall = Time = 0
triggerall = var(46) = [1,117]
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 860, 4]
type = PowerAdd
triggerall = Command = "gc_step"
trigger1 = time = 0
value = -600

[State 860, 4]
type = PowerAdd
triggerall = Command = "FF"
trigger1 = time = 0
value = -200

[State 860, 4]
type = NotHitBy
trigger1 = 1
value = SCA

[State 860, 4]
type = HitBy
trigger1 = 1
value = SC, NT, ST, HT

[State 3000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 16
;timeGap = 2
FrameGap = 3
length = 10
PalBright = 0,0,0
palcolor = 0
PalContrast = 192,136,256
PalAdd = 0,0,0
PalMul = 1,1,1
trans = none

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 8020
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3

[State 100, 1]
type = VelSet
trigger1 = AnimElemTime(2) = 0
x = 11.5

[State 105, 1]
type = VelMul
trigger1 = AnimElemTime(2) >= 0
trigger1 = AnimElemTime(3) < 0
x = .95

[State 100, 1]
type = VelSet
trigger1 = AnimElemTime(3) = 0
x = 0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 100, Effect]
type = PlaySnd
trigger1 = time = 1
value = 100,0
channel = 18

[State 100, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;バックステップ
[Statedef 105]
type    = S
physics = S
ctrl = 0
anim = 105
velset = 0,0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 105, 0
channel = 20

[State 105, 1]
type = Statetypeset
trigger1 = animelemtime(1) = 0
StateType = A
physics = N

[State 105, 1]
type = VelSet
trigger1 = animelemtime(2) = 0
x = -6.625

[State 105, 1]
type = VelMul
trigger1 = animelemtime(2) > 0
x = .98

[State 105, 1]
type = VelSet
trigger1 = animelemtime(2) = 0
y = -3

[State 105, 1]
type = VelAdd
trigger1 = animelemtime(2) > 0
y = .44

[State 1100, ChangeState]
type = ChangeState
trigger1 = animelemtime(2) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 106

;---------------------------------------------------------------------------
;バックステップ（着地）
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 190, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; タイムオーバー負け
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 150]
flag = RoundNotOver

;---------------------------------------------------------------------------
; タイムオーバー引き分け
[Statedef 175]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 150]
flag = RoundNotOver

;---------------------------------------------------------------------------
;勝利ポーズ分岐
[Statedef 180]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 7
range = 1

[State 180, 1]
type = ChangeState
trigger1 = var(7) = 0 && command != "holdy"
trigger2 = command = "holdy"
value = ifelse(var(12),183,181)

[State 180, 1]
type = ChangeState
trigger1 = var(7) = 1 && command != "holda"
trigger2 = command = "holda"
value = ifelse(var(12),184,182)

;---------------------------------------------------------------------------
;勝ちポーズ1（本気）
[Statedef 181]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 180

[State 181, 2]
type = PlaySnd
trigger1 = Time = 0
value = 180,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 200]
flag = RoundNotOver

;---------------------------------------------------------------------------
;勝ちポーズ2（本気）
[Statedef 182]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 181

[State 181, 2]
type = PlaySnd
trigger1 = Time = 0
value = 181,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 270]
flag = RoundNotOver

;---------------------------------------------------------------------------
;勝ちポーズ1（ノーマル）
[Statedef 183]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 182

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 180,10

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 200]
flag = RoundNotOver

;---------------------------------------------------------------------------
;勝ちポーズ2（ノーマル）
[Statedef 184]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 183

[State 181, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 13
value = 180,11

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 270]
flag = RoundNotOver

;---------------------------------------------------------------------------
;イントロ
[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State -2, 3]
type = ChangeState
trigger1 = Time = 0
value = 191

;---------------------------------------------------------------------------
;イントロ
[Statedef 191]
type = S
ctrl = 0
anim = ifelse(var(12),191,190)
velset = 0,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 181, 2]
type = PlaySnd
triggerall = var(12) = 10
trigger1 = AnimElem = 2
value = 190, 10

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
ctrl = 0
anim = ifelse(var(12),196,195)
velset = 0,0
movetype = I
physics = S

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195, 0+var(12)

[State 181, 2]
type = ctrlset
trigger1 = Time = 36
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち弱パンチ
[Statedef 200]
type    = S                      
movetype =  A
physics = S                      
juggle=8
velset = 0,0
ctrl = 0
anim = ifelse(var(12),200,205)
poweradd = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 4
trigger2 = movehit
movetype = I

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 3 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -80
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 3 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -80
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0

[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 2 && Random <= 500
value = 0, 0
channel = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち弱パンチ
[Statedef 201]
type    = S                      
movetype =  A
physics = S                      
juggle=8
velset = 0,0
ctrl = 0
anim = ifelse(var(12),201,206)
poweradd = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 4
trigger2 = movehit
movetype = I

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 3 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 24
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -65
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 3 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -65
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0

[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 2 && Random <= 500
value = 0, 0
channel = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち強パンチ
[Statedef 210]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = ifelse(var(12),215,210)
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 8
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 0
channel = 1

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1+var(12)
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = 0, -74
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = 0, -74
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち強パンチ
[Statedef 211]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = ifelse(var(12),216,211)
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1+var(12)
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = 0, -72
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = 0, -72
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち弱キック
[Statedef 220]
type    = S
movetype =  A
physics = S
juggle=8
velset = 0,0
ctrl = 0
anim = ifelse(var(12),225,220)
poweradd = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 7
trigger2 = movehit
movetype = I

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 5 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -92
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 5 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -92
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 1

[State 230, Voice]
type = PlaySnd
trigger1 = AnimElem = 4 && Random <= 500
value = 0, 0
channel = 0

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち弱キック
[Statedef 221]
type    = S
movetype =  A
physics = S
juggle=8
velset = 0,0
ctrl = 0
anim = ifelse(var(12),226,221)
poweradd = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 6
trigger2 = movehit
movetype = I

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 5 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 24
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -68
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 5 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 24
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -68
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 1

[State 230, Voice]
type = PlaySnd
trigger1 = AnimElem = 4 && Random <= 500
value = 0, 0
channel = 0

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち強キック
[Statedef 230]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = ifelse(var(12),235,230)
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 8
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 1
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1+var(12)
channel = 0

[State 194, PosSet]
type = PosAdd
triggerall = var(12) = 10
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10
x = 8

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -62
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -94
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5


[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ガードキャンセル攻撃
[Statedef 235]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 230
poweradd = ifelse(var(46),0,-1000)

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 8
trigger2 = movehit
movetype = I

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 528
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -528

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 528
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 1
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2
channel = 0

[State -2, 1]
type = PalFX
trigger1 = time = 1 || time = 3
time = 1
add = 256,256,256
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(6) < 0
value = SCA

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6
attr = S, NA
hitflag = MAF
guardflag = M
animtype = diugup
air.animtype = diugup
fall.animtype = diugup
priority = 5,Hit
damage = 0
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -91
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5,-8.5
guard.velocity = -9.5
air.velocity = -9,-8.5
fall = 1
fall.recover = 1
air.fall = 1
air.recover = 1
fall.recovertime = 58
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = 0,0
persistent = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち強キック
[Statedef 231]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = ifelse(var(12),236,231)
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 8 && var(12)
trigger2 = AnimElem = 13 && !var(12)
trigger3 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 1
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1+var(12)
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6 && var(12)
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -94
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 12 && !var(12)
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -94
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[Statedef 400]
type    = C
movetype =  A
physics = C
juggle=8
ctrl = 0
anim = ifelse(var(12),405,400)
poweradd = 0
velset = 0,0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 4
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 400, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 0
channel = 1

[State 400, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 0
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 2 && var(12)
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 24
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -62
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 2 && !var(12)
attr = C, NA
hitflag = MAFP
guardflag = L
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 24
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -62
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[Statedef 410]
type    = C
movetype =  A
physics = C
juggle=8
ctrl = 0
anim = ifelse(var(12),415,410)
poweradd = 0
velset = 0,0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 6
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 420, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 420, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1+var(12)
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3 && var(12)
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 51
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -80
hitsound = S2, ifelse (Random <= 333, 20, ifelse (Random > 666, 21, 22))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3 && !var(12)
attr = C, NA
hitflag = MAFP
guardflag = L
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 51
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -80
hitsound = S2, ifelse (Random <= 333, 20, ifelse (Random > 666, 21, 22))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 420, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ弱キック
[Statedef 420]
type    = C
movetype =  A
physics = C
juggle=8
ctrl = 0
anim = ifelse(var(12),425,420)
poweradd = 0
velset = 0,0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 3 && var(12)
trigger2 = AnimElem = 7 && !var(12)
trigger3 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 430, Effect]
type = PlaySnd
trigger1 = AnimElem = 1 && var(12)
trigger2 = AnimElem = 4 && !var(12)
value = 1, 1
channel = 1

[State 430, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && var(12) && Random <= 500
trigger2 = AnimElem = 4 && !var(12) && Random <= 500
value = 0, 0
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 2 && var(12)
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 24
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -13
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 5 && !var(12)
attr = C, NA
hitflag = MAFP
guardflag = L
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 24
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -13
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 30
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3, -5
ground.cornerpush.veloff = -8.4
air.cornerpush.veloff = -6.3
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 403, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ強キック
[Statedef 430]
type    = C
movetype =  A
physics = C
juggle=8
ctrl = 0
anim = ifelse(var(12),435,430)
poweradd = 0
velset = 0,0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 4
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 450, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1
channel = 1

[State 450, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1+var(12)
channel = 0

[State 450, 1]
type = Hitdef
trigger1 = AnimElem = 3 && var(12)
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 60
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = 0, -15
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = Trip
air.type = High
ground.slidetime = 17
guard.slidetime = 17
ground.hittime = 17
air.hittime = 18
guard.ctrltime = 38;19
ground.velocity = -2,-7.5
guard.velocity = -10.5
air.velocity = -2.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -13
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
yaccel = .5
air.fall = 1
fall = 1
fall.recover = 1
air.recover = 1

[State 450, 1]
type = Hitdef
trigger1 = AnimElem = 3 && !var(12)
attr = C, NA
hitflag = MAFP
guardflag = L
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = 0, -15
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = Trip
air.type = High
ground.slidetime = 17
guard.slidetime = 17
ground.hittime = 17
air.hittime = 18
guard.ctrltime = 38;19
ground.velocity = -2,-7.5
guard.velocity = -10.5
air.velocity = -2.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -13
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
yaccel = .5
air.fall = 1
fall = 1
fall.recover = 1
air.recover = 1

[State 450, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;斜めジャンプ弱パンチ
[Statedef 600]
type    = A
movetype =  A
physics = N
juggle=8                  
ctrl = 0
anim = ifelse(var(12),605,600)
poweradd = 0

[State 600, Effect]
type = PlaySnd
trigger1 = AnimElem = 1 && var(12)
trigger2 = AnimElem = 3 && !var(12)
value = 1, 0
channel = 1

[State 600, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && var(12) && Random <= 500
trigger2 = AnimElem = 3 && !var(12) && Random <= 500
value = 0, 0
channel = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 3 && var(12)
trigger2 = AnimElem = 6 && !var(12)
trigger3 = movehit
movetype = I

[State 600, 2]
type = Hitdef
trigger1 = AnimElem = 2 && var(12)
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -70
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 18
ground.velocity = -3
guard.velocity = -3.5
air.velocity =  -3, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 600, 2]
type = Hitdef
trigger1 = AnimElem = 4 && !var(12)
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -49
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 18
ground.velocity = -3
guard.velocity = -3.5
air.velocity =  -3, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 920, 0]
type = VelAdd
trigger1 = 1
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;垂直ジャンプ弱パンチ
[Statedef 601]
type    = A
movetype =  A
physics = N
juggle=8                  
ctrl = 0
anim = 606
poweradd = 0

[State 600, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 0
channel = 1

[State 600, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 0
channel = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 3
trigger2 = movehit
movetype = I

[State 600, 2]
type = Hitdef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -70
hitsound = S2, ifelse (Random <= 333, 0, ifelse (Random > 666, 1, 2))
guardsound = S3, 0
ground.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 18
ground.velocity = -3
guard.velocity = -3.5
air.velocity =  -3, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 920, 0]
type = VelAdd
trigger1 = 1
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ジャンプ強パンチ
[Statedef 610]
type    = A                      
movetype = A                    
physics = N                    
juggle=8
ctrl = 0                        
anim = ifelse(var(12),615,610)
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5
trigger2 = movehit
movetype = I

[State 610, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 0
channel = 1

[State 610, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1+var(12)
channel = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 610, 2]
type = Hitdef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 4,Hit
damage = 54
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S81
guard.sparkno = S95
sparkxy = 8, -29
hitsound = S2, ifelse (Random <= 333, 20, ifelse (Random > 666, 21, 22))
guardsound = S3, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
air.hittime = 12
guard.ctrltime = 24
ground.velocity = -4
guard.velocity = -4.5
air.velocity =  -4, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 920, 0]
type = VelAdd
trigger1 = 1
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;斜めジャンプ弱キック
[Statedef 620]
type    = A
movetype =  A
physics = N
juggle=8
ctrl = 0
anim = ifelse(var(12),625,620)
poweradd = 0

[State 620, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 1
channel = 1

[State 620, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 0
channel = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 3 && var(12) && Random <= 500
trigger2 = AnimElem = 4 && !var(12) && Random <= 500
trigger3 = movehit
movetype = I

[State 600, 2]
type = Hitdef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -42
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 18
ground.velocity = -3
guard.velocity = -3.5
air.velocity =  -3, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 920, 0]
type = VelAdd
trigger1 = 1
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;垂直ジャンプ弱キック
[Statedef 621]
type    = A
movetype =  A
physics = N
juggle=8
ctrl = 0
anim = 626
poweradd = 0

[State 620, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 1
channel = 1

[State 620, Voice]
type = PlaySnd
trigger1 = AnimElem = 3 && Random <= 500
value = 0, 0
channel = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5 && Random <= 500
trigger2 = movehit
movetype = I

[State 600, 2]
type = Hitdef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = up
fall.animtype = up
priority = 3,Hit
damage = 27
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S80
guard.sparkno = S84
sparkxy = 8, -42
hitsound = S2, ifelse (Random <= 333, 10, ifelse (Random > 666, 11, 12))
guardsound = S3, 0
ground.type = High
ground.slidetime = 9
ground.hittime = 9
air.hittime = 9
guard.ctrltime = 18
ground.velocity = -3
guard.velocity = -3.5
air.velocity =  -3, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 920, 0]
type = VelAdd
trigger1 = 1
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;斜めジャンプ強キック
[Statedef 630]
type    = A
movetype =  A
physics = N
juggle=8
ctrl = 0
anim = ifelse(var(12),635,630)
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 6
trigger2 = movehit
movetype = I

[State 630, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 1
channel = 1

[State 630, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1+var(12)
channel = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 610, 2]
type = Hitdef
trigger1 = AnimElem = 5
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 4,Hit
damage = 54
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S81
guard.sparkno = S95
sparkxy = 8, -51
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
air.hittime = 12
guard.ctrltime = 24
ground.velocity = -4
guard.velocity = -4.5
air.velocity =  -4, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,35),ifelse(var(46),0,35)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 920, 0]
type = VelAdd
trigger1 = 1
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;垂直ジャンプ強キック
[Statedef 631]
type    = A
movetype =  A
physics = N
juggle=8
ctrl = 0
anim = ifelse(var(12),636,631)
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 6
trigger2 = movehit
movetype = I

[State 630, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 1
channel = 1

[State 630, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1+var(12)
channel = 0

[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 610, 2]
type = Hitdef
trigger1 = AnimElem = 5
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 4,Hit
damage = 54
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S81
guard.sparkno = S95
sparkxy = 8, -46
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
air.hittime = 12
guard.ctrltime = 24
ground.velocity = -4
guard.velocity = -4.5
air.velocity =  -4, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 2
getpower = ifelse(var(46),0,35),ifelse(var(46),0,35)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 920, 0]
type = VelAdd
trigger1 = 1
y = .5

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;避け攻撃（パンチ）
[Statedef 300]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 300
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 0
channel = 1

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
value = SCA

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 27
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = 0, -80
hitsound = S2, ifelse (Random <= 333, 20, ifelse (Random > 666, 21, 22))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;避け攻撃（キック）
[Statedef 310]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 310
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 10
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1, 1
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0, 1
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
value = SCA

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 8
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 27
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -94
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ボディーブロー
[Statedef 320]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 320
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = H
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -62
hitsound = S2, ifelse (Random <= 333, 20, ifelse (Random > 666, 21, 22))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -4.5,-6
guard.velocity = -9.5
air.velocity = -4.5,-6
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ボディーブロー（キャンセル版）
[Statedef 325]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 320
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 33
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -62
hitsound = S2, ifelse (Random <= 333, 20, ifelse (Random > 666, 21, 22))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5,0
guard.velocity = -9.5
air.velocity = -4.5,-6
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall = 0
fall.recover = 0
air.recover = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ローキック
[Statedef 330]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 330
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 7
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 1
channel = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = L
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -18
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -4.5,-6
guard.velocity = -9.5
air.velocity = -4.5,-6
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ローキック（キャンセル版）
[Statedef 335]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 330
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 7
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 1
channel = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = L
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 33
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -18
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5,0
guard.velocity = -9.5
air.velocity = -4.5,-6
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall = 0
fall.recover = 0
air.recover = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;鬼ごろし
[Statedef 340]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 340

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 6
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 1
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 72
pausetime = 11,12
guard.pausetime = 11,12
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -73
hitsound = S1200,3
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -6.5,-7
guard.velocity = -9.5
air.velocity = -6.5,-7
fall = 1
fall.recover = 1
air.fall = 1
air.recover = 1
fall.recovertime = 58
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ガードキャンセル攻撃（ノーマル）
[Statedef 345]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 340
poweradd = ifelse(var(46),0,-1000)

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 6
trigger2 = movehit
movetype = I

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 528
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -528

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 528
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 1
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2
channel = 0

[State -2, 1]
type = PalFX
trigger1 = time = 1 || time = 3
time = 1
add = 256,256,256
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(4) < 0
value = SCA

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAF
guardflag = M
animtype = diugup
air.animtype = diugup
fall.animtype = diugup
priority = 5,Hit
damage = 0
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -73
hitsound = S2, ifelse (Random <= 333, 30, ifelse (Random > 666, 31, 32))
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5,-8.5
guard.velocity = -9.5
air.velocity = -9,-8.5
fall = 1
fall.recover = 1
air.fall = 1
air.recover = 1
fall.recovertime = 58
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = 0,0
persistent = 0
yaccel = .5


[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;瓦割り
[Statedef 350]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 350
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 9
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6
attr = S, NA
hitflag = MAF
guardflag = H
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 54
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -42
hitsound = S2, 20
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;瓦割り（キャンセル版）
[Statedef 355]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 350
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 9
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 6
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 33
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -42
hitsound = S2, 20
guardsound = S3, 0
ground.type = Low
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;鬼車
[Statedef 360]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 360
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 1
x = 10

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 5
x = 4

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem = 4
x = 8

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, ifelse(var(12),13,2)
channel = 0

[State 901, Effect]
type = PlaySnd
triggerall = var(41) = 1
trigger1 = AnimElem = 4
value = 1000, 3

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 60
pausetime = 14,15
guard.pausetime = 14,15
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -85
hitsound = S1200,3
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -2,5
guard.velocity = -9.5
air.velocity = -3.5,5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;鬼車（キャンセル版）
[Statedef 365]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 360
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 5
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 1
x = 10

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 5
x = 4

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem = 4
x = 8

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, ifelse(var(12),13,2)
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 33
pausetime = 14,15
guard.pausetime = 14,15
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -85
hitsound = S1200,3
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5,0
guard.velocity = -9.5
air.velocity = -3.5,5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,45),ifelse(var(46),0,45)
persistent = 0
air.fall = 0
fall = 0
fall.recover = 0
air.recover = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;飛車落とし
[Statedef 370]
type    = S
movetype =  A
physics = S
juggle=8
ctrl = 0
velset = 0,0
anim = 370
poweradd = 0

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 10
trigger2 = movehit
movetype = I

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 0
channel = 1

[State 250, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 14
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 7
attr = S, NA
hitflag = MAFP
guardflag = M
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = 72
pausetime = 13,14
guard.pausetime = 13,14
sparkno = S81
guard.sparkno = S95
sparkxy = -8, -42
hitsound = S2, 20
guardsound = S3, 0
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 38;19
ground.velocity = -7.5
guard.velocity = -9.5
air.velocity = -3.5,-5
ground.cornerpush.veloff = -12.4
air.cornerpush.veloff = -5.6
sprpriority = 2
getpower = ifelse(var(46),0,90),ifelse(var(46),0,90)
persistent = 0
air.fall = 0
fall = 0
yaccel = .5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;投げ（掴みモーション）
[Statedef 900]
type    = S
movetype =  A
physics = S
velset = 0,0
ctrl = 0
anim = 900

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 2
trigger2 = movehit
movetype = I

[State 900, 1]
type = HitDef
triggerall = p2bodydist X <= 10
triggerall = Command = "throw_1" || var(59) = 1
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-          
priority = 3, Miss    
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 901
p2stateno = 906
guard.dist = 0
getpower = 0
givepower = 35
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0

[State 900, 1]
type = HitDef
triggerall = p2bodydist X <= 10
triggerall = Command = "throw_2" || var(59) = 1
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-          
priority = 3, Miss    
sparkno = -1            
p1facing = 1
p2facing = 1
p1stateno = 911
p2stateno = 916
guard.dist = 0
getpower = 0
givepower = 35
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0

[State 860, 4]
type = PowerAdd
triggerall = var(46) = 0
trigger1 = time = 0
value = -242

[State 1000, VarSet]
type = VarAdd
triggerall = var(46) > 80
trigger1 = AnimElem = 2
var(46) = -80

[State 1000, VarSet]
type = VarAdd
triggerall = var(46) = [1,80]
trigger1 = AnimElem = 2
var(46) = -var(46)+1

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;大外刈り
[Statedef 901]
type    = S
movetype =  A
physics = N
velset = 0,0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 905

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
var(51) = 0

[State 10000, 1]
type = VarSet
triggerall = Time < 16 && !var(51)
trigger1 = Target,Command = "x" && Target,Command = "a"
var(51) = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = Time < 16 && Time >8 && var(51)
pos = 50, 0

[State 810,TargetBind]
type = ChangeState
trigger1 = Time < 16 && Time > 8 && var(51)
value = 950

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 901
persistent = 0

[State 901,1]
type = posadd
triggerall = Time = 0
trigger1 = frontedgebodydist <= 60
x = -60+frontedgebodydist

[State 901,1]
type = posadd
triggerall = Time = 0
trigger1 = backedgebodydist <= 60
x = 60-backedgebodydist

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 2
Anim = 86
pos = 34, -80
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -1
persistent = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 20,0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 0
channel = 1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 8
value = 2, 30
channel = 1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 12
value = 1000, 3
channel = 1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 17
value = 2, 20
channel = 1

[State 250, Voice]
type = PlaySnd
triggerall = var(12) = 10
trigger1 = AnimElem = 17
value = 0, 15
channel = 0

[STate 901,1]
type = targetBind
trigger1 = animelemtime(1) >= 0
trigger1 = animelemtime(3) < 0
pos = 50, 0
postype = P1
time = 1

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 8
Anim = 82
pos = 31, -32
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 2
persistent = 0

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 12
Anim = 88
pos = 60, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -3
persistent = 0

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 17
Anim = 82
pos = 96, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 2
persistent = 0

[STate 901,1]
type = targetBind
trigger1 = animelem = 3
pos = 54, 0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 4
pos = 50, 0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 5
pos = 46, 0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 6
pos = 46, -8
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 7
pos = 46, 0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 8
pos = 26, -8
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 9
pos = 42, -48
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 10
pos = 48, -33
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 11
pos = 57, -51
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 12
pos = 96, 0
postype = P1
time = 1

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElem = 17
time = 15
ampl = 5

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 18
x = 40

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 12
trigger3 = AnimElem = 17
value = -21

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;大外刈り（相手）
[Statedef 905]
type    = S
movetype =  H
physics = N
velset = 0,0
poweradd = 30
sprpriority = -2

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 905

[State 1201, screenbound]
type = screenbound
trigger1 = AnimElemTime(7) < 0
value = 1

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElem = 8
time = 20

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
StateType = A

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 8
StateType = L

[State 903, Vel]
type = VelSet
trigger1 = AnimElem = 10
x = -4
y = -5.5

[State 903, Vel]
type = veladd
trigger1 = AnimElemTime(10) >= 0
y = 0.49

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 903, 2]
type = SelfState
triggerall = AnimElemTime(1) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;大外刈り（相手）2
[Statedef 906]
type    = S
movetype =  H
physics = S
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;一本背負い
[Statedef 911]
type    = S
movetype =  A
physics = N
velset = 0,0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 915

[State 901,1]
type = posadd
triggerall = Time = 0
trigger1 = frontedgebodydist <= 60
x = -60+frontedgebodydist

[State 901,1]
type = posadd
triggerall = Time = 0
trigger1 = backedgebodydist <= 60
x = 60-backedgebodydist

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
var(51) = 0

[State 10000, 1]
type = VarSet
triggerall = Time < 16 && !var(51)
trigger1 = Target,Command = "y" && Target,Command = "b"
var(51) = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = Time < 16 && Time >8 && var(51)
pos = 50, 0

[State 810,TargetBind]
type = ChangeState
trigger1 = Time < 16 && Time > 8 && var(51)
value = 950

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 911
persistent = 0

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 2
Anim = 86
pos = 34, -80
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -1
persistent = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 0
channel = 1

[State 250, Voice]
type = PlaySnd
triggerall = var(12) = 10
trigger1 = AnimElem = 3
value = 0, 16
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000, 3
channel = 2

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 6
Anim = 88
pos = -40, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -3
persistent = 0

[STate 901,1]
type = targetBind
trigger1 = animelem = 3
pos = 45,-78
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 4
pos = 9, -99
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 5
pos = -60, -84
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 6
pos = -48,-21
postype = P1
time = 1

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElem = 6
time = 15
ampl = 5

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -72

[State 1300,Turn]
type = Turn
trigger1 = AnimTime = 0

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;一本背負い（相手）
[Statedef 915]
type    = A
movetype =  H
physics = N
velset = 0,0
poweradd = 30
sprpriority = -2

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 915

[State 1201, screenbound]
type = screenbound
trigger1 = AnimElemTime(8) < 0
value = 1

[State 903, Vel]
type = VelSet
trigger1 = AnimElem = 8
x = 5
y = -5.5

[State 903, Vel]
type = veladd
trigger1 = AnimElemTime(8) >= 0
y = 0.49

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300,Turn]
type = Turn
triggerall = AnimElemTime(8) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0

[State 903, 2]
type = SelfState
triggerall = AnimElemTime(8) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;一本背負い（相手）2
[Statedef 916]
type    = S
movetype =  H
physics = S
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;虎煌拳
[Statedef 1000]
type    = S
movetype = A
physics = S
poweradd = ifelse(var(46),0,90)
velset = 0,0
ctrl = 0
juggle = 8

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1000, VarSet]
type = VarSet
triggerall = var(59) = 0
trigger1 = Time = 0
var(5) = ifelse (Command = "koou1", 0, 1)

[State 1000, VarSet]
type = VarSet
triggerall = var(59) = 1
trigger1 = Time = 0
var(5) = ifelse (random <= 200, 0, 1)

[State 190, 4]
type = ChangeAnim
trigger1 = time = 0
value = ifelse (var(5), 1010, 1000)

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
triggerall = var(5) = 0
trigger1 = AnimElemTime(6) = 0
value = 1000, 1

[State 1000, Effect]
type = PlaySnd
triggerall = var(5) = 1
trigger1 = AnimElemTime(6) = 0
value = 1000, 3

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElemTime(6) = 0
time = 20
ampl = 5

[State 1000, Spark]
type = Explod
trigger1 = AnimElemTime(6) = 0
Anim = 7000
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3

[State 1000, Proj]
type = Projectile
trigger1 = AnimElemTime(6) = 1
projanim = ifelse (var(5), 1015, 1005)
Projhitanim = -1
Projremanim = -1
projremovetime = 5
offset = 0, 0
projpriority = 1
velocity = 0
attr = S, SP
damage=ceil(60*ifelse(var(46),.75,1)),5
animtype = heavy
air.animtype = up
hitflag = MAF
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S1000,2
guardsound = S3,1
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
guard.ctrltime = 26
air.hittime = 40
ground.velocity = -11,0
guard.velocity = -10.5
air.velocity = -11, 4
airguard.velocity = -5,0
air.juggle = 15
fall = 0
fall.recover = 1
air.fall = 1
air.recover = 0
fall.recovertime = 30
yaccel = .5
envshake.time = 15
envshake.ampl = 5
ProjID = 1005
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)

[State 1000, Proj]
type = Projectile
trigger1 = AnimElemTime(6) = 1
projanim = ifelse (var(5), 1015, 1005)
Projhitanim = -1
Projremanim = -1
Projremovetime = 5
offset = 0, 0
projpriority = 7
velocity = 0
attr = S, SP
damage=0
animtype = heavy
hitflag = P
guardflag = 
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S9999,99
guardsound = S9999,99
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
guard.ctrltime = 0
ground.slidetime = 0
ground.hittime  = 0
guard.ctrltime = 0;17
ground.velocity = 0,0
guard.velocity = 0
air.velocity = 0,0
air.juggle = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
ProjID = 1006
getpower = 0,0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;飛燕疾風脚
[Statedef 1100]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
anim = ifelse (Command = "hien1", 1100, 1110)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "hien1", 0, 1)

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100,0
channel = 0

[State 52, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 0
channel = 20

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 3
StateType = A
physics = N

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(3) >= 0
y = .02

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(3) = 0
x = 8.5
y = -.2

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 0
trigger1 = AnimElem = 4
attr = A, SA
animtype  = Heavy
air.animtype  = Back
damage=ceil(66*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 13, 14
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -50
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -5,-4.5
guard.velocity = -9
air.velocity = -5,-4.5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 1
trigger1 = AnimElem = 4
attr = A, SA
animtype  = Heavy
air.animtype  = Back
damage=ceil(36*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 13, 14
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -50
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -2,-4.8
guard.velocity = -9
air.velocity = -2,-4.8
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)

[State 1100, ChangeState]
type = ChangeState
triggerall = var(5) = 1
triggerall = AnimElemTime(4) >= 0
trigger1 = var(41) = 1 || var(41) = 2
value = 1101

[State 1100, ChangeState]
type = ChangeState
;trigger1 = animelemtime(3) > 0
;trigger1 = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimTime = 0
value = 1105

;---------------------------------------------------------------------------
;飛燕疾風脚（着地）
[Statedef 1105]
type    = S
physics = S
ctrl = 0
anim = 1105

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 190, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;飛燕疾風脚（追撃）
[Statedef 1101]
type    = A
movetype = A
physics = N
juggle = 0
anim = 1101
ctrl = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100,1
channel = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1,1

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(5) >= 0
y = .4

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
animtype  = Heavy
air.animtype  = Back
damage=ceil(36*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 24, 25
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -70
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -.9,-11.5
guard.velocity = -9
air.velocity = -.9,-11.5
envshake.time = 15
envshake.ampl = 5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(5) > 0
value = 1105

;---------------------------------------------------------------------------
;暫烈拳
[Statedef 1200]
type    = S
movetype = A
physics = S
poweradd = ifelse(var(46),0,90)
velset = 0,0
ctrl = 0
anim = ifelse (Command = "zanretsu1", 1200, 1210)
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "zanretsu1", 0, 1)

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6 || AnimElem = 9 || AnimElem = 12 || AnimElem = 15 || AnimElem = 18 || AnimElem = 21 || AnimElem = 24 || AnimElem = 27 || AnimElem = 30
trigger2 = AnimElem = 33 || AnimElem = 36 || AnimElem = 39 || AnimElem = 42 || AnimElem = 45 || AnimElem = 48 || AnimElem = 51 || AnimElem = 54 || AnimElem = 57
trigger3 = var(5)
trigger3 = AnimElem = 60 || AnimElem = 63 || AnimElem = 66 || AnimElem = 69 || AnimElem = 72 || AnimElem = 75 || AnimElem = 78 || AnimElem = 81 || AnimElem = 84
value = 1200, 1

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 7 || AnimElem = 10 || AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 25 || AnimElem = 28 || AnimElem = 31
trigger2 = AnimElem = 34 || AnimElem = 37 || AnimElem = 40 || AnimElem = 43 || AnimElem = 46 || AnimElem = 49 || AnimElem = 52 || AnimElem = 55 || AnimElem = 58
trigger3 = var(5)
trigger3 = AnimElem = 61 || AnimElem = 64 || AnimElem = 67 || AnimElem = 70 || AnimElem = 73 || AnimElem = 76 || AnimElem = 79 || AnimElem = 82 || AnimElem = 85
attr = S, SA
animtype  = hard
air.animtype  = up
damage=0,0
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 0,0
guard.pausetime = 9,10
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -45
hitsound = S2, 20
guardsound = S3,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -5,-5
guard.velocity = -10.5
air.velocity = -5,-5
fall = 1
air.fall = 1
yaccel = .5
persistent = 1
getpower = ifelse(var(46),0,60),0
P1stateno = 1205
;P2stateno = 1250
P2facing = 1
forcestand = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
airguard.cornerpush.veloff = -3

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;暫烈拳（攻撃）
[Statedef 1205]
type    = A
movetype = A
physics = N
poweradd= 0
velset = 0,0
ctrl = 0
anim = 1205

[State 3001, Width]
type = Width
Trigger1 = 1
edge = 5,0

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 1 || AnimElem = 4 || AnimElem = 7 || AnimElem = 10 || AnimElem = 13
trigger2 = AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 25 || AnimElem = 28
trigger3 = AnimElem = 30
value = 1250

[State 1000, Spark]
type = TargetBind
Trigger1 = animelem = 1
pos = 55,1
postype = P1
time = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 4 || AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 11 || AnimElem = 13 || AnimElem = 14
trigger2 = AnimElem = 16 || AnimElem = 17 || AnimElem = 19 || AnimElem = 20 || AnimElem = 22 || AnimElem = 23 || AnimElem = 25 || AnimElem = 26 || AnimElem = 28 || AnimElem = 29
trigger3 = AnimElem = 30 || AnimElem = 31
value = 2, 20

[State 1000, Effect]
type = hitadd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 4 || AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 11 || AnimElem = 13 || AnimElem = 14
trigger2 = AnimElem = 16 || AnimElem = 17 || AnimElem = 19 || AnimElem = 20 || AnimElem = 22 || AnimElem = 23 || AnimElem = 25 || AnimElem = 26 || AnimElem = 28 || AnimElem = 29
trigger3 = AnimElem = 30 || AnimElem = 31
value = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 4 || AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 11 || AnimElem = 13 || AnimElem = 14
trigger2 = AnimElem = 16 || AnimElem = 17 || AnimElem = 19 || AnimElem = 20 || AnimElem = 22 || AnimElem = 23 || AnimElem = 25 || AnimElem = 26 || AnimElem = 28 || AnimElem = 29
trigger3 = AnimElem = 30 || AnimElem = 31
value = ceil(-3*ifelse(var(46),.75,1))
kill = 0

[State 901, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 4 || AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 11 || AnimElem = 13 || AnimElem = 14
trigger2 = AnimElem = 16 || AnimElem = 17 || AnimElem = 19 || AnimElem = 20 || AnimElem = 22 || AnimElem = 23 || AnimElem = 25 || AnimElem = 26 || AnimElem = 28 || AnimElem = 29
trigger3 = AnimElem = 30 || AnimElem = 31
value = 7

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 40
value = 1200, 2
channel = 0

[State -3, Burn sparks]
type = Explod
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 4 || AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 11 || AnimElem = 13 || AnimElem = 14
trigger2 = AnimElem = 16 || AnimElem = 17 || AnimElem = 19 || AnimElem = 20 || AnimElem = 22 || AnimElem = 23 || AnimElem = 25 || AnimElem = 26 || AnimElem = 28 || AnimElem = 29
trigger3 = AnimElem = 30 || AnimElem = 31
anim = 82
id = 82
postype = p1
pos = 55,-45-time
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 5
random = 20,20

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 41
attr = S, SA
animtype  = up
air.animtype  = up
damage=ceil(42*ifelse(var(46),.75,1)),0
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S82
guard.sparkno = S85
sparkxy = -8, -75
hitsound = S1200, 3
guardsound = S3,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -1.5,-10.5
guard.velocity = -10.5
air.velocity = -1.5, -10.5
envshake.time = 15
envshake.ampl = 5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
fall.recovertime = 58
yaccel = .5
persistent = 1
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;暫烈拳（相手）
[Statedef 1250]
type    = S
movetype = H
physics = S
ctrl = 0
velset = 0,0

[State 220, Position]
type = PosAdd
trigger1 = time = 0
y = -2

[State 190, 4]
type = ChangeAnim2
trigger1 = time = 0
value = 1250

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(4) = 0
y = -2

[State 1100, Velocity]
type = VelAdd
trigger1 = AnimElemTime(4) >= 0
y = .1

[State 1100, Velocity]
type = VelSet
trigger1 = animtime = 0
x = 6
y = -4.5

[State 1000, ChangeState]
type = SelfState
trigger1 = animtime = 0
value = 5030

;------------------------------------------------------------------------------------------
;気力溜め
[Statedef 1300]
type    = S
physics = S
movetype= I
anim = 1300
ctrl = 0
velset = 0,0

[State 820, Voice]
type = Playsnd
trigger1 = Anim = 1300 && AnimElem = 3
value = 850,0
channel = 13

[State 820, Voice]
type = Playsnd
trigger1 = Anim = 1300 && AnimElem = 3
value = 1300,0
channel = 0

[State 820, PowerAdd]
type = PowerAdd
triggerall = Anim = 1300
triggerall = var(59) = 0 && (command = "chargex" && command = "chargey" && command = "chargea") || var(59) = 1
trigger1 = 1
value = 8

[State 820, Anim]
type = ChangeAnim
triggerall = var(59) = 0
trigger1 = (command != "chargex" || command != "chargey" || command != "chargea") || power >= 3000
value = 1301
persistent = 0

[State 704, 8]
type = ChangeAnim
triggerall = var(59) = 1
trigger1 = P2MoveType = A && P2BodyDist X <= 190
trigger2 = power >= 3000
trigger3 = roundstate=3
value = 1301
persistent = 0

[State 820, Voice]
type = Stopsnd
trigger1 = Anim = 1301
channel = 0
persistent = 0

[State 820, Voice]
type = Stopsnd
trigger1 = Anim = 1301
channel = 13
persistent = 0

[State 820, Spark]
type = Explod
trigger1 = Anim = 1300 && !NumExplod(7300)
Anim = 7300
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ID = 7300
sprpriority = 7
removetime = -1

[State 1000, Proj]
type = Projectile
trigger1 = Anim = 1300 && NumProjID(1305) = 0
projanim = 1305
Projhitanim = -1
Projremanim = -1
Projremovetime = 1
offset = 0, 0
projpriority = 7
velocity = 0
attr = S, SP
damage=0
animtype = heavy
hitflag = P
guardflag = 
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S9999,99
guardsound = S9999,99
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
guard.ctrltime = 0
ground.slidetime = 0
ground.hittime  = 0
guard.ctrltime = 0;17
ground.velocity = 0,0
guard.velocity = 0
air.velocity = 0,0
air.juggle = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
ProjID = 1305
getpower = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = Anim = 1301
value = SCA,NP,SP,HP

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Anim = 1301
ID = 7300

[State 820, StateChange]
type = ChangeState
trigger1 = Anim = 1301 && AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;虎砲
[Statedef 1400]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "kohou1", 0, 1)

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = ifelse (Var(5) = 0, 1400, 1410)

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(12) <= 0
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0
channel = 0

[State 1100, Effect]
type = PlaySnd
triggerall = var(12) = 0
trigger1 = AnimElem = 12
value = 1400,1
channel = 2

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(12) = 0
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(12) = 0
y = ifelse (Var(5) = 0, -6.5, -8.5)

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(12) > 0
y = .47

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(12) = 0
x = 4+var(5)

[State 1100, Velocity]
type = VelMul
trigger1 = AnimElemTime(12) > 0
x = .9

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 0
trigger1 = AnimElem = 9
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(60*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, ifelse((AnimElem = 9), -58, ifelse((AnimElem = 11), -101, -95))
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34
ground.velocity = -6,-6
guard.velocity = -9
air.velocity = -6,-6
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 1
trigger1 = AnimElem = 9
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(33*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -58
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = ifelse((p2bodydist x > 30),5,0),-4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 1
trigger1 = AnimElem = 11
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(ifelse((var(41)=1 || var(41)=2),17,33)*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -101
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = ifelse((p2bodydist x > 30),5,0),-4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 1
trigger1 = AnimElem = 12
attr = A, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(30*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -95
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -2.8,-11
guard.velocity = -9
air.velocity = -2.8,-11
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(12) > 0
value = 1405

;---------------------------------------------------------------------------
;虎砲（着地）
[Statedef 1405]
type    = S
physics = S
ctrl = 0
anim = 1405

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;極限虎砲
[Statedef 1500]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 1500

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(12) <= 0
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1300,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1500,1
channel = 2

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 12
value = 1500,0
channel = 1

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(12) = 0
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(12) = 0
y = -10.5

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(12) > 0
y = .47

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(12) = 0
x = 6

[State 1100, Velocity]
type = VelMul
trigger1 = AnimElemTime(12) > 0
x = .9

[State -2, Combo]
type = VarSet
trigger1 = time = 0
trigger2 = AnimElemTime(12) = 0
var(10) = 0

[State 1000, Spark]
type = Explod
trigger1 = AnimElemTime(12) = 0
Anim = 7200
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
persistent = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 9
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(63*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -58
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = ifelse((p2bodydist x > 30),5,0),-4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(ifelse((var(41)=1 || var(41)=2),32,63)*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -101
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = ifelse((p2bodydist x > 30),5,0),-4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElemTime(12) = 0 || AnimElemTime(12) = 3 || AnimElemTime(12) = 4 || AnimElemTime(12) = 6 || AnimElemTime(12) = 8
attr = A, SA
animtype  = Heavy
air.animtype  = up
damage=ifelse(ceil(28/(2**var(10)))<5,5,ceil(28/(2**var(10)))),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -95
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -2.8,-11
guard.velocity = -9
air.velocity = -2.8,-11
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 1
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(12) > 0
value = 1505

;---------------------------------------------------------------------------
;極限虎砲（着地）
[Statedef 1505]
type    = S
physics = S
ctrl = 0
anim = 1505

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;覇王至高拳（始動）
[Statedef 1600]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1600
poweradd = ifelse(var(46),0,90)

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "sikou1", 0, 1)

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,0
channel = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem = 4
x = -16

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 5
x = -8

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1600,3]
type = Changestate
trigger1 = Animtime = 0
value = 1601

;---------------------------------------------------------------------------
;覇王至高拳（溜め）
[Statedef 1601]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1601

[State 1100, VarSet]
type = VarSet
trigger1 = 1
var(6) = ifelse(ceil((time-10)/20)-1<0,0,ceil((time-10)/20)-1)

[State 1600,3]
type = Changestate
trigger1 = Command != "holdx" && var(5) = 0
trigger2 = Command != "holdy" && var(5) = 1
trigger3 = time > 150
value = 1602

;---------------------------------------------------------------------------
;覇王至高拳（発射）
[Statedef 1602]
type    = S
movetype = A
physics = S
anim = 1602
velset = 0,0
ctrl = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 16

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600, 1

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(4) = 1
id = 7100
name = "shikouken1"
pos = 48,0
postype = P1
stateno = 7100
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;覇王至高拳（飛び道具）
[Statedef 7100]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 4+(parent,var(5)*12),0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = parent,var(5)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(6) = parent,var(6)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(46) = parent,var(46)

[State 1000, Proj]
type = Projectile
triggerall = var(6) = [0,5]
trigger1 = time = 1
projanim = 7150
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 7
velocity = 4+(var(5)*12)
attr = S, SP
damage=ceil((108+(var(6)*3))*ifelse(var(46),.75,1)),5
animtype = Heavy
air.animtype = Back
hitflag = MAF
guardflag = MA
pausetime = 0,12
sparkno = S82
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = -7,-7
air.velocity = -7,-7
air.juggle = 15
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
ProjID = 1605
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)

[State 1000, Proj]
type = Projectile
triggerall = var(6) = 6
trigger1 = time = 1
projanim = 7150
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 7
velocity = 4+(var(5)*12)
attr = S, SP
damage=ceil((108+(var(6)*3))*ifelse(var(46),.75,1)),5
animtype = Heavy
air.animtype = Back
hitflag = MAF
guardflag = 
pausetime = 0,12
sparkno = S82
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = -7,-7
air.velocity = -7,-7
air.juggle = 15
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
ProjID = 1605
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1605) = 0
value = 7105

;---------------------------------------------------------------------------
;覇王至高拳（飛び道具）（消滅）
[Statedef 7105]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 6900

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 8105
id = 8105
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;------------------------------------------------------------------------------------------
;鬼神撃
[Statedef 1700]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0
anim = 1700

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 3000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 75
;timeGap = 2
FrameGap = 3
length = 10
PalBright = 0,0,0
palcolor = 0
PalContrast = 136,136,256
PalAdd = 0,0,0
PalMul = 1,1,1
trans = none

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(7) <= 0
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1700,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 19
value = 1700,1
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
trigger3 = AnimElem = 20
value = 1700,2
channel = 2

[State 194, PosSet]
type = PosAdd
trigger1 = AnimTime = 0
x = 24

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(84*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 27,28
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -105
hitsound   = S2,20
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = 0,-3
envshake.time = 20
envshake.ampl = 5
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 14
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(42*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 27,28
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -79
hitsound   = S2,20
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = 0,-3
envshake.time = 20
envshake.ampl = 5
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 21
attr = S, SA
animtype  = diugup
air.animtype  = diugup
damage=ceil(21*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 45,46
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -81
hitsound   = S1200,3
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = -7,-9.5
guard.velocity = -9
air.velocity = -7,-9.5
envshake.time = 20
envshake.ampl = 5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎煌拳（ノーマル）
[Statedef 1800]
type    = S
movetype = A
physics = S
poweradd = ifelse(var(46),0,90)
velset = 0,0
ctrl = 0
anim = ifelse (Command = "koou1", 1800, 1810)
juggle = 8

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "koou1", 0, 1)

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1800, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1000, 1

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(6) = 1
id = 7400
name = "koouken"
pos = 50,-10
postype = P1
stateno = 7400
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎煌拳（飛び道具）
[Statedef 7400]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 3.5*(parent,var(5)+1),0
anim = 7400
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = parent,var(5)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(46) = parent,var(46)

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7450
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 1
velocity = 3.5*(var(5)+1)
attr = S, SP
damage=ceil(48*ifelse(var(46),.75,1)),5
animtype = heavy
air.animtype = up
hitflag = MAFP
guardflag = MA
pausetime = 0,13
sparkno = S82
guard.sparkno = S85
sparkxy = 20, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
guard.ctrltime = 26
air.hittime = 40
ground.velocity = -11,0
guard.velocity = -10.5
air.velocity = -5, -5.5
air.juggle = 15
fall = 0
fall.recover = 1
air.fall = 0
air.recover = 1
fall.recovertime = 30
yaccel = .5
ProjID = 1805
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1805) = 0
value = 7405

;---------------------------------------------------------------------------
;虎煌拳（飛び道具）（消滅）
[Statedef 7405]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 6900

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 8100
id = 8100
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;------------------------------------------------------------------------------------------
;虎砲（ノーマル）
[Statedef 1900]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "kohou1", 0, 1)

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = ifelse (Var(5) = 0, 1900, 1910)

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1900,0
channel = 0

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(4) = 0
y = ifelse (Var(5) = 0, -6.5, -8.5)

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(4) > 0
y = .47

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = 4+var(5)

[State 1100, Velocity]
type = VelMul
trigger1 = AnimElemTime(4) > 0
x = .9

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Heavy
air.animtype  = up
damage=ceil(60*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 10,11
sparkno = S82
guard.sparkno = S85
sparkxy = 0, ifelse((AnimElem = 3), -101, -95)
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34
ground.velocity = -4,-7.5
guard.velocity = -9
air.velocity = -4,-7.5
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(4) > 0
value = 1905

;---------------------------------------------------------------------------
;虎砲（着地）（ノーマル）
[Statedef 1905]
type    = S
physics = S
ctrl = 0
anim = 1405

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;飛燕疾風脚（ノーマル）
[Statedef 2000]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
anim = ifelse (Command = "hien1", 2000, 2010)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "hien1", 0, 1)

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2000,0
channel = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 2000,1
channel = 17

[State 52, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 0
channel = 20

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 3
StateType = A
physics = N

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(3) >= 0
y = .02

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(3) = 0
x = 8.5
y = -.2

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 0
trigger1 = AnimElem = 4
attr = A, SA
animtype  = Heavy
air.animtype  = Back
damage=ceil(66*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 11
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -50
hitsound = S1200,3
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -5,-4.5
guard.velocity = -9
air.velocity = -5,-4.5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)

[State 1100, HitDef]
type = HitDef
triggerall = var(5) = 1
trigger1 = AnimElem = 4
attr = A, SA
animtype  = Heavy
air.animtype  = Back
damage=ceil(36*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 11
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -50
hitsound = S1200,3
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -2,-4.8
guard.velocity = -9
air.velocity = -2,-4.8
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)

[State 1100, ChangeState]
type = ChangeState
triggerall = var(5) = 1
triggerall = AnimElemTime(4) >= 0
trigger1 = var(41) = 1 || var(41) = 2
value = 2001

[State 1100, ChangeState]
type = ChangeState
;trigger1 = animelemtime(3) > 0
;trigger1 = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimTime = 0
value = 2005

;---------------------------------------------------------------------------
;飛燕疾風脚（着地）（ノーマル）
[Statedef 2005]
type    = S
physics = S
ctrl = 0
anim = 1105

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 190, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;飛燕疾風脚（追撃）（ノーマル）
[Statedef 2001]
type    = A
movetype = A
physics = N
juggle = 0
anim = 1101
ctrl = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1,1

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(5) >= 0
y = .4

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
animtype  = Heavy
air.animtype  = Back
damage=ceil(36*ifelse(var(46),.75,1)),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 11
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -70
hitsound = S1200,3
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -.9,-11.5
guard.velocity = -9
air.velocity = -.9,-11.5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,30),ifelse(var(46),0,30)

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(5) > 0
value = 1105

;---------------------------------------------------------------------------
;暫烈拳（ノーマル）
[Statedef 2100]
type    = S
movetype = A
physics = S
poweradd = ifelse(var(46),0,90)
velset = 0,0
ctrl = 0
anim = ifelse (Command = "zanretsu1", 2100, 2110)
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "zanretsu1", 0, 1)

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2100, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6 || AnimElem = 9 || AnimElem = 12 || AnimElem = 15 || AnimElem = 18 || AnimElem = 21 || AnimElem = 24 || AnimElem = 27 || AnimElem = 30
trigger2 = AnimElem = 33 || AnimElem = 36 || AnimElem = 39 || AnimElem = 42 || AnimElem = 45 || AnimElem = 48 || AnimElem = 51
value = 1200, 1

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 7 || AnimElem = 10 || AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 25 || AnimElem = 28 || AnimElem = 31
trigger2 = AnimElem = 34 || AnimElem = 37 || AnimElem = 40 || AnimElem = 43 || AnimElem = 46 || AnimElem = 49 || AnimElem = 52 
attr = S, SA
animtype  = hard
air.animtype  = hard
damage=0,0
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 0,0
guard.pausetime = 9,10
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -45
hitsound = S2, 20
guardsound = S3,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -5,0
guard.velocity = -10.5
air.velocity = -5,-5
fall = 1
air.fall = 1
yaccel = .5
persistent = 1
getpower = ifelse(var(46),0,60),0
P1stateno = 2105
P2stateno = 1250
P2facing = 1
forcestand = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
airguard.cornerpush.veloff = -3

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;暫烈拳（攻撃）（ノーマル）
[Statedef 2105]
type    = A
movetype = A
physics = N
poweradd= 0
velset = 0,0
ctrl = 0
anim = 1205

[State 3001, Width]
type = Width
Trigger1 = 1
edge = 5,0

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 1 || AnimElem = 4 || AnimElem = 7 || AnimElem = 10 || AnimElem = 13
trigger2 = AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 25 || AnimElem = 28
trigger3 = AnimElem = 30
value = 1250

[State 1000, Spark]
type = TargetBind
Trigger1 = animelem = 1
pos = 55,1
postype = P1
time = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
trigger2 = AnimElem = 17 || AnimElem = 20 || AnimElem = 23 || AnimElem = 26 || AnimElem = 29
trigger3 = AnimElem = 31
value = 2, 20

[State 1000, Effect]
type = hitadd
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
trigger2 = AnimElem = 17 || AnimElem = 20 || AnimElem = 23 || AnimElem = 26 || AnimElem = 29
trigger3 = AnimElem = 31
value = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
trigger2 = AnimElem = 17 || AnimElem = 20 || AnimElem = 23 || AnimElem = 26 || AnimElem = 29
trigger3 = AnimElem = 31
value = ceil(-3*ifelse(var(46),.75,1))
kill = 0

[State 901, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
trigger2 = AnimElem = 17 || AnimElem = 20 || AnimElem = 23 || AnimElem = 26 || AnimElem = 29
trigger3 = AnimElem = 31
value = 7

[State -3, Burn sparks]
type = Explod
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
trigger2 = AnimElem = 17 || AnimElem = 20 || AnimElem = 23 || AnimElem = 26 || AnimElem = 29
trigger3 = AnimElem = 31
anim = 82
id = 82
postype = p1
pos = 55,-45-time
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 5
random = 20,20

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 41
attr = S, SA
animtype  = up
air.animtype  = up
damage=ceil(42*ifelse(var(46),.75,1)),0
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S82
guard.sparkno = S85
sparkxy = -8, -75
hitsound = S1200, 3
guardsound = S3,1
ground.type = high
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -1.5,-10.5
guard.velocity = -10.5
air.velocity = -1.5, -10.5
envshake.time = 15
envshake.ampl = 5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
fall.recovertime = 58
yaccel = .5
persistent = 1
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;猛虎無頼岩
[Statedef 2200]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0
anim = ifelse (Command = "burai1", 2200, 2210)

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) > 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -128

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
triggerall = var(46) <= 128
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
trigger2 = var(47) = 1
var(46) = -var(46)+1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1100, Effect]
type = PlaySnd
triggerall = Anim = 2200 || Anim = 2210
trigger1 = AnimElem = 4
value = 0,2
channel = 0

[State 1100, Effect]
type = PlaySnd
triggerall = Anim = 2200 || Anim = 2210
trigger1 = AnimElem = 9
value = 1700,2
channel = 2

[State 1015, 1]
type = ReversalDef
triggerall = Anim = 2200 || Anim = 2210
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(6) < 0
pausetime = 6,6
sparkno = S95
sparkxy = 21,-38
hitsound = S3,1
attr = S, SA
reversal.attr = SCA, NA, SA, HA, NP, SP, HP
numhits = 0
ignorehitpause = 1
persistent = 0

[State 1100, HitDef]
type = HitDef
triggerall = Anim = 2200 || Anim = 2210
trigger1 = AnimElem = 9
attr = S, SA
animtype  = diugup
air.animtype  = diugup
damage=ceil(96*ifelse(var(46),.75,1)),10
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 28,29
sparkno = S82
guard.sparkno = S85
sparkxy = 0, -81
hitsound   = S1200,3
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = -7,-9.5
guard.velocity = -9
air.velocity = -7,-9.5
envshake.time = 20
envshake.ampl = 5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = ifelse(var(46),0,60),ifelse(var(46),0,60)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 52, 4]
type = ChangeAnim
triggerall = Anim = 2200 || Anim = 2210
triggerall = var(41) = 1
trigger1 = AnimElem = 11
value = 2201

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;翔乱脚
[Statedef 2300]
type    = S
movetype = A
physics = N
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
anim = ifelse (Command = "shoran1", 2300, 2310)
ctrl = 0
poweradd = ifelse(var(46),0,90)
velset=0,0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "shoran1", 0, 1)

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2300,0
channel = 0

[State 52, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 0
channel = 20

[State 52, Effect]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0 && !var(5)
trigger2 = AnimElemTime(10) = 0 && var(5)
value = 52, 0
channel = 20

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(2) = 0
x = 7.5

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(7) = 0 && !var(5)
trigger2 = AnimElemTime(10) = 0 && var(5)
x = 0

[State 1200, 2]
type = ChangeState
triggerall = AnimElemTime(2) >= 0
Triggerall = P2BodyDist X <= 15
trigger1 = AnimElemTime(7) <= 0 && !var(5)
trigger2 = AnimElemTime(10) <= 0 && var(5)
value = 2301
ctrl = 0

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;翔乱脚（掴みモーション）
[Statedef 2301]
type    = S
movetype =  A
physics = S
velset = 0,0
ctrl = 0
anim = 2301

[State 105, 1]
type = Statetypeset
trigger1 = AnimElem = 4
trigger2 = movehit
movetype = I

[State 900, 1]
type = HitDef
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 3
attr = S, ST
hitflag = M-          
priority = 3, Miss    
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 2302
p2stateno = 2305
guard.dist = 0
getpower = 0
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;翔乱脚（攻撃）
[Statedef 2302]
type    = S
movetype =  A
physics = N
velset = 0,0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 2305

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 2302
persistent = 0

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 1
Anim = 86
pos = 34, -80
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -1
persistent = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 20,0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 0
channel = 3

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
trigger6 = AnimElem = 12
trigger7 = AnimElem = 16
value = 2, 30

[STate 901,1]
type = targetBind
trigger1 = animelem = 1
pos = 50, 0
postype = P1
time = -1

[STate 901,1]
type = BindToTarget
trigger1 = animelemtime(2) > 0
trigger1 = animelemtime(17) < 0
pos = 33,69,head
time = 1

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
trigger6 = AnimElem = 12
trigger7 = AnimElem = 16
Anim = 82
pos = 31, -59
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 2
persistent = 1

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElem = 16
time = 15
ampl = 5

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
trigger6 = AnimElem = 12
value = ceil(-3*ifelse(var(46),.75,1))
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 16
value = ceil(-48*ifelse(var(46),.75,1))
kill = 1

[State 903, Vel]
type = VelSet
trigger1 = AnimElemTime(18) = 0
x = -2.5
y = -7.5

[State 903, Vel]
type = veladd
trigger1 = AnimElemTime(18) > 0
y = 0.49

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, State End]
type = ChangeState
triggerall = AnimElemTime(18) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2303

;---------------------------------------------------------------------------
;翔乱脚（着地）（ノーマル）
[Statedef 2303]
type    = S
physics = S
ctrl = 0
anim = 2303

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 190, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;翔乱脚（相手）
[Statedef 2305]
type    = S
movetype =  H
physics = N
velset = 0,0
poweradd = 30
sprpriority = -2

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 2305

[State 1201, screenbound]
type = screenbound
trigger1 = AnimElemTime(15) < 0
value = 1

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 15
StateType = A

[State 903, Vel]
type = VelSet
trigger1 = AnimElem = 15
x = -4.5
y = -6

[State 903, Vel]
type = veladd
trigger1 = AnimElemTime(15) > 0
y = 0.49

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 903, 2]
type = SelfState
triggerall = AnimElemTime(15) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;翔乱脚（相手）2
[Statedef 2306]
type    = S
movetype =  H
physics = S
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;超覇王至高拳（始動）
[Statedef 3000]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = ifelse(var(59)=1,1600,3000)

[State -2, 1]
type = PalFX
triggerall = var(59) = 0
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = var(59) = 0
triggerall = Time = 0
trigger1 = var(46) > 352
var(46) = -352

[State 1000, VarSet]
type = VarAdd
triggerall = var(59) = 0
triggerall = Time = 0
trigger1 = var(46) = [1,352]
var(46) = -var(46)+1

[State 860, 4]
type = PowerAdd
triggerall = var(59) = 0
triggerall = var(46) = 0
trigger1 = time = 0
value = -1000

[State 3001, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 190, 2]
type = PlaySnd
triggerall = var(59) = 0
trigger1 = Time = 1
value = 6000,0

[State 1000, Spark]
type = Explod
triggerall = var(59) = 0
trigger1 = Time = 1
Anim = 90
id = 90
pos = 10, -87
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0

[State 1000, Spark]
type = Explod
triggerall = var(59) = 0
trigger1 = Time = 10
Anim = 89
id = 89
pos = 10, -87
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1

[State 3000, Superpause]
type = Pause
triggerall = var(59) = 0
trigger1 = Time = 1
time = 29
movetime = 29

[State 9000, Assert]
type = AssertSpecial
triggerall = var(59) = 0
trigger1 = Time = [1,29]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem = 4
x = -16

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 5
x = -8

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1600,3]
type = Changestate
trigger1 = Animtime = 0
value = 3001

;---------------------------------------------------------------------------
;超覇王至高拳（溜め）
[Statedef 3001]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 3001

[State 1100, VarSet]
type = VarSet
trigger1 = 1
var(6) = ifelse(ceil((time-10)/20)-1<0,0,ceil((time-10)/20)-1)

[State 1600,3]
type = Changestate
trigger1 = Command != "holdx" || Command != "holdy"
trigger2 = time > 150
value = 3002

;---------------------------------------------------------------------------
;超覇王至高拳（発射）
[Statedef 3002]
type    = S
movetype = A
physics = S
anim = 3002
velset = 0,0
ctrl = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 7 || AnimElem = 8 || AnimElem = 12 || AnimElem = 13
x = 16

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
trigger2 = AnimElemTime(9) = 0
trigger3 = AnimElemTime(14) = 0
value = 1600, 1

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(4) = 1
id = 7200
name = "s_shikouken1"
pos = 48,0
postype = P1
stateno = 7200
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(9) = 1
id = 7201
name = "s_shikouken2"
pos = 48,0
postype = P1
stateno = 7201
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(14) = 1
id = 7202
name = "s_shikouken3"
pos = 48,0
postype = P1
stateno = 7202
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;超王至高拳（飛び道具）1
[Statedef 7200]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 16,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(6) = parent,var(6)

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 2
offset = 0, 0
projpriority = 7
velocity = 16
attr = S, HP
damage=30+(var(6)*3),5
animtype = heavy
air.animtype = up
hitflag = MAF
guardflag = MA
pausetime = 1,12
sparkno = S82
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = 0,-3.5
air.velocity = 0,-3.5
air.juggle = 0
fall = 0
air.fall = 0
fall.recover = 0
air.recover = 0
yaccel = .5
ProjID = 3005
getpower = 0,0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3005) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3005) = 0
value = 7105

;---------------------------------------------------------------------------
;超王至高拳（飛び道具）2
[Statedef 7201]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 16,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(6) = parent,var(6)

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 2
offset = 0, 0
projpriority = 7
velocity = 16
attr = S, HP
damage=30+(var(6)*3),5
animtype = heavy
air.animtype = up
hitflag = MAF
guardflag = MA
pausetime = 1,12
sparkno = S82
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = 0,-3.5
air.velocity = 0,-3.5
air.juggle = 0
fall = 0
air.fall = 0
fall.recover = 0
air.recover = 0
yaccel = .5
ProjID = 3006
getpower = 0,0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3006) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3006) = 0
value = 7105

;---------------------------------------------------------------------------
;超王至高拳（飛び道具）3
[Statedef 7202]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 16,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(6) = parent,var(6)

[State 1000, Proj]
type = Projectile
triggerall = var(6) = [0,5]
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 2
offset = 0, 0
projpriority = 7
velocity = 16
attr = S, HP
damage=30+(var(6)*3),5
animtype = diugup
air.animtype = diugup
hitflag = MAF
guardflag = MA
pausetime = 6,7
sparkno = S82
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = -9,-8.5
air.velocity = -9,-8.5
air.juggle = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
envshake.time = 10
envshake.ampl = 2
ProjID = 3007
getpower = 0,0

[State 1000, Proj]
type = Projectile
triggerall = var(6) = 6
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 2
offset = 0, 0
projpriority = 7
velocity = 16
attr = S, HP
damage=30+(var(6)*3),5
animtype = diugup
air.animtype = diugup
hitflag = MAF
guardflag = 
pausetime = 6,7
sparkno = S82
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = -9,-8.5
air.velocity = -9,-8.5
air.juggle = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
envshake.time = 10
envshake.ampl = 2
ProjID = 3007
getpower = 0,0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 7
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3007) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3007) = 0
value = 7105

;---------------------------------------------------------------------------
;超龍虎乱舞（始動）
[Statedef 3100]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 3100

[State -2, PowerReset]
type = VarSet
trigger1 = Time = 0
var(53) = 1

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
time = 1
add = 256,256,256
ignorehitpause = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 190, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6000,1

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 4000
id = 4000
pos = 0, 0
postype = Left
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -99
persistent = 0
scale = 1.06,1.08
removeongethit = 1

[State 1000, Spark]
type = Explod
trigger1 = Time = 11
Anim = 4010
id = 4010
pos = -4, -82
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1

[State 3000, Superpause]
type = Pause
trigger1 = Time = 1
time = 29
movetime = 29

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time = [1,29]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 999
;timeGap = 2
FrameGap = 3
length = 10
PalBright = 0,0,0
palcolor = 0
PalContrast = 136,136,256
PalAdd = 0,0,0
PalMul = 1,1,1
trans = none

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3100, 1
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(5) <= 10
value = SCA

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(5) >= 0
x = 9

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(5) = 0
y = -2.2

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(5) >= 0
y = .13

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
animtype  = hard
air.animtype  = hard
damage=0,0
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 9,10
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -35
hitsound = S2, 2
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = 0,0
guard.velocity = -10.5
air.velocity = 0,0
fall = 0
air.fall = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
P2facing = 1
sprpriority = 5
forcestand = 1
p1stateno = 3101
p2stateno = 3150

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(5) > 0
value = 3105

;---------------------------------------------------------------------------
;超龍虎乱舞（着地）
[Statedef 3105]
type    = S
physics = S
ctrl = 0
anim = 3105

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 52, 1]
type = VelMul
trigger1 = AnimElemTime(4) < 0
x = .95

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 3000, AfterImage]
type = AfterImageTime
trigger1 = animelem = 4
time = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;超龍虎乱舞（攻撃）
[Statedef 3101]
type    = S
movetype = A
physics = S
juggle = 0
ctrl = 0
velset=0,0
anim = 3101

[State 52, 4]
type = TargetState
trigger1 = Time = 0
value = 3150
persistent = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 20,0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 115
value = 3100, 2

[State 220, Position]
type = targetbind
trigger1 = AnimElemTime(1) >= 0
trigger1 = AnimElemTime(115) < 0
pos = 65,0

[State 1100, HitDef];近距離弱パンチ
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -65
hitsound   = S2,11
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3150

[State 1100, HitDef];遠距離弱パンチ
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 31
trigger3 = AnimElem = 49
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -66
hitsound   = S2,ifelse((animelem=49),0,30)
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 1
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3151

[State 1100, HitDef];遠強パンチ
type = HitDef
trigger1 = AnimElem = 12
trigger2 = AnimElem = 36
trigger3 = AnimElem = 53
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -74
hitsound   = S2,ifelse((animelem=49),20,12)
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 1
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3150

[State 1100, HitDef];近強パンチ
type = HitDef
trigger1 = AnimElem = 17
trigger2 = AnimElem = 65
trigger3 = AnimElem = 86
trigger4 = AnimElem = 108
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -72
hitsound   = S2,ifelse((animelem=86),0,ifelse((animelem=108),21,30))
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 1
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3151

[State 1100, HitDef];瓦割り
type = HitDef
trigger1 = AnimElem = 24
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -42
hitsound   = S2,30
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3150

[State 1100, HitDef];遠強キック
type = HitDef
trigger1 = AnimElem = 44
trigger2 = AnimElem = 102
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -94
hitsound   = S2,ifelse((animelem=102),21,30)
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 1
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3151

[State 1100, HitDef];近弱キック
type = HitDef
trigger1 = AnimElem = 59
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -68
hitsound   = S2,0
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3150

[State 1100, HitDef];しゃがみ強パンチ
type = HitDef
trigger1 = AnimElem = 69
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -80
hitsound   = S2,1
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3150

[State 1100, HitDef];無頼岩
type = HitDef
trigger1 = AnimElem = 82
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -79
hitsound   = S2,30
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3150

[State 1100, HitDef];遠弱キック
type = HitDef
trigger1 = AnimElem = 92
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -92
hitsound   = S2,21
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0
p2stateno = 3151

[State 1100, HitDef];締め
type = HitDef
trigger1 = AnimElem = 110
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=14,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 2,3
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -82
hitsound   = S2,30
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = 0,0
guard.velocity = -9
air.velocity = 0,0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 3152
kill = 0

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(115) >= 0
x = -14.5

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(115) = 0
y = -2.5

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(115) >= 0
y = .35

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(115) > 0
value = 3102

;---------------------------------------------------------------------------
;超龍虎乱舞（トドメ）
[Statedef 3102]
type    = S
movetype = A
physics = S
anim = 3102
velset = 0,0
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 2
x = 0

[State 52, 1]
type = VelMul
trigger1 = AnimElemTime(2) < 0
x = .95

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 0
channel = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
trigger2 = AnimElemTime(8) = 0
trigger3 = AnimElemTime(13) = 0
value = 1600, 1

[State 3000, AfterImage]
type = AfterImageTime
trigger1 = animelem = 16
time = 0

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(3) = 1
id = 7210
name = "s_ranbu1"
pos = 48,0
postype = P1
stateno = 7210
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(8) = 1
id = 7211
name = "s_ranbu2"
pos = 48,0
postype = P1
stateno = 7211
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(13) = 1
id = 7212
name = "s_ranbu3"
pos = 48,0
postype = P1
stateno = 7212
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;超龍虎乱舞（飛び道具）1
[Statedef 7210]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 8,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 2
offset = 0, 0
projpriority = 7
velocity = 8
attr = S, HP
damage=30,5
animtype = heavy
air.animtype = up
hitflag = MAF
guardflag = MA
pausetime = 1,8
sparkno = S83
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = 0,0
air.velocity = 0,0
air.juggle = 0
fall = 0
air.fall = 0
fall.recover = 0
air.recover = 0
ProjID = 3005
getpower = 0,0
p2stateno = 3150
kill = 0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3005) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3005) = 0
value = 7105

;---------------------------------------------------------------------------
;超龍虎乱舞（飛び道具）2
[Statedef 7211]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 8,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 2
offset = 0, 0
projpriority = 7
velocity = 8
attr = S, HP
damage=30,5
animtype = heavy
air.animtype = up
hitflag = MAF
guardflag = MA
pausetime = 1,8
sparkno = S83
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = 0,0
air.velocity = 0,0
air.juggle = 0
fall = 0
air.fall = 0
fall.recover = 0
air.recover = 0
ProjID = 3006
getpower = 0,0
p2stateno = 3150
kill = 0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3006) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3006) = 0
value = 7105

;---------------------------------------------------------------------------
;超龍虎乱舞（飛び道具）3
[Statedef 7212]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 8,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 2
offset = 0, 0
projpriority = 7
velocity = 8
attr = S, HP
damage=30,5
animtype = diugup
air.animtype = diugup
hitflag = MAF
guardflag = MA
pausetime = 1,8
sparkno = S83
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = -9,-8.5
air.velocity = -9,-8.5
air.juggle = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
envshake.time = 10
envshake.ampl = 2
ProjID = 3007
getpower = 0,0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3007) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3007) = 0
value = 7105

;---------------------------------------------------------------------------
;超龍虎乱舞（相手）
[Statedef 3150]
type    = S
movetype = H
physics = S
ctrl = 0
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = 1;Time = 0
y = 0

[State 190, 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3150

[State 1100, StateType]
type = StateTypeSet
trigger1 = 1
StateType = S

;---------------------------------------------------------------------------
;超龍虎乱舞（相手）
[Statedef 3151]
type    = S
movetype = H
physics = S
ctrl = 0
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = 1;Time = 0
y = 0

[State 190, 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3151

[State 1100, StateType]
type = StateTypeSet
trigger1 = 1
StateType = S

;---------------------------------------------------------------------------
;超龍虎乱舞（相手）2
[Statedef 3152]
type    = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
anim = 5300

[State 220, Position]
type = PosSet
trigger1 = 1;Time = 0
y = 0

[State 1100, StateType]
type = StateTypeSet
trigger1 = 1
StateType = S

[State 1000, ChangeState]
type = SelfState
trigger1 = time = 120
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;真・鬼神撃
[Statedef 3200]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
ctrl = 0
velset=0,0
anim = 3200

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
trigger1 = var(46) > 352
var(46) = -352

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
trigger1 = var(46) = [1,352]
var(46) = -var(46)+1

[State 860, 4]
type = PowerAdd
triggerall = var(46) = 0
trigger1 = time = 0
value = -1000

[State 3001, Width]
type = Width
trigger1 = 1
edge = 20,0

[State 190, 2]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 90
id = 90
pos = 29, -60
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0

[State 1000, Spark]
type = Explod
trigger1 = Time = 10
Anim = 89
id = 89
pos = 29, -60
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1

[State 3000, Superpause]
type = Pause
trigger1 = Time = 1
time = 29
movetime = 29

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time = [1,29]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 999
;timeGap = 2
FrameGap = 3
length = 10
PalBright = 0,0,0
palcolor = 0
PalContrast = 136,136,256
PalAdd = 0,0,0
PalMul = 1,1,1
trans = none

[State 3000, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(7) <= 0
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 42
value = 180,0
channel = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1700,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 19
value = 1600,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 27
value = 1500,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 33
value = 1700,1
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
trigger5 = AnimElem = 34
value = 1700,2
channel = 2

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=72,5
priority  = 7, Hit
hitflag = MAF
guardflag = 
pausetime = 27,28
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -105
hitsound   = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = 0,-4
envshake.time = 20
envshake.ampl = 5
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 14
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=36,5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 27,28
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -79
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = 0,-4
envshake.time = 20
envshake.ampl = 5
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 19
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=18,5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 27,28
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -85
hitsound   = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = 0,-4
envshake.time = 20
envshake.ampl = 5
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=9,5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 27,28
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -42
hitsound   = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = 0,-4
envshake.time = 20
envshake.ampl = 5
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 36
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=63,5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 27,28
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -89
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = 0,-4
envshake.time = 20
envshake.ampl = 5
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 37
attr = S, HA
animtype  = diugup
air.animtype  = diugup
damage=32,5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 45,46
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -82
hitsound   = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
guard.ctrltime = 42
ground.velocity = -1.5,-12.5
guard.velocity = -9
air.velocity = -1.5,-12.5
envshake.time = 20
envshake.ampl = 5
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;超覇王至高拳（始動）（ノーマル）
[Statedef 3300]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 3000

[State -2, PowerReset]
type = VarSet
trigger1 = Time = 0
var(53) = 1

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
time = 1
add = 256,256,256
ignorehitpause = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 190, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6000,1

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 4000
id = 4000
pos = 0, 0
postype = Left
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -99
persistent = 0
scale = 1.06,1.08
removeongethit = 1

[State 1000, Spark]
type = Explod
trigger1 = Time = 11
Anim = 4010
id = 4010
pos = -4, -82
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1

[State 3000, Superpause]
type = Pause
trigger1 = Time = 1
time = 29
movetime = 29

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time = [1,29]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem = 4
x = -16

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 5
x = -8

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300, 0
channel = 0

[State 1600,3]
type = Changestate
trigger1 = Animtime = 0
value = 3301

;---------------------------------------------------------------------------
;超覇王至高拳（溜め）（ノーマル）
[Statedef 3301]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 3001

[State 1600,3]
type = Changestate
trigger1 = Command != "holdx" || Command != "holdy"
trigger2 = time = 150
value = 3302

;---------------------------------------------------------------------------
;超覇王至高拳（発射）（ノーマル）
[Statedef 3302]
type    = S
movetype = A
physics = S
anim = 3002
velset = 0,0
ctrl = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 16

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
trigger2 = AnimElemTime(9) = 0
trigger3 = AnimElemTime(14) = 0
value = 1600, 1

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(4) = 1
id = 7220
name = "s_shikouken4"
pos = 48,0
postype = P1
stateno = 7220
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(9) = 1
id = 7221
name = "s_shikouken5"
pos = 48,0
postype = P1
stateno = 7221
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(14) = 1
id = 7222
name = "s_shikouken6"
pos = 48,0
postype = P1
stateno = 7222
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;超王至高拳（飛び道具）（ノーマル）1
[Statedef 7220]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 16,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 1
offset = 0, 0
projpriority = 7
velocity = 16
attr = S, HP
damage=138,10
animtype = heavy
air.animtype = up
hitflag = MAF
guardflag = MA
pausetime = 1,14
sparkno = S83
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = 0,0
air.velocity = -9,-8.5
air.juggle = 0
fall = 0
air.fall = 0
fall.recover = 0
air.recover = 0
ProjID = 3305
yaccel = .5
getpower = 0,0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3305) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3305) = 0
value = 7105

;---------------------------------------------------------------------------
;超王至高拳（飛び道具）（ノーマル）2
[Statedef 7221]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 16,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 1
offset = 0, 0
projpriority = 7
velocity = 16
attr = S, HP
damage=138,10
animtype = heavy
air.animtype = up
hitflag = MAF
guardflag = MA
pausetime = 1,14
sparkno = S83
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = 0,0
air.velocity = -9,-8.5
air.juggle = 0
fall = 0
air.fall = 0
fall.recover = 0
air.recover = 0
ProjID = 3306
yaccel = .5
getpower = 0,0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3306) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3306) = 0
value = 7105

;---------------------------------------------------------------------------
;超王至高拳（飛び道具）（ノーマル）3
[Statedef 7222]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 16,0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7155
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projmisstime = 0
projhits = 1
offset = 0, 0
projpriority = 7
velocity = 16
attr = S, HP
damage=138,10
animtype = diugup
air.animtype = diugup
hitflag = MAF
guardflag = MA
pausetime = 1,14
sparkno = S83
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = -9,-9.5
air.velocity = -9,-9.5
air.juggle = 0
fall = 1
air.fall = 0
fall.recover = 0
air.recover = 0
ProjID = 3307
yaccel = .5
getpower = 0,0

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 2
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(3307) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3307) = 0
value = 7105

;------------------------------------------------------------------------------------------
;極限虎砲（ノーマル）
[Statedef 3400]
type    = S
movetype = A
physics = S
juggle = ifelse((prevstateno = [1000,2999])&&p2statetype=A,7,8)
ctrl = 0
velset=0,0

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
trigger1 = var(46) > 352
var(46) = -352

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
trigger1 = var(46) = [1,352]
var(46) = -var(46)+1

[State 860, 4]
type = PowerAdd
triggerall = var(46) = 0
trigger1 = time = 0
value = -1000

[State 3001, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 190, 2]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 90
id = 90
pos = 21, -91
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0

[State 1000, Spark]
type = Explod
trigger1 = Time = 10
Anim = 89
id = 89
pos = 21, -91
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1

[State 3000, Superpause]
type = Pause
trigger1 = Time = 1
time = 29
movetime = 29

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time = [1,29]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 3400

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170, 1]
type = NotHitBy
trigger1 = AnimElemTime(12) <= 0
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3400,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3400,2
channel = 2

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3400,1
channel = 1

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(12) = 0
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(12) = 0
y = -10.5

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(12) > 0
y = .47

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(12) = 0
x = 6

[State 1100, Velocity]
type = VelMul
trigger1 = AnimElemTime(12) > 0
x = .9

[State -2, Combo]
type = VarSet
trigger1 = time = 0
trigger2 = AnimElemTime(12) = 0
var(10) = 0

[State 1000, Spark]
type = Explod
trigger1 = AnimElemTime(12) = 0
Anim = 7200
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
persistent = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=93,5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -58
hitsound   = S2,20
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = ifelse((p2bodydist x > 30),5,0),-4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
animtype  = Heavy
air.animtype  = up
damage=ifelse((var(41)=1 || var(41)=2),48,93),5
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 24,25
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -101
hitsound   = S2,20
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = ifelse((p2bodydist x > 30),5,0),0
guard.velocity = -9
air.velocity = ifelse((p2bodydist x > 30),5,0),-4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElemTime(12) = 0 || AnimElemTime(12) = 3 || AnimElemTime(12) = 4 || AnimElemTime(12) = 6 || AnimElemTime(12) = 8
attr = A, HA
animtype  = Heavy
air.animtype  = up
damage=ifelse(ceil(42/(2**var(10)))<5,5,ceil(42/(2**var(10)))),5
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S83
guard.sparkno = S85
sparkxy = 0, -95
hitsound   = S2,20
guardsound = S3,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 16
guard.ctrltime = 34;17
ground.velocity = -2.8,-11
guard.velocity = -9
air.velocity = -2.8,-11
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 1
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State -2, Combo]
type = VarAdd
triggerall = AnimElem = 12
trigger1 = movecontact
var(10) = 1
ignorehitpause = 1

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(12) > 0
value = 3405

;---------------------------------------------------------------------------
;極限虎砲（着地）（ノーマル）
[Statedef 3405]
type    = S
physics = S
ctrl = 0
anim = 1505

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;覇王至高拳（始動）（ノーマル）
[Statedef 3500]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 3500

[State -2, 1]
type = PalFX
triggerall = time%2=1
triggerall = time<=8
triggerall = var(46)
trigger1 = prevstateno = 1400 || prevstateno = 1500 || prevstateno = 1700 || prevstateno = 1900 || prevstateno = 2200
time = 1
add = 256,256,256
ignorehitpause = 1

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
trigger1 = var(46) > 352
var(46) = -352

[State 1000, VarSet]
type = VarAdd
triggerall = Time = 0
trigger1 = var(46) = [1,352]
var(46) = -var(46)+1

[State 860, 4]
type = PowerAdd
triggerall = var(46) = 0
trigger1 = time = 0
value = -1000

[State 3001, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 190, 2]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 1000, Spark]
type = Explod
trigger1 = Time = 4
Anim = 90
id = 90
pos = 10, -87
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0

[State 1000, Spark]
type = Explod
trigger1 = Time = 13
Anim = 89
id = 89
pos = 10, -87
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1

[State 3000, Superpause]
type = Pause
trigger1 = Time = 1
time = 33
movetime = 33

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time = [4,33]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "sikou1", 0, 1)

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,0
channel = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem = 4
x = -16

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 5
x = -8

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1600,3]
type = Changestate
trigger1 = Animtime = 0
value = 3501

;---------------------------------------------------------------------------
;覇王至高拳（溜め）（ノーマル）
[Statedef 3501]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1601

[State 1600,3]
type = Changestate
trigger1 = Command != "holdx" && var(5) = 0
trigger2 = Command != "holdy" && var(5) = 1
trigger3 = time = 150
value = 3502

;---------------------------------------------------------------------------
;覇王至高拳（発射）（ノーマル）
[Statedef 3502]
type    = S
movetype = A
physics = S
anim = 3502
velset = 0,0
ctrl = 0

[State 194, PosSet]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 16

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3500, 1
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600, 1

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(4) = 1
id = 7110
name = "shikouken1"
pos = 48,0
postype = P1
stateno = 7110
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;覇王至高拳（飛び道具）（ノーマル）
[Statedef 7110]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 4+(parent,var(5)*12),0
anim = 7100
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = parent,var(5)

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7150
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 7
velocity = 4+var(5)*12
attr = S, HP
damage=162,10
animtype = Heavy
air.animtype = Back
hitflag = MAF
guardflag = MA
pausetime = 0,12
sparkno = S82
guard.sparkno = S85
sparkxy = 30, -60
hitsound = S1000,2
guardsound = S3,1
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
guard.ctrltime = 40
ground.velocity = -7,-7
air.velocity = -7,-7
air.juggle = 15
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
ProjID = 3505
getpower = 0,0

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(3505) = 0
value = 7105

;---------------------------------------------------------------------
; 投げ抜け（byH"さん）
;------------------------ 自分側
[Statedef 950]
type = S
movetype = A
physics = N
anim = 5945
ctrl = 0
velset = 0, 0

[State 810,TargetBind]
type = TargetState
trigger1 = Time = 0
value = 955

[State 3450, Envcolor]
type = Envcolor
trigger1 = AnimElem = 2,=1
value = 255, 255, 255
time = 1
under = 1

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=3
value = 1200, 3

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = velset
trigger1 = AnimElem = 2
x = -7

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .80

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = ChangeState
trigger1 = Time >= 32
value = 0
ctrl = 1

;------------------------ 相手側
[Statedef 955]
type = S
movetype = H
physics = N
ctrl = 0
velset = -6, 0
facing = enemy,facing

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5940)
trigger1 = authorname = "H”" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan☆Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSS†CAT" || AuthorName = "CrossCat"
value = 5940

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5910) && !SelfAnimExist(5940)
trigger1 = authorname = "H”" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan☆Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSS†CAT" || AuthorName = "CrossCat"
value = 5910

[State 820,ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 0 && anim != 5940 && anim != 5910
value = 5007

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .85

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = SelfState
trigger1 = Time >= 29
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;削りKO
[Statedef 5950]
physics = S
movetype = H
ctrl = 0
velset = 0,0

[State 52, 1]
type = HitVelSet
trigger1 = Time = 0
x = 2

[State 190, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 860, 4]
type = NotHitBy
trigger1 = 1
value = SCA

[State 190, 4]
type = ChangeAnim
trigger1 = !HitOver
value = ifelse(var(45)=0,130,131)

[State 190, 4]
type = ChangeAnim
trigger1 = HitOver
value = 5950
persistent = 0

[State 1100, ChangeState]
type = ChangeState
trigger1 = Animelem = 9
value = 5150

;---------------------------------------------------------------------------
;グルーヴパワーゲージ
[Statedef 6000]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State -2, 1]
type = PalFX
trigger1 = (GameTime%2)=0
time = 1
mul = 168,1,1
add = 64,64,32
ignorehitpause = 1

[State -3, Burn sparks];枠1P
type = Explod
triggerall = teamside = 1
trigger1 = Numexplod(6000) = 0
anim = 6000
id = 6000
postype = Left
pos = 10,206
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 6
ontop = 1
persistent = 1
facing = 1
pausemovetime=-1

[State -3, Burn sparks];枠1P
type = Explod
triggerall = teamside = 2
trigger1 = Numexplod(6000) = 0
anim = 6050
id = 6000
postype = Right
pos = -10,206
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 6
ontop = 1
persistent = 1
facing = 1
pausemovetime=-1

[State -3, Burn sparks];MAXIMUM1P
type = Explod
triggerall = teamside = 1
trigger1 = Numexplod(6001) = 0
anim = 6001
id = 6001
postype = Left
pos = 13,209
ownpal = 0
bindtime = -1
ignorehitpause = 1
sprpriority = 6
ontop = 1
persistent = 1
facing = 1
pausemovetime=-1

[State -3, Burn sparks];MAXIMUM1P
type = Explod
triggerall = teamside = 2
trigger1 = Numexplod(6001) = 0
anim = 6051
id = 6001
postype = Right
pos = -13,209
ownpal = 0
bindtime = -1
ignorehitpause = 1
sprpriority = 6
ontop = 1
persistent = 1
facing = 1
pausemovetime=-1

[State -3, Burn sparks];ゲージ1P
type = Explod
triggerall = teamside = 1
trigger1 = Numexplod(6002) = 0
anim = 6052
id = 6002
postype = Left
pos = 129,225
ownpal = 0
bindtime = -1
ignorehitpause = 1
sprpriority = 7
ontop = 1
persistent = 1
removetime = 99999999999999
facing = 1
pausemovetime=-1

[State -3, Burn sparks];ゲージ1P
type = Explod
triggerall = teamside = 2
trigger1 = Numexplod(6002) = 0
anim = 6002
id = 6002
postype = Right
pos = -130,225
ownpal = 0
bindtime = -1
ignorehitpause = 1
sprpriority = 7
ontop = 1
persistent = 1
removetime = 99999999999999
facing = 1
pausemovetime=-1

[State 4900, 16]
type = modifyExplod
trigger1 = parent,var(46) = 0
Id = 6000
scale = 0,1
ignorehitpause = 1

[State 4900, 16]
type = modifyExplod
trigger1 = parent,var(46)
Id = 6000
scale = 1,1
ignorehitpause = 1

[State 4900, 16]
type = modifyExplod
trigger1 = parent,var(46) = 0
Id = 6001
scale = 0,1
ignorehitpause = 1

[State 4900, 16]
type = modifyExplod
trigger1 = parent,var(46)
Id = 6001
scale = 1,1
ignorehitpause = 1

[State 4900, 16]
type = modifyExplod
trigger1 = parent,var(46) = 0
Id = 6002
scale = 0,1
ignorehitpause = 1

[State 4900, 16]
type = modifyExplod
trigger1 = parent,var(46)
Id = 6002
scale = (Parent,Var(46))/1056.0,1
ignorehitpause = 1

;---------------------------------------------------------------------------
;ヒットスロー（小）
[Statedef 8300]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0

[State 0]
type = pause
triggerall = roundstate = 2
triggerall = time <= 10
trigger1 = (GameTime%2)=0
time = 1

[State 0]
type = pause
triggerall = roundstate = 2
triggerall = time = [11,20] 
trigger1 = (GameTime%3)=0
time = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 20

;---------------------------------------------------------------------------
;ヒットスロー（中）
[Statedef 8301]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 0]
type = pause
triggerall = roundstate = 2
triggerall = time <= 10 
trigger1 = (GameTime%2)=0
time = 1

[State 0]
type = pause
triggerall = roundstate = 2
triggerall = time = [11,30] 
trigger1 = (GameTime%3)=0
time = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
;虎煌拳ヒットエフェクト
[Statedef 8400]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 18600, PosSet]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y
ignorehitpause = 1

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 0
anim = 82
id = 82
postype = p2
pos = enemynear, const(size.mid.pos.x), enemynear, const(size.mid.pos.y)
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 3
pausemovetime = -1

[State 0]
type = pause
triggerall = roundstate = 2
triggerall = time = [0,15] 
trigger1 = (GameTime%3)=0
time = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 15

;---------------------------------------------------------------------------
;虎煌拳ガードエフェクト
[Statedef 8401]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 18600, PosSet]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y
ignorehitpause = 1

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 0
anim = 85
id = 85
postype = p2
pos = enemynear, const(size.mid.pos.x), enemynear, const(size.mid.pos.y)
random = 50,50
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 3

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 15

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, 1]
type = ChangeAnim
triggerall = PalNo = [1,6]
trigger1 = Anim != 1 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 1

[State 5900,4]
type=Changeanim
triggerall = PalNo = [7,12]
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value=0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = prevstateno != 5950
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = prevstateno != 5950
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
triggerall = prevstateno != 5950
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = prevstateno != 5950
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = prevstateno = 5950
value = 5950
elem = 10

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= I
physics = N
anim = 5200
ctrl = 0
velset = 0,0

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -5

[State 5201, 2]
type = VelSet
trigger1 = animelem = 6
x = 0

[State 5201, 2]
type = VelMul
trigger1 = 1
x = .97

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
 Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900,4]
type=Changeanim
trigger1 = PalNo = [0,6]
trigger1=Anim!=1
value=1

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

;---------------------------------------------------------------------------
[Statedef -2]

;モード判定
[State -2, 3]
type = VarSet
trigger1 = PalNo = [0,6]
var(12) = 10

;チームモードイントロ判定（自分交代時）
[State -3, Turns Mode Intro]
type = ChangeState
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
value = 190

;スロー処理（小）
[State 3001, Super]
type = Helper
triggerall = numenemy
triggerall = movehit && enemynear,HitPauseTime = 0
trigger1 = stateno = 2900
id = 8300
name = "Slow_s"
pos =50,0
postype = Back
stateno = 8300
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理（中）
[State 3001, Super]
type = Helper
triggerall = numenemy
triggerall = movehit && enemynear,HitPauseTime = 0
trigger1 = stateno = 2902
id = 8301
name = "Slow_l"
pos =50,0
postype = Back
stateno = 8301
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;虎煌拳ヒットエフェクト
[State 3001, Super]
type = Helper
triggerall = p2movetype = H
trigger1 = projhittime(1005) = 1
id = 8400
name = "FireEffect_l"
pos =0,0
postype = P2
stateno = 8400
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;虎煌拳ガードエフェクト
[State 3001, Super]
type = Helper
triggerall = p2movetype = H
trigger1 = projguardedtime(1005) = 1
id = 8401
name = "FireEffect_l"
pos =0,0
postype = P2
stateno = 8401
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;必殺技ヒットのフラッシュ
[State 9606, EnvColor]
type = EnvColor
triggerall = (stateno = [3000,3299]) || stateno = 1205 || stateno = 1400 || stateno = 1500 || stateno = 1700
trigger1 = movehit
trigger2 = projhit = 1
value = 255,255,255
time = 1
ignorehitpause = 1
under = 0

;強飛燕疾風脚後追い討ち
[State -2, Combo]
type = VarSet
triggerall = var(12) = 0
triggerall = stateno = 1101
trigger1 = movehit
var(11) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = var(12) = 10
triggerall = stateno = 2001
trigger1 = movehit
var(11) = 1
ignorehitpause = 1

[State -3, Kill Juggle Checking]
type = assertspecial
triggerall = var(12) = 0
triggerall = stateno != 1100
trigger1 = var(11) = 1
flag = nojugglecheck

[State -3, Kill Juggle Checking]
type = assertspecial
triggerall = var(12) = 10
triggerall = stateno != 2000
trigger1 = var(11) = 1
flag = nojugglecheck

[State -2, Combo]
type = VarSet
triggerall = var(12) = 0
triggerall = var(11) = 1
trigger1 = stateno != 1101
trigger1 = movehit
trigger2 = p2movetype != H
var(11) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = var(12) = 10
triggerall = var(11) = 1
trigger1 = stateno != 2001
trigger1 = movehit
trigger2 = p2movetype != H
var(11) = 0
ignorehitpause = 1

;通常技どこでもキャンセル判定用
[State -2, 1]
type = VarSet
triggerall = roundstate >= 2
trigger1 = stateno = 200 && (animelem=3,<0 || animelem=4,>0) && var(46)
trigger2 = stateno = 201 && (animelem=3,<0 || animelem=4,>0) && var(46)
trigger3 = stateno = 211 && (animelem=3,<0 || animelem=5,>0) && var(46)
trigger4 = stateno = 221 && (animelem=5,<0 || animelem=6,>0) && var(46)
trigger5 = stateno = 400 && (animelem=2,<0 || animelem=4,>0) && var(46)
trigger6 = stateno = 410 && (animelem=3,<0 || animelem=6,>0) && var(46)
trigger7 = stateno = 420 && (animelem=5,<0 || animelem=7,>0) && var(46) && !var(12)
trigger8 = stateno = 420 && (animelem=2,<0 || animelem=3,>0) && var(46) && var(12)
trigger9 = stateno = 430 && (animelem=3,<0 || animelem=4,>0) && var(46)
trigger10 = stateno = 325 && (animelem=3,<0 || animelem=5,>0) && var(46)
trigger11 = stateno = 335 && (animelem=5,<0 || animelem=7,>0) && var(46)
trigger12 = stateno = 340 && (animelem=4,<0 || animelem=6,>0) && var(46)
trigger13 = stateno = 355 && (animelem=3,<0 || animelem=5,>0) && var(46)
trigger14 = stateno = 360 && (animelem=3,<0 || animelem=5,>0) && var(46)
trigger15 = stateno = 365 && (animelem=3,<0 || animelem=5,>0) && var(46)
trigger16 = stateno = 210 && var(46)
trigger17 = stateno = 220 && var(46)
trigger18 = stateno = 230 && var(46)
trigger19 = stateno = 231 && var(46)
trigger20 = stateno = 300 && var(46)
trigger21 = stateno = 310 && var(46)
trigger22 = stateno = 320 && var(46)
trigger23 = stateno = 330 && var(46)
trigger24 = stateno = 350 && var(46)
trigger25 = stateno = 370 && var(46)
var(47) = 1
ignorehitpause = 1

[State -2, 1]
type = VarSet
triggerall = roundstate >= 2
trigger1 = ctrl = 1
trigger2 = stateno = 200 && (animelem=3,>0 && animelem=4,<0)
trigger3 = stateno = 201 && (animelem=3,>0 && animelem=4,<0)
trigger4 = stateno = 211 && (animelem=3,>0 && animelem=5,<0)
trigger5 = stateno = 221 && (animelem=5,>0 && animelem=6,<0)
trigger6 = stateno = 400 && (animelem=2,>0 && animelem=4,<0)
trigger7 = stateno = 410 && (animelem=3,>0 && animelem=6,<0)
trigger8 = stateno = 420 && (animelem=5,>0 && animelem=7,<0) && !var(12)
trigger9 = stateno = 420 && (animelem=2,>0 && animelem=3,<0) && var(12)
trigger10 = stateno = 430 && (animelem=3,>0 && animelem=4,<0)
trigger11 = stateno = 325 && (animelem=3,>0 && animelem=5,<0)
trigger12 = stateno = 335 && (animelem=5,>0 && animelem=7,<0)
trigger13 = stateno = 340 && (animelem=4,>0 && animelem=6,<0)
trigger14 = stateno = 355 && (animelem=6,>0 && animelem=8,<0)
trigger15 = stateno = 360 && (animelem=3,>0 && animelem=5,<0)
trigger16 = stateno = 365 && (animelem=3,>0 && animelem=5,<0)
var(47) = 0
ignorehitpause = 1

;削りKO移行
[State -2, 3] 
type = ChangeState
triggerall = prevstateno = 130 || prevstateno = 131
triggerall = statetype != A
trigger1 = Alive = 0
value = 5950

;MAX発動
[State -2, 1]
type = VarAdd
triggerall = roundstate >= 2
trigger1 = var(46) > 0
var(46) = -1

[State -2, 1]
type = VarSet
triggerall = roundstate >= 2
trigger1 = var(46) = 0
trigger1 = Power >= 3000
var(46) = 1056

[State 3001, Super]
type = Helper
triggerall = roundstate = 2
trigger1 = NumHelper(6000) = 0
id = 6000
name = "gauge"
pos =0,0
postype = P1
stateno = 6000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
pausemovetime = 99999999999999

[State -2, 1]
type = PowerSet
trigger1 = var(46) = 1056
trigger2 = var(46) = 1
value = 2000
ignorehitpause = 1

[State -2, 1]
type = VarSet
triggerall = roundstate = 2
trigger1 = var(46) = 0
var(49) = 0

[State -2, 1]
type = VarSet
triggerall = roundstate = 2
trigger1 = var(46)
var(49) = 1

;カウンターヒット判定
[State -2, PowerReset]
type = VarSet
trigger1 = P2MoveType = A
var(43) = 1

[State -2, 1]
type = AttackMulSet
trigger1 = var(43) = 1
value = 1.25

[State -2, 1]
type = AttackMulSet
trigger1 = var(43) = 0
value = 1

[State -2, PowerReset]
type = VarSet
trigger1 = P2MoveType != A
var(43) = 0

[State 9606, EnvColor]
type = EnvColor
triggerall = var(43) = 1
trigger1 = movehit
trigger2 = projhit = 1
value = 255,255,255
time = 1
ignorehitpause = 1
under = 1

[State -2, PowerReset]
type = VarSet
triggerall = var(50) = 0
triggerall = var(43) = 1
trigger1 = movehit
trigger2 = projhit = 1
var(50) = 1
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
trigger1 = var(50) > 0
var(50) = 1

[State -3, Kill Juggle Checking]
type = assertspecial
trigger1 = var(50) > 0
flag = nojugglecheck

[State -2, PowerReset]
type = VarSet
triggerall = var(50) > 1
trigger1 = movehit
trigger2 = var(50) > 40
var(50) = 0
ignorehitpause = 1

[State 860, 1]
type = Explod
triggerall = teamside = 1
triggerall = NumExplod(6100) = 0
triggerall = p2movetype = H
triggerall = var(43) = 1
trigger1 = movehit
trigger2 = projhit = 1
anim = 6100
id = 6100
pos = 10,80
postype = Left
bindtime = -1
sprpriority = 4
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 860, 1]
type = Explod
triggerall = teamside = 2
triggerall = NumExplod(6100) = 0
triggerall = p2movetype = H
triggerall = var(43) = 1
trigger1 = movehit
trigger2 = projhit = 1
anim = 6150
id = 6100
pos = -10,80
postype = Right
bindtime = -1
sprpriority = 4
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = 1

;どこキャン追撃用
[State -2, PowerReset]
type = VarSet
triggerall = var(39) = 0
triggerall = var(47) = 1 || var(47) = 2
triggerall = movehit
trigger1 = stateno = 1400
trigger2 = stateno = 1500
var(39) = 1
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
trigger1 = var(39) > 0
var(39) = 1

[State -3, Kill Juggle Checking]
type = assertspecial
trigger1 = var(39) > 0
flag = nojugglecheck

[State -2, PowerReset]
type = VarSet
triggerall = var(39) > 1
trigger1 = movehit
trigger2 = var(39) > 180
trigger3 = numenemy
trigger3 = enemy,MoveType != H
var(39) = 0
ignorehitpause = 1

;ヒット管理
[State -2, Combo]
type = VarSet
trigger1 = numenemy
trigger1 = enemy,MoveType != H
var(42) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
trigger1 = movehit
trigger2 = projHit = 1
var(42) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = movehit
trigger2 = projHit = 1
var(41) = ifelse(movehit,1,3)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = moveguarded
trigger2 = projGuarded = 1
var(41) = ifelse(moveguarded,2,4)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = Time = 1
var(41) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = movehit
trigger2 = projHit = 1
var(48) = ifelse(movehit,1,3)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = moveguarded
trigger2 = projGuarded = 1
var(48) = ifelse(moveguarded,2,4)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = numenemy
trigger1 = enemynear,HitShakeOver = 1
var(48) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
trigger1 = projcontact(3305) = 1
var(54) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
triggerall = movehit
trigger1 = stateno = 1500
trigger2 = stateno = 3400
var(10) = 1
ignorehitpause = 1

[State -2, MoveContact]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1

;エクシードOK表記
[State -3, Burn sparks];枠1P
type = Explod
triggerall = roundstate = 2
triggerall = teamside = 1
triggerall = Numexplod(6200) = 0
triggerall = var(53) = 0
trigger1 = (100*life/const(data.life))<=50
anim = 6200
id = 6200
postype = Left
pos = 10,190
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 6
ontop = 1
persistent = 1
facing = 1
pausemovetime=-1
removetime = -1

[State -3, Burn sparks];枠1P
type = Explod
triggerall = roundstate = 2
triggerall = teamside = 2
triggerall = Numexplod(6200) = 0
triggerall = var(53) = 0
trigger1 = (100*life/const(data.life))<=50
anim = 6250
id = 6200
postype = Right
pos = -10,190
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 6
ontop = 1
persistent = 1
facing = 1
pausemovetime=-1
removetime = -1

;エフェクト除去
[State 1000, Spark]
type = RemoveExplod
triggerall = numenemy
trigger1 = var(53) = 0
trigger1 = life > 500 
trigger2 = var(53) = 1
trigger3=(var(52)=1&&enemynear,NumHelper(9000)=1)||(fvar(20)=1)
id = 6200

[State -2, Power Chage]
type = RemoveExplod
trigger1 = MoveType = H
ID = 7300

;palfx除去

;afterimage除去
[State 52, RemoveAfterImage]
type = AfterImageTime
triggerall = (prevstateno = [40,50]) || prevstateno = 1700 || (prevstateno = [3100,3199]) || prevstateno = 3200
trigger1 = movetype = H
time = 0

;ラウンド開始時パワーリセット等
[State -2, 1]
type = PowerSet
triggerall = roundno != 1
triggerall = roundstate = 0
trigger1 = var(49)
value = 2000

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(46) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(49) = 0

[State -2, 1]
type = VarSet
trigger1 = matchover = 1
var(53) = 0

;KO時ボイス
[State -2, KO]
type = PlaySnd
triggerall = stateno!=5950&&anim!=5950
trigger1 = var(44) = 1
ignorehitpause = 1
value = 110, 0+var(12)

[State -2, KO]
type = PlaySnd
triggerall = stateno=5950||anim=5950
trigger1 = var(44) = 1
ignorehitpause = 1
value = 5950, 0

[State -2,KO]
type = Varadd
trigger1 = Alive = 0
ignorehitpause = 1
var(44) = 1

[State -2,KO]
type = Varset
trigger1 = Alive = 1
ignorehitpause = 1
var(44) = 0

[State -2,KO]
type = Varset
triggerall = stateno = [120,159]
trigger1 = StateType = S
ignorehitpause = 1
var(45) = 0

[State -2,KO]
type = Varset
triggerall = stateno = [120,159]
trigger1 = StateType = C
ignorehitpause = 1
var(45) = 1

[State -2,KO]
type = Varset
triggerall = stateno = [120,159]
trigger1 = StateType = A
ignorehitpause = 1
var(45) = 2

;原作判別
[State -2, 1]
type = VarSet
trigger1 = 1
fvar(39) = 2;KING OF FIGHTERS

;キャラ判別
[State -2, 1]
type = VarSet
triggerall = numenemy
triggerall = roundstate = 2
trigger1 = enemy,authorname = "warusaki3" && enemy,fvar(39) = 1
trigger2 = enemy,authorname = "mouser" && (P2Name = "Hibiki Takane" || P4Name = "Hibiki Takane")
var(52) = 1

;やられ時にゲージ消去する相手動作の判定
[State -2, 1]
type = VarSet
triggerall = numenemy
trigger1 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgouki"&&enemynear,var(13))
trigger2 = (enemynear,authorname="SUMI"&&enemynear,name="Destrudo Ryu"&&enemynear,var(16)=1)
trigger3 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsrugal"&&enemynear,var(13))
trigger4 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsryu"&&enemynear,var(13))
trigger5 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsg_rugal"&&enemynear,var(13))
trigger6 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgeese"&&enemynear,var(13))
trigger7 = (enemynear,authorname="warusaki3"&&enemynear,name="cvssakura"&&enemynear,var(13))
fvar(20) = 1

[State -2, 1]
type = VarSet
triggerall = numenemy
trigger1 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgouki"&&enemynear,var(13)=0)
trigger2 = (enemynear,authorname="SUMI"&&enemynear,name="Destrudo Ryu"&&enemynear,var(16)=0)
trigger3 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsrugal"&&enemynear,var(13)=0)
trigger4 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsryu"&&enemynear,var(13)=0)
trigger5 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsg_rugal"&&enemynear,var(13)=0)
trigger6 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgeese"&&enemynear,var(13)=0)
trigger7 = (enemynear,authorname="warusaki3"&&enemynear,name="cvssakura"&&enemynear,var(13)=0)
fvar(20) = 0

;製作用関数表示
[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "MAX = %d Hit= %d Counter =%d Hit1 = %d Bit2 = %d \n "
params = var(49) , var(42), var(50) ,var(10) , var(41)

[Statedef -3]

[State -3, Bounding Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 5100 || StateNo = 5110
value = 5100, 0
channel = 20

[State -3, GetHurt Sound]
type = PlaySnd
triggerall = Random < 500
triggerall = Time = 1
triggerall = Alive = 1
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5100
value = 5000, ifelse (StateNo = 5100 || GetHitVar(animtype) = 2, 1+var(12), ifelse (GetHitVar(animtype) = 1, 1+var(12), 0+var(12)))
channel = 10

[State 3000, Voice]
type = PlaySnd
triggerall = var(12) = 0
triggerall = Time = 1
trigger1 = StateNo = 5200 || StateNo = 5210
value = 5200,0
channel = 1

[State 3000, Voice]
type = PlaySnd
triggerall = var(12) = 10
triggerall = Time = 1
trigger1 = StateNo = 5200 || StateNo = 5210
value = 0,0
channel = 1

[State 820, Voice]
type = Stopsnd
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5100
trigger2 = StateNo = [120,159]
channel = 0

[State 820, Voice]
type = Stopsnd
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5100
trigger2 = StateNo = [120,159]
channel = 17


