                  ;-------------------------------------------------------------
            ;god slayer Ken 4.5, by polocolto
    ;-------------------------------------------------------------


    ;===================<BUTTON REMAPPING>===================
[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s



         ;===================<SINGLE BUTTON>===================
[Command]
name="a"
command=a
time=1
[Command]
name="b"
command=b
time=1
[Command]
name="c"
command=c
time=1
[Command]
name="x"
command=x
time=1
[Command]
name="y"
command=y
time=1
[Command]
name="z"
command=z
time=1
[Command]
name="start"
command=s
time=1


         ;===================<HOLD DIR>===================
[Command]
name="holdfwd"
command=/$F
time=1
[Command]
name="holdback"
command=/$B
time=1
[Command]
name="holdup"
command=/$U
time=1
[Command]
name="holddown"
command=/$D
time=1


       ;===================<CHARGE BUTTON>===================


[Command]
name = "holda"
command = /a
time = 1

[Command]
name = "holdb"
command = /b
time = 1

[Command]
name = "holdc"
command = /c
time = 1


[Command]
name = "holdx"
command = /x
time = 1

[Command]
name = "holdy"
command = /y
time = 1

[Command]
name = "holdz"
command = /z
time = 1



            ;===================<DIR>===================
[command]
name="fwd"
command=F
time=1
[command]
name="back"
command=B
time=1
[command]
name="up"
command=U
time=1
[command]
name="down"
command=D
time=1


    



         ;---------------------------|Hypers   |--------------------------------------------------------




[Command]
name="reppa1"
command=~D,DF,F,D,DF,F,~x
time=30

[Command]
name="reppa2"
command=~D,DF,F,D,DF,F,~y
time=30
[Command]
name="reppa3"
command=~D,DF,F,D,DF,F,~z
time=30


[Command]
name="reppa1"
command=~D,DF,F,D,DF,x
time=30

[Command]
name="reppa2"
command=~D,DF,F,D,DF,y
time=30

[Command]
name="reppa3"
command=~D,DF,F,D,DF,z
time=30

[Command]
name = "shinryu1"
command = ~D,DF,F,D,DF, a
time = 30

[Command]
name = "shinryu2"
command = ~D,DF,F,D,DF, b
time = 30

[Command]
name = "shinryu3"
command = ~D,DF,F,D,DF, c
time = 30



[Command]
name = "finalsyk3"
command = ~D, F, D, F, c
time = 30

[Command]
name = "kameha"
command = ~D, F,D,B, x+z
time = 30

[Command]
name = "supcotryu1"
command = D,F,D,B, x
time = 30

[Command]
name = "supcotryu2"
command = D,F,D,B, y
time = 30

[Command]
name = "supcotryu3"
command = D,F,D,B, z
time = 30

[Command]
name = "geyser1"
command = D,B,D,F, x
time = 30

[Command]
name = "geyser2"
command = D,B,D,F, y
time = 30

[Command]
name = "geyser3"
command = D,B,D,F, z
time = 30


[Command]
name = "ShinbuMessatsu"
command = ~D, F, D, B, a
time = 25
[Command]
name = "ShinbuMessatsu"
command = ~D, F, D, B, b
time = 25
[Command]
name = "ShinbuMessatsu"
command = ~D, F, D, B, c
time = 25

[Command]
name = "ShinbuMessatsu"
command = ~D, F, D, B, ~a
time = 25
[Command]
name = "ShinbuMessatsu"
command = ~D, F, D, B, ~b
time = 25
[Command]
name = "ShinbuMessatsu"
command = ~D, F, D, B, ~c
time = 25




[Command]
name = "shinryu1"
command = ~D, F, D, F, a
time = 25

[Command]
name = "shinryu2"
command = ~D, F, D, F, b
time = 25

[Command]
name = "shinryu3"
command = ~D, F, D, F, c
time = 25

[Command]
name = "shipu1"
command = ~D, B, D, B, a
time = 25

[Command]
name = "shipu1"
command = ~D, B, D, B, b
time = 25

[Command]
name = "shipu1"
command = ~D, B, D, B, c
time = 25


[Command]
name = "finalsyk3"
command = ~D, F, D, F, c
time = 25


[Command]
name = "airtatsu"
command = D,B,D,B,c
time = 20

[Command]
name = "cometa"
command = D,F,D,F,a
time = 23

[Command]
name = "combochute"
command = D,F,D,F,c
time = 23


[Command]
name = "evil"
command =x,x,F,a,z
time = 48

[Command]
name = "hadocao1"
command = D,B,D,B,x
time = 25

[Command]
name = "hadocao2"
command = D,B,D,B,y
time = 25

[Command]
name = "hadocao3"
command = D,B,D,B,z
time = 25

[Command]
name = "exryusho"
command =~F,D,F, x+z
time = 23

[Command]
name = "exryusen"
command = ~F, D, DF, a+c
time = 23

[Command]
name="exhadou"
command=~D,DF,F,x+z
time=20


[Command]
name = "Tatsumaki-3"
command = ~D,DF,F, a+c
time = 15

[Command]
name = "chuva"
command = D,F,D,F,x
time = 25


[Command]
name = "AirShinkuuHadouken"
command = D,F,D,F ,z
time = 25


[Command]
name = "alphacabe"
command = ~B,DB,D,x
time = 25

[Command]
name = "alphabanda"
command = ~B,DB,D,c
time = 25

[Command]
name = "alphashoryu"
command = ~B,DB,D,z
time = 25


[Command]
name = "extatsuground"
command = D,B,a+c
time = 13

[Command]
name = "exryukick"
command = D,F,b+c
time = 13



[Command]
name = "bison"
command = /D, a+c
time = 5


[Command]
name = "leech"
command = x+b+c
time = 5

[Command]
name = "nojuggle"
command = x+y+z
time = 1

[Command]
name = "exjax"
command = D,x+z
time = 5


[Command]
name = "anticombo"
command = ~50$x
time = 52



        ;----------------------------| Supers |------------------------------------------------------



[Command]
name = "shoryu1"
command = ~F, D, DF, x
time = 20


[Command]
name = "shoryu3"
command = ~F, D, DF, z
time = 20

[Command]
name = "shoryu1"
command = F, D, DF, x
time = 20

[Command]
name = "shoryu2"
command = F, D, DF, y
time = 20

[Command]
name = "shoryu3"
command = F, D, DF, z
time = 20

[Command]
name = "shoryu1"
command = F, D, F, x
time = 20


[Command]
name = "shoryu3"
command = F, D, F, z
time = 20



[Command]
name="ryukick1"
command= ~D,F,a
time=15

[Command]
name="ryukick2"
command=~D,F,b
time=15

[Command]
name="ryukick3"
command=~D,F,c
time=15

[Command]
name="ryukick1"
command=~D,DF,F,~a
time=15

[Command]
name="ryukick2"
command=~D,DF,F,~b
time=15

[Command]
name="ryukick3"
command=~D,DF,F,~c
time=15

[Command]
name = "ryusen1"
command = ~F, D, DF, a
time =17

[Command]
name = "ryusen2"
command = ~F, D, DF, b
time = 17

[Command]
name = "ryusen3"
command = ~F, D, DF, c
time = 17


[Command]
name = "hadoucharge"
command = F,D,B,y
time = 18


[Command]
name = "polo"
command = F,D,B,x
time = 16

[Command]
name = "polo"
command = F,D,B,z
time = 16

[Command]
name = "hadou1"
command = ~D, F, x
time = 14

[Command]
name = "hadou2"
command = ~D, F, D, B, y
time = 1

[Command]
name = "hadou3"
command = ~D, F, z
time = 14

[Command]
name = "tatsu1"
command = ~D, B, a
time = 13

[Command]
name = "tatsu2"
command = ~D, B, b
time = 13

[Command]
name = "tatsu3"
command = ~D, B, c
time = 13

;[Command]
;name = "lifesteal"
;command = D,B,x
;time = 15

[Command]
name = "ahforw"
command = D,F,x
time = 15

[Command]
name = "air"
command = D,F,z
time = 15

[Command]
name = "airdiag"
command = ~D, F, y
time = 14

[Command]
name = "coli"
command = D,F,a
time = 15

[Command]
name = "carregar"
command = /B,b
time = 7



[Command]
name = "bite2"
command = D, b
time = 5

[Command]
name = "bite3"
command = D, c
time = 5


[Command]
name = "chute"
command = D,F,c
time = 15

[Command]
name = "sombra"
command = D,F,y
time = 15



[Command]
name = "sumir"
command = ~D, B, y
time = 13


[Command]
name = "medio"
command = ~D, F, b
time = 15


[Command]
name = "lye"
command = D,D
time = 9


[Command]
name = "slide"
command = F,F
time = 9

[Command]
name = "fantasma"
command = /F , y
time = 7


[Command]
name = "r01"
command = y
time = 1

[Command]
name = "teste"
command = /DB,y
time = 1

[Command]
name = "rodadao"
command = /B,c
time = 1

[Command]
name = "focusx"
command = /x
time = 1

[Command]
name = "focusa"
command = /a
time = 1

[Command]
name = "jax"
command = ~120$z
time = 122

;===================<BUTTON COMBINATION>===================

[Command]
name = "a+c"
command = a+c
time = 1

[Command]
name = "y+z"
command = y+z
time = 1

[Command]
name = "x+z"
command = x+z
time = 1

[Command]
name = "2k"
command = a+b
time = 1

[Command]
name = "2k"
command = a+c
time = 1

[Command]
name = "2k"
command = b+c
time = 1


         ;===================<Double Tap>===================

[Command]
name="highjump"
command=$D,$U
time=15

[Command]
name = "groggyrecover"
command = F,B
time = 20

[Command]
name = "FF"    
command = F, F
time = 10

[Command]
name = "BB"    
command = B, B
time = 10

[Command]
name = "x+a"     
command =x+a
time = 1



    ;===================<2/3 BUTTON COMBINATION>===================

[Command]
name="bdx"
command=b+c
time=1


[Command]
name = "recovery"
command = y
time = 1

               ;===================<AI>===================


[Statedef -1]

[State -1, AIhelper]
type=changestate
trigger1= ishelper(9741)
value=9741



;=====================================================================
       ;========================= AI =========================
;---------------------------------------------------------------------
[State -1, Attack_Taker]
type = Helper 
triggerall = !NumHelper(3041)
trigger1 = MoveType != H 
stateno = 3041 
id = 3041

[State -1, damage_during_armor] 
type = LifeAdd
trigger1 = NumHelper(3041)
trigger1 = Helper(3041),gethitvar(hitcount)=1
value = -Helper(3041),GetHitVar(Damage)
kill = 1

[State -1, SprPriority_During_Armor_When_Idle]
type = SprPriority
trigger1 = movetype=I
trigger2 = var(39)=1
value = -1


[State -1, Player_NotHit_During_Armor]
type = HitBy
triggerall = NumHelper(3041) || NumHelper(3042)
trigger1 = var(39)=1
value = SCA,AT


[State -1, damage_dead ken body] 
type = LifeAdd
trigger1 = NumHelper(6996)
trigger1 = Helper(6996),gethitvar(hitcount)=1
value = -Helper(6996),GetHitVar(Damage)/2
kill = 0


[State -1, Tick Fix]
type=ctrlset
triggerall= !ctrl
trigger1= (stateno=52 || stateno=105 || stateno=5120) && !animtime
trigger2= ((stateno=[700,701]) || (stateno=[810,815]) || stateno=710) && !animtime
trigger3= (stateno=5001 || stateno=5011 || stateno=151 || stateno=153) && hitover
value=1


[State -1, jump]
type=changestate
value=40
triggerall=var(12)>=1&& numenemy
triggerall= statetype!=A&&roundstate=2
triggerall= ctrl

trigger1=p2bodydist x>120&&p2dist y<-100
trigger1= ctrl
trigger1= random<55

trigger2=enemynear,movetype=A
trigger2=enemynear,hitdefattr=SC,AT
trigger2=p2bodydist x<160
trigger2= random<55

trigger3 = p2MoveType = A
trigger3 = p2statetype != A
trigger3 = p2stateNo = [1000,2999]
trigger3 = p2bodydist x<30
trigger3 = ctrl
trigger3=random<55

;---------------------------------------------------------------------

[State -1, backdash]
type=changestate
value=105
triggerall=var(12)>=1&&roundstate=2
triggerall= numenemy
triggerall=statetype=S
triggerall = enemy, numproj = 0
triggerall =!numhelper(1111)
trigger1= ctrl
trigger1=(stateno!=[100,105])
trigger1= backedgedist>120
trigger1=enemynear,movetype=A
trigger1=p2bodydist x>30
trigger1=p2bodydist x<110
trigger1= random<125

trigger2= ctrl
trigger2= p2statetype=L&&p2bodydist x <45
trigger2= backedgedist>120
trigger2= random<90

trigger3= stateno=3700
trigger3= enemy,vel x <=0
trigger3= animelemtime(3)>=0
trigger3= backedgedist<45
trigger3= p2bodydist x>110
trigger3= enemy, numproj = 0
trigger3= enemy, numhelper = 0


;---------------------------------------------------------------------



[State -1, Guard]
type=changestate
value=ifelse((enemynear,statetype=C),131,130)
trigger1= var(12)>=1 && numenemy
trigger1= ifelse(statetype=A, (var(9)!=2 || stateno=5210), 1)
trigger1= roundstate=2 && inguarddist
trigger1= ctrl && (stateno!=[120,155])
trigger1=!(enemynear,hitdefattr=SCA,AT)
trigger1= statetype!=A
trigger1= random<ifelse((p2stateno=[200,699]), 100, ifelse((p2stateno=[1000,2999]), 300, 600))


;---------------------------------------------------------------------


[State -1, airdefend]
type=changestate
value=132
triggerall= p2bodydist x <60 && numenemy
trigger1=var(12)>=1&&roundstate=2
trigger1= ctrl
trigger1= statetype =A
trigger1= inguarddist&&random<650
persistent=0


;---------------------------------------------------------------------

[State -1, taunt]
type=changestate
value=195
triggerall= var(12)>=1 && numenemy
triggerall= roundstate=2 && statetype!=A && life>500
trigger1= p2dist x>160 && (enemynear,vel y>0) && ctrl && random<80
trigger1= !(enemynear,ctrl) && (enemynear,movetype=H)

;---------------------------------------------------------------------

;slp 
[State -1, SLP]
type=changestate
value=200
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall= statetype!=A && !inguarddist
triggerall= (p2bodydist x=[0,50]) && (p2dist y=[-50,50])
triggerall= (enemynear,stateno!=[120,155])
triggerall= !(enemynear,hitfall)
triggerall= p2statetype!=C && p2statetype!=L
trigger1= ctrl 
trigger1= random<100

;---------------------------------------------------------------------

;ssp de longe
[State -1,s]
type=changestate
value=203
triggerall= var(12)>=1 && roundstate=2
triggerall= statetype!=A && numenemy
triggerall= (p2bodydist x=[26,68]) && (p2dist y=[-50,50])
triggerall= p2statetype!=C && p2statetype!=L
triggerall=!(enemynear,hitfall)
triggerall= (enemynear,stateno!=[120,155])
trigger1= ctrl 
trigger1= random<40
trigger2= (stateno=200 ||stateno=400||stateno=403||stateno=404)
trigger2= p2bodydist x<=60 && movehit
trigger2=random<45
;---------------------------------------------------------------------

;ssp de perto
[State -1,s]
type=changestate
value=204
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= (p2bodydist x=[0,25]) && (p2dist y=[-50,50])
triggerall= p2statetype!=C && p2statetype!=L
triggerall= !(enemynear,hitfall)
triggerall= (enemynear,stateno!=[120,155])


trigger1= ctrl 
trigger1= random<50

trigger2= ( stateno=200 || stateno=400 )
trigger2=  movehit
trigger2=random<160

trigger3 = stateno=205
trigger3 = movecontact
trigger3= p2statetype=S
trigger3 = p2bodydist x < 27
trigger3 = random<180
;---------------------------------------------------------------------

;slk perto
[State -1,s]
type=changestate
value=205
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= !inguarddist
triggerall= (p2bodydist x=[0,60]) && (p2dist y=[-50,50])
triggerall= !(enemynear,hitfall)
triggerall=p2statetype!=C && p2statetype!=L
triggerall= (enemynear,stateno!=[120,155])
trigger1= ctrl 
trigger1= random<100
trigger2= (stateno=200 || stateno=400 || stateno=403) && time>=5 && random<55
trigger3 = stateno = 207 && movehit && animelemtime(5)>=0
trigger3 =random<100

;---------------------------------------------------------------------

;SMK - longe
[State -1, Stand Medium Kick longe]
type = ChangeState
value = 206
triggerall = var(12)>=1&&roundstate=2
triggerall =statetype!=A && numenemy
triggerall = P2bodydist X= [20,62]
triggerall = p2statetype = S
triggerall = movetype!=A
triggerall = statetype != A
triggerall = stateno != 1010
trigger1 = ctrl
trigger1= random<35
trigger2 = stateno = 206&&movehit
trigger2 = random<100



[State -1, Stand Medium Kick longe]
type = ChangeState
value = 206
TriggerAll = var(12)>=1&&roundstate=2
TriggerAll = Statetype != A && numenemy
Trigger1 = p2bodydist x = [70,95]
Trigger1 = p2Movetype = A
Trigger1 = p2StateType = C
Trigger1 = EnemyNear, AnimTime < -16
Trigger1 = Ctrl
trigger1= random<300


;---------------------------------------------------------------------

;SMK close
[State -1,s]
type=changestate
value=207
triggerall= var(12)>=1&&roundstate=2
triggerall= statetype!=A && numenemy
triggerall= (p2bodydist x=[0,60]) && (p2dist y=[-50,50])
triggerall= p2statetype!=C && p2statetype!=L
triggerall= !(enemynear,hitfall)
triggerall= (enemynear,stateno!=[120,155])
trigger1= ctrl
trigger1= random<55
trigger2 = stateno= 200 && movehit
trigger2 =random<70
trigger3 = stateno= 205 && movehit
trigger3 =random<130
;---------------------------------------------------------------------

;ssk
[State -1,s]
type = ChangeState
value = 212 ;ex208
triggerall=var(12)>=1&&roundstate=2
triggerall=(p2bodydist x>25)
triggerall=statetype!=A && numenemy
triggerall=(p2bodydist x=[0,75])&&(p2bodydist y=[-50,50])
triggerall = (p2statetype != L)&&(p2statetype!=A)
triggerall= (enemynear,stateno!=[120,155])
triggerall = stateno != 207
trigger1= ctrl
trigger1 = P2MoveType = I || (P2MoveType = A && P2stateno != [3000,3999])
trigger1 = random<70

trigger2 = stateno = 207 && movehit && animelemtime(5)>=0
trigger2 = random<45

trigger3 = stateno = 205&&moveguarded
trigger3 = random<50

;---------------------------------------------------------------------

[State -1, SHK]
type=changestate
value=210
triggerall= var(12)>=1 && numenemy
triggerall= statetype!=A && roundstate=2
triggerall= (p2bodydist x=[0,25]) && (p2bodydist y=[-50,50]) && p2statetype!=L && p2statetype!=C && !(enemynear,hitfall)
triggerall= (enemynear,const(size.head.pos.y)<=-40) || (enemynear,statetype=A)
trigger1= ctrl && random<99
;---------------------------------------------------------------------

;chute alto perto
[State -1, taekwondo]
type=changestate
value=211
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= (p2bodydist x=[0,80]) && (p2dist y=[-50,50])
triggerall= p2statetype!=L
triggerall=!(enemynear,hitfall)
triggerall= (p2stateno!=[141,151])
triggerall =!numhelper(1111)
trigger1= ctrl && p2statetype=C
trigger1= random<50

trigger2=stateno=405 || stateno=407
trigger2=moveguarded
trigger2=random<50

trigger3= ctrl
trigger3= p2stateno=140 || p2stateno=152
trigger3=random<40


[State -1, Inazuma Kakato Wari]
type = ChangeState
value = 215
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
trigger1 = StateNo = 214 && AnimElem = 7
trigger1 = p2statetype=S  && (p2bodydist x=[0,35])
trigger1=random<65
trigger2 = StateNo = 207 && AnimElem = 3
trigger2=random<55


;---------------------------------------------------------------------

;soco ryu
[State -1, SHP2]
type=changestate
value=213
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= (p2bodydist x=[0,50]) && (p2bodydist y=[-50,50]) && p2statetype!=L && !(enemynear,hitfall)
triggerall= (enemynear,const(size.head.pos.y)<=-40) || (enemynear,statetype=A)
trigger1= ctrl && random<25

;---------------------------------------------------------------------

;clp
[State  -1,c]
type=changestate
value=400
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= (p2statetype!=A) && !inguarddist 
triggerall= (p2bodydist x=[0,48]) && (p2dist y=[-50,50])
triggerall=p2statetype!=L && !(enemynear,hitfall)
triggerall= (enemynear,stateno!=[120,155])
trigger1= ctrl 
trigger1= random<100
trigger2= (stateno=200 || stateno=400 || stateno=403)
trigger2= time>=5
trigger2= random<60

;---------------------------------------------------------------------

;csp
[State  -1,c]
type=changestate
value=402
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= !inguarddist
triggerall= (p2bodydist x=[0,45]) && (p2dist y=[-50,50])
triggerall= p2statetype!=L && !(enemynear,hitfall)
triggerall= (enemynear,stateno!=[120,155])
triggerall= stateno!=1030
trigger1= ctrl
trigger1= random<10
trigger2= (stateno=400||stateno=403)
trigger2= p2bodydist x<=25 && movehit
trigger2= random<55
trigger3 = stateno = 407&&movehit
trigger3 = random<23

;---------------------------------------------------------------------

;clk
[State -1,c]
type = ChangeState
value = 403
triggerall=var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall=(p2bodydist x=[0,54])&&(p2bodydist y=[-50,50])
triggerall=(p2statetype!=L)&&(p2statetype!=A)
triggerall= (enemynear,stateno!=[120,155])
trigger1=ctrl
trigger1= random<50
trigger2 = stateno = 400&& movecontact && random<100
trigger3 = stateno = 403 && movehit && random<190


;---------------------------------------------------------------------

;cmk
[State  -1,c]
type=changestate
value=404
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= !inguarddist
triggerall= (p2bodydist x=[0,70]) && (p2dist y=[-50,50])  
triggerall=p2statetype!=L && !(enemynear,hitfall)
triggerall= (p2stateno!=[120,155]) || p2stateno=130 || p2stateno=150 || p2stateno=151
trigger1= ctrl 
trigger1= random<100
trigger2 = stateno = 403&&movehit
trigger2 =random<95
trigger3 = stateno = 205&&movehit
trigger3 =random<85
trigger4 = stateno = 1030&&moveguarded
trigger4 = time>25
trigger4 = random<80
trigger5 = stateno = 1600&&moveguarded
trigger5 =time>18
trigger5 =random<80

;---------------------------------------------------------------------

;csk
[State  -1,c]
type=changestate
value=405
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall=!inguarddist
triggerall= (p2bodydist x=[0,60]) && (p2dist y=[-50,50])
triggerall=p2statetype!=L && !(enemynear,hitfall)
triggerall= (p2stateno!=[120,155]) || p2stateno=130 || p2stateno=150 || p2stateno=151
trigger1= ctrl 
trigger1= random<80
trigger2= (stateno=200 || stateno=400 ||stateno=403 ||stateno=404)
trigger2= p2bodydist x<=60 && movehit 
trigger2=random<65
trigger3 = stateno = 212 &&moveguarded
trigger3=random<80
trigger4 = StateNo = 206 && moveguarded
trigger4 = time>16
trigger4 = random<60
trigger5 = stateno=407&&p2bodydist x<=60
trigger5= random<40
;---------------------------------------------------------------------

[State -1,c]
type = ChangeState
value = ifelse(random<600,1041,1040)
triggerall=var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall= frontedgedist>100
triggerall =!numhelper(1111)
triggerall = (p2bodydist x=[30,120])
trigger1 = p2stateno = 5050
trigger1 = ctrl
trigger1 =random<80
;---------------------------------------------------------------------

[State -1, Crouching slide kick fall ]
type = ChangeState
value = 406
triggerall = var(12)>=1&&roundstate=2
triggerall =statetype!=A && numenemy
triggerall = (p2statetype=S)
triggerall=(p2bodydist x=[10,120]) &&(p2statetype!=L)

trigger1=ctrl
trigger1= random<23
trigger2 = p2stateno = 130 &&ctrl
trigger2 = random<20

;---------------------------------------------------------------------

[State -1, Crouching slide kick nofall ]
type = ChangeState
value = 407
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall=(p2bodydist x=[0,206])&&(p2statetype!=L)
triggerall= (p2statetype!=A)
trigger1=ctrl
trigger1= random<23

trigger2=stateno=203&&moveguarded
trigger2=random<70
trigger3=stateno=404&&movehit
trigger3=random<75

;---------------------------------------------------------------------

;jlp
[State -1,j]
type=changestate
value=600
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype=A && numenemy
triggerall= (p2bodydist x=[0,33]) && (p2dist y=[-50,60]) 
triggerall=p2statetype!=L && !(enemynear,hitfall)
trigger1= ctrl
trigger1= random<35
trigger2 = ctrl
trigger2 = vel y > 0 && pos y = [-50,-35]
trigger2 = p2statetype != A
trigger2 = vel x != 0
trigger2 = random < 50
trigger3 = p2statetype = A && p2bodydist y = [-30,60]
trigger3 = ctrl && random < 90

;---------------------------------------------------------------------

;jsp
[State -1,j]
type=changestate
value=602
triggerall= var(12)>=1&&roundstate=2
triggerall= statetype=A && numenemy
triggerall= !inguarddist
triggerall= (p2bodydist x=[0,42]) && (p2dist y=[-50,60])
triggerall= p2statetype!=L && !(enemynear,hitfall)
trigger1= ctrl 
trigger1= random<30
trigger2= (stateno=600 ||stateno=604||stateno=605) && movehit && random<100
trigger3 = ctrl
trigger3 = p2bodydist x < 40
trigger3 = (vel y > 0 && pos y > -60)
Trigger3 = p2statetype != A
trigger3 = random < 40
trigger4 =ctrl
trigger4 = p2statetype = A && p2bodydist y = [-30,60]
trigger4 = random < 30

;---------------------------------------------------------------------

;jlk
[State -1, jLK]
type=changestate
value=604
triggerall=var(12)>=1&&roundstate=2
triggerall=statetype=A && numenemy
triggerall= (p2bodydist x=[0,30]) && (p2dist y=[-50,60]) 
triggerall=p2statetype!=L && !(enemynear,hitfall)
trigger1= ctrl 
trigger1= random<30
trigger2=stateno=600&&movehit
trigger2=random<290
trigger3 =ctrl
trigger3 = p2statetype = A && p2bodydist y = [-30,60]
trigger3 = random < 90

;---------------------------------------------------------------------

;jmk
[State -1]
type = ChangeState
value = 606
triggerall= var(12)>=1&&roundstate=2
triggerall = statetype = A && numenemy
triggerall = Vel X
triggerall = Vel Y > 1
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = Pos Y < -50
trigger1 = P2bodydist X = [-50,70]
trigger1 = P2bodydist Y = [-10,70]
trigger1 = time > 6
trigger1 = Ctrl
trigger1 = Random < 90


;---------------------------------------------------------------------

; jsk vel=0
[State -1,j]
type=changestate
value=607
triggerall= var(12)>=1&&roundstate=2
triggerall=statetype=A && numenemy
triggerall = !Vel X
triggerall= (p2bodydist x=[0,50]) && (p2dist y=[-50,80])
triggerall=p2statetype!=L && !(enemynear,hitfall)
trigger1= ctrl
trigger1=random<30
trigger2= (stateno=602 || stateno=604 ) && movehit && random<150
trigger3 = ctrl
trigger3 = p2statetype = A && p2bodydist y = [-40,80]
trigger3 = random < 380

;---------------------------------------------------------------------

;jsk
[State -1,j]
type=changestate
value=608
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype=A && numenemy
triggerall = Vel X
triggerall = P2bodydist X = [-20,100]
triggerall = P2bodydist Y = [-50,90]
triggerall = p2statetype!=L
triggerall= !(enemynear,hitfall)
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
trigger1= ctrl && random<45
trigger2= (stateno=600 ||stateno=604||stateno=605) && movehit && random<150
trigger3 = ctrl
trigger3 = p2bodydist x < 75
trigger3 = vel y > 0 && pos y > - 60
trigger3 = p2statetype != A
trigger3 = random < 530

;---------------------------------------------------------------------

[State -1, desvio fantasma]
type=changestate
value=720
triggerall=var(12)>=1&&roundstate=2
triggerall= statetype!=A && numenemy
triggerall= frontedgedist>80
triggerall = movetype !=H
triggerall = p2stateno != [5000,5200]


trigger1= ctrl
trigger1= enemynear,movetype=A && (p2bodydist x=[-90,90])
trigger1= (enemynear,p2bodydist x>0) && (enemynear,facing!=facing)
trigger1= random<ifelse((enemy,hitdefattr=SCA,HA,HP,SA,SP),320,110)

trigger2 = ctrl
trigger2= !numhelper(3040)
trigger2 = enemy, numproj > 0
trigger2 =(p2dist y=[-50,50])
trigger2 = random <70

Trigger3 = ctrl
trigger3= !numhelper(3040)
trigger3 = (enemy,numhelper>0 && p2MoveType = A) 
trigger3 = p2statetype=S
trigger3 =(p2dist y=[-50,50])
Trigger3 = random<60 

trigger4 = ctrl
trigger4 = backedgedist<35
trigger4 = p2bodydist x <25
trigger4 = p2movetype !=H
trigger4 = random<100

trigger5 = stateno=1700
trigger5 = animelemtime(2)>=0
trigger5 = p2bodydist x = [0,60]
trigger5 = p2MoveType = A
trigger5 = p2stateno = [3000,4999]
trigger5 = random<240

trigger6 = stateno=1700
trigger6 = p2bodydist x = [61,250]
trigger6 = p2stateno = [3000,4999]
trigger6 = (enemy,numhelper>0 && p2MoveType = A) 
trigger6 = random<200
;---------------------------------------------------------------------

[State -1, roll/dodge]
type=changestate
value=ifelse(random<550,810,710)
triggerall=var(12)>=1&&roundstate=2
triggerall= statetype!=A && numenemy
triggerall = movetype !=H
triggerall = stateno !=720
trigger1= ctrl
trigger1=enemynear,movetype=A
trigger1=p2bodydist x<80
trigger1=random<230
trigger2 = stateno = 105 && animelemtime(3)>=0
trigger2= Enemy, vel x > 0&&p2bodydist x<70
trigger2=movetype !=H
trigger2= random<400


[State -1, Dodge AI]
type = ChangeState
value = ifelse(random<800,810,710)
TriggerAll = var(12)>=1 && roundstate=2
triggerall = statetype != A
triggerAll = inguarddist
TriggerAll = stateno = 820
trigger1 = p2dist x > 100
Trigger1 = p2StateNo != [200, 699]
Trigger1 = p2statetype != A
Trigger1 = random<150


[State -1, rolamento bola]
type=changestate
value=810
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall=ctrl
triggerall= numhelper(1111)
triggerall= statetype!=A
trigger1= ctrl
trigger1= ((pos x-(helper(1111),pos x))*facing=[1,75])


[State -1, ashura tras]
type=changestate
value=2003
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= numhelper(1111)
triggerall= statetype!=A
trigger1= stateno=810
trigger1= frontedgedist<60
trigger1= ((pos x-(helper(1111),pos x))*facing=[1,74])

trigger2= ctrl
trigger2= ((pos x-(helper(1111),pos x))*facing=[45,174])
trigger2= p2statetype=L&&p2bodydist x <45
trigger2= backedgedist>120
trigger2= random<190



;---------------------------------------------------------------------

[State -1, focus]
type=changestate
value=790
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall = !var(33)
triggerall = (p2Life != 0)
triggerall= !(enemynear,hitdefattr=SCA,AT)
trigger1 =(p2MoveType != H) ||  p2statetype=L
triggerall = (p2bodydist x=[0,90])
triggerall = stateno!=700
triggerall = p2stateno!=40

trigger1= ctrl
trigger1= p2statetype=S
trigger1= enemynear,movetype=A && (enemy,hitdefattr=S,NA)
trigger1= random<80

trigger2= ctrl
trigger2= p2statetype=S || p2statetype=L
trigger2= frontedgedist<100
trigger2 =p2bodydist x = [ 0,70]
trigger2= random<30


trigger3= ctrl
trigger3= p2stateno=5110
trigger3 =p2bodydist x = [ 0,78]
trigger3= random<30




;---------------------------------------------------------------------

[State -1, throw]
type=changestate
value=ifelse(random<433,811,800)
triggerall= var(12)>=1 && roundstate=2 
triggerall=statetype=S && numenemy  
triggerall=stateno!=100 && ctrl
triggerall= p2statetype!=A  && p2statetype!=L
triggerall =p2movetype!=H
trigger1= (p2bodydist x=[0,21]) 
trigger1= (p2bodydist y=[-25,25]) 
trigger1= random<70
trigger2= (p2stateno!=[120,155])
trigger2=(p2bodydist x=[0,36])
trigger2=(p2bodydist y=[-25,25])
trigger2=random<130

;---------------------------------------------------------------------

[State -1, airthrow]
type=changestate
value=831
triggerall= var(12)>=1 && roundstate=2 
triggerall= statetype=A && numenemy  
triggerall= ctrl
triggerall= p2statetype = A
triggerall= vel x >= 0
trigger1= (p2bodydist x=[0,21]) 
trigger1= (p2bodydist y=[-25,25]) 
trigger1= random<90
trigger2= (p2stateno!=[120,155])
trigger2=(p2bodydist x=[0,36])
trigger2=(p2bodydist y=[-25,25])
trigger2=random<130

;---------------------------------------------------------------------

[State -1, backroll/dodge]
type=changestate
value=815
triggerall=var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall = backedgedist>40
triggerall = movetype !=H
triggerall= (enemy, numproj = 0)


trigger1 = ctrl || stateno = 815 && animelemtime(7)>=0
trigger1=enemynear,movetype=A
trigger1=p2bodydist x=[10,70]
trigger1 = random<220


;---------------------------------------------------------------------

[State -1, airdodge]
type=changestate
value=816
triggerall=var(12)>=1&&roundstate=2
triggerall=statetype=A && numenemy && prevstateno!=702
triggerall = BackEdgeBodyDist >= 15 && stateno!=702
trigger1 =  stateno = 51 || stateno = 120 || stateno = 132 || stateno = 140
trigger1 = pos y <= -65
trigger1 = enemynear,movetype=A
trigger1 = p2statetype=A
trigger1= random<ifelse((p2stateno=[3000,4999]), 900,500)


[State -1, air dodge slowhadou ex tatsumaki]
type=changestate
value=1055
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= statetype=A && stateno!=1055
triggerall= numhelper(1111)
triggerall= pos y >=-50
triggerall= ctrl ||  stateno = 51 || stateno = 120 || stateno = 132 || stateno= 140
trigger1= ((pos x-(helper(1111),pos x))*facing=[-35,0])
trigger2= ((pos x-(helper(1111),pos x))*facing=[1,35])

[State -1, air dodge slowhadou pulinho cabeça shoryu]
type=changestate
value=1033
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= statetype=A
triggerall= numhelper(1111)
triggerall= pos y >=-76
triggerall= stateno=1010 || stateno=1705
triggerall= vel y > 4
trigger1= ((pos x-(helper(1111),pos x))*facing=[-20,0])
trigger2= ((pos x-(helper(1111),pos x))*facing=[1,30])
;---------------------------------------------------------------------

[State -1, powercharge]
type=changestate
value=820
triggerall= var(12)>=1&&roundstate=2
triggerall= statetype!=A && numenemy
triggerall= !numhelper(3040)
triggerall= p2bodydist x>=120
triggerall = Enemy, gethitvar(fall) = 1 || p2StateNo = [5050, 5110]
trigger1= ctrl
trigger1= (power < const(data.power))
trigger1= (power < powermax)
trigger1= !inguarddist
trigger1= random<150


;---------------------------------------------------------------------

[State -1, hadouken]
type=changestate
value=1000
triggerall=var(12)>=1&&roundstate=2
triggerall= statetype!=A && numenemy
triggerall = p2stateno!=001
triggerall = p2stateno!=1124
triggerall=(p2stateno!=[120,155])
triggerall= (p2statetype!=L)
triggerall= !numprojid(1000) && !numhelper(1002)
triggerall = stateno != 207
triggerall = !numhelper(1005)
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno!=40 
trigger1=ctrl
trigger1= p2dist x>140
trigger1= random<30
trigger2=ctrl
trigger2= enemy,numproj>0
trigger2= !numhelper(3040)
trigger2= p2stateno != [3000,4999]
trigger2=random<20
trigger3= stateno = 203 || stateno = 212 || stateno=403 || stateno=404 || stateno=1600 || stateno = 208
trigger3= movehit && p2bodydist x > 20
trigger3=  time >3
trigger3= random<48
trigger4= stateno = 207  && animelemtime(5)>=0 && p2bodydist x > 45
trigger4= movehit && time >3 
trigger4=random<85
trigger5= ctrl
trigger5= enemy,numhelper>0
trigger5= !numhelper(3040)
trigger5= p2stateno != [3000,4999]
trigger5= random<20

trigger6= stateno = 1331 && movehit
trigger6= animelem=11 && random<23


;---------------------------------------------------------------------

[State -1, hadoux]
type = ChangeState
value = 1008
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype=S && numenemy
triggerall = p2stateno !=40
triggerall=  (p2statetype!=A)
triggerall = p2stateno != [1123, 1124]
triggerall= !numhelper(1111)
triggerall = power >= 1000
triggerall = p2bodydist x > 145
triggerall =life>400
triggerall = roundno>=2

trigger1 = ctrl && p2stateno != [5000, 5200]
trigger1 = (p2statetype!=L)
trigger1 = random<=56

trigger2 = ctrl && p2statetype=L
trigger2 = random<=22

trigger3 = stateno = 1210 && movehit
trigger3 = random<=19
;---------------------------------------------------------------------

[State -1, desvio fantasma slow hado]
type=changestate
value=720
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall=ctrl || stateno=2001
triggerall= numhelper(1111)
triggerall=statetype!=A
triggerall= frontedgedist >110
triggerall= backedgedist >60 || stateno=2001
trigger1= ctrl || stateno=2001
trigger1= ((pos x-(helper(1111),pos x))*facing=[-80,0])

;---------------------------------------------------------------------

[State -1, tira energia]
type=changestate
value=1260
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= (p2stateno!=[120,155])
triggerall = numhelper(1111) 
triggerall= p2movetype!=I
triggerall = ctrl
triggerall= statetype=S
triggerall= p2statetype =S
trigger1= ctrl 
trigger1 = random<350
trigger1= ((pos x-(helper(1111),pos x))*facing=[-180,-65])


;---------------------------------------------------------------------

;shoryuken
[State -1,shoryu]
type = ChangeState
value = 1010
triggerall = var(12)>=1&&roundstate=2
triggerall =statetype!=A && numenemy
triggerall = p2stateno != [5080, 5090]
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall = p2stateno != 5170

trigger1 = ctrl
trigger1 = p2statetype = A&&p2bodydist x < 25
trigger1 = p2bodydist y < -8
trigger1 = p2movetype != H
trigger1 = random<70

trigger2 = ctrl
trigger2 = p2statetype = A&&p2movetype = A
trigger2 =p2bodydist x < 25
trigger2 =p2bodydist y < -8 
trigger2 = random<90

trigger3 = stateno=204 && movehit
trigger3 =p2statetype=S 
trigger3 =p2bodydist x <20 
trigger3 =random<50

trigger4 = stateno = 815
trigger4 = animelemtime(7)>=0
trigger4 = p2bodydist x = [-20,50]
trigger4 = random < 60
;---------------------------------------------------------------------


[State -1,shoryu]
type = ChangeState
value = 1010
triggerall = var(12)>=1&&roundstate=2
triggerall =statetype!=A && numenemy
trigger1 = stateno = 820
trigger1 = Enemy, vel x > 0&& p2bodydist x = [60,-40]
trigger1 = p2statetype=A
trigger1 = random<400
trigger2 = stateno=407&&movecontact
trigger2 = p2bodydist x<40
trigger2 = time>=16
trigger2 = random<50
trigger3 = stateno=1600&&movehit && p2bodydist x<45
trigger3 = animelemtime(3)=1 || animelemtime(3)=2
trigger3 = random<85




[State -1, shoryuuken]
type=changestate
value=1110
triggerall= var(12)>=1 && numenemy
triggerall= power=[500,2500]
triggerall= roundstate=2 && statetype!=A
triggerall= (p2stateno!=[120,155]) && p2statetype!=L
triggerall= (p2bodydist x>0) && (enemynear,vel y>-1) && (enemynear,vel x>-2)
triggerall= (enemynear,const(size.head.pos.y)<=-40) || (enemynear,statetype=A)
triggerall= !(enemynear,hitfall)
trigger1= ctrl && p2bodydist x<50 && random<30
trigger2= (  StateNo = 200  || StateNo = 204 || StateNo = 206 || StateNo = 207 || (StateNo = [400,404])) && movehit && p2bodydist x<30 && random<40
trigger3= ctrl && p2bodydist x<110 && p2dist y<-120 && random<100


[State -1, ai Shoryuken ai]
type = ChangeState
Value = 1017
TriggerAll = var(12)>=1&&roundstate=2
TriggerAll = StateType != A
TriggerAll = Enemy, vel y >= -2
TriggerAll = p2dist x < 54+4*((enemyNear, vel x)*ifelse(enemynear, p2dist x < 0, -1, 1))+20*(p2movetype = A) || frontedgedist < 40
TriggerAll = p2dist x > 24+4*((enemyNear, vel x)*ifelse(enemynear, p2dist x < 0, -1, 1))
TriggerAll = p2dist y > -70-((EnemyNear, vel y)+(enemyNear, const(movement.yaccel)*4))
TriggerAll = ctrl || stateno = 100 || stateno = [120,131]
Trigger1 = EnemyNear, HitDefAttr = SCA, AA, AP, AT
trigger1 = random<290
Trigger2 = p2statetype = A
Trigger2 = p2dist y < -40-((EnemyNear, vel y)+(enemyNear, const(movement.yaccel)*4))
Trigger2 = p2MoveType != A
Trigger2 = p2MoveType != H
trigger2 = random<290


[State -1,piscashoryu]
type = ChangeState
value = 760
triggerall = var(12)>=1&&roundstate=2
triggerall= !numhelper(1111)
triggerall= !numhelper(3040)
triggerall = stateno=13416 && animelem=2 && numenemy
triggerall = p2bodydist x < 30 && p2movetype=H
triggerall = !var(33) && p2statetype=A
triggerall = power>=1000 && p2life> 690 && life<300
trigger1 =random<900

[State -1,piscashoryu]
type = ChangeState
value = 1017
triggerall = var(12)>=1&&roundstate=2
triggerall =stateno=760 && animelem=9 && numenemy
triggerall = p2bodydist x < 30
trigger1 = random<999

[State -1,dentrodopisca]
type = ChangeState
value = 1017
triggerall = var(12)>=1&&roundstate=2
triggerall =stateno=13416 && time=4 && numenemy
triggerall = var(33)>=1
triggerall = p2bodydist x < 30 && p2statetype=A
trigger1 = random<999

[State -1,shoryu fraco]
type = ChangeState
value = 1017
triggerall = var(12)>=1&&roundstate=2
triggerall = numenemy
trigger1 = stateno=815 
trigger1 =animelem=7 ||  animelem=8
trigger1 = p2bodydist x = [0,45]
trigger1 = random<100
trigger2 = stateno=405 && movehit
trigger2 = random<25
trigger3 = stateno = 810
trigger3 = animelem=8 ||  animelem=9
trigger3 = p2bodydist x = [0,45]
trigger3 = random < 100
trigger4 = stateno=204 && movehit
trigger4 = random<50

trigger5 = stateno=1600&&movecontact
trigger5 = animelemtime(3)=1 || animelemtime(3)=2
trigger5 = random<60


[State -1,piscahadou]
type = ChangeState
value = 760
triggerall = var(12)>=1&&roundstate=2
triggerall = numenemy&& statetype!=A 
triggerall = !var(33)
triggerall = power>=1000
triggerall= !inguarddist
triggerall= p2statetype!=A || p2stateno=5050   
triggerall= !(enemynear,ctrl) || stateno=1008
triggerall= p2bodydist x > 140
triggerall= p2stateno!=5101
triggerall= p2stateno!=5120


trigger1= ctrl
trigger1 = numhelper(1111)
trigger1= ((pos x-(helper(1111),pos x))*facing=[-220,-95])
trigger1= random<280

trigger2= stateno=1008&&animelemtime(10)>=0
trigger2= backedgedist <=60
trigger2=roundno=3
trigger2= random<250

[State -1,piscahadou]
type = ChangeState
value = 1000
triggerall = var(12)>=1&&roundstate=2
triggerall = stateno=760 && animelemtime(8)>=1 && numenemy
triggerall = p2bodydist x > 30
triggerall = numhelper(1111)
trigger1 = random<999


[State -1,dentrodopiscahadou]
type = ChangeState
value = 1000
triggerall = var(12)>=1&&roundstate=2
triggerall = stateno=1000 && animelemtime(8)>=1 && numenemy
triggerall = var(33)>=1
triggerall = p2bodydist x > 30
triggerall = numhelper(1111)
trigger1= backedgedist <=70
trigger1 = random<999

;---------------------------------------------------------------------

[State -1, exthrow]
type=changestate
value=823
triggerall= var(12)>=1 && roundstate=2 
triggerall=statetype=S && numenemy  
triggerall=stateno!=100 && ctrl
triggerall= p2statetype!=L && power>=500

trigger1= p2movetype!=H
trigger1= (p2bodydist x=[0,35]) 
trigger1= (p2bodydist y=[-80,25]) 
trigger1= random<47

trigger2= p2movetype=H
trigger2= (p2bodydist x=[-8,22]) 
trigger2= (p2bodydist y=[-73,-26]) 
trigger2= random<80

trigger3= p2stateno=30145621
trigger3= random<65
;---------------------------------------------------------------------

;tatsumakisenpu
[State -1,tatsu]
type = ChangeState
value = 1030
triggerall = var(12)>=1&&roundstate=2
triggerall =statetype!=A && numenemy
triggerall = p2statetype != L
triggerall = p2stateno!=5120
triggerall= (p2bodydist x=[0,100])
trigger1 = ctrl
trigger1 = random<10

trigger2 = ctrl
trigger2 = p2bodydist x =[50 ,90]
trigger2 =p2statetype = S
trigger2 = random<27


trigger3 = stateno=2002&& time>=44
trigger3 =random<60

trigger4 = stateno = 200 || stateno = 402
trigger4 = movehit&&random<30 

trigger5= stateno=1015&&time>=2 
trigger5= p2stateno=5050
trigger5= random<32

trigger6 = stateno=820&& (p2bodydist x=[46,85])
trigger6 = p2statetype=S
trigger6 =random<130

trigger7 = stateno = 405 || stateno = 204
trigger7 = movehit
trigger7 = random<27


;---------------------------------------------------------------------

[State -1, pulinho na cabeça]
type = ChangeState
value = 1033
triggerall=var(12)>=1&&roundstate=2
triggerall = movetype !=H && numenemy
triggerall = p2statetype != A
triggerall = p2bodydist x =[-37,15]
triggerall = p2bodydist y < 86
triggerall = vel y > 0
triggerall = p2stateno!=5120
trigger1 = stateno = 1010 
trigger2 = stateno = 1424 && animelemtime(10)>=0
trigger3 = ctrl
trigger3 = stateno=50&&animelemtime(4)>=0
trigger3 =random <450

;---------------------------------------------------------------------

[State -1, pulinho na cabeça]
type = ChangeState
value = 1033
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall = p2bodydist x =[-15,10]
triggerall = p2stateno!=5120
trigger1 = stateno=1705&&animelemtime(4)>=0
trigger1 = random <800

;---------------------------------------------------------------------


[State -1, Air tatzumaki]
type = changestate
value = 1050
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype = A && numenemy
triggerall= (p2dist y=[-50,50]) && p2statetype!=L

trigger1 = ctrl 
trigger1 = backedgedist>95
trigger1 = vel x < -2
trigger1 = pos y > -35
trigger1 = random <= 95

trigger2 = stateno = 600 || stateno = 604
trigger2 = movehit
trigger2 = (p2bodydist x=[0,28])
trigger2 = vel x > 0
trigger2 =random<= 200

trigger3 = stateno = 1404 && animelemtime(4)>=0 
trigger3 = backedgedist>110
trigger3 =random<= 75

trigger4 = ctrl
trigger4 = vel x = 4
trigger4 = vel y = [-3,3]
trigger4 = random<= 260

;--------------------------------------------------------------------

[State -1, extatsumakizankuukyaku]
type=changestate
value=1055
triggerall= var(12)>=1 && numenemy
triggerall= power>=500
triggerall= roundstate=2 
triggerall= !(enemynear,ctrl) && (enemynear,stateno!=[120,155])
triggerall= (p2bodydist x=[0,90]) && (p2dist y=[-90,0]) && p2statetype!=L
triggerall= (enemynear,const(size.head.pos.y)<=-40) || (enemynear,statetype=A)
trigger1= ctrl
trigger1= random<10

trigger2 = ctrl && statetype!=A
trigger2 = p2bodydist x =[50 ,90]
trigger2 = p2statetype = S
trigger2 = random<11


trigger3 = stateno=2002&& time>=44
trigger3 =random<30

trigger4 = stateno = 200 || stateno = 402
trigger4 = movehit&&random<17

trigger5= stateno=1015&&time>=2 && statetype!=A
trigger5= p2stateno=5050
trigger5= random<17

trigger6 = stateno=820&& (p2bodydist x=[46,85])
trigger6 = p2statetype=S
trigger6 = random<50

trigger7 = stateno = 405 || stateno = 204 || stateno = 406
trigger7 = movehit
trigger7 = random<17

trigger8= stateno = 1400 || stateno = 1405
trigger8= movehit
trigger8= p2bodydist x = [0,80]
trigger8= random<28

trigger9= stateno = 600 || stateno = 604
trigger9= movehit && pos y < -55
trigger9= p2bodydist x = [0,50]
trigger9= random<32

;---------------------------------------------------------------------

;jax ai
[State -1, jax]
type=changestate
value=ifelse ((power>=500 && random<130),1405,1400)
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall= (enemynear,stateno!=[120,155])
triggerall= statetype=S
triggerall= stateno!=100
triggerall= p2statetype!=A
triggerall= p2stateno!=5120
triggerall= p2stateno!=40
triggerall= !enemynear,movetype=A

trigger1= ctrl
trigger1= p2bodydist x>90
trigger1= p2statetype!=L
trigger1= random<25

trigger2= ctrl
trigger2= p2bodydist x>50 
trigger2= p2stateno=5100 && animelemtime(2)>=0
trigger2= random<78

;------------------------------------------------------------------------------------------

;geyser ai
[State -1, geyser]
type=changestate
value=4200
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall= power>=1000
triggerall= statetype=S
triggerall= (p2stateno!=[120,155]) && p2statetype!=L
triggerall= p2stateno!=5120

trigger1 = ctrl
trigger1 =  (p2bodydist x = [40,100])  && p2statetype = A && enemynear, vel y <= 0
trigger1 = p2movetype != H  && p2bodydist y >= -90 && p2bodydist y <= -20
trigger1 = random <= 60



;---------------------------------------------------------------------

[State -1, diag hadou air]
type=changestate
value=1957
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall= statetype=A 
triggerall=(p2stateno!=[120,155])
triggerall= p2bodydist x>25
triggerall= p2dist y>=-20

trigger1 = ctrl
trigger1 = pos y =[-35,-160]
trigger1= random<15

trigger2 = stateno=1424&&time>33
trigger2 =random<70

trigger3 = stateno=1301&&time>=19
trigger3 =random<80

trigger4 = stateno=1705 && time >= 16 
trigger4 = !movehit
trigger4= random<25
trigger4= p2bodydist x > 80

trigger5 = stateno=3101
trigger5 = time = [50,58]
trigger5= random<60

trigger6 = stateno=39998 && animelem=6
trigger6 = frontedgedist > 110
trigger6 = pos y < -38
trigger6 = random<50

trigger7 = stateno=2221 && time>=30
trigger7 = pos y =[-32,-120]
trigger7 = random<350

trigger8 = stateno=5210 && ctrl
trigger8 = random<90


[State -1, diag hadou air]
type=changestate
value=1957
triggerall= var(12)>=1&&roundstate=2 && numenemy
TriggerAll = random < 200
TriggerAll = pos y < enemynear, pos y
TriggerAll = pos y < -40
TriggerAll = P2bodydist x > 20
TriggerAll = Ctrl
TriggerAll = vel y > .5 || p2StateType = A
Trigger1 = P2dist x > p2dist y+50
Trigger2 = vel x <= 0
Trigger3 = p2dist x > 90
Trigger3 = vel x > 0
Trigger3 = vel y > 0


;---------------------------------------------------------------------

;proj leech
[State -1]
type = ChangeState
value = 3039
triggerall = var(12)>=1&&roundstate=2&&statetype!=A
triggerall = !var(33)
triggerall= !numhelper(3040)
triggerall = p2life >=500
triggerall = power >= 3000 || (enemy,Numproj>3 && p2MoveType = A)
trigger1 = (enemy, Numproj > 0)
trigger1 = ctrl 
trigger1 = random<15
trigger2 = (enemy,numhelper>0 && p2MoveType = A)
trigger2 = ctrl
trigger2 = random<25
trigger3 = (enemy, Numproj > 2)
trigger3 = ctrl 
trigger3 = random<30

trigger4 = (enemy,numhelper>0 && p2MoveType = A)
trigger4 = p2stateno = [3000 ,3999]
Trigger4 = Enemy, AnimTime < -16
trigger4 = ctrl 
trigger4 = random<15

;---------------------------------------------------------------------

;rodadao ai 1
[State -1, osoto]
type=changestate
value=214
triggerall=var(12)>=1&&statetype!=A
triggerall= roundstate=2 && numenemy
triggerall=(p2bodydist x=[10,60])
triggerall= (p2bodydist y=[-55,20])
triggerall=(p2statetype!=L)
triggerall= (p2statetype!=C)
triggerall= (p2stateno!=[120,149])
trigger1=ctrl
trigger1 =random<90

trigger2 = stateno=205
trigger2 = movecontact
trigger2 = random<30

trigger3 = stateno=2002&& time>=44
trigger3 = p2statetype=S ||  p2statetype=A
trigger3 = random<80


;rodadao ai 2
[State -1, osoto]
type=changestate
value=214
triggerall=var(12)>=1
triggerall= roundstate=2
Triggerall = random < 500
TriggerAll = statetype != A

TriggerAll = enemynear, vel y > -1
TriggerAll = p2dist x < 85+5*((enemyNear, vel x)*ifelse(enemynear, p2dist x < 0, -1, 1)) || frontEdgeDist < 110
TriggerAll = p2dist x > 60+5*((enemyNear, vel x)*ifelse(enemynear, p2dist x < 0, -1, 1))

TriggerAll = p2dist y < -80-((EnemyNear, vel y)+(enemyNear, const(movement.yaccel)*5))
TriggerAll = p2dist y > -130-((EnemyNear, vel y)+(enemyNear, const(movement.yaccel)*5))
TriggerAll = p2statetype = A
TriggerAll = p2Movetype != H
TriggerAll = p2MoveType != A
Trigger1 = ctrl


;---------------------------------------------------------------------



[State -1, denjinhadouken]
type=changestate
value=1080
triggerall= var(12)>=1 && numenemy
triggerall= roundstate=2 && statetype!=A 
triggerall= !inguarddist
triggerall= !numprojid(1000) && !numhelper(1005) 
triggerall= !numhelper(1081) && !numhelper(1082) && !numhelper(1083)
triggerall= p2statetype!=A || p2stateno=5050   
triggerall= !(enemynear,ctrl) || stateno=1008
triggerall= p2bodydist x > 140
triggerall= p2stateno!=5101
triggerall= p2stateno!=5120
trigger1= ctrl && random<4
trigger1= p2movetype!=A
trigger2= ctrl 
trigger2= p2stateno=5050 || p2stateno=5100   
trigger2= random<52

trigger3= stateno=1008&&animelem=9
trigger3= backedgedist <=60
trigger3= random<200




;---------------------------------------------------------------------

[State -1, sumir]
type=changestate
value=2000
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall =statetype!=A
triggerall = numhelper(1111)
triggerall = ctrl
triggerall=statetype=S
triggerall= backedgedist <=60
trigger1= ctrl &&  random<300
trigger1= ((pos x-(helper(1111),pos x))*facing=[-75,0])


;---------------------------------------------------------------------

;airhadouforwar
[State -1,airhadof]
type = ChangeState
value = 1112
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype = A && numenemy
triggerall = !NumProjID(1007)
triggerall = pos y <= -80
trigger1 = stateno=1424
trigger1 = time>15&&random<23

trigger2 = stateno=1424&&P2BodyDist X < -60
trigger2 = time>15&&random<90
trigger3 = ctrl
trigger3 = P2BodyDist X = [-40,25]
trigger3 = P2BodyDist Y = [-200,-50]
trigger3 = p2movetype = A
trigger3 = enemynear, vel y > 0
trigger3 = random<200

;---------------------------------------------------------------------


;DOWNSLIDE stageedge
[State -1,DOWNSLIDE]
type = ChangeState
value = 1113
triggerall = var(12)>=1&&roundstate=2
triggerall = numenemy
triggerall = stateno=5110 ||  stateno=5120 && animelem=1
triggerall = backedgebodydist= [ 241, 290]
 
trigger1 = p2bodydist x > -140 || enemy , vel x > 0 && p2bodydist x > -160
trigger1 =random<250

trigger2 =(enemy,numhelper>0 && p2MoveType = A) || Enemy, NumProj > 0
trigger2 = p2bodydist x < -140
;trigger2 =random<140



;DOWNSLIDE
[State -1,DOWNSLIDE]
type = ChangeState
value = 1114
triggerall = var(12)>=1&&roundstate=2
triggerall = numenemy
triggerall = stateno=5110 ||  stateno=5120 && animelem=1
triggerall = backedgebodydist != [ 241, 290]
triggerall = (p2bodydist x=[10,50])
trigger1 = p2statetype!=A
trigger1 = backedgedist>45
trigger1 = random<200


;---------------------------------------------------------------------

;tatsu-3
[State -1, chutao]
type=changestate
value=1200
triggerall=var(12)>=1&&roundstate=2
triggerall =statetype!=A && numenemy
triggerall=(p2stateno!=[120,155])
triggerall=(p2bodydist x=[10,125])
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall= (p2bodydist y=[-78,0])
triggerall = (p2statetype!=L) && (p2statetype!=C)

trigger1 = (stateno=[200,206])&&movehit
trigger1 =p2statetype=S
trigger1 =random<23

trigger2 = ctrl
trigger2 = p2stateno = 1124
trigger2 = backedgedist = [ 80, 150]
trigger2 = enemy,vel x > 0
trigger2 = (p2bodydist y=[-78,-68])
trigger2 = random<650

trigger3 = stateno=2002&& time>=44
trigger3 = p2statetype=S
trigger3 = random<80

trigger4 = ctrl
trigger4 = p2statetype=S
trigger4 = random<15

trigger5 = ctrl
trigger5 = p2statetype=A
trigger5 = enemy,vel y > 0
trigger5 = (p2bodydist y=[-90,-77])
trigger5 = random<100

trigger6= stateno=2001
trigger6= (p2bodydist y=[-73,-55])  || p2statetype=S
trigger6 = p2bodydist x < 110
trigger6 = random<70

trigger7 =stateno = 406 && movehit
trigger7 = backedgedist<180
trigger7 = random<35
;---------------------------------------------------------------------


[State -1,chutao]
type = ChangeState
value = 1200
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
trigger1 = stateno = 1045
trigger1 = frontedgedist >100
trigger1 = movehit && time> 20
trigger1 = random<350


;---------------------------------------------------------------------

[State -1, ombro]
type = ChangeState
value = ifelse(random<300 && power>=500,1211,1210)
triggerall = var(12)>=1&&roundstate=2 
triggerall= statetype = S && numenemy
triggerall= p2bodydist y = [-70,0]
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall = p2stateno != 5170
triggerall = (P2statetype!=L)
triggerall= (p2stateno!=[120,155])
triggerall = stateno!=[1600,1607]

trigger1 = ctrl
trigger1 = p2stateno != 5050
trigger1= p2bodydist x = [15,75]
trigger1 =random <= 45

trigger2 = stateno=2001
trigger2 = p2bodydist x = [0 ,65]
trigger2 = random < 90

trigger3 = ctrl
trigger3= p2bodydist x = [15,70]
trigger3 = p2stateno = 5050 && pos y<-45
trigger3 = random <= 40

trigger4 = ctrl
trigger4 = (P2MoveType = A && P2stateno != [3000,3999])
trigger4= p2bodydist x = [15,70]
trigger4 = random <= 40

;---------------------------------------------------------------------


[State -1,falling kick forte]
type = changestate
value = 1250
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype = A && numenemy
triggerall= frontedgedist>80
triggerall = p2statetype != L
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall = p2stateno != 5170

trigger1 = ctrl 
trigger1 = pos y <= -90
trigger1 = random <= 70

trigger2 = stateno=1705&&animelemtime(3)>=0
trigger2 =p2bodydist x > 33
trigger2 = pos y <= -80
trigger2 = !movehit
trigger2 =random<94

trigger3 = stateno=1301&&time>=18
trigger3 = pos y <= -50
trigger3 =random<110

trigger4 = stateno=1424&&animelemtime(6)>=0 
trigger4 = p2bodydist x > 110
trigger4 = pos y <= -85
trigger4 =random <= 80

trigger5 = stateno = 1705 && animelemtime(3) >= 0
trigger5 = movehit
trigger5= (p2bodydist x=[-30,60])
trigger5 = p2dist y>=-15  
trigger5 = (enemynear,vel y<6)
trigger5 = frontedgedist>80 
trigger5 = random<100


;---------------------------------------------------------------------

[State -1, tiraenergia]
type = ChangeState
value = 1260
triggerall=var(12)>=1&&roundstate=2
triggerall=statetype!=A && numenemy
triggerall=(p2stateno!=[120,155])
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall = p2stateno != 5170
triggerall= (p2statetype!=C) && (p2statetype!=L)
triggerall= (p2bodydist x=[80,148])
triggerall= enemy, power >=1000
triggerall= (p2dist y=[-50,50])
trigger1=ctrl
trigger1=random<18

trigger2= ctrl
Trigger2 = p2statetype=S
trigger2= enemy , powermax
trigger2= random<30
;---------------------------------------------------------------------

[State -1,  Falling kick medio]
type = changestate
value = 1300
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype = A && numenemy
triggerall= frontedgedist>80
triggerall = p2statetype != L
triggerall=(p2stateno!=[5000,5200])
triggerall = pos y <= -90
trigger1 = ctrl
trigger1 = random <= 100
trigger2 = stateno=1705&&animelemtime(3)>=0
trigger2 = p2bodydist x > 53
trigger2 = random<130
trigger3 = stateno=1424
trigger3 = animelemtime(7)>=0 
trigger3 = p2bodydist x > 130
trigger3 = random <= 100

;---------------------------------------------------------------------


[State -1, ryu kick ai]
type=changestate
value= ifelse ((power>=500 && random<100),1335,1331)
triggerall= var(12)>=1 && numenemy
triggerall= roundstate=2 && statetype!=A
triggerall= (p2stateno!=[120,155]) && p2statetype!=L
triggerall= !(enemynear,hitfall) || stateno=405
triggerall= (p2bodydist x=[0,90]) && (p2bodydist y=[-150,60])
triggerall= (enemynear,const(size.head.pos.y)<=-40) || (enemynear,statetype=A)
trigger1= ctrl && random<24
trigger2= (stateno=[200,206]) && movehit && random<53
trigger3= (stateno= 402 || stateno= 405 )
trigger3= movehit && random<49
trigger4= (stateno= 1600 && animelemtime(3)>5 || stateno= 210)  && movecontact && random<51

trigger5= stateno = 1400 || stateno = 1405
trigger5= movehit
trigger5= p2bodydist x = [0,90]
trigger5= random<84

trigger6= stateno = 211 || stateno = 215 || stateno = 208
trigger6= movecontact
trigger6= p2bodydist x = [10,60]
trigger6= random<49


trigger7= stateno=207 && animelemtime(5)>=0
trigger7= random<64
;---------------------------------------------------------------------

[State -1 ,lye]
type=changestate
value=1345
triggerall=var(12)>=1&&roundstate=2
triggerall= statetype!=A && numenemy
triggerall= p2statetype!=C
triggerall = p2stateno != [5000,5200]
triggerall= p2movetype!=I
triggerall = stateno!=3700
triggerall = stateno !=720
triggerall = ctrl
triggerall = !(enemynear,hitfall)
triggerall = !var(33)
trigger1 = ctrl
trigger1= !numhelper(3040)
trigger1 = enemy,numproj>0 
trigger1 = p2statetype=S
trigger1 = random<62
Trigger2 = ctrl
trigger2= !numhelper(3040)
trigger2 = (enemy,numhelper>0 && p2MoveType = A) 
trigger2 = p2statetype=S
Trigger2 = random<39
trigger3 = ctrl
trigger3 = Enemy, vel x > 3
trigger3 = P2Bodydist x = [19,65]
trigger3 = P2Bodydist Y = [-80,-20]
trigger3 = p2statetype = A 
trigger3 = random <= 350
trigger4 = ctrl
trigger4 = Enemy, vel x =0
trigger4 = P2bodydist X = [19,30]
trigger4 = P2Bodydist Y = [-70,0]
trigger4 = p2movetype = A 
trigger4 = random <= 70

;---------------------------------------------------------------------

[State -1,levanfren]
type = ChangeState
value = 1346
triggerall = var(12)>=1&&roundstate=2  && numenemy
triggerall = Enemy, Numproj = 0
trigger1 = stateno = 1345
trigger1 = time>17
trigger1 =p2bodydist x < 65
trigger1 = p2statetype != A
  
trigger2= stateno = 1345
trigger2=p2bodydist x > 110
trigger2= p2movetype =I
trigger2= time>35
trigger2= random <= 200
trigger3 = stateno=1345
trigger3 =P2BodyDist X < -65
trigger3 = time>25
trigger3 = random<280

trigger4= stateno = 1345
trigger4 = p2stateno=001
;---------------------------------------------------------------------

[State -1,levantcima]
type = ChangeState
value = 1347
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = Enemy, Numproj = 0
triggerall= p2bodydist x < 60

trigger1 = stateno = 1345 && time>22
trigger1 = p2statetype = A

;---------------------------------------------------------------------

[State -1,levantras]
type = ChangeState
value = 1348
triggerall = var(12)>=1&&roundstate=2  && numenemy
Triggerall = Enemy, Numproj = 0
triggerall = backedgedist>40
triggerall= (p2stateno!=[120,155])

trigger1 = stateno = 1345
trigger1 =time>14
trigger1 = p2movetype=A 
trigger1 =p2statetype !=A
trigger1 = p2bodydist x < 95
 

trigger2 = stateno = 1345 
trigger2 = enemy , vel X > 0
trigger2 =time>14
trigger2 = p2bodydist x < 100

;---------------------------------------------------------------------

[State -1,  Falling kick fraco]
type = changestate
value = 1410
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = statetype = A
triggerall= frontedgedist>90
triggerall = p2statetype != L
triggerall=(p2stateno!=[5000,5200])
triggerall = movetype !=A
triggerall = p2statetype!=A
triggerall = pos y <= -90
trigger1 = ctrl 
trigger1 =random <= 90
trigger2=stateno=1705&&animelemtime(3)>=0
trigger2= p2bodydist x > 53
trigger2=random<110
trigger3 = stateno=1424&&animelemtime(6)>=0 
trigger3 = random <= 90
trigger3 = p2bodydist x > 120
trigger4 = ctrl &&  stateno = 50
trigger4 = P2bodydist X = [40,80]
trigger4 = P2Bodydist Y = [40,100]
trigger4 = p2movetype != A
trigger4 = random <= 15

;---------------------------------------------------------------------

;airhadou
[State -1,airhad]
type = ChangeState
value = 1424
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype = A && numenemy
triggerall = p2bodydist y >= 0 
triggerall = p2stateno!=1124
trigger1 = ctrl
trigger1 = random<19
trigger2 = stateno=1033&&movehit
trigger2 = time>10
trigger2 = random<350

;---------------------------------------------------------------------

;super downwardkick
[State -1,sdownkick]
type = ChangeState
value = 1451
triggerall =var(12)>=1&&roundstate=2
triggerall = statetype = A  && numenemy
triggerall = power >= 1000
triggerall= !(enemynear,ctrl) && (enemynear,stateno!=[120,155])
triggerall= (p2bodydist x=[10,180]) && p2dist y>=-15
triggerall= (enemynear,vel y<8)
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall = p2stateno != 5170
triggerall = (P2statetype!=L)
triggerall= frontedgedist>100
triggerall = pos y <= -80

trigger1 = ctrl
trigger1 = (p2bodydist x=[10,110])
trigger1 =random <= 170

trigger2=stateno=1705&&animelemtime(3)>=0
trigger2=p2bodydist x > 73
trigger2=random<80

trigger3 =stateno=1301&&time>=17
trigger3 =random<150
trigger4 = stateno=1424&&animelemtime(8)>=0
trigger4 =(p2bodydist x=[50,190])
trigger4 = random <= 50

trigger5 = stateno=1010&&animelemtime(3)>=0
trigger5 = pos y < -69
trigger5 = backedgedist < 150
trigger5 = movehit
trigger5 = p2life>500  && life < 300
trigger5 = random <= 400

;---------------------------------------------------------------------

[State -1,ex1210]
type = ChangeState
value = 1600
triggerall=var(12)>=1&&roundstate=2
triggerall= statetype!=A && numenemy
triggerall=(p2bodydist x=[0,60]) && (p2bodydist y=[-50,50]) && (p2statetype=S || p2statetype=C)

trigger1 = ctrl 
trigger1 =random <= 85


trigger2=(stateno=[200,205])&&movehit
trigger2 =random<50

trigger3 = stateno = 212 || stateno = 204 || stateno = 207 && animelemtime(5)>=0 || stateno = 208 || stateno = 211 || stateno = 215
trigger3 = movehit
trigger3 = p2bodydist x<30
trigger3 = random<58

trigger4 = stateno=2001
trigger4 = (p2bodydist x=[20,60])
trigger4 = random<75

trigger5 = stateno = 206&&movehit
trigger5 =  time>17
trigger5 = random<60

trigger6 = stateno=1700 &&p2bodydist x = [0,65]
trigger6 = p2statetype!=A
trigger6=(p2stateno!=[120,155])
trigger6 = random<200

trigger7 = stateno = 210&&movehit
trigger7 =  time>11
trigger7 = random<60


;---------------------------------------------------------------------

[State -1, joelho]
type=changestate
value=1700
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall=statetype=S&&!inguarddist
triggerall = life>300
triggerall=!(enemynear,ctrl)&&(enemynear,movetype!=A)
triggerall=p2dist x>=60
triggerall= (enemy, numproj = 0)
triggerall= (enemy,numhelper=0 && p2MoveType != A)
triggerall=ctrl
trigger1=random<14

trigger2= p2bodydist x> 230
trigger2= p2stateno=5050 || p2stateno=5100   
trigger2= random<40
;---------------------------------------------------------------------

[State -1]
type = ChangeState
value = 1704
triggerall = var(12)>=1&&roundstate=2
trigger1 = p2bodydist x<=49 && numenemy
trigger1 = enemynear, pos y <-40
trigger1= p2statetype=A
trigger1 = stateno = 1700
trigger1 =random<400

trigger2 = stateno = 207 && animelemtime(5)>=0
trigger2 = p2bodydist x<=59&&movehit
trigger2 = random<100

trigger3 = stateno = 1700
trigger3 = p2bodydist x<0
trigger3 = stateno = 1700

;---------------------------------------------------------------------

[State -1, cancel];ai
type=changestate
value=1731
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall=statetype!=A
triggerall= animelem=5
triggerall=movehit
triggerall=pos y =0
triggerall=stateno=1010
triggerall= p2bodydist x=[0,34]
 
trigger1= power>=2500
trigger1 = life <= 500
trigger1 = random <= 450

 
trigger2= power>=2000
trigger2 = p2life>700  && life < 300
trigger2 = random <= 450


trigger3 = p2life = lifemax  && life < 200
trigger3= power>=1500
trigger3 = random <= 750

trigger4= power>=1000 && power<1500
trigger4 = random <= 320

trigger5= power<1000
trigger5 = random <= 180

[State -1, cancel];ai kameh enemy jump frent
type=changestate
value=790
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= var(36)<170
trigger1= stateno=3120
trigger1= enemy, vel x > 0
trigger1 = (p2bodydist x = [60,100])
trigger1 = (p2bodydist y=[-110,-40])
trigger1 = p2statetype=A


[State -1, cancel];ai correr inim atras
type=changestate
value=1733
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= animelemtime(4)>=0
trigger1=stateno=3120
trigger1 = p2bodydist x < 0
;trigger1 = (enemynear,ctrl)



[State -1, cancel];ai deitado
type=changestate
value=1735
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= var(36)<160
trigger1 = stateno=3120
trigger1 = p2bodydist x =[0,70]
trigger1 = p2stateno = 5120



[State -1, cancel];ai kame counter
type=changestate
value=790
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= var(36)<160
trigger1 = stateno=3120
trigger1 = p2bodydist x =[0,70]
trigger1 = p2movetype=A
trigger1 = p2statetype!=A

trigger2 = stateno=3120
trigger2 = p2bodydist x =[71,110]
trigger2 = (enemynear,ctrl)
trigger2 = enemy, vel x > 2
trigger2 = p2statetype!=A

[State -1, cancel];ai cancel chutoes
type=changestate
value=1735
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= backedgedist>70
triggerall = p2statetype!=A
trigger1 = stateno=1200 || stateno=1210 || stateno=1331
trigger1 = moveguarded
trigger1 = animelem = 9 || animelem = 10
trigger1 = random<95

trigger2=stateno=1010
trigger2=statetype!=A
trigger2= animelem=5
trigger2= moveguarded
trigger2 = random<250

[State -1, sumir]
type = ChangeState
value = 2000
triggerall=var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall = BackEdgeBodyDist <= 100
triggerall = p2statetype != L
triggerall = stateno !=2002
triggerall = movetype!=H
triggerall = movetype !=A
triggerall = (backedgedist!=[16,17])
triggerall = p2stateno != [5080, 5090]
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
trigger1 = ctrl
trigger1= random<25
trigger2=ctrl
trigger2= (p2bodydist x = [1,65])&&backedgedist<=50
trigger2= p2MoveType = A
trigger2= random<180
trigger3 =ctrl
trigger3= !numhelper(3040)
trigger3 = enemy,numproj>0&&p2bodydist x<130
trigger3 =random<60
trigger4=ctrl
trigger4= !numhelper(3040)
trigger4=(enemy,numhelper>0 && p2MoveType = A)
trigger4=p2bodydist x >130 
trigger4=random<60

trigger5 = ctrl
trigger5 = enemy, vel x = [ -1,-4 ]
trigger5 = enemy , pos y < -20 || p2statetype = S
trigger5 = enemy, vel Y > 2
trigger5 = p2bodydist x>100
trigger5 = random <50

;---------------------------------------------------------------------

[State -1, sombra]
type = ChangeState
value = 2002
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = Power >= 400&&statetype!=A
triggerall = p2stateno != [5080, 5090]
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall = p2stateno != [5170, 5200]
triggerall = frontedgedist>100
triggerall = movetype !=H
triggerall = enemy, life < lifemax 
trigger1 =ctrl
trigger1 = statetype = S
trigger1= p2dist x>90
trigger1= random<15
trigger2=stateno=1000&&animelemtime(9)>=0
trigger2= p2dist x>90 
trigger2= p2statetype!=A
trigger2=random<13
trigger3=ctrl
trigger3= !numhelper(3040)
trigger3=(enemy,numhelper>0 && p2MoveType = A) 
trigger3=p2bodydist x >70
trigger3=random<35
trigger4=ctrl
trigger4= !numhelper(3040)
trigger4=enemy,numproj>0 && p2bodydist x >70
trigger4=random<50
trigger5=ctrl
trigger5= p2bodydist x= [-3, 15]
trigger5= p2movetype!=H
trigger5= backedgedist<=40
trigger5= random<50
;---------------------------------------------------------------------

[State -1, zerocounter]
type=changestate
value=2010
triggerall= var(12)>=1&&roundstate=2
triggerall=  statetype!=A && numenemy
trigger1= stateno=150 || stateno=152
trigger1= (p2bodydist x=[0,60])

trigger1= random<17
;---------------------------------------------------------------------

;anticombo terra
[State -1, terra]
type = ChangeState
value = 2220
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype=S && numenemy
triggerall = p2bodydist x <40
triggerall = GetHitVar(damage) < life
triggerall = power>=1000
triggerall = P2MoveType = A
triggerall=(p2stateno=[3000,4999]) || life<=40
triggerall = stateno= 5000 || stateno= 5001 || stateno= 5020
trigger1 = life<500
trigger1 = random<90
trigger2 = life<100
trigger2 = p2life>=950
trigger2 = random<160
trigger3 = life<=50
trigger3 = random<800


;---------------------------------------------------------------------

;anticombo  (AR)
[State -1,  (AR)]
type = ChangeState
value = 2221
triggerall = var(12)>=1&&roundstate=2
triggerall = pos y < 0 && numenemy
triggerall = Alive = 1
triggerall = GetHitVar(damage) < life
triggerall = power>=1000
triggerall = P2MoveType = A
triggerall = backedgedist <50
triggerall=(p2stateno=[3000,4999]) || life<=40
triggerall = stateno= 5020 || stateno= 5030 || stateno= 5050 || stateno= 5071
trigger1 = life<500
trigger1= p2bodydist x<45
trigger1 = random<100
trigger2 = life<100
trigger2 = p2life>=950
trigger2 = random<160
trigger3 = life<=50
trigger3 = random<700

;---------------------------------------------------------------------

;guardbreak
[State -1, guardbreak]
type = ChangeState
value = 2700
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall= statetype!=A&&power>100
triggerall= (p2bodydist x=[0,70]) && (p2dist y=[-50,50])  
triggerall=p2statetype=S
triggerall = p2statetype!=L && !(enemynear,hitfall)
triggerall= (p2stateno =[120,155])
triggerall= (P2StateType != C)
triggerall= (P2MoveType != A)
triggerall =!numhelper(1111)
trigger1 = ctrl 
trigger1= random<80
trigger2=ctrl
trigger2= p2stateno=130  && random<500
trigger3= ctrl
trigger3= p2stateno=150 && random<500
trigger4= ctrl
trigger4= p2stateno=151  && random<500
;---------------------------------------------------------------------

[State -1, shoryureppa]
type=changestate
value= ifelse(power>=3000 && life<500,3002,3000)
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5120, 5160]
triggerall = p2stateno != [5170, 5200]
triggerall = p2stateno != 1411022
triggerall = stateno !=203
triggerall= statetype!=A&&power>=1000
triggerall= !(enemynear,ctrl) && (enemynear,stateno!=[120,155])
triggerall= (p2bodydist x=[-30,80]) && (p2dist y=[-40,0]) 
triggerall= p2statetype!=L
triggerall = p2stateno != 5120
triggerall = p2stateno != 5050
trigger1=ctrl
trigger1= random<25
trigger2=((stateno=[200,205]))&&movehit
trigger2= random<19
trigger3=stateno = 2002&&(p2bodydist x=[0,60])
trigger3=random<80&&time>35
trigger4=stateno=3100&&animelemtime(42)>=0
trigger4= movehit&&random<120
trigger5= ctrl 
trigger5= enemynear,movetype=A
trigger5=(p2bodydist x=[0,70])
trigger5= random<55
trigger6=stateno=407&&movehit
trigger6= random<22

trigger7= stateno=1010&&movehit
trigger7= animelem=4
trigger7= random<95

trigger8= stateno=3013 && numhelper(3015) && var(5)<=5
trigger8= helper(3015),var(25) && random<55


;---------------------------------------------------------------------

;sgs
[State -1,sgs]
type = ChangeState
value = 3010
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = statetype!=A&&power>=1501
triggerall = power<3000
triggerall= (p2stateno!=[5041,5200])
triggerall= !(enemynear,ctrl) 
triggerall = movetype !=A
triggerall = stateno !=2002
triggerall = stateno !=3010
triggerall= (p2bodydist x<170) && (p2dist y=[-110,0])
triggerall=p2statetype!=L
triggerall= p2movetype != H
triggerall= stateno !=1600
triggerall= enemy ,life < lifemax
triggerall = !var(33)
triggerall = ctrl

trigger1 = enemy, vel x > 0
trigger1 = (p2stateno=[3000,3999])
trigger1= (p2bodydist x=[30,110])
trigger1= p2movetype=A
trigger1= random<70

trigger2 = (p2bodydist x=[90,170])&&p2movetype = A
trigger2 = movetype != H
trigger2 = random < 15

trigger3= (p2bodydist x=[30,110]) && (p2stateno=[120,155])
trigger3= p2statetype!=A
trigger3= random<18


;---------------------------------------------------------------------

;sgs
[State -1,sgs]
type = ChangeState
value = 3010
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = statetype!=A&&power>=1000
triggerall= (p2stateno!=[5000,5200]) 
triggerall= enemy ,life < lifemax
triggerall = !var(33)
triggerall= p2bodydist x < 170
triggerall= ctrl
trigger1 =ctrl
trigger1 =enemy,numproj>0 
trigger1= (p2bodydist x=[40,175])
trigger1= p2MoveType = A
trigger1 =random<50
trigger2 =ctrl
trigger2 = (enemy,numhelper>0 && p2MoveType = A)
trigger2= (p2bodydist x=[40,140]) 
trigger2 =random<40


;---------------------------------------------------------------------

[State -1, shinkuuhadouken]
type=changestate
value=3013
triggerall=var(12)>=1&&roundstate=2
triggerall= numenemy
triggerall=statetype!=A&&power>=1000
triggerall=!numprojid(1000)&&!numhelper(3015) && !numhelper(1002)
triggerall=!(enemynear,ctrl)
triggerall=(p2stateno!=[120,155])
triggerall= (p2statetype!=L)
triggerall= stateno!=1200
triggerall= stateno!=2010
triggerall = !var(33)
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5121, 5160]
triggerall = p2stateno!=1124
triggerall = p2stateno!=40

trigger1=ctrl && !numhelper(1005)
trigger1= (p2bodydist x >20)
trigger1= p2statetype!=A
trigger1= random<13

trigger2 = stateno = 2002&&(p2bodydist x > 40)
trigger2=time>44
trigger2 =random<80
trigger3 = stateno = 1600 && movehit
trigger3 = time =[9,15]
trigger3 = random<48
trigger4 = stateno = 1210 && movehit
trigger4 = animelem=3
trigger4 = random<95

trigger5= ctrl
trigger5= p2bodydist x > 100
trigger5= EnemyNear, AnimTime < -16
trigger5= p2stateno = 1000
trigger5= enemy,numhelper>0 || enemy,numproj>0
trigger5= random<30

trigger6= ctrl
trigger6= p2bodydist x > 150
trigger6= p2stateno = 5120
trigger6= enemy, life<100
trigger6= random<20

trigger7= stateno = 1331
trigger7= movehit
trigger7= time<27
trigger7= random<22

trigger8= stateno = 1400 || stateno = 1405
trigger8= movehit
trigger8= p2bodydist x = [30,140]
trigger8= random<60

trigger9= stateno=1000 && numhelper(1005) && var(5)<=5
trigger9= helper(1005),var(25) && random<53

trigger10= stateno = 3000 && anim=3000 && animelem=11
trigger10= movehit
trigger10= random<30

trigger11= (p2dist y=[-150,-77])
trigger11= p2bodydist x > 120 && enemy , vel y <-2
trigger11= random<20
;---------------------------------------------------------------------

[State -1, exdouken]
type=changestate
value=1001
triggerall=var(12)>=1&&roundstate=2
triggerall= numenemy
triggerall=statetype!=A&&power>=500
triggerall=!numprojid(1000)&&!numhelper(1005)&& !numhelper(3015) && !numhelper(1002)
triggerall=!(enemynear,ctrl)
triggerall=(p2stateno!=[120,155])&&(p2statetype!=L)&&(p2statetype!=A)
triggerall= stateno!=1200
triggerall= stateno!=2010
triggerall = !var(33)
triggerall = p2stateno != [5100, 5110]
triggerall = p2stateno != [5121, 5160]
triggerall = p2stateno!=1124
triggerall = p2stateno!=40

trigger1=ctrl
trigger1= (p2bodydist x >20)
trigger1= random<13

trigger2= ctrl
trigger2= p2bodydist x > 100
trigger2= EnemyNear, AnimTime < -16
trigger2= p2stateno = 1000
trigger2= enemy,numhelper>0 || enemy,numproj>0
trigger2= random<20

trigger3= stateno=210 
trigger3= animelem= 7 || animelem=8  
trigger3= random<30


;---------------------------------------------------------------------

[State -1,cima]
type = ChangeState
value = 3016
triggerall = var(12)>=1&&roundstate=2
triggerall = var(5)=0
triggerall = p2statetype = A && numenemy
triggerall = p2statetype != C
triggerall = p2statetype != S
triggerall = enemy ,pos y <= -87 || enemy , vel y <-2
triggerall = p2bodydist x >50 && stateno = 3013
trigger1 = stateno = 3013 && (time =[7,8]) 

;---------------------------------------------------------------------


[State -1, chuvadehadoukforward]
type=changestate
value=3020
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall= statetype=A &&power>=1000
triggerall=(p2stateno!=[120,155])
triggerall= frontEdgeDist > 60
triggerall=(p2bodydist x=[25,170])
triggerall= p2dist y>=-20
trigger1 = pos y =[-35,-140]
trigger1 = ctrl 
trigger1= random<14
trigger2 = stateno=1424&&time>17
trigger2 =random<25
trigger3 = stateno=1301&&time>=19
trigger3 =random<80

trigger4 = stateno=1705 && time >= 16 
trigger4 = movehit
trigger4= random<150

trigger5 = stateno=3101 && movehit
trigger5 = time = [50,58]
trigger5= random<130

trigger6 = stateno=39998 && animelem=6
trigger6 = frontedgedist > 110
trigger6 = pos y < -38
trigger6 = random<70

trigger7 = stateno=2221 && time>33
trigger7 = pos y =[-35,-120]
trigger7 = random<80

trigger8 = stateno=5210 && ctrl
trigger8 = random<100


;---------------------------------------------------------------------

[State -1, metsushoryuken]
type=changestate
value=3030
triggerall= var(12)>=1 && numenemy && !var(33)
triggerall= roundstate=2 && statetype!=A && power>=1000
triggerall= !(enemynear,ctrl) && (p2stateno!=[120,155]) && p2statetype!=L
triggerall= p2stateno!=1411022
triggerall= (p2bodydist x=[0,ifelse((power>=3000), 180, ifelse((Power >= 2000 && Power < 3000), 150, 100))])
triggerall= (p2dist y=[-100,0]) && (enemynear,vel y=[-7,1]) && (enemynear,vel x>-4)
triggerall= (enemynear,const(size.head.pos.y)<=-40) || (enemynear,statetype=A)
trigger1= ctrl && random<45


trigger2= (StateNo = 203 || StateNo = 204  || StateNo =210 ||stateno = 207 && animelemtime(5)>=0 || StateNo = 404) 
trigger2 = movehit && random<60

trigger3= stateno=1331 && movehit && time<35
trigger3=  random<117

trigger4 = stateno = 1045
trigger4 = frontedgedist >80
trigger4 = movehit && time> 20
trigger4 = random<150

trigger5=stateno=2700&&movehit
trigger5= random<250

trigger6= stateno=3013 && numhelper(3015) && var(5)<=5
trigger6= helper(3015),var(25) && random< 80

trigger7= stateno=1000 && numhelper(1005) && var(5)<=5
trigger7= helper(1005),var(25) && random< 80

trigger8= stateno = 1400 || stateno = 1405
trigger8= movehit
trigger8= p2bodydist x = [25,80]
trigger8= random<85

;---------------------------------------------------------------------

;super air tatsumaki
[State -1,statsu]
type=changestate
value=3045
triggerall= var(12)>=1&&roundstate=2
triggerall= power>=1000 && numenemy
triggerall= statetype =A
triggerall=  (enemynear,stateno!=[120,155])
triggerall= (p2bodydist x=[0,45]) 
triggerall= (p2dist y=[-360,10])
triggerall= p2statetype!=L
trigger1 = ctrl
trigger1=  random<= 100
trigger2= ctrl
trigger2=enemynear,movetype=A && (p2bodydist x=[0,10])
trigger2=random<44


;---------------------------------------------------------------------

[State -1, Shinryuken]
type = ChangeState
Value = 3050
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall= power>=1000
triggerall = p2stateno != [120, 155]
triggerall = p2statetype != L
triggerall = P2BodyDist X = [-30,20]
triggerall = p2stateno != 5120
triggerall = p2stateno!=5050
trigger1 = ctrl
trigger1 =(p2bodydist y=[-95,-20])
trigger1= random<30
trigger2=stateno=3000&&animelemtime(9)>=0
trigger2= movehit 
trigger2=random<40
trigger3=stateno=1600&&movehit
trigger3= time>=15
trigger3=random<30
trigger4=stateno=404&&movehit
trigger4= random<50
trigger5 = ctrl
trigger5 = (p2bodydist x=[-30,20]) && (p2bodydist y=[-90,-25]) 
trigger5 = random <=60
trigger6= stateno=1010&&movehit
trigger6= animelem=4
trigger6= random<80

;---------------------------------------------------------------------

[State -1, superShinryuken]
type = ChangeState
Value = 3055
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall= power>=3000
trigger1 = ctrl
trigger1 = P2BodyDist X = [-30,20]
trigger1 = P2BodyDist Y = [-200,-20]
trigger1 = random<700


;---------------------------------------------------------------------

;super downwardkick
[State -1]
type = ChangeState
value = 3060
triggerall =var(12)>=1&&roundstate=2
triggerall = statetype =A && numenemy
triggerall= p2stateno!=5120
triggerall= power >= 1000
triggerall= vel x>0 && (vel y=[-2,2])
triggerall= (p2bodydist y>0)
triggerall= !numhelper(1111)
trigger1= ctrl && (p2bodydist x=[1,100]) && random<60

trigger2 = stateno=1705&&animelemtime(4)>=0
trigger2 = random<100

;---------------------------------------------------------------------

;Shipu Jinri Kyaku
[State -1, ShipuJinraiKyaku]
type = ChangeState
value = 3100
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall= power >= 1000
triggerall = p2stateno != [120, 155]
triggerall = p2statetype!=L
triggerall = p2statetype!=A
triggerall=(p2bodydist x=[0,74])
triggerall= (p2statetype!=A)
triggerall = stateno!=1010
triggerall = p2stateno != [5120, 5160]
triggerall= !numhelper(1111)
trigger1=ctrl
trigger1= random<25
trigger1 = statetype = S

trigger2=((stateno=[200,205]))&&movehit
trigger2= random<15

trigger3=stateno=2700&&movehit
trigger3= random<190

trigger4=stateno=1600&&movehit
trigger4=time>=18
trigger4= random<30

trigger5=stateno = 2002
trigger5=(p2bodydist x=[0,60])
trigger5=time>38
trigger5= p2statetype!=A
trigger5=random<80
trigger6= ctrl  
trigger6= enemynear,movetype=A
trigger6=(p2bodydist x=[0,70]) 
trigger6= random<90

trigger7= stateno=700
trigger7= animelemtime(4)>=0
trigger7= p2bodydist x<25
trigger7= p2statetype!=A
trigger7= random<45



;kamehameha
[State -1, kamehameha]
type=changestate
value=3120
triggerall= var(12)>=1 && numenemy
triggerall= roundstate=2 && statetype!=A 
triggerall= power>=2500
triggerall= !inguarddist
triggerall= !numprojid(1000)
triggerall= !numhelper(1081) && !numhelper(1082) && !numhelper(1083)
triggerall= p2statetype!=A || p2stateno=5050   
triggerall= !(enemynear,ctrl) || stateno=1008
triggerall= p2bodydist x > 140
triggerall= p2stateno!=5101
triggerall= p2stateno!=5120
triggerall= (RoundNo = 2 || RoundNo = 3)

trigger1= ctrl && random<70
trigger1= p2movetype!=A

trigger2= ctrl 
trigger2= p2stateno=5050 || p2stateno=5100   
trigger2= random<70


[State -1, kamehameha ou dejinhado]
type=changestate
value=ifelse(power>=2500,3120,1080)
triggerall= var(12)>=1 && numenemy
triggerall= roundstate=2 && statetype!=A 
;triggerall= enemy, power <=2500
triggerall= power>=2500
triggerall= p2bodydist x > 140

trigger1= ctrl
trigger1 = numhelper(1111)
trigger1= ((pos x-(helper(1111),pos x))*facing=[-280,-125])
trigger1= enemy, backedgedist<35
;trigger1= enemy, power <=2500
trigger1= random<200

;---------------------------------------------------------------------


[State -1, pisadao especial]
type=changestate
value=3201
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall= statetype=A &&power>=1000
triggerall= p2statetype=S || p2statetype=C
triggerall= p2bodydist x= [-35,15]
triggerall = p2stateno != 5100
triggerall = p2stateno != [5120, 5160]
trigger1 = pos y <= -85
trigger1 = ctrl&& random<40
trigger2 = stateno=1705
trigger2 = animelem=3 ||animelem=4
trigger2 = random<50
trigger3 = stateno=1050&&animelemtime(4)>=0
trigger3 = random<40
trigger4 = pos y <= -150
trigger4 = ctrl&& random<80

trigger5 = stateno=1403&&animelem=4
trigger5 = pos y <= -100
trigger5 = random<40

trigger6 = StateNo = 1110 && anim=1101
trigger6 = pos y <-140 && !movecontact
trigger6 = random<30

;---------------------------------------------------------------------

[State -1, combo]
type = ChangeState
value = 3400
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall = Power >= 3000
triggerall =!numhelper(1111)
triggerall = statetype != A
triggerall = P2StateType != L
triggerall = P2stateno != [120,159]
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = stateno = 5120 && animelem=7
trigger1 = P2bodydist X = [0,90]
trigger1 = P2StateType != A
trigger1 = !(enemynear,ctrl)
trigger1 = enemynear,vel X >= 0
	trigger1 = Random <400
trigger2 = P2bodydist X = [0,90]
trigger2 = P2bodydist Y = [-40,0]
trigger2 = P2MoveType = A
trigger2 = enemynear,vel X >= 0
trigger2 = enemynear,vel Y > 0
	trigger2 = Random <500


[State -1, combo]
type = ChangeState
value = 3400
triggerall= var(12)>=1&&roundstate=2 && numenemy
triggerall = Power >= 3000
triggerall =!numhelper(1111)
triggerall = statetype != A
triggerall = P2StateType != L
triggerall = P2stateno != [120,159]
triggerall = P2stateno != 5120
triggerall= p2stateno!=1411022
triggerall = P2stateno != 5201
triggerall = P2bodydist X = [5,170]

trigger1= ctrl && !(enemynear,ctrl)
trigger1= p2statetype!=A
trigger1= Random <= 150

trigger2= stateno=1331  && movehit && life<500
trigger2= time<35 && Random <= 90

trigger3= stateno=1600 || stateno=204  
trigger3= movehit && life<500
trigger3= enemy ,life = lifemax

trigger4= (StateNo = 203 || StateNo = 204  || StateNo =210 || StateNo = 404) && movehit && random<55

trigger5= ctrl
trigger5= p2life>650  && life < 300
trigger5= random<150

trigger6= stateno=1000 && numhelper(1005) && var(5)<=5
trigger6= helper(1005),var(25) && random<105



;---------------------------------------------------------------------

;cambalhota 
[State -1, cambalhota]
type = ChangeState
value = 3700
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall = stateno!=1345
triggerall = p2stateno != [5000,5200]
triggerall= enemy ,life < lifemax
trigger1 = ctrl
trigger1= !numhelper(3040)
trigger1 = p2bodydist x>100
trigger1 = Enemy, NumProj > 0
trigger1 = p2statetype=S
trigger1 = p2movetype=A
trigger1 = random<150

trigger2 = ctrl
trigger2= !numhelper(3040)
trigger2 = p2bodydist x>100
trigger2 = (enemy,numhelper>0 && p2MoveType = A)
trigger2 = p2statetype=S
trigger2 = random<170

trigger3 = ctrl
trigger3 = (p2bodydist x = [60,105]) && BackEdgeBodyDist <= 100
trigger3 = p2statetype!=A
trigger3 = random<75

trigger4 = ctrl
trigger4 = backedgedist<120
trigger4 = p2statetype!=A
trigger4 = (p2bodydist x = [20,58])
trigger4 = enemy , vel x >3
trigger4 = random<350

trigger5 = ctrl
trigger5 = backedgedist<50
trigger5 = p2statetype!=A
trigger5 = (p2bodydist x = [15,50])
trigger5 = random<89

;---------------------------------------------------------------------


[State -1, backrun]
type = ChangeState
value = ifelse (random<600, 3700, 2003)
triggerall = var(12)>=1&&roundstate=2
triggerall = statetype!=A && numenemy
triggerall= !numhelper(1111)
trigger1 = ctrl
trigger1 = p2bodydist x < 50
trigger1 = frontedgeDist < 52
trigger1 = p2statetype = L || p2stateno=5120
trigger1 = random<85

;---------------------------------------------------------------------
;wall kick
[State -1]
type = ChangeState
value = 3731
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = (p2bodydist x = [80,125])
triggerall = !(enemy,hitdefattr=SCA,HA,HP)
trigger1 = stateno = 3710 
trigger1 = (time = [8,14]) 
trigger1 = p2statetype=S

;---------------------------------------------------------------------

[State -1, grudarparede]
type = ChangeState
value = 3750
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = BackEdgeBodyDist <= 0
triggerall = stateno!=2000
triggerall = p2bodydist x >70
triggerall = pos y <= -53
trigger1 = statetype = A && ctrl
trigger2 = statetype = A && ctrl
trigger2 = FrontEdgeBodyDist <= 10
ctrl = 0
trigger3 = stateno=50

trigger4 = stateno=3020 && animelemtime(33)>0
trigger4 = BackEdgeBodyDist <= 0
trigger4 =  random<=100


;---------------------------------------------------------------------

[State -1]
type = ChangeState
value = 1704
triggerall = var(12)>=1&&roundstate=2 && numenemy
triggerall = (p2bodydist x = [10,70])
triggerall = (p2bodydist y=[-70,40])
triggerall = p2movetype=A
trigger1 = stateno = 3750

;---------------------------------------------------------------------

[State -1]
type = ChangeState
value = 39998
triggerall = var(12)>=1&&roundstate=2 && numenemy
trigger1 = stateno = 1705 && time >= 15 
trigger1 = movehit
trigger1 = random<120

trigger2 = stateno = 1050 && animelemtime(8)>=0
trigger2 = movehit && (p2bodydist x=[0,30])
trigger2 = random<300
;---------------------------------------------------------------------

[State -1, airrecover]
type=changestate
value=ifelse((pos y>=-20),5200,5210)
triggerall=var(12)>=1&&roundstate=2 && numenemy
triggerall=stateno=5050
trigger1=vel y>-1&&alive
trigger1=canrecover
trigger1=Random = [200,300]

;---------------------------------------------------------------------



[State -1, AI Sparry]
type=hitoverride
triggerall=var(12)>=1&&roundstate=2&&statetype!=A && random <=500
triggerall=movetype != A && movetype != H
trigger1=(ctrl)||((stateno=[700,701]))
trigger1=var(21):=1
trigger2=(stateno=[130,155])
trigger2=var(21):=-1



trigger3 = stateno = 810
trigger3 = animelem = 9
trigger3 = p2movetype = A
trigger3 = p2bodydist x < 45
trigger3 = random < 30

trigger4 = stateno = 815
trigger4 = animelem = 7
trigger4 = p2movetype = A
trigger4 = p2bodydist x < 75
trigger4 = random < 40

trigger5 = stateno = 815
trigger5 = animelem = 8
trigger5 = p2movetype = A
trigger5 = p2bodydist x < 115
trigger5 = random < 50
attr=SA,AA,AP
stateno=700
slot=0
time=ifelse((stateno=[130,155]),4,8)


[State -1, AI cparry]
type=hitoverride
triggerall=var(12)>=1&&roundstate=2&&statetype=C && random <=500
triggerall=movetype != A && movetype != H
trigger1=(ctrl)||((stateno=[700,701]))
trigger1=var(21):=2
trigger2=(stateno=[130,155])
trigger2=var(21):=-2

trigger3 = stateno = 810
trigger3 = animelem = 9
trigger3 = p2movetype = A
trigger3 = p2bodydist x < 45
trigger3 = random < 30

trigger4 = stateno = 815
trigger4 = animelem = 7
trigger4 = p2movetype = A
trigger4 = p2bodydist x < 75
trigger4 = random < 40

trigger5 = stateno = 815
trigger5 = animelem = 8
trigger5 = p2movetype = A
trigger5 = p2bodydist x < 115
trigger5 = random < 50
attr=C,AA,AP
stateno=701
slot=0
time=ifelse((stateno=[130,155]),4,8)


[State -1, AI aparry]
type=hitoverride
triggerall=var(12)>=1&&roundstate=2&&statetype=A  && random <=250
triggerall= !(enemy,hitdefattr=SCA,HA)
triggerall=movetype != A && movetype != H
trigger1=(ctrl)||(stateno=702)
trigger1=var(21):=3
trigger2=(stateno=[130,155])
trigger2=var(21):=-3
attr=SA,AA,AP
stateno=702
forceair=1
slot=0
time=ifelse((stateno=[130,155]),4,8)


;Hypers
;---------------------------------------------------------------------------
;Shoryu Reppa
[State -1, ShoryuReppa]
type = ChangeState
value = 3000
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = Power >= 1000
triggerall = Command = "reppa1" || Command = "reppa2" || Command = "reppa3" &&life>=500 
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = [ 200,213] ) || (StateNo = [400,405]) || StateNo = 407 || StateNo = 1010 || StateNo =1600 || StateNo =3030 
trigger2 = movecontact

trigger3 = StateNo = 3100 && movecontact
trigger3 = time>30

trigger4= stateno=3013 && numhelper(3015) && var(5)<=5
trigger4= helper(3015),var(25)

trigger5= stateno=1000 && numhelper(1005) && var(5)<=5
trigger5= helper(1005),var(25)

trigger6= stateno=1001 && numhelper(1002) && var(5)<=5
trigger6= helper(1002),var(25)

;=================================================================


;Shoryu Reppa lv4
[State -1, ShoryuReppa]
type = ChangeState
value = 3002
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = life<500
triggerall = Power >= 3000
triggerall = Command = "reppa3"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = [ 200,213] ) || (StateNo = [400,405]) || StateNo = 407 || StateNo = 1010 || StateNo =1600 || StateNo =3030 
trigger2 = movecontact

;=================================================================

;Shungokusatsu
[State -1, Shungokusatsu]
type = ChangeState
value = 3010
triggerall=var(12)<=0
triggerall=var(33)=0
TriggerAll = Command = "evil" && Power >= 1501&&roundstate=2
Trigger1 = Statetype = S && ctrl

trigger2= stateno=3013 && numhelper(3015) && var(5)<=5
trigger2= helper(3015),var(25)

trigger3= stateno=1000 && numhelper(1005) && var(5)<=5
trigger3= helper(1005),var(25)

trigger4= stateno=1001 && numhelper(1002) && var(5)<=5
trigger4= helper(1002),var(25)

;=================================================================

;Shinkuu Hadouken 
[State -1, Shinkuu ]
type = ChangeState
value = 3013
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = power >= 1000
triggerall = Command = "hadocao1" || Command = "hadocao2" || Command ="hadocao3" &&life>=500 
triggerall = statetype != A

trigger1 = ctrl
trigger2 = (StateNo = [200,215]) || StateNo = 404 ||StateNo = 407 || StateNo = 1200 || stateno=1210 || StateNo = 1331 || StateNo = 1600 || stateno=3000 || StateNo = 3030 || stateno=1010 || stateno=1110 
trigger2 = movecontact
trigger3 = stateno=1260&&time>25

trigger4= stateno=1000 && numhelper(1005) && var(5)<=5
trigger4= helper(1005),var(25)

trigger5= stateno=1001 && numhelper(1002) && var(5)<=5
trigger5= helper(1002),var(25)

trigger6= stateno=1400 || stateno = 1405
trigger6= movehit

trigger7= stateno=4200 && numhelper(4206) && var(5)<=6
trigger7= helper(4206),var(25)


;Shinkuu Hadouken a lv4
[State -1, Shinkuu Hadouken ]
type = ChangeState
value = 3014
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = life<500
triggerall = Power >= 3000
triggerall = Command ="hadocao3"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = [200,215]) || StateNo = 404 ||StateNo = 407 || StateNo = 1200 || stateno=1210 || StateNo = 1331 || StateNo = 1600 || stateno=3000 || StateNo = 3030 || stateno=1010 || stateno=1110 
trigger2 = movecontact
trigger3 = stateno=1260&&time>25

trigger4= stateno=1000 && numhelper(1005) && var(5)<=5
trigger4= helper(1005),var(25)

trigger5= stateno=1001 && numhelper(1002) && var(5)<=5
trigger5= helper(1002),var(25)

trigger6= stateno=1400 || stateno = 1405
trigger6= movehit

;=================================================================


;Shinryuken
[State -1, ShinryuKen]
type = ChangeState
value = 3050
triggerall=var(12)<=0
triggerall = Power >= 1000
triggerall = Command = "shinryu1" || Command = "shinryu2" || Command = "shinryu3"&&life>=500 || Command = "shinryu3"&&life<=500&& power<2700
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 204 || StateNo = 205 || StateNo = 208 || stateno = 207 || StateNo = 213 || StateNo = 407 || stateno=1010 || stateno=3000 || stateno=3030 || stateno=3100) 
trigger2 = movecontact

trigger3 = StateNo = 1600 && movehit

trigger4= stateno=3013 && numhelper(3015) && var(5)<=5
trigger4= helper(3015),var(25)

trigger5= stateno=1000 && numhelper(1005) && var(5)<=5
trigger5= helper(1005),var(25)

trigger6= stateno=1001 && numhelper(1002) && var(5)<=5
trigger6= helper(1002),var(25)


;=================================================================

;mvc Shinryuken
[State -1, Final Rising Dragon]
type = ChangeState
value = 3055
triggerall=var(12)<=0
triggerall = Power >= 2700
triggerall =  Command = "finalsyk3"
triggerall = life<500
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 204 || StateNo = 205 || StateNo = 208 || StateNo = 210 || stateno = 207  || StateNo = 213 || (StateNo = [400,405]))
trigger2 = movecontact
trigger3 = StateNo = 1000 && (AnimElemTime(5) >= 2 && AnimElemTime(7) < 0)

trigger4= stateno=1000 && numhelper(1005) && var(5)<=5
trigger4= helper(1005),var(25)


;=================================================================


;Shipu Jinri Kyaku
[State -1, ShipuJinraiKyaku]
type = ChangeState
triggerall=var(12)<=0
triggerall=var(33)=0
value = 3100
triggerall = Power >= 1000
triggerall = Command = "shipu1"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = ( StateNo = [200,210] ) || (StateNo = [400,404]) || StateNo = 407 || stateno=1600 || stateno=3000
trigger2 = movecontact

trigger3= stateno=3013 && numhelper(3015) && var(5)<=5
trigger3= helper(3015),var(25)

trigger4= stateno=1000 && numhelper(1005) && var(5)<=5
trigger4= helper(1005),var(25)

trigger5= stateno=1001 && numhelper(1002) && var(5)<=5
trigger5= helper(1002),var(25)

;=================================================================

;kamehameha
[State -1, kameha ]
type = ChangeState
value = 3120
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = command = "kameha" && power >= 3000
trigger1 = statetype = S && ctrl

trigger2= stateno=1000 && numhelper(1005) && var(5)<=5
trigger2= helper(1005),var(25)


;=================================================================

[State -1, Shinkuu Hadouken Aereo]
type = ChangeState
value = 3300
triggerall=var(12)<=0
triggerall = power >=1000
triggerall = command = "AirShinkuuHadouken"
triggerall = statetype = A
trigger1 = ctrl

trigger2 = stateno=3300 && AnimElemTime(6) >= 0
trigger3 = stateno=3301 && AnimElemTime(4) >= 0
trigger4 = stateno=3302 && AnimElemTime(4) >= 0
trigger5 = stateno=3303 && AnimElemTime(3) >= 0
trigger6 = stateno=3020 && AnimElemTime(7) >= 0
trigger7 = stateno=3065 && time>=13

;=================================================================


[State -1, Shinbu Messatsu]
type = ChangeState
value = 3400
triggerall=var(12)<=0
triggerall = Statetype != A
triggerall = command = "ShinbuMessatsu"
triggerall = power >=3000
triggerall=var(33)=0
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 203 || StateNo = 204  || StateNo = 205 || StateNo = 206 || StateNo = 208 || StateNo = 210 || StateNo = 207 || stateno=1331 || (StateNo = [400,404]) || StateNo = 1600 ) && movecontact

trigger3= stateno=1000 && numhelper(1005) && var(5)<=5
trigger3= helper(1005),var(25)
;=================================================================


;super air tatsumaki
[State -1]
type = ChangeState
value = 3045
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = power >= 1000
triggerall = command = "airtatsu"
triggerall = statetype = A
trigger1 = ctrl
trigger2= (stateno=405 || stateno=406)
trigger2= movehit

;=================================================================


[State -1, Super Falling kick]
type = ChangeState
value = 1451
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = command = "cometa" && power >= 1000
triggerall = statetype = A
trigger1 = ctrl
trigger2= ( stateno=600 ||stateno=602 ||stateno=604 || stateno=606 ||stateno=607 ||stateno=608 ) && movehit
trigger3= stateno=1301 && movecontact
trigger4 = stateno=1424&&animelemtime(7)>=0
trigger5 = stateno=1705&&animelemtime(3)>=0
trigger6 = StateNo = 1010 && movehit
trigger6 = pos y < -30

;=================================================================
;super cotovelo ryu
[State -1]
type = ChangeState
value = 3030
triggerall=var(12)<=0
triggerall = power >= 1000
triggerall = roundstate>=2
triggerall = statetype != A
triggerall = Command = "supcotryu1" || Command = "supcotryu2" || Command = "supcotryu3"
trigger1 = ctrl
trigger2 = (StateNo = [200,215]) || stateno=1331 || (StateNo = [400,404]) || StateNo = 1010 || StateNo = 1600 || StateNo = 3000 || StateNo = 3100
trigger2 = movecontact


trigger3= stateno=3013 && numhelper(3015) && var(5)<=5
trigger3= helper(3015),var(25)

trigger4= stateno=1000 && numhelper(1005) && var(5)<=5
trigger4= helper(1005),var(25)

trigger5= stateno=1001 && numhelper(1002) && var(5)<=5
trigger5= helper(1002),var(25)



;=================================================================

[State -1, Air Hadouken ]
type = ChangeState
value = 3020
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = command = "chuva"
triggerall = power >= 1000
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno=1424 && animelemtime(7)>=0
trigger3 = stateno=1705&&animelemtime(3)>=0
trigger4 = stateno=602 && movehit
trigger5 = stateno=3101 && movehit
trigger5 = time = [35,55]
trigger6 = stateno=1069
trigger6 = pos y <-8
trigger7 = stateno=2221&&animelemtime(7)>=0
trigger8 = stateno=3065 && time>=13
;=================================================================


[State -1,leech ]
type = ChangeState
value = 3039
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall=!numhelper(3040)
triggerall = command = "leech"
triggerall = power >= 3000
triggerall = statetype = S
trigger1 = ctrl


;=================================================================

;chuteespecial
[State -1]
type = ChangeState
value = 3060
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = power >= 1000
triggerall = command = "combochute"
triggerall = statetype = A
trigger1 = ctrl
trigger2= ( stateno=600 ||stateno=602 ||stateno=604 || stateno=606 ||stateno=607 ||stateno=608 ) && movehit
trigger3= stateno=1301 && movecontact
trigger4= stateno=1424 && animelemtime(7)>=0
trigger5 = stateno=1705&&animelemtime(3)>=0&&!movecontact

;=================================================================

[State -1, TB]
type = ChangeState
value = 3201
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = command = "bison" && power >= 1000 
triggerall = statetype = A 
trigger1 = ctrl
trigger2 = stateno=1705&&animelemtime(3)>=0&&!movecontact
trigger3 = stateno=1050&&animelemtime(4)>=0&&!movecontact
trigger4 = stateno=3046&&animelemtime(2)>=0&&!movecontact
trigger5 = StateNo = 1110 && anim=1101
trigger5 =pos y <-140 && !movecontact

;=================================================================

[State -1, kkz]
type=changestate
value=4200
triggerall= var(12)<=0
triggerall = Command = "geyser1" || Command = "geyser2" || Command ="geyser3"
triggerall= roundstate=2 && statetype!=A && power>=1000 && !var(33)
trigger1= ctrl 

trigger1 = ctrl
trigger2 = (StateNo = [200,215] ) || StateNo = 404 ||StateNo = 407  || StateNo = 1200 || StateNo = 1331 || StateNo = 1600 || stateno=3000 || StateNo =3030
trigger2 = movecontact

trigger3= stateno=3013 && numhelper(3015) && var(5)<=5
trigger3= helper(3015),var(25)

;=================================================================

;EXPLOSÃO gethit
[State -1, EXPLOSÃO DE ENERGIA]
type = ChangeState
value = 2220
triggerall=var(12)<=0
triggerall = (!Pos Y)
triggerall = (command = "anticombo") && (power >= 1000)
trigger1 = stateno= 5000 || stateno= 5001 || stateno= 5020


;=================================================================

;EXPLOSÃO DE ENERGIA (AR)
[State -1, EXPLOSÃO DE ENERGIA (AR)]
type = ChangeState
value = 2221
triggerall=var(12)<=0
triggerall = (command = "anticombo") && (power >= 1000)
triggerall = pos y < 0
trigger1 = stateno= 5020 || stateno= 5030 || stateno= 5050 || stateno= 5071

;=================================================================

[State -1, zerocounter]
type=changestate
value=2010
trigger1= var(12)<=0
trigger1= stateno=150 || stateno=152
trigger1= command="alphashoryu" || command="alphacabe" || command="alphabanda"
trigger1= roundstate=2 && power>=500 && statetype!=A

;=================================================================

;Guard Cancel
[State -1, Guard_Cancel]
type = ChangeState
value = 2700
triggerall=var(12)<=0
triggerall = command = "a+c" && command="b"
triggerall = command!="holdback"
triggerall = command!="holdfwd"
triggerall = p2stateno!=5400
triggerall = power >= 500
trigger1 = statetype != A
trigger1 = ctrl

trigger2= stateno=3013 && numhelper(3015) && var(5)<=5
trigger2= helper(3015),var(25)

trigger3= stateno=1000 && numhelper(1005) && var(5)<=5
trigger3= helper(1005),var(25)

trigger4= stateno=1001 && numhelper(1002) && var(5)<=5
trigger4= helper(1002),var(25)


[State -1, Air Hadouken]
type = ChangeState
value = 1957
triggerall=var(12)<=0
triggerall = Statetype = A
triggerall = command = "airdiag"
trigger1 = ctrl
trigger2 = stateno=1424 && animelemtime(7)>=0
trigger3 = stateno=1705&&animelemtime(3)>=0
trigger4 = stateno=602 && movehit
trigger5 = stateno=3101 && movehit
trigger5 = time = [35,55]
trigger6 = stateno=1069
trigger6 = pos y <-8
trigger7 = stateno=1301&&time>=17
trigger8 = stateno=2221&&animelemtime(7)>=0

trigger9 = stateno=3065 && time>=13

;=================================================================

;ex ground tatsu
[State -1]
type = ChangeState
value = 1055
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall = power >= 500
triggerall = command = "extatsuground"
trigger1 = ctrl
trigger2 = ((StateNo = [200,213]) || (StateNo = [600,608]) ) 
trigger2 = movecontact
trigger3 = (StateNo = [400,407]) && movecontact

[State -1, EXshoryu]
type=changestate
value=1110
triggerall= var(12)<=0
triggerall= command="exryusho"
;triggerall= statetype!=A
triggerall= power>=500
trigger1= ctrl
trigger2 = StateNo = 200  || StateNo = 204 ||StateNo = 205 || StateNo = 206 || StateNo = 210 || StateNo = 213 || StateNo = 207 || (StateNo = [400,407])
trigger2 = movecontact
trigger3 = StateNo = 203 && movehit > 0
trigger4 =StateNo = 1600 && movecontact
trigger5 =StateNo = 810 &&animelemtime(7)>=0
trigger6 =StateNo = 815 &&animelemtime(6)>=0


[State -1, EXhadouken]
type=changestate
value=1001
triggerall= var(12)<=0
triggerall= command="exhadou"
triggerall= roundstate=2 && statetype!=A && power>=500
triggerall=!numprojid(1000)&& !numhelper(1005) && !numhelper(3015) && !numhelper(1002) 
trigger1 = ctrl
trigger2 = ((StateNo = [200,213]) || (StateNo = [400,405])) && movecontact
trigger3 = StateNo = 1600 && movecontact 
trigger4 = StateNo = 212 && movehit


; ex Ryusen
[State -1,ex RyusenKyaku]
type = ChangeState
value = 1040
triggerall=var(12)<=0
triggerall = statetype != A && power>=500
triggerall = Command = "exryusen"
trigger1 = ctrl
trigger2 = StateNo = 405 && Movehit
trigger2 = time>22
trigger3 = StateNo = 203 && movehit

[State -1,ex ombro]
type = ChangeState
value = 1211
triggerall=var(12)<=0
triggerall = command = "x+z"
triggerall = statetype != A
triggerall = power >=500
trigger1 = stateno = 100

[State -1, ex ryu kick]
type=changestate
value=1335
triggerall=var(12)<=0
triggerall= command="exryukick"
triggerall= statetype!=A && power>=500
trigger1 = ctrl
trigger2 = (StateNo = [200,211])  || StateNo =213 || StateNo =215 || (StateNo =[400,407]) || StateNo = 1045 || StateNo = 1600 
trigger2 = movecontact

trigger3= stateno = 1400 || stateno = 1405
trigger3= movehit

; ex jax
[State -1]
type = ChangeState
value = 1405
triggerall=var(12)<=0
triggerall= command="exjax"
triggerall= power>=500
triggerall = statetype != A
trigger1 = ctrl

[State -1, exThrow]
type = ChangeState
value = 823
trigger1 = var(12)<=0 && power>=500
trigger1 = ( Command ="y+z") && (Command = "holdfwd" || Command = "holdback")
trigger1 = RoundState = 2 && Ctrl && StateType = S && StateNo != 100

;---------------------------------------------------------------------------
;Supers
;---------------------------------------------------------------------------
;Shoryuken
[State -1, ShoryuKen]
type = ChangeState
value = 1010
triggerall=var(12)<=0
triggerall = Command = "shoryu1" || Command = "shoryu2" || Command = "shoryu3"
triggerall = statetype!=A
trigger1 = ctrl
trigger2 = (  (StateNo = [200,211]) || StateNo = 213 || StateNo =215 || (StateNo = [400,407]))
trigger2 = movecontact
trigger3 =StateNo = 1600 && movecontact

trigger4 =StateNo = 810 &&animelemtime(7)>=0
trigger5 =StateNo = 815 &&animelemtime(6)>=0
trigger6= var(33) && (stateno=[200,407]) && movecontact

trigger7= var(33) && (stateno=[1000,2999])  && movecontact

;---------------------------------------------------------------------------

;[State -1, life steal]
;type = ChangeState
;value = 1066
;triggerall=var(12)<=0
;triggerall = numhelper (6016) = 0
;triggerall = command = "lifesteal"
;triggerall = statetype != A
;trigger1 = ctrl

cambalhota 
[State -1, cambalhota]
type = ChangeState
value = 3700
triggerall=var(12)<=0
triggerall = Command = "start"
triggerall = statetype != A
trigger1 = ctrl


;---------------------------------------------------------------------------

;Hadoken
[State -1, HadouKen]
type = ChangeState
value = 1000
triggerall=var(12)<=0
triggerall = !numhelper(1000)
triggerall = !numhelper(1002)
triggerall = !numhelper(1005) || var(33)
triggerall = Command = "hadou1" || Command = "hadou2" || Command = "hadou3"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = ((StateNo = [200,213]) || StateNo = 1600 || (StateNo = [400,404])) && movecontact
trigger3 = StateNo = 405 && MoveGuarded

trigger4 = var(33) && stateno=1000 && animelemtime(6)>0



;charge Hadoken
[State -1, charge HadouKen]
type = ChangeState
value = 1080
triggerall=var(12)<=0
triggerall=!numprojid(1000)
triggerall= !numhelper(1081) && !numhelper(1082) 
triggerall= !numhelper(1005) && !numhelper(1083) 
triggerall = Command = "hadoucharge"
triggerall = statetype != A
trigger1 = ctrl



;---------------------------------------------------------------------------

[State -1, hadoux]
type = ChangeState
value = 1008
triggerall=var(12)<=0
triggerall = power >= 500
triggerall = command = "polo"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------

[State -1,]
type = ChangeState
value = 1424
triggerall=var(12)<=0
triggerall = statetype = A
triggerall = command = "air"
triggerall = NumHelper(1006) <= 1
trigger1 = ctrl

;---------------------------------------------------------------------------

[State -1]
type = ChangeState
value = 1112
triggerall=var(12)<=0
triggerall = command = "ahforw"
triggerall = statetype = A
trigger1 = ctrl 
trigger2 = stateno = 1424 && animelemtime(7)>=0
trigger3 = (StateNo = 600 || StateNo = 604 ) && movecontact

;---------------------------------------------------------------------------

[State -1, tira energia]
type = ChangeState
value = 1260
triggerall=var(12)<=0
triggerall = Command = "z" 
triggerall = Command = "c"
triggerall = command!="holdfwd"
triggerall = command!="holdback"
triggerall = statetype != A
triggerall = NumProjID(1261) = 0
triggerall = stateno!=100
trigger1 = ctrl 
trigger2 = stateno=200 || stateno=203 || stateno=204 || stateno=205
trigger2 = movecontact

;---------------------------------------------------------------------------
;Ryusen Kyaku
[State -1, RyusenKyaku]
type = ChangeState
value = 1041
triggerall=var(12)<=0
triggerall = statetype != A
triggerall = Command = "ryusen1" || Command = "ryusen2" || Command = "ryusen3"
trigger1 = ctrl
trigger2 = StateNo = 405 && Movehit
trigger2 = time>22
trigger3 = StateNo = 203 && movehit

;---------------------------------------------------------------------


[State -1, TatsumakiSenpuKyaku]
type = ChangeState
value = ifelse (statetype = A, 1050, 1030)
triggerall=var(12)<=0
triggerall = Command = "tatsu1" || Command = "tatsu2" || Command = "tatsu3"
trigger1 = statetype = S || statetype = A
trigger1 = ctrl
trigger2 = ((StateNo = [200,211]) || StateNo =215 || (StateNo = [600,608]) ) && movecontact
trigger3 = StateNo = 212 && movehit && time>15
trigger4 = (StateNo = [400,407]) && movecontact

;---------------------------------------------------------------------------

;no juggle
[State -1]
type = ChangeState
value = 760
triggerall=var(12)<=0
triggerall = !var(33)
triggerall= roundstate=2
triggerall= !numhelper(3040)
triggerall = power >= 1000
triggerall = command = "nojuggle"
trigger1 = ctrl

;--------------------------------------------------------------------------


[State -1, fallen slide]
type = ChangeState
value = 1113
triggerall=var(12)<=0
triggerall= backedgebodydist= [ 241, 290] 
triggerall= stateno=5110 && time>10
triggerall= alive
trigger1 = command = "slide"

[State -1, fallen slide]
type = ChangeState
value = 1114
triggerall=var(12)<=0
triggerall= backedgebodydist != [ 241, 290] 
triggerall= stateno=5110 && time>10
triggerall= alive
trigger1 = command = "slide"


;--------------------------------------------------------------------------


[State -1, ombro]
type = ChangeState
value = 1210
triggerall=var(12)<=0
triggerall = command = "x" || command = "z" 
triggerall = command != "x+z"
triggerall = statetype != A
trigger1 = stateno = 100





;---------------------------------------------------------------------------
;chutao 3
[State -1, Tatsamaki]
type = ChangeState
value = 1200
triggerall=var(12)<=0
triggerall = Command = "Tatsumaki-3" && power>=300
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 203 || StateNo = 204 || StateNo = 205 || stateno = 206 || StateNo = 207 || (StateNo = [400,404]) || StateNo = 1045) && movehit > 0

trigger3 =stateno = 406 && movehit > 0
trigger3 = time>=10

;---------------------------------------------------------------------


[State -1, TenmaKujinKyaku]
type = ChangeState
value = 1250
triggerall=var(12)<=0
triggerall = command="chute"
triggerall = StateType = A 
trigger1 = ctrl
trigger2= ( stateno=607 ||stateno=602 ||stateno=1301) && movecontact
trigger3 = stateno=1424&&animelemtime(7)>=0
trigger4 = stateno=1705&&animelemtime(3)>=0
trigger5 = StateNo = 1250 && movehit && (hitcount < 3)
trigger6 = StateNo = 1050 && !movecontact
trigger7 = StateNo = 608 && movehit
trigger7 = power=3000

;---------------------------------------------------------------------

[State -1, Falling kick2]
type = ChangeState
value = 1300
triggerall=var(12)<=0
triggerall = command = "medio"
triggerall = statetype = A
trigger1 = ctrl
trigger2= ( stateno=607 ||stateno=608  ||stateno=1301) && movecontact
trigger3 = stateno=1424&&animelemtime(7)>=0
trigger4 = stateno=1705&&animelemtime(3)>=0
trigger5 = StateNo = 1050 && !movecontact

;---------------------------------------------------------------------

[State -1, lye]
type = ChangeState
value = 1345
triggerall=var(12)<=0
trigger1 = command = "lye"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------

; jax
[State -1]
type = ChangeState
value = 1400
triggerall=var(12)<=0
triggerall= stateno!=100
triggerall = statetype = S
triggerall = command = "jax"
trigger1 = ctrl



;---------------------------------------------------------------------

[State -1, Tenma Kuujin Kyaku]
type = ChangeState
value = 1410 
triggerall=var(12)<=0
triggerall = Command = "coli"
triggerall = statetype = A
trigger1 =ctrl
trigger2= ( stateno=607 ||stateno=608  ||stateno=1301) && movecontact
trigger3 = stateno=1424&&animelemtime(7)>=0 
trigger4 = stateno=1705&&animelemtime(3)>=0&&!movecontact
trigger5 = StateNo = 1050 && !movecontact
;---------------------------------------------------------------------



[State -1, cotovelo]
type = ChangeState
value = 1600
triggerall=var(12)<=0
triggerall = Command = "x+z"
triggerall = command!="holdback"
triggerall = command!="holdfwd"
triggerall = statetype = S
triggerall = stateno!=100
trigger1 = ctrl
trigger2 = ((StateNo = [200,212])  || (StateNo = [400,404])) 
trigger2 = movecontact
trigger3 = StateNo = 405 && MoveGuarded
trigger4 = StateNo = 207 && movehit

;---------------------------------------------------------------------

[State -1, ryukick]
type=changestate
value=1331
triggerall= var(12)<=0
triggerall= command="ryukick1" || command="ryukick2" || command="ryukick3"
triggerall= roundstate=2 && statetype!=A
trigger1 = ctrl
trigger2 = (StateNo = [200,211]) || StateNo =213 || StateNo =215 || (StateNo = [400,407]) || StateNo = 1045 || StateNo = 1600  
trigger2 = movecontact

trigger3= stateno = 1400 || stateno = 1405
trigger3= movehit

trigger4= var(33) && (stateno=[200,407]) && movecontact

trigger5= var(33) && (stateno=[1000,2999])  && movecontact


;---------------------------------------------------------------------
[State -1, joelho ]
type = ChangeState
value = 1700
triggerall=var(12)<=0
triggerall = Statetype != A
triggerall = command = "carregar"
trigger1 = ctrl
trigger2=(stateno=[200,500])


trigger3= stateno=1000 && numhelper(1005) && var(5)<=5
trigger3= helper(1005),var(25)


trigger4= stateno=1001 && numhelper(1002) && var(5)<=5
trigger4= helper(1002),var(25)

;---------------------------------------------------------------------

[State -1, sumir]
type = ChangeState
value = 2000
triggerall=var(12)<=0
triggerall = command = "sumir"
trigger1 = statetype = S
trigger1 = statetype != A
trigger1 = ctrl

;---------------------------------------------------------------------
[State -1, sombra]
type = ChangeState
value = 2002
triggerall=var(12)<=0
triggerall = Power >= 300
triggerall = command = "sombra"
triggerall = statetype != A
trigger1 = statetype = S && ctrl
trigger2 = stateno = 1200 || stateno =1331
trigger2 = movehit
trigger3 = stateno = 214 &&movehit&& animelemtime(6)>0
;---------------------------------------------------------------------


;grudar parede
[State -1, grudarparede]
type = ChangeState
value = 3750
triggerall=var(12)<=0
triggerall = command = "y" 
trigger1 = statetype = A && ctrl
trigger1 = command = "holdy"
trigger1 = BackEdgeBodyDist <= 14
trigger2 = statetype = A && ctrl
trigger2 = command = "holdfwd"
trigger2 = FrontEdgeBodyDist <= 10
ctrl = 0

trigger3 = stateno=3020 && animelemtime(33)>0
trigger3 = command = "holdy"
trigger3 = BackEdgeBodyDist <= 0



;---------------------------------------------------------------------------

;Common Moves
;---------------------------------------------------------------------


[State -1, Focus Attack]
type = ChangeState
value = 790
triggerall=var(12)<=0
triggerall = roundstate = 2
;triggerall = !var(33)
triggerall = (command = "x" && command = "a")
triggerall = statetype != A
triggerall = stateno != 790
trigger1 = ctrl
trigger2=(stateno=[200,399]) && movecontact
trigger3 = StateNo = 1010 && movecontact && pos y = 0
trigger4 = StateNo = 1000 && animelemtime(6)>=0
trigger5 = StateNo = 1700 && animelemtime(2)>=0
trigger6 = StateNo = 1200 && movehit && animelemtime(9)>=0
trigger7 = StateNo = 1200 && moveguarded
trigger8 =  ( stateno= 1331 || StateNo = 1600 ) && movecontact
trigger9 = stateno= 3120 




;---------------------------------------------------------------------


[State -1, Standing Parry]
type=hitoverride
trigger1= var(12)<=0
trigger1= roundstate=2 && (statetype=S || stateno=5120)
trigger1= command="fwd" && command!="back" && command!="up" && command!="down"
trigger1= ctrl || (stateno=[700,701]) || stateno=5120
trigger1= var(21):=1
attr=SA,AA,AP
stateno=700
slot=0
time=8

[State -1, Crouching Parry]
type=hitoverride
trigger1= var(12)<=0
trigger1= roundstate=2 && statetype!=A
trigger1= command="down" && command!="fwd" && command!="back" && command!="up"
trigger1= ctrl || (stateno=[700,701]) || stateno=5120
trigger1= var(21):=2
attr=C,AA,AP
stateno=701
slot=0
time=8

[State -1, Air Parry]
type=hitoverride
trigger1= var(12)<=0
trigger1= roundstate=2 && statetype=A
trigger1= command="fwd" && command!="back" && command!="up" && command!="down"
trigger1= ctrl || stateno=702
trigger1= var(21):=3
attr=SA,AA,AP
stateno=702
forceair=1
slot=0
time=7

[State -1, Reset Parry ctrl]
type=hitoverride
triggerall= var(12)<=0
trigger1= (!ctrl && (stateno!=[700,702]) && stateno!=5120) || var(33)
trigger2= movetype!=I || (stateno=[100,106]) || (stateno=[120,132])
trigger3= var(12)<=0 && (command="holdback" || command="holdup")
trigger4= (statetype=S || statetype=C) && var(21)!=1 && var(21)!=2
trigger5= statetype=A && var(21)!=3
slot=0
time=0

[State -1, resetparry ai]
type=hitoverride
triggerall= var(12)>=1
trigger1=(statetype=S||statetype=C)&&var(21)!=1&&var(21)!=-1&&var(21)!=2&&var(21)!=-2
trigger2=statetype=A&&var(21)!=3&&var(21)!=-3
trigger3=movetype=A||(movetype=H&&(stateno!=[120,155]))
trigger4=!ctrl
slot=0
time=0




;---------------------------------------------------------------------

;Run Forward
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall=var(12)<=0
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;Run Backward
[State -1, Run Back]
type = ChangeState
value = 105
triggerall=var(12)<=0
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;Power Charge
[State -1]
type = ChangeState
value = 820
triggerall=var(12)<=0
triggerall=var(33)=0
triggerall= !numhelper(3040)
triggerall = Power < 3000 && (command = "holdb" && command = "holdy")
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
[State -1, dodge]
type = ChangeState
value = 710
triggerall=var(12)<=0
triggerall = statetype!=A 
triggerall = statetype!=C
triggerall = command = "holdback" && command = "y"
trigger1 = ctrl

;---------------------------------------------------------------------------

[State -1, desvio fantasma]
type=changestate
value= 720
triggerall=var(12)<=0
triggerall = command = "fantasma"
triggerall = statetype =S 
trigger1 = ctrl

trigger2 = stateno=1700
trigger2 = time = [45,150]


;---------------------------------------------------------------------------

;rolamento
[State -1]
type = ChangeState
value = 810
triggerall=var(12)<=0
triggerall = command !="holdback"
triggerall = command !="b"
triggerall = command = "recovery"
trigger1 = statetype = S || statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------

[State -1]
type = ChangeState
value = 815
triggerall=var(12)<=0
triggerall = command = "teste"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------

[State -1, airdodge]
type = ChangeState
value = 816
triggerall=var(12)<=0
triggerall = command="holdfwd" && command="y" || command="holdback" && command="y"
triggerall = Power >= 100
trigger1 = BackEdgeBodyDist >= 20
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno=[600,608]
trigger2 = power=3000
trigger3 = stateno=1050
trigger3 = power=3000


;---------------------------------------------------------------------------


[State -1, Throw]
type = ChangeState
value = IfElse(Command = "x+z", 800, 811)
trigger1 = var(12)<=0
trigger1 = (Command = "x+z" || Command = "2k") && (Command = "holdfwd" || Command = "holdback")
trigger1 = RoundState = 2 && Ctrl && StateType = S && StateNo != 100

;---------------------------------------------------------------------



[State -1, AirThrow_1]
type = ChangeState
value = 831
triggerall = command = "holdfwd" || command = "holdback"
triggerall = command = "x" && command = "z"
triggerall = command != "holddown"
trigger1 = statetype = A
trigger1 = ctrl

;---------------------------------------------------------------------

;Rodadao
[State -1, rodadao]
type = ChangeState
value = 214
triggerall=var(12)<=0
triggerall = Command = "rodadao"
triggerall = statetype =S
trigger1 = ctrl

trigger2 = StateNo = 205
trigger2 = movecontact
trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------

[State -1, Inazuma Kakato Wari]
type = ChangeState
value = 215
triggerall=var(12)<=0
triggerAll = command = "holda" || command = "holdb" || command = "holdc"
triggerAll = StateType != A
trigger1 = StateNo = 214 && AnimElem = 7
trigger2 = StateNo = 207 && AnimElem = 4 && command ="holdfwd"


;---------------------------------------------------------------------

[State -1, pulinho na cabeça]
type = ChangeState
value = 1033
triggerall=var(12)<=0
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype = A
trigger1 = ctrl



;---------------------------------------------------------------------------
;SFP
[State -1, soco fraco de pe]
type = ChangeState
value = 200
triggerall=var(12)<=0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 400 || StateNo = 403)
trigger2 = time>=5
trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;não mudar posicao
[State -1, soco forte ryu]
type=changestate
value=213
triggerall= var(12)<=0
triggerall= command="z" && command="holdfwd" && command!="holddown" && statetype!=A
trigger1= ctrl

trigger2= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;SFP
[State -1, soco forte de pe]
type = ChangeState
value = ifelse (P2bodydist X >= 25, 203, 204)
triggerall=var(12)<=0
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || stateno=205  || StateNo = 207  || StateNo = 1346 )
trigger2 = time > 3.50
trigger2 = movecontact
trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;CFP
[State -1, chute fraco de pe]
type = ChangeState
value = 205
triggerall=var(12)<=0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 400 || StateNo = 403 || StateNo = 207 && animelemtime(5)>=0 )
trigger2 = time>=5
trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;CMP - perto
[State -1, chute medio de pe perto]
type = ChangeState
value = 206
triggerall=var(12)<=0
triggerall = P2bodydist X >= 20
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = command != "holdfwd"
triggerall= statetype != A
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 206 || StateNo = 212 ) && Movehit 
trigger2 = time > 3



;---------------------------------------------------------------------------
;CMP 
[State -1, chute medio de pe]
type = ChangeState
value = 207
triggerall=var(12)<=0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = command != "holdfwd"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 203 || StateNo = 205) && movehit 



;---------------------------------------------------------------------------

;chute alto perto
[State -1, chute alto perto]
type = ChangeState
value = 211
triggerall=var(12)<=0
triggerall = command = "b"
triggerall = command = "holdfwd"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 203 || StateNo = 205 ) && Movehit 
trigger2 = time > 3
trigger3 = stateno = 207&&movecontact
trigger4 = stateno = 214&&movecontact
trigger5= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;CFP
[State -1, chute forte de pe]
type = ChangeState
value = 212 ; ex208
triggerall=var(12)<=0
triggerall = command = "c"
triggerall= p2bodydist x>25
triggerall = command != "holddown"
triggerall = command != "holdback"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 203 ) && Movehit
trigger3 = StateNo = 205 && movecontact
trigger4= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------


[State -1, SHK]
type=changestate
value=210
triggerall= var(12)<=0
triggerall= command="c" && command!="holdback" && statetype=S
triggerall= p2bodydist x<=25
trigger1= ctrl

trigger2 = StateNo = 205
trigger2 = movecontact

trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;SFA
[State -1, soco fraco agachado]
type = ChangeState
value = 400
triggerall=var(12)<=0
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 400 || StateNo = 403)
trigger2 = time>=5

trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;SFOA
[State -1, soco forte agachado]
type = ChangeState
value = 402
triggerall=var(12)<=0
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = 400 || StateNo = 403 || StateNo = 404 || StateNo = 407
trigger2 = movecontact
trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;CFA
[State -1, chute fraco agachado]
type = ChangeState
value = 403
triggerall=var(12)<=0
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 200 || StateNo = 400 || StateNo = 403)
trigger2 = time>=5
trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;CMA
[State -1, chute medio agachado]
type = ChangeState
value = 404
triggerall=var(12)<=0
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = command != "holdfwd"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 400 || StateNo = 403 || StateNo = 205 )
trigger2 = time >=5
trigger3= var(33) && (stateno=[200,407]) && movecontact

;---------------------------------------------------------------------------
;CFOA
[State -1, chute forte agachado]
type = ChangeState
value = 405
triggerall=var(12)<=0
triggerall = command = "c"
triggerall = command = "holddown"
triggerall = command != "holdfwd"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (StateNo = 205  || StateNo = 400 || StateNo = 403 || StateNo = 404 ) && movehit > 0
trigger2 = time > 3
trigger3 = StateNo = 206 && time>16
trigger4 = stateno=212 && movecontact && time>15
trigger5= var(33) && (stateno=[200,407]) && movecontact


[State -1, chute deslizante queda]
type = ChangeState
value = 406
triggerall=var(12)<=0
triggerall = command = "c"
triggerall = command = "holddown" 
triggerall = command = "holdfwd" 
triggerall = statetype != A
trigger1 = ctrl
trigger2 = StateNo = 400  || StateNo = 403 || StateNo = 404 || StateNo = 407
trigger3= var(33) && (stateno=[200,407]) && movecontact


[State -1, chute deslizante sem queda ]
type = ChangeState
value = 407
triggerall=var(12)<=0
triggerall = command = "b"
triggerall = command = "holddown" 
triggerall = command = "holdfwd" 
triggerall = statetype != A
trigger1 = ctrl
trigger2 = StateNo = 400 || StateNo = 403 || StateNo = 404
trigger3= var(33) && (stateno=[200,407]) && movecontact
;---------------------------------------------------------------------------
;SFP
[State -1, soco fraco pulo]
type = ChangeState
value = 600
triggerall=var(12)<=0
triggerall = command = "x"
triggerall = statetype = A
trigger1 = ctrl


;---------------------------------------------------------------------------
;SMP
[State -1, soco medio pulo]
type = ChangeState
value = 601
triggerall=var(12)<=0
triggerall = BackEdgeBodyDist >= 15
triggerall = command = "y"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 || stateno = 603 || stateno = 604
trigger2 = movecontact
trigger2 = time >= 4

;---------------------------------------------------------------------------
;SFOP
[State -1, soco forte pulo]
type = ChangeState
value = 602
triggerall=var(12)<=0
triggerall = command = "z"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 || stateno = 601 ||  stateno = 604 ||stateno = 606
trigger2 = movecontact
trigger2 = time >= 1

;---------------------------------------------------------------------------
;CFP
[State -1, chute fraco pulo]
type = ChangeState
value = 604
triggerall=var(12)<=0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = StateNo = 600 || stateno = 606
trigger2 = movecontact
trigger2 = time >= 2



;---------------------------------------------------------------------------
;CMP 1
[State -1, chute medio pulo]
type = ChangeState
value = 605
triggerall=var(12)<=0
triggerall = command = "b"
triggerall = command = "holdup"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 ||stateno = 601 || stateno = 603 || stateno = 604
trigger2 = movecontact
trigger2 = time >= 2

;---------------------------------------------------------------------------
;CMP - 2
[State -1, chute medio pulo]
type = ChangeState
value = 606
triggerall=var(12)<=0
triggerall = command = "b"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 ||stateno = 601 || stateno = 603 || stateno = 604
trigger2 = movecontact
trigger2 = time >= 2
;---------------------------------------------------------------------------
;CFOP
[State -1, chute forte pulo]
type = ChangeState
value = ifelse (!Vel X, 607, 608)
triggerall=var(12)<=0
triggerall = command = "c"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 ||stateno = 603 || stateno = 604 || stateno = 605 || stateno = 606
trigger2 = movecontact
trigger2 = time >= 2


;---------------------------------------------------------------------------


;[State -2, Display]
;type = DisplaytoClipboard
;trigger1 = 1
;text = "vel X: %f | vel Y: %f | P2BodyDist Y: %f | P2BodyDist X: %f | ;pos y: %f  by POLOCOLTO@gmail.com "
;params = vel X, vel Y, P2BodyDist Y, P2Bodydist X  , pos y


[State -2, Display]
type = DisplaytoClipboard
trigger1 = 1
text = "P2BodyDist X: %f | P2BodyDist Y: %f | Frontedgedist: %d | Backedgdist: %d | Pos Y: %f  by POLOCOLTO@gmail.com "
params = P2Bodydist X, P2BodyDist Y, frontedgedist, backedgedist , Pos Y

;[State -2, Debug]
;type=displaytoclipboard
;trigger1= 1
;text="var33=%d | var18=%d"
;params=var(33), var(18)
;ignorehitpause=1


;[State -2, Debug]
;type=displaytoclipboard
;trigger1= 1
;text= "var12=%d var53=%d Damage=%f var54=%d"
;params= var(12), var(53), fvar(12), var(54)
;ignorehitpause=1