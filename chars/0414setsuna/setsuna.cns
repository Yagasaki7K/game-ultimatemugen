; Shinobu's, ehem, i mean Setsuna's constants. Well, since he is evil,
; and is YOUNG just like her...... (well, not evil..>:P)
;
; Var1 = Randomizer for winposes, original sounds, etc.
; Var2 = Another randomizer
; Var3 = Left runtap manager
; Var4 = Right runtap manager
; Var5 = Anonymity 5 handler 
; Var6 = Victim Lightning Explod handler (unimplemented)
; Var7 = Anonymity Ultimate handler. Formerly AI
; Var8 = Short Jump Handler
; Var9 = Weapon Finish switch handler
; Var10 = Stores the previous state for the invincibility factor in
;         Anonymity 5
; Var11 = Stores Animation Element Number to return to.
; Var12 = Stores the Ctrl setting.
; Var13 = Anonymity Ultimate Switch Comparison to prevent Ultimate
;         Contiuation from being done when Anonymity 5 continuation is
;         done during that duration.
; Var14 = ?
; Var15 = Secondary Stateno Storage. When var(10) contains a bad
;         stateno, information from var(15) is passed to var(10).
;         Programmed to prevent reversals from affecting Setsuna during
;         Anonymity 5 and Anonymity Ultimate.
; var16 = Custom Mode (the default mode) when at 1. in 0, it retains original
;         play
; var17 = at 0, Power Mode. At 1, Speed and EX Mode.
; var18 = Anonymity Death strength counter.
; var19 = Auxiliary color counter
; var20 = Speed mode combo activator
; var21 = Slide Kick controller.
; var22 = Determines if Setsuna killed an enemy in team play.
; var23 = Combo controller.
; var24 = SOund System Implementor 
; var25 = Sound system beacon (makes changes in Setsuna.ai)
; var26 = Original sounds randomizer (betweem Crossover and Original)
; var27 = ensures anonymity ultimate can only be done when not hit in autoguard.

; Persistent Variables, ones that last throughout the round
; Var30 = KO voice
; Var31 = AI


; FVar 1 = X disposition
; FVar 2 = Y disposition
; FVar 3 = Mirror's X scaling factor
; FVar 4 = Mirror's Y scaling factor

[Data]
life = 1000          ;Amount of life to start with
attack = 100         ;100% attack power (more is stronger)
defence = 100        ;100% defensive power (more is stronger)
fall.defence_up = 50 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 40    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15        ;Can do 5 points of juggling
sparkno = 2          ;Default spark number
guard.sparkno = 40   ;Default guard spark number
KO.echo = 0          ;1 to enable echo on KO
intpersistindex = 1  ;variables whose data are not reset on new rounds.

[Size]
xscale           = 1;1.05 ;1 Original Neo-Geo MVS size (304x224) / (320x240)
yscale           = 1;1.17 ;1 Original Neo-Geo MVS size
height           = 40
ground.back      = 20
ground.front     = 20
air.back         = 24
air.front        = 24
z.width          = 23
attack.width     = 4,4
attack.dist      = 160
proj.attack.dist = 90
shadowoffset = -2
mid.pos = 5,-64
head.ps = 15,-91

[Velocity]
walk.fwd  = 2;.1666667461395
walk.back = -2 ;1.85714280605316
run.fwd  = 6, 0    ;Run forward (x, y)  - if y<0, player will hop
run.back = -5,-6 ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-8.41741752624512
jump.back = -2.3    ;Jump back Speed (x, y)
jump.fwd = 2;.5
runjump.fwd = 3.6

[Movement]
yaccel = 0.444444447755814    ;Vertical acceleration .74
stand.friction = .8  ;Friction coefficient when standing
crouch.friction = .8 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Win choose
[Statedef 180]
type = S
velset = 0

[State heh]
type = PlaySnd
trigger1 = RoundState = 0
value = f30,0
abspan = 0
persistent = 0

[State 180, 1]
type = ChangeState
triggerall = var(16) = 1
trigger1 = Command = "hold_x"
value = 181

[State 180, 2]
type = ChangeState
triggerall = var(16) = 1
trigger1 = Command = "hold_y"
value = 182

[State 180, 2]
type = ChangeState
triggerall = var(16) = 1
trigger1 = Command = "hold_z"
value = 183

[State 180, 5]
type = VarRandom
triggerall = var(16) = 1
trigger1 = Time = 0
v = 1
range = 0,3

[State 180, 6]
type = ChangeState
triggerall = var(16) = 1
trigger1 = Time = 1
value = 180 + var(1)

[State 180, 6]
type = ChangeState
triggerall = var(16) = 0
trigger1 = Time = 1 && !MatchOver
value = 181

[State 180, 6]
type = ChangeState
triggerall = var(16) = 0
trigger1 = Time = 1 && MatchOver
value = 182 + var(17)

; WIN
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0,0

[State 191, 56]
type = AssertSpecial
trigger1 = Time = [0,172]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 19]
type = PlaySnd
trigger1 = AnimElem = 10
value = S1,3
channel = 0

; WIN2
[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 191, 56]
type = AssertSpecial
trigger1 = Time = [0,360]
flag = roundnotover

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = S1,4
channel = 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 21
value = S1,5
channel = 0

[State 182, 3]
type = PlaySnd
trigger1 = AnimElem = 16 && var(24) = 1
value = S0,47

[State 182, 3]
type = PlaySnd
trigger1 = AnimElem = 16
value = S0,27

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 17
anim = 18101
id = 18101
pos = 0,0
scale = Const(size.xscale), Const(size.yscale)
facing = 1
sprpriority = 1
bindtime = -1
ownpal = 1
;shadow = -1,-1,-1

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,9

[State 191, Blood Drips]
type          = Helper
trigger1      = AnimElem = 20, 0
trigger2      = AnimElem = 21, 1
trigger3      = AnimElem = 23, 0
trigger4      = AnimElem = 24, 2
helpertype    = normal
id            = (18201)
name          = "Blood"
pos           = (41 + var(1)),(-91 + var(1))
postype       = p1
stateno       = 18201
sprpriority   = 1
facing        = 1
keyctrl       = 0
ownpal        = 1

; Win 3
[Statedef 18201]
type = s
ctrl = 0
anim = IfElse(random > 200, 18102, 18103)

[State nyahaha]
type = VarRandom
trigger1 = Time = 0
v = 8
range = 5,20

[State lol]
type = VelSet
trigger1 = Time = 0
y = var(8) * .10

[State crazy]
type = ChangeAnim
trigger1 = (pos Y = [-2,4]) && Anim != [18104,18105]
value = IfElse(random < 700, 18104, 18105)

[State insane]
type = VelSet
trigger1 = Anim = [18104, 18105]
y = 0

[State insane]
type = AssertSpecial
trigger1 = Anim = [18104, 18105]
flag = noshadow
ignorehitpause = 1

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 11
range = 0,2

[State 180, 5]
type = PlaySnd
trigger1 = (anim = [18104, 18105]) && AnimElem = 1
value = s0,28 + var(11)

[State 180, 5]
type = DestroySelf
trigger1 = RoundState = 1

; Win 3
[Statedef 183]
type = s
ctrl = 0
anim = 182
velset = 0,0,0

[State 191, 56]
type = AssertSpecial
trigger1 = Time = [0,222]
flag = roundnotover

;[State 183, 2]
;type = PlaySnd
;trigger1 = animelem = 6
;value = S0,10

[State 183, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = S0 + (6 * (var(24) = 0)),39
;volume = 999

[State 183, 3]
type = PlaySnd
trigger1 = AnimElem = 15
value = S1,6
channel = 0

[State 191, Owl]
type          = Helper
trigger1      = Time = 0
helpertype    = normal
id            = (184)
name          = "Owl"
pos           = -100,-440
postype       = p1
stateno       = 184
sprpriority   = 2
facing        = 1
keyctrl       = 0
ownpal        = 1

; Owl
[Statedef 184]
type = A
physics = N
ctrl = 0
velset = 1.51,4.32;7
anim = 183
sprpriority = 2

[State 191, 56]
type = VelAdd
trigger1 = 1
y = -.060;-.0488

[State 230, Exclamation]
type = Explod
trigger1 = Time = 0
anim = 184
id = 184
pos = 0,204
facing = 1
scale = Const(size.xscale), Const(size.yscale)
sprpriority = -2
bindtime = -1
removetime = 37
ownpal = 1
shadow = -1,-1,-1

[State whee]
type = RemoveExplod
trigger1 = RoundState = 0
id = 192

[State whee]
type = PlaySnd
triggerall = Time < 290
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 29
value = s0,31

[State whee]
type = DestroySelf
trigger1 = RoundState = 2

;---------------------------------------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0,0

[State 191, Owl]
type          = Helper
trigger1      = Time = 0
helpertype    = normal
id            = (192)
name          = "Owl"
pos           = 17,-747
postype       = p1
stateno       = 192
sprpriority   = 2
facing        = 1
keyctrl       = 0
ownpal        = 1

[State 191, 56]
type = AssertSpecial
trigger1 = Time = [0, 320]
flag = intro

[State 191, 2]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 190
value = S1,0
channel = 0

[State 191, 2]
type = PlaySnd
trigger1 = AnimElem = 9 && Anim = 190
value = S1,15
channel = 0

[State 191, 53]
type = PlaySnd
trigger1 = AnimElem = 17 && Anim = 190 && var(24) = 1
value = S0,38

[State 191, 54]
type = PlaySnd
trigger1 = AnimElem = 18 && Anim = 190 && var(24) = 1
value = S0,40

[State 191, 54]
type = PlaySnd
trigger1 = AnimElem = 18 && Anim = 190
value = S0,35

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 17 && Anim = 190
anim = 191
id = 191
pos = 0,0
postype = p1
facing = 1
scale = Const(size.xscale), Const(size.yscale)
sprpriority = 3
bindtime = -1
ignorehitpause = 1
ownpal = 1
shadow = -1,-1,-1

[State 191, 56]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 0

; Owl
[Statedef 192]
type = A
physics = N
ctrl = 0
velset = 0.23,6;7
anim = 193
sprpriority = 2

[State 191, 56]
type = VelAdd
trigger1 = 1
y = -.03999;-.0488

[State 230, Exclamation]
type = Explod
trigger1 = Time = 144
anim = 192
id = 192
pos = 0,204
facing = 1
scale = Const(size.xscale), Const(size.yscale)
sprpriority = -2
bindtime = -1
removetime = -1
ownpal = 1
shadow = -1,-1,-1

[State whee]
type = RemoveExplod
trigger1 = RoundState = 2
id = 192

[State whee]
type = PlaySnd
triggerall = Time < 290
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 29
value = s0,31

[State whee]
type = DestroySelf
trigger1 = RoundState = 2

; TAUNT
[Statedef 195]
type = S
ctrl = 0
velset = 0,0

[State hehahaha]
type = NotHitBy
trigger1 = 1 && P2Name = "psycho shredder[s]"
value = SCA
time = -1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 195
value = 195

[State 195, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,1
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Sliding Kick
[Statedef 320]
type    = C
movetype = A
physics = N
ctrl = 0
facep2 = 0
velset = Const(velocity.run.fwd.x)

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State haha]
type = ChangeAnim
trigger1 = Anim != 400 && Time = 0
value = 400

[State haha]
type = VarSet
trigger1 = 1
var(21) = 0

[State ahaha!]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 101, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0 + (6 * (var(24) = 0)), 17

[State hahaha]
type = ChangeState
trigger1 = AnimElem >= 2
value = 321

; Sliding Kick
[Statedef 321]
type    = C
movetype = A
physics = C
ctrl = 0
facep2 = 0
velset = Const(velocity.run.fwd.x)

[State ahaha!]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage   = 52
guardflag = L
pausetime = 16,16
sparkxy =  -21,-0
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 2, var(1))
sparkno = 2
guard.sparkno = 42
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Trip
ground.slidetime = 18
ground.hittime  = 25
guard.hittime = 36
guard.ctrltime = 36
ground.velocity = -2   
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3   
fall = 1

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;STANDING LOW PUNCH
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
velset = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,4

[State haha]
type = VarSet
trigger1 = var(23) = 0 && MoveContact && var(16) = 0
var(23) = 1
ignorehitpause = 1

[State haha]
type = VarSet
trigger1 = var(16) = 0
var(20) = 5
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 230
value = 230

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State heh]
type = Width
trigger1 = AnimElemNo(0) = [1,8];17]
trigger1 = Anim = 230
value = 0,16 + (16 * (AnimElemNo(0) = [4,7]))
ignorehitpause = 1

[State haha]
type = PosAdd
trigger1 = Anim = 230 && AnimElem = 1
trigger2 = Anim = 230 && AnimElem = 4
x = 16

[State haha]
type = PosAdd
trigger1 = Anim = 230 && AnimElem = 8
trigger2 = Anim = 230 && AnimElem = 9
x = -16

[State 230, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),12
channel = 2

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage   = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
getpower = 40, 20
animtype = Medium
;priority = 4
guardflag = M;A
sparkno = 0
guard.sparkno = 40
pausetime = 10,10
sparkxy =  -7,-71
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 0, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 8
ground.hittime  = 11
ground.velocity = -3.5
air.pausetime = 8,8
air.velocity = -4, -6
air.slidetime = 8
air.hittime  = 8

[State haha]
type = MoveHitReset
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Rushing Punch
[Statedef 206]
type     = S
movetype = A
physics  = N
ctrl = 0
velset = 8
facep2 = 0

[State haha!]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 230, 1]
type = PlaySnd
trigger1 = Time = 0 && var(24) = 1
value = S0,14
channel = 2

[State 1010, 3]
type = PlaySnd
trigger1 = Time = 0
value = S4,var(2)
channel = 0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 205
value = 205
ignorehitpause = 1

[State 101, 2] ;Friction after initial dash
type = ChangeState
trigger1 = AnimElem >= 2
value = 207

;Rushing Punch
[Statedef 207]
type     = S
movetype = A
physics  = S
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,4

;[State heh]
;type = Width
;trigger1 = AnimElemNo(0) = [1,7];17]
;trigger1 = Anim = 230
;value = 0,16 + (16 * (AnimElemNo(0) = [4,7]))
;ignorehitpause = 1

[State haha]
type = PosAdd
trigger1 = AnimElem = 2
x = 17

[State haha]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = -16

[State haha!]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 230, 2]
type = HitDef
trigger1 = AnimElem >= 2
attr = S, NA
damage   = 104
animtype = Hard
getpower = 40, 20
guardflag = M;A
pausetime = 16,16
sparkxy =  7,-71
sparkno = 2
guard.sparkno = 41
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 2, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 28
ground.hittime  = 28
ground.velocity = -8.7
air.pausetime = 13,13
air.velocity = -4, -6
air.slidetime = 8
air.hittime  = 8

[State haha]
type = MoveHitReset
trigger1 = AnimElemNo(0) >= 4
ignorehitpause = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;STANDING MEDIUM PUNCH
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State haha]
type = VarSet
trigger1 = var(23) = 0 && MoveContact && var(16) = 0
var(23) = 1
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = var(20) = 0
var(20) = 1
persistent = 0

;[State haha]
;type = PosAdd
;trigger1 = Anim = 200
;x = 2
;persistent = 0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 240
value = 240
ignorehitpause = 1

[State heh]
type = Width
trigger1 = AnimElemNo(0) = [1,12];17]
trigger1 = Anim = 240
value = 0,16 ;+ (16 * (AnimElemNo(0) = [4,7]))
ignorehitpause = 1

[State haha]
type = PosAdd
trigger1 = Anim = 240 && AnimElem = 1
trigger2 = Anim = 240 && AnimElem = 13
x = 16 * IfElse(AnimElemNo(0) = 13, -1, 1)

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 240, SFX]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),10
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 24000 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 240
trigger1       = 1 && NumExplod(24000 + AnimElemNo(0)) = 0
anim           = 24000 + AnimElemNo(0)
id             = 24000 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 240, bad]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = Medium
damage   = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = M;A
getpower = 40, 20
pausetime = 5, 5
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 5), 5
sparkxy =  -17,-80
sparkno = 11
guard.sparkno = 41
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 6, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 14
ground.hittime  = 18
ground.velocity = -6.2
air.velocity = -2.5,-3.5
guard.kill = 0
air.pausetime = 5, IfElse(command = "y", 1, 5)
air.velocity = -6, -6
air.slidetime = 7
air.hittime  = 7

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = -17, -80 
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -80 
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = ChangeAnim
trigger1 = MoveGuarded && enemy, StateType != A && var(16) = 0 && var(17) = 0
value = 241
ignorehitpause = 1
persistent = 0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 241
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 241
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 241
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 241
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 241
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 241
id = 24008
ignorehitpause = 1

[State haha]
type = VelSet
trigger1 = MoveGuarded
x = -3.2
ignorehitpause = 1
persistent = 0

[State 240, 3]
type = Width
trigger1 = Time = 0
value = 15

[State 240, 4]
type = ChangeState
trigger1 = var(31) = 1 && Random <= 300 && MoveHit
value = 215

[State haha]
type = MoveHitReset
trigger1 = Anim = 240
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Double Medium Slash
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
;velset = 6,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(20) = 0
persistent = 0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 245
value = 245
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State heh]
type = Width
trigger1 = AnimElemNo(0) = [1,11];17]
trigger1 = Anim = 245
value = 0,16 - (12 * (AnimElemNo(0) = [10,11])) - (4 * (AnimElemNo(0) = 11))
ignorehitpause = 1

[State haha]
type = PosAdd
trigger1 = Anim = 245 && AnimElem = 1 && var(16) = 0
;trigger2 = Anim = 230 && AnimElem = 4
x = 16

[State haha]
type = PosAdd
trigger1 = Anim = 245 && AnimElem = 11
x = -12

[State haha]
type = PosAdd
trigger1 = Anim = 245 && AnimElem = 12
x = -4

[State 245, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0 + (6 * (var(24) = 0)),10
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 24500 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 245
trigger1       = 1 && NumExplod(24500 + AnimElemNo(0)) = 0
anim           = 24500 + AnimElemNo(0)
id             = 24500 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 245, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S,NA
damage   = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
animtype = Medium
getpower = 40, 20
guardflag = MA
guard.kill = 0
pausetime = 5,5 ;4,8
sparkno = 11
sparkxy =  -17,-80
guard.sparkno = 41
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 7, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 16
ground.hittime  = 22
ground.velocity = -4
air.velocity = -2.5,-3.2
airguard.velocity = -3     
air.velocity = -6, -6
air.slidetime = 7
air.hittime  = 7

[State haha]
type = MoveHitReset
trigger1 = Anim = 245
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = -17, -80
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -80 
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 245, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Overhead Attack
[Statedef 217]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && (anim != 247 && Anim != 258)
value = 247 + IfElse(random >= 500 && var(16) = 1, 1, 0)
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State 1010, 3]
type = PlaySnd
trigger1 = Anim = 247 && AnimElem = 1
trigger2 = Anim = 248 && AnimElem = 5
value = S4,var(2)
channel = 0

[State 245, 1]
type = PlaySnd
trigger1 = Anim = 247 && AnimElem = 3
trigger2 = Anim = 248 && AnimElem = 6
value = S0 + (6 * (var(24) = 0)),10
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1 && Anim = [247, 248]
id = 24700 + (AnimElemNo(0) - 1) 
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 247
trigger1       = 1 && NumExplod(24700 + AnimElemNo(0)) = 0
anim           = 24700 + AnimElemNo(0)
id             = 24700 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 248
trigger1       = 1 && NumExplod(24700 + AnimElemNo(0)) = 0
anim           = 24800 + AnimElemNo(0) 
id             = 24700 + AnimElemNo(0) 
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 210, 3]
type              = HitDef
trigger1          = AnimElem = 3
attr              = S, SA
damage            = 152, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 2, 0)
getpower = 40, 20
animtype          = Medium
hitflag           = AFD
guardflag         = H;A
pausetime         = 16,16
sparkxy           = 3,-1
hitsound          = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 7, var(1))
sparkno           = 11
guardsound        = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type       = Low
ground.slidetime  = 6
ground.hittime    = 17
ground.velocity   = -3
air.velocity      = -3.1,-3.3
airguard.velocity = -3.5
forcestand        = 0
down.velocity = 0,0
fall.velocity = 0,3
fall.recover = 0
air.juggle = 0
guard.kill = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = 3, -1
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -1 
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 245, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;STANDING HIGH PUNCH
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,8

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = var(20) = 1
var(20) = 2
persistent = 0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 250 && Anim != 251
value = 250
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State what the hell]
type = PosAdd
triggerall = Anim = 250
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
x = 16

[State heh]
type = Width
trigger1 = AnimElemNo(0) = [5,18];17]
trigger1 = Anim = 250
value = 0,16 - (3 * (AnimElemNo(0) = [16,18])) - (3 * (AnimElemNo(0) = 18)) - (2 * (AnimElemNo(0) = [17,18]))
ignorehitpause = 1

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 16 && Anim = 250
trigger2 = AnimElem = 18 && Anim = 250
x = -3

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 17 && Anim = 250
x = -2

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 19 && Anim = 250 ;13
x = -8

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 250
value = S4,var(2)
channel = 0

[State 250, 1]
type = PlaySnd
triggerall = Anim = 250
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
value = S0 + (6 * (var(24) = 0)),11 - (var(24) = 0)
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 25000 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 250
trigger1       = 1 && NumExplod(25000 + AnimElemNo(0)) = 0
anim           = 25000 + AnimElemNo(0)
id             = 25000 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 250, 4]
type = HitDef
trigger1 = AnimElem = 6 && P2Name != "psycho shredder[s]" 
attr = S, NA
damage    = 84, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 13, 0)
animtype  = Hard
getpower = 40, 20
guardflag = M;A
pausetime = 10,12
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 10), 12
sparkno = 12
guard.sparkno = 42
sparkxy =  -7,-45
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 16
ground.hittime  = 21
ground.velocity = -8.8
air.velocity = -6.4,-3.5
airguard.velocity = -1     
;air.fall = 1
ground.cornerpush.veloff = -4.2
air.cornerpush.veloff = -4.2
guard.kill = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = (AnimElemNo(0) = [5, 10]) && MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F2
pos = -7, -45
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = (AnimElemNo(0) = [5, 10]) && MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -45 
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 250, 4]
type = HitDef
trigger1 = AnimElem = 5 && P2Name = "psycho shredder[s]"
attr = S, NP;A
damage    = 84, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 13, 0)
animtype  = Hard
givepower = -999999999,-99999999
guardflag = M;A
pausetime = 10,12
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 10), 12
sparkno = 12
guard.sparkno = 42
sparkxy =  -27,-45
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 16
ground.hittime  = 21
ground.velocity = -8.8
air.velocity = -6.4,-3.5
airguard.velocity = -1     
;air.fall = 1
ground.cornerpush.veloff = -4.2
air.cornerpush.veloff = -4.2
guard.kill = 0

;[State haha]
;type = MoveHitReset
;trigger1 = AnimElem = 10
;ignorehitpause = 1

[State 250, 20]
type = HitDef
trigger1 = AnimElem = 12 && var(16) = 1
trigger2 = AnimElem = 11 && var(16) = 0
attr = S, NA
damage    = 32, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 11, 0)
getpower = 40, 20
animtype  = Hard
guardflag = M;A
pausetime = 14,14
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 14), 14
sparkno = 12
guard.sparkno = 42
sparkxy = -6,-39
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 16
ground.hittime  = 25
ground.velocity = -3.5
air.velocity = -1.4,-3.5
airguard.velocity = -1     
;air.fall = 1
ground.cornerpush.veloff = -4.2
air.cornerpush.veloff = -4.2
guard.kill = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = AnimElemNo(0) >=  11 && MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F2
pos = -6, -39
postype = P2
bindtime = 1
facing = -1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = AnimElemNo(0) >= 11 && MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -39
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = ChangeAnim
trigger1 = MoveGuarded && enemy, StateType != A && var(16) = 0 && var(17) = 0
value = 251
ignorehitpause = 1
persistent = 0

[State haha]
type = MoveHitReset
triggerall = Anim = 250
trigger1 = AnimElemNo(0) = 8
trigger2 = AnimElemNo(0) >= 14
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 251
id = 25014
ignorehitpause = 1

[State haha]
type = VelSet
trigger1 = MoveGuarded && var(16) = 0 && var(17) = 0
x = -4.2
ignorehitpause = 1
persistent = 0

[State 250, 31]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;SPEED MODE FINISHER COMBO
[Statedef 221]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 252
value = 252

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(20) = 0

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 240, SFX]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),10
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 22100 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 252
trigger1       = 1 && NumExplod(22100 + AnimElemNo(0)) = 0
anim           = 25200 + AnimElemNo(0)
id             = 22100 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage   = 112, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 11, 0)
animtype = Hard
getpower = 40, 20
;priority = 7
guard.kill = 0
guardflag = M
sparkno = 12
guard.sparkno = 42
pausetime = 16,16
sparkxy =  -37,-71
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 51, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 8
ground.hittime  = 11
ground.velocity = -5.5,-3.3
air.velocity = -5.5,-3.3
fall = 1
fall.recover = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F2
pos = -37, -71
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -71
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Double high Slash
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 3
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 4,7

[State 180, 5]
type = VarRandom
trigger1 = AnimElem = 13
v = 1
range = 9,11

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 355 && Anim != 356
value = 355
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1 && Anim != 356
var(9) = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 355
value = S4,var(2)
channel = 0

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 2 && Anim = 355
x = 3

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 3 && Anim = 355
x = 30

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 4 && Anim = 355
x = 25

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 5 && Anim = 355
x = 10

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 6 && Anim = 355
x = 9

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 7 && Anim = 355
x = 18

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 19 && Anim = 355 ;+3
x = 5

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 21 && Anim = 355
x = -14

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 22 && Anim = 355
x = -4

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 23 && Anim = 355
x = -19

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 24 && Anim = 355
x = -20;5

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 25 && Anim = 355
x = -33;1

[State what the hell]
type = Null;posadd
trigger1 = AnimElem = 26 && Anim = 355
x = -30

[State 355, 1]
type = PlaySnd
triggerall = Anim = 355
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
value = S0 + (6 * (var(24) = 0)),11 - (var(24) = 0)
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 35500 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 355
trigger1       = 1 && NumExplod(35500 + AnimElemNo(0)) = 0
anim           = 35500 + AnimElemNo(0)
id             = 35500 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 355, 2]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
damage    = 148, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 17, 0)
guardflag = M;A
pausetime = 16,16
getpower = 40, 20
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 16), 18
animtype = Hard
sparkno = 12
guard.sparkno = 42
sparkxy = 5,-67
hitsound   = S0 + (10 * (var(24) = 0)),IfElse(var(24) = 1, 33, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 40 ;60
ground.hittime  = 18
ground.velocity = -8 ;-.8
air.type = High
air.velocity = -6.5,-5.3;-1.3,-5.6
guard.velocity = -3
airguard.velocity = -1.9      
guard.kill = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && (AnimElemNo(0) = [8,12]) && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F3
pos = -5, -67
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && (AnimElemNo(0) = [8,12]) && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -67
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = MoveHitReset
trigger1 = AnimElem = 11
ignorehitpause = 1

[State 355, 3]
type = AttackDist
trigger1 = AnimElem = 4 && Anim = 355
value = 0

[State 355, 15]
type = HitDef
trigger1 = AnimElem = 13
attr = S, NA
damage    = 76, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 7, 0)
guardflag = M;A
pausetime = 16,16
getpower = 40, 20
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 4), 12
animtype = Hard
sparkno = 12
guard.sparkno = 42
sparkxy = -5,-77
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 33, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 10 ;60
ground.hittime  = 26
ground.velocity = -8.3 ;-.8
air.type = High
air.velocity = -6.5,-5.3;-1.3,-5.6
guard.velocity = -4
airguard.velocity = -1.9      
guard.kill = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = AnimElemNo(0) >=  11 && MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F3
pos = -5, -77
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = AnimElemNo(0) >= 11 && MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -77
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = ChangeAnim
trigger1 = MoveGuarded && enemy, StateType != A && var(16) = 0 && var(17) = 0
value = 356
ignorehitpause = 1
persistent = 0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 356
id = 35516
ignorehitpause = 1

[State haha]
type = VelSet
trigger1 = MoveGuarded && var(16) = 0 && var(17) = 0
x = -8.2
ignorehitpause = 1
persistent = 0

[State haha]
type = PosAdd
trigger1 = MoveGuarded && var(16) = 0 && var(17) = 0
x = -58
ignorehitpause = 1
persistent = 0

[State haha]
type = MoveHitReset
triggerall = Anim = 355
trigger1 = AnimElemNo(0) = 11
trigger2 = AnimElemNo(0) >= 16
ignorehitpause = 1

[State 355, 31]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; STANDING LOW KICK
[Statedef 230]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 200
value = 200
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = s0 + (6 * (var(24) = 0)),12
channel = 2

[State 200, 3]
type = HitDef
trigger1 = AnimElem = 2              ;Time to activate controller
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage    = 54, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = H;A                   ;Flags on how move is to be guarded against
getpower = 40, 20
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3                     ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 9,9                ;Time attacker pauses, time opponent shakes
sparkno = 0                   ;Spark image group and no
sparkxy = -13,-10                  ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 3, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))                 ;Sound to play on guard
sparkno = 0
guard.sparkno = 40
; mindist  = 0,0,0                 ;Min distance of p2 from p1 when hit
; maxdist  = 0,0,0                 ;Max distance of p2 from p1 when hit
; snap = 0,0,0                     ;Snaps p2 to position rel to p1
ground.type = High               ;Type (refer to testp.h)
ground.slidetime = 5             ;Time that the victim slides back
ground.hittime  = 15             ;Time victim is in hit state
ground.velocity = -4             ;Velocity at which victim is pushed
; guard.slidetime = 5              ;Values for guarded attack (def: ground.slidetime)
; guard.hittime  = 15              ; (def: ground.hittime)
; guard.velocity = -4              ; (def: ground.velocity)
; guard.ctrltime = 7               ;Time to regain control after guard (def: guard.slidetime)
; airguard.velocity = -2.6         ;Guard velocity in air (def: (air.xvel*2              
; airguard.ctrltime = 7            ;Time to regain control after air guard (def: ground.ctrltime)
air.type = High                  ;Type (refer to testp.h)
down.velocity = 0,0
forcestand = 0
down.bounce = 0
fall.velocity = 0,9
fall.yvelocity = 7
air.slidetime = 8
air.hittime  = 8
air.velocity = -4.5,-6

[State haha]
type = MoveHitReset
triggerall = Anim = 200
trigger1 = AnimElemNo(0) = 6
ignorehitpause = 1

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;STANDING MEDIUM KICK
[Statedef 240]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5 + (3 * (var(16) = 1))

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && (anim != 210 && Anim != 215)
value = 210 + IfElse(P2BodyDist X < 40 && var(16) = 1 && P2StateType != L, 5, 0)
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value =  S0 + (6 * (var(24) = 0)),13
channel = 2

[State 210, 3]
type              = HitDef
trigger1          = AnimElem = 3
attr              = S, NA
damage            = 65, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
animtype          = Medium
hitflag           = MAFD
guardflag         = M;A
getpower = 40, 20
pausetime         = 9,9
sparkno = 1
guard.sparkno = 41
sparkxy           = -3, IfElse(anim = 215, -59, -19)
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 4, var(1))
guardsound        = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type       = Low
ground.slidetime  = 6
ground.hittime    = 17
ground.velocity   = -5
airguard.velocity = -3.5
forcestand        = 0
down.velocity = 0,0
forcestand        = 0
fall.velocity = 0,3
fall.yvelocity = 7
air.slidetime = 8
air.hittime  = 8
air.velocity = -4.5,-6

[State haha]
type = MoveHitReset
trigger1 = Anim = 210
trigger1 = AnimElemNo(0) = 8
trigger2 = Anim = 215
trigger2 = AnimElemNo(0) = 5
ignorehitpause = 1

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;STANDING HIGH KICK
[Statedef 250]
type    = S
movetype= A
physics = S
;juggle  = 4
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0 + (4 * (var(16) = 1)),8 + (3 * (var(16) = 1))

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 220
value = 220
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 220, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0 + (6 * (var(24) = 0)),14 - (var(16) = 0)
channel = 2

[State 220, 2]
type = HitDef
trigger1 = var(16) = 1
trigger1 = AnimElem = 3 && Command != "holdfwd"
attr = S, NA
damage   = 38, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
animtype = Hard
;priority = 5
guardflag = M;A
getpower = 40, 20
pausetime = 12,12
sparkxy =  -4,-80
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 5, var(1))
sparkno = 2
guard.sparkno = 42
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 20
ground.hittime  = 23
ground.velocity = -8.5
air.velocity = -3,-5
air.slidetime = 8
air.hittime  = 8
air.velocity = -4.5,-6

[State 220, 6]
type = HitDef
trigger1 = var(16) = 1
trigger1 = AnimElem = 5 && Command != "holdfwd"
attr = S,NA
damage   = 38
animtype = Hard
;priority = 5
getpower = 40, 20
guardflag = M;A
pausetime = 12,12
sparkxy =  -7,-92
sparkno = 2
guard.sparkno = 42
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 5, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 20
ground.hittime  = 23
ground.velocity = -8.5
airguard.velocity = -3.5
air.slidetime = 8
air.hittime  = 8
air.velocity = -4.5,-6

[State 220, 6]
type = HitDef
trigger1 = var(16) = 1
trigger1 = AnimElem = 5 && Command = "holdfwd"
attr = S, NA
;damage   = ifelse(hitcount = 1, 40, 78)
animtype = Up
;priority = 5
getpower = 40, 20
guardflag = M;A
pausetime = 12,12
sparkxy =  -7,-92
sparkno = 2
guard.sparkno = 42
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 5, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 20
ground.hittime  = 23
ground.velocity = 3,-5
guard.velocity = -3
air.velocity = 3,-5
airguard.velocity = -3.5
;p2getp1state = ifelse((target, pos Y < 0), 0, 1)
P2stateno        = 251
p2facing         = 1
fall             = 1
fall.recover     = 0
air.slidetime = 8
air.hittime  = 8
air.velocity = -4.5,-6

[State 220, 6]
type = HitDef
trigger1 = var(16) = 0
trigger1 = AnimElem = 5 
attr = S, NA
damage = IfElse((enemynear, Pos Y < 0), 76, 0), IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
animtype = Up
priority = 5
guardflag = M;A
getpower = 40, 20
sparkno = 2
guard.sparkno = 42
pausetime = 12,12
sparkxy =  -7,-92
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 5, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 20
ground.hittime  = 23
ground.velocity = IfElse((enemynear, Pos Y < 0), -3, 3),-5
guard.velocity = -3
air.velocity = IfElse((enemynear, Pos Y < 0), -3, 3),-5
airguard.velocity = -3.5
p2getp1state = IfElse((enemynear, Pos Y < 0), 0, 1)
P2stateno        = IfElse((enemynear, Pos Y < 0), 5000, 251)
p2facing         = IfElse((enemynear, Pos Y < 0), 0, 1)
fall             = IfElse((enemynear, Pos Y < 0), 0, 1)
fall.recover     = IfElse((enemynear, Pos Y < 0), 0, 1)
air.slidetime = 8
air.hittime  = 8
air.velocity = -4.5,-6

[State haha]
type = TargetLifeAdd
trigger1 = MoveHit
trigger1 = P2StateNo = 251
value = Ceil((IfElse(var(16) = 1 && HitCount = 1, -40, -78) * fvar(31)))
ignorehitpause = 1
persistent = 0

[State haha]
type = PlaySnd
trigger1 = MoveHit
trigger1 = P2StateNo = 251
value = s0 + (6 * (var(24) = 0)), 19
ignorehitpause = 1
persistent = 0

[State haha]
type = MoveHitReset
triggerall = Anim = 220
trigger1 = AnimElemNo(0) >= 7
ignorehitpause = 1

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Hit by Kick
[Statedef 251]
type    = A
movetype= H
physics = N
ctrl    = 0
velset = 0,0,0
anim = 5012

[State haha]
type = NotHitBy
trigger1 = 1 && P2BodyDist X <= 100
value = SCA, AA, AP
time = 2
ignorehitpause = 1

[State haha]
type = HitBy
trigger1 = 1
value = SCA, AT
time = 2
ignorehitpause = 1

[State haha]
type = Null;lifeadd
trigger1 = 1
value = IfElse(HitCount = 1, -40, -78)
ignorehitpause = 1
persistent = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State bah]
type = ScreenBound
trigger1 = Pos Y = 0
value = 0
movecamera = 1,0

[State ScreenBound activator]
type = PlayerPush
trigger1 = 1
value = 0

[State 246, ChangeAnim for Player 2]
type = VelSet
trigger1 = Time = 12
x = -13

[State 246, ChangeAnim for Player 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 265, Change to flying away]
type     = ChangeState
trigger1 = BackEdgeDist <= 5
value    = 247

[Statedef 247]
type = A
movetype = H
Physics = N

[State haha]
type = Null;nothitby
trigger1 = 1 && P2BodyDist X <= 100
value = SCA, AA, AP
time = 2
ignorehitpause = 1

[State haha]
type = HitBy
trigger1 = 1
value = SCA, AA, AT
time = 2
ignorehitpause = 1

[State bah]
type = ScreenBound
trigger1 = Pos Y = 0
value = 0
movecamera = 1,0

[State ScreenBound activator]
type = PlayerPush
trigger1 = 1
value = 0

[State 1000, Flames]
type = Explod
trigger1 = Time = 1
anim = F72
pos = -10,-54
facing = 1
sprpriority = 2
bindtime = 2
supermove = 1
trans = add

[State 1017, VarSet for anyone else]
type = VarSet
trigger1 = P1Name != "Shinnosuke Kagami"
trigger2 = P1Name != "Whip"
trigger3 = P1Name != "Shadow Dio"
trigger4 = P1Name != "Dio Brando"
v = 10
value = 0

[State 1017, VarSet]
type = VarSet
trigger1 = P1Name = "Shinnosuke Kagami"
v = 10
value = 1

[State 1017, VarSet if you are Whip]
type = VarSet
trigger1 = P1Name = "Whip"
v = 10
value = 2

[State 1017, VarSet if you are Dio]
type = VarSet
trigger1 = P1Name = "Shadow Dio"
trigger2 = P1Name = "Dio Brando"
v = 10
value = 3

[State 940, If you are not Kagami]
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(10) = 0
value = F7,2
persistent = 0

[State 940, If you are Kagami]
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(10) = 1
value = S0,44
persistent = 0

[State 940, If you are Whip]
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(10) = 2
value = S0,32
persistent = 0

[State 940, If you are Dio]
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(10) = 3
value = S0,12
channel = 2
persistent = 0

[State 942, 3]
type = VelSet
trigger1 = 1
x = 0
y = 0
z = 0

[State wanker]
type = PosFreeze
trigger1 = 1

[State 942, 4]
type = EnvShake
Trigger1 = Time = 0
time = 15
ampl = -3
freq = 90
phase = 90

[State 942, 6]
type = ChangeState
trigger1 = Time = 10
value = 248

[Statedef 248]
type = A
movetype = H
Physics = N
velset = 1.8,-11.4

[State haha]
type = Null;nothitby
trigger1 = 1 && P2BodyDist X <= 100
value = SCA, AA, AP
time = 2
ignorehitpause = 1

[State haha]
type = HitBy
trigger1 = 1
value = SCA, AA, AT
time = 2
ignorehitpause = 1

[State bah]
type = ScreenBound
trigger1 = Pos Y = 0
value = 0
movecamera = 1,0

[State hehaha]
type = VelAdd ;gravity
trigger1 = 1
y = .60

[State hehaha]
type = VelAdd ;gravity
trigger1 = Vel y > 0
y = .30

[State whee]
type = ChangeAnim2
trigger1 = Time = 0
value = 221

[State ScreenBound activator]
type = PlayerPush
trigger1 = 1
value = 0

[State 942, 6]
type = ChangeState
trigger1 = Pos Y >= 20 && Vel Y > 0
value = 249

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 249]
type    = L
movetype= H
physics = N
ctrl = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State bah]
type = ScreenBound
trigger1 = Pos Y = 0
value = 0
movecamera = 1,0

[State leh]
type = PosSet
trigger1 = 1
y = 0

[State 942, 6]
type = Turn
trigger1 = Time = 0 && !SelfAnimExist(5171)

[State 5110, 2]
type = ChangeAnim
trigger1 = Time = 0 ;&& name != "psycho shredder[s]"
value = 5170 + IfElse(SelfAnimExist(5171), 1, 0)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = Floor(Vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !sysvar(0)
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !sysvar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = Anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
;triggerall = name != "psycho shredder[s]"
trigger1 = AnimTime = 0
trigger2 = sysvar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = sysvar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !Alive && Name != "psycho shredder[s]"
trigger1 = AnimTime = 0 && Name != "psycho shredder[s]"
trigger2 = sysvar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 11] ;If just died
type = ChangeState
triggerall = Name = "psycho shredder[s]"
trigger1 = sysvar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger2 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = sysvar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = Alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !Alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State heh]
type = SelfState
trigger1 = Time >= 90 && Alive ;&& name != "psycho shredder[s]"
value = 5120

;[state heh]
;type = changestate
;trigger1 = time >= 90 && p2name = "psycho shredder[s]"
;value = 5120

; Guard Crush Slash
[Statedef 255]
type    = S
movetype= A
physics = S
;juggle  = 3
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 255
value = 255
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 10
value = S4,var(2)
channel = 0

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 2
x = 27

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 3
x = 14

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 4
x = 21

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 5
x = 17

;[state what the hell]
;type = posadd
;trigger1 = animelem = 6
;x = 18

;- retain!
[State what the hell]
type = PosAdd
trigger1 = AnimElem = 12;15
x = 5

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 16;4;17
x = -14

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 17;5;18
x = -4

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 18;6;19
x = -16

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 19;7;20
x = -20

[State what the hell]
type = Null;posadd
trigger1 = AnimElem = 20;8;21
x = -1

[State what the hell]
type = PosAdd
trigger1 = AnimElem = 20;19;22
x = -32

[State 355, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = S0 + (6 * (var(24) = 0)),11 - (var(24) = 0)
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 25500 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 255
trigger1       = 1 && NumExplod(25500 + AnimElemNo(0)) = 0
anim           = 25500 + AnimElemNo(0)
id             = 25500 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 355, 3]
type = AttackDist
trigger1 = AnimElem = 3
value = 0

[State 355, 15]
animtype = Up
type = HitDef
trigger1 = AnimElem = 6 && var(16) = 1
attr = S, SA
damage    = 96, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 7, 0)
getpower = 40, 20
guardflag = H;A
pausetime = 8,8 ;4,12
sparkno = 12
guard.sparkno = 42
sparkxy = -5,-77
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 33, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 10 ;60
ground.hittime  = 26
ground.velocity = -.2,-12.3
air.type = High
air.velocity = -.2,-12.3
guard.velocity = -1
airguard.velocity = -1.9
forceground = 1
fall = 1
fall.recover = 0
guard.kill = 0
yaccel = .55

[State 355, 15]
animtype = Up
type = HitDef
trigger1 = AnimElem = 6 && var(16) = 0
attr = S, SA
damage    = 96, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 7, 0)
getpower = 40, 20
guardflag = HA
pausetime = 8,8 ;4,12
sparkno = 12
guard.sparkno = 42
sparkxy = -5,-77
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 33, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 10 ;60
ground.hittime  = 26
ground.velocity = -.2,-12.3
air.type = High
air.velocity = -.2,-12.3
guard.velocity = -1
airguard.velocity = -1.9
forceground = 1
fall = 1
fall.recover = 0
guard.kill = 0
yaccel = .55


[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = -5, -77
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -77
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 203, 3]
type = ChangeState
trigger1 = MoveContact = 1 && var(16) = 1
trigger1 = Command = "holdup"
value = 40
ctrl = 1

[State haha]
type = MoveHitReset
trigger1 = AnimTime = 0

[State 355, 31]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Victim states for statedef 255
;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 256]
type    = A
movetype= H
physics = N
velset = 0,0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = IfElse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
trigger1 = GetHitVar(animtype) = [3,5]
value = Anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 257

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = Anim = 5000
trigger2 = Anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = Anim = 5001
trigger2 = Anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = Anim = 5012
trigger2 = Anim = 5002
trigger3 = Anim = 5030
trigger4 = Anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[Statedef 257]
type    = A
movetype= H
physics = N
ctrl = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5035, 1]
type = ChangeAnim
trigger1 = Anim = 5030 && AnimTime = 0
trigger1 = SelfAnimExist(5035)
value = 5035

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = Anim = [5050,5059]
trigger1 = Vel Y >= IfElse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = Anim+10
persistent = 0

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= IfElse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 258 ;HIT_BOUNCE

; HITA_SHAKE
[Statedef 258]
type    = L
movetype= H
physics = N
ctrl = 0
velset = -3, 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 0
;value = 61
;pos = 0, 0
;under = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 0
;value = F7, 0 ;Hit ground
value = F7, 1 ;(sysvar(1) > 5) + (sysvar(1) > 14)

[State haha]
type = ChangeAnim
trigger1 = Time = 0
value = 5100

[State haha]
type = ChangeAnim
trigger1 = Time <= 23
trigger1 = Anim = 5100
trigger1 = AnimTime = -3
value = 5100
elem = AnimElemNo(0)

[State haha]
type = ChangeAnim
trigger1 = Anim = 5100 
trigger1 = Time > 23
value = 5170

[State haha]
type = ChangeAnim
trigger1 = Anim = 5170 && AnimTime = 0
value = 5110

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Anim = 5170
x = 0

;[State 5100, 5]
;type = StatetypeSet
;trigger1 = anim = 5170
;physics = S

[State 5100, 6] ;Reduce speed
type = VelAdd
trigger1 = Time = [0,23]
x = 0.130

[State haha]
type = ChangeState
trigger1 = HitOver = 1 && Time >= 55
trigger1 = Anim = 5110 && !Alive
value = 5150

[State haha]
type = SelfState
trigger1 = HitOver = 1 && Time >= 55
trigger1 = Anim = 5110 && Alive
value = 5120

;Throw
[Statedef 300]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0

[State haha]
type = NotHitBy
trigger1 = P2BodyDist x <= 35 && enemy, HitDefAttr = SC, AA, AT
value = SCA, AA, AT
time = 2

[State 430, 2]
type = HitDef
trigger1 = AnimElemNo(0) < 4
trigger1 = var(16) = 1 
trigger2 = var(16) = 0 && P2BodyDist X = [-10, 1]
attr = S, NT
id = 301
animtype = Up
hitflag = M
guard = 0
numhits = 0
pausetime = 0,0
sparkno = -1
sparkxy = 0,-55
hitsound   = S0,999
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -6,-3
air.type = High
priority = 3, miss
air.velocity = -6,-3
guard.velocity = -3
p2facing = 1
p2stateno = 301
;snap = 87,0
FALL = 1
fall.recover = 0
ground.cornerpush.veloff = 0
down.bounce = 0
kill = 0
guard.kill = 0
;persistent = 0
p2sprpriority = -2

[State 430, 2]
type = HitDef
trigger1 = AnimElemNo(0) = 5 && NumTarget(301) = 1
attr = S, NT
guard = 0
numhits = var(16)
pausetime = 0,0
sparkxy = 0,-55
hitsound   = S0 + (7 * (var(24) = 0)),24 - (22 * (var(24) = 0))
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -6,-3
p1stateno = 310
p2facing = 1
p2stateno = 305
snap = 87,0
FALL = 1
fall.recover = 0
ground.cornerpush.veloff = 0
down.bounce = 0
kill = 0
guard.kill = 0

[State 430, 2]
type = HitDef
triggerall = AnimElemNo(0) = 5 && NumTarget(301) = 0
trigger1 = var(16) = 1 
attr = S, NT
hitflag = M
guard = 0
numhits = var(16)
pausetime = 0,0
sparkxy = 0,-55
hitsound   = S0 + (7 * (var(24) = 0)),24 - (22 * (var(24) = 0))
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -6,-3
p1stateno = 310
p2facing = 1
p2stateno = 305
snap = 87,0
FALL = 1
fall.recover = 0
ground.cornerpush.veloff = 0
down.bounce = 0
kill = 0
guard.kill = 0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 310
value = 310
ignorehitpause = 1

[State what!]
type = AttackDist
trigger1 = 1
value = 0

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 4
value = s0 + (6 * (var(24) = 0)),13 + (var(24) = 0)
channel = 2

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 6
value = s2,8
channel = 0

[State what the hell]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 301]
type = U
movetype = H
physics = U
velset = 0,0
ctrl = 0

[State haha]
type = ChangeAnim
trigger1 = 1 
value = Anim
elem = AnimElemNo(0)
ignorehitpause = 1

[State haha]
type = ChangeState
trigger1 = Time = 4
value = 302

[Statedef 302]
type = U
movetype = H
physics = U
velset = 0,0
ctrl = 0

[State haha]
type = ChangeAnim2
trigger1 = Time = 0
value = 301

;[state haha]
;type = hitby
;trigger1 = time = 0
;value = SC, NT, ST
;time = 25
;persistent = 0

;Throw Success
[Statedef 310]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 315

[State ahaha!]
type = Null;targetbind
trigger1 = Time = 0
value = 62,0

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 6 && var(16) = 1
value = s0 + (6 * (var(24) = 0)),12 + (2 * (var(24) = 0))
channel = 2

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 4
value = s2,7

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 7
value = S8,2 + (IfElse(var(16) = 1, 10, 9) * (var(24) = 0))

[State heh!]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = Ceil(-96 * fvar(31))
absolute = 1

[State haha]
type = HitAdd
trigger1 = AnimElem = 7
trigger1 = var(16) = 1
value = 1

[State 2000, ShockWave]
type        = Explod
trigger1    = AnimElem = 7
anim        = F62
pos         = 0,0
postype     = p1
sprpriority = 4

[State 2000, Waves]
type        = Explod
trigger1    = AnimElem = 7
anim        = F61
pos         = 0,0
postype     = p1
sprpriority = -2

[State 942, 4]
type = EnvShake
Trigger1 = AnimElem = 7
time = 14
ampl = -6
freq = 90
phase = 90
ignorehitpause = 1
persistent = 0

[State what the hell]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 305]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0,0

[State 265, Drawing Priority for the first few frames]
type     = SprPriority
Trigger1 = AnimElem <= 3
value    = -2

[State 265, Drawing Priority for the first few frames]
type     = SprPriority
Trigger1 = AnimElem >= 4
value    = 2

[State ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State wahaha!]
type = PlayerPush
trigger1 = Time = 0
value = 0
time = 120

[State what the hell]
type = ChangeAnim2
trigger1 = Time = 0
value = 311
ignorehitpause = 1

[State heh!]
type = PosAdd
trigger1 = AnimElem = 2,0
x = 23
y = -93 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 2,3
x = 20
y = -20 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 2,6
x = 8
y = -9 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 3
x = 6
y = -22 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 4
x = 2
y = 35 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 5
x = 40
y = 95 ; + 80 pixels

[State heh!]
type = PosSet
trigger1 = AnimElem = 6
y = 0

[State WOW!]
type = VelSet
trigger1 = AnimTime = 0
x = -5.3

[State what?]
type = SelfState
trigger1 = P2StateNo != 310 && P2MoveType = H
value = 5030

[State what the hell]
type = SelfState
trigger1 = AnimTime = 0
value = 5101
anim = IfElse(SelfAnimExist(5101), 5101, 5100)
;ctrl = 1

; Standing Repel
[Statedef 330]
type    = S
movetype= I ;A
physics = S
ctrl = 0
velset = 0,0,0

[State haha]
type = MoveHitReset
trigger1 = 1
ignorehitpause = 1
persistent = 0

[State haha]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1

; We do not put p2 in a custom state unless cheap mode is activated.

[State hehahaha]
type = NotHitBy
triggerall = var(16) = 1
;trigger1 = P2Name != "zero hotaru" && P4Name != "zero hotaru"
trigger1 = P2BodyDist X <= 15 && Time >= 0 && AnimElemNo(0) <= 4
;trigger2 = P2Name = "zero hotaru" || P4Name = "zero hotaru"
;trigger2 = 1
value = SA, AA
time = 2
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 330
value = 330

[State 300, Brighten]
type = PalFX
trigger1 = Time = 0 && var(5) = 0 && var(7) = 0
time = 8
add = 32,32,32
ignorehitpause = 1

[State 500, Repel AfterImage]
type     = AfterImage
trigger1 = Time = 0
time     = 99999
trans    = add1
timegap  = 1
framegap = 3
length   = 8

[State haha]
type = AfterImageTime
trigger1 = AnimTime = 0
value = 0

[State haha]
type = StateTypeSet
trigger1 = AnimElem = 2
movetype = I

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name = "Zero hotaru" || P4Name = "zero hotaru"
trigger1 = Time >= 0
;id = 331
attr = S,NP
reversal.attr = SCA, NA, SA, HA, NT, ST, HT, NP, SP, HP
pausetime = 0,10
numhits = 0
sparkno = -1
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 331 ;Reversal1_success
p2stateno = 3311
ignorehitpause = 1
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = var(16) = 1
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command != "holdfwd"
;id = 331
attr = S,NP
reversal.attr = SA, NA, SA, HA
pausetime = 0,10
numhits = 0
sparkno = -1
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 331 ;Reversal1_success
p2stateno = 3311
ignorehitpause = 1
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = var(16) = 1
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command = "holdfwd"
attr = S,SP
reversal.attr = SCA, NA, SA, HA, NT, ST, HT
pausetime = 0,10
sparkno = -1
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 331 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = var(16) = 0
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command != "holdfwd"
;id = 331
attr = S,NP
reversal.attr = SA, NA
pausetime = 0,10
numhits = 0
sparkno = -1
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 331 ;Reversal1_success
p2stateno = 3311
ignorehitpause = 1
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = var(16) = 0
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command = "holdfwd"
attr = S,SP
reversal.attr = SCA, NA, SA, HA
pausetime = 0,10
sparkno = -1
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 331 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 215, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Repel Hit!
[Statedef 331]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 331
velset = 0,0,0

[State haha]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1

[State -2, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State , NotHitBy0]
type = NotHitBy
trigger1 = 1
value = SCA
;time = 1

[State haha]
type = AfterImageTime
trigger1 = Time = 0
value = 0

[State 1010, 3]
type = PlaySnd
trigger1 = Time = 0
value = S4,var(2)
channel = 0

;[State 745, Blink]
;type = EnvColor
;trigger1 = Time = 0
;value = 231,231,231
;time = 1

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SP
;chainid = 331
animtype = High
getpower = 30,15
hitflag = MA+
pausetime = 0,IfElse(P2StateType = A, 16, 26)
air.pausetime = 2,20
sparkno = 3
numhits = 0
sparkxy = -10,-70
hitsound = S0,IfElse(random > 500, 49, 50)
ground.type = High
ground.slidetime = 0
ground.hittime  = 30
ground.velocity = 0;-6.1
air type = Back
air.velocity = -.9,-6
facing = 1
p2stateno = 507 ;IfElse(P2StateType = A, 357, 5000)
;p2getp1state = IfElse(P2StateType = A, 1, 0)

[State , EnvColor0]
type = EnvColor
trigger1 = AnimElem = 4, 0
trigger2 = AnimElem = 4, 4
value = 0,0,255
time = 1
under = 1
ignorehitpause = 1

[State , EnvColor0]
type = EnvColor
trigger1 = AnimElem = 4, 2
trigger2 = AnimElem = 4, 6
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State haha]
type = TargetState
trigger1 = AnimElemNo(0) >= 5 && MoveHit = 0
value = 3312
persistent = 0

[State punishment for non-clsn2ed chars]
type = TargetLifeAdd
trigger1 = AnimElemNo(0) >= 5 && MoveHit = 0
trigger1 = target, StateNo = 3311
value = (target, Life) * -1
absolute = 1
persistent = 0

[State , AssertSpecial0]
type = AssertSpecial
trigger1 = AnimElemTime(4) = [0,6]
flag = nobg
flag2 = nofg

[State 500, 6]
type = Null;NotHitBy
trigger1 = 1
value2 = SCA
time = 1

;[State 500, 6]
;type = NotHitBy
;trigger1 = animelemno(0) >= 4
;value2 = SCA
;time = 30

[State 500, 6]
type = CtrlSet
trigger1 = AnimElemNo(0) >= 5
value = 1

[State 215, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Repelled!
[Statedef 3311]
type = U
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State haha]
type = PosFreeze
trigger1 = 1
ignorehitpause = 1

;[state haha]
;type = hitby
;trigger1 = 1
;value = SCA, AA, AT, AP
;time = -1

[State haha]
type = NotHitBy
trigger1 = Time = 0
value = SCA, AA, AT, AP
time = 1
ignorehitpause = 1

[State haha]
type = ChangeAnim
trigger1 = 1
value = Anim
elem = AnimElemNo(0)
ignorehitpause = 1

[State determiner]
type = StateTypeSet
trigger1 = Pos Y < 0
value = A
ignorehitpause = 1

;[State 371, Anim]
;type = ChangeAnim2
;trigger1 = time = 0
;value = 3311

;[State 371, Move]
;type = PosAdd
;trigger1 = time >= 0
;x = -.8

[State 371, State]
type = SelfState
trigger1 = AnimTime = 0
trigger2 = Time >= 201
value = 5030
;ctrl = 1
ignorehitpause = 1

[State haha]
type = DestroySelf
trigger1 = IsHelper
ignorehitpause = 1

[State haha]
type = LifeSet
trigger1 = IsHelper
trigger2 = Time >= 200
value = 0
ignorehitpause = 1

; Penalty
[Statedef 3312]
type    = A
movetype= H
physics = N
velset = -2,-8
ctrl = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State heh]
type = AssertSpecial
trigger1 = IsHelper
flag = invisible
ignorehitpause = 1

[State haha]
type = PosFreeze
trigger1 = 1 && IsHelper

[State hehe]
type = Gravity
trigger1 = 1

[State haha]
type = ChangeAnim
trigger1 = 1 && IsHelper = 0
value = 5030

[State haha]
type = HitBy
trigger1 = 1
value = SC,SA
time = 1

[State hehe]
type = SelfState
trigger1 = Time = 16 && IsHelper = 0
value = 5050

[State haha]
type = DestroySelf
trigger1 = Time = 20006 && IsHelper

; Repel COunterattack (both standing & crouching)
[Statedef 332]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 12,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State -2, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State 500, 6]
type = NotHitBy
trigger1 = 1
value2 = SCA
time = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 332
value = 332

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State 1010, 3]
type = PlaySnd
trigger1 = Time = 0
value = S4,var(2)
channel = 0

[State 245, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0 + (6 * (var(24) = 0)),10
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 33200 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 332
trigger1       = 1 && NumExplod(33200 + AnimElemNo(0)) = 0
anim           = 33200 + AnimElemNo(0)
id             = 33200 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 245, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage   = 112
animtype = Hard
guard = 0
getpower = 40, 20
pausetime = 4,8
sparkno = 12
guard.sparkno = 42
sparkxy =  -57,-80
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 7, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 16
ground.hittime  = 22
ground.velocity = -12,-4
air.velocity = -12.5,-3.2
fall = 1
fall.recover = 0
p2stateno = 256

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F3
pos = -57, -80
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -80 
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 245, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 507]
type    = U ;A
movetype= H
physics = N
ctrl = 0
facep2 = 1
;anim = ifelse(statetype = A, 5030, 5002 + (20 * (statetype = C)))

[State haha]
type = ChangeAnim
;triggerall = authorname != "Tenshin"
trigger1 = Time = 0
trigger1 = Anim != [160, 161]
trigger1 = Anim != 307 || (anim = 307 && StateType != S)
;trigger2 = selfanimexist(307) = 0 || (selfanimexist(307) = 1 && statetype != S)
;trigger3 = (selfanimexist(160) = 0 && selfanimexist(161) = 0) || ((selfanimexist(160) = 1 && selfanimexist(161) = 1) && statetype = A)
value = IfElse(StateType = A, 5030, 5002 + (20 * (StateType = C)))
ignorehitpause = 1

[State haha]
type = ChangeAnim
triggerall = Name != "shadow dio"
triggerall = AuthorName = "Tenshin" || AuthorName = "Orochi Herman"
trigger1 = SelfAnimExist(160) = 1 && StateType != A
value = 160 + (StateType = C)
ignorehitpause = 1
persistent = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State haha]
type = ChangeAnim
triggerall = AuthorName = "Sander71113"
trigger1 = SelfAnimExist(307) = 1 && !HitShakeOver && StateType = S
value = 307
ignorehitpause = 1

[State haha]
type = ChangeAnim
triggerall = Name != "shadow dio"
triggerall = AuthorName = "Orochi Herman" && StateType != A
trigger1 = SelfAnimExist(510) = 1 
trigger1 = SelfAnimExist(511) = 1 
trigger1 = SelfAnimExist(515) = 1 
trigger1 = SelfAnimExist(516) = 1 
value = 510 + (5 * (StateType = C))
ignorehitpause = 1
persistent = 0

[State haha]
type = PosFreeze
trigger1 = !HitShakeOver
ignorehitpause = 1

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1 && StateType = A
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = HitShakeOver = 1
x = 1
y = 1
persistent = 0

;[State 5030, 3]
;type = ChangeState
;triggerall = !HitFall
;trigger1 = HitshakeOver
;trigger2 = Vel Y > 0    ;Hit ground
;trigger2 = Pos Y >= 10  ;.
;value = 359 ;HITA_RECOV

[State 5030, 5]
type = ChangeState
triggerall = HitShakeOver
trigger1 = AnimTime = 0
trigger2 = Time >= 16
value = 508 + (2 * (StateType != A))

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 508]
type    = A
movetype= H
physics = N

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
;triggerall = !HitFall
trigger1 = HitShakeOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 509 ;HITA_RECOV

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 509]
type    = A
movetype= H
physics = N
ctrl = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1.2
ignorehitpause = 1

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 510]
type    = U
movetype= H
physics = S

;[State 5001, 1]
;type = HitVelSet
;trigger1 = Time = 0
;x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0 && (anim = 510 || Anim = 515)
value = Anim + 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0 && SelfAnimExist(307) = 0
trigger1 = (anim != [510,511]) && (anim != [515,516])
value = 5007 + (20 * (StateType = C))
;value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State haha]
type = ChangeAnim
triggerall = AnimTime = -1
trigger1 = Anim = 307
trigger2 = Anim = 160
value = Anim
elem = AnimElemNo(0)
ignorehitpause = 1

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0 + (11 * (StateType = C))
ctrl = 1

; Guard Cancel
[Statedef 335]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 331
velset = 0,0,0
poweradd = -1000

[State -2, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = Time = 0
value = S4,var(2)
channel = 0

[State 745, Blink]
type = EnvColor
trigger1 = Time = 0
value = 231,231,231
time = 1

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = High
getpower = 30,15
hitflag = M;A
pausetime = 0,8
air.pausetime = 2,20
sparkno = 3
sparkxy = -10,-70
hitsound = S0,IfElse(random > 500, 49, 50)
ground.type = High
ground.slidetime = 72
ground.hittime  = 42
ground.velocity = -6.1
air type = Back
air.velocity = -2.1,-6
facing = 1

[State 500, 6]
type = NotHitBy
trigger1 = 1
value2 = SCA
time = 1

[State 500, 6]
type = ChangeState
trigger1 = AnimElem >= 6
value = 332

; Crouching Repel
[Statedef 340]
type    = C
movetype= I
physics = C
ctrl = 0
velset = 0,0,0

[State haha]
type = MoveHitReset
trigger1 = 1
ignorehitpause = 1
persistent = 0

[State haha]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1

; We do not put p2 in a custom state unless cheap mode is activated.

[State hehahaha]
type = NotHitBy
;trigger1 = P2Name != "zero hotaru" && P4Name != "zero hotaru"
trigger1 = P2BodyDist X <= 15 && Time >= 0 && AnimElemNo(0) <= 4
;trigger2 = P2Name = "zero hotaru" || P4Name = "zero hotaru"
;trigger2 = 1
value = SC, AA
time = 2
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 340
value = 340

[State 300, Brighten]
type = PalFX
trigger1 = Time = 0 && var(5) = 0 && var(7) = 0
time = 8
add = 32,32,32
ignorehitpause = 1

[State 500, Repel AfterImage]
type     = AfterImage
trigger1 = Time = 0
time     = 99999
trans    = add1
timegap  = 1
framegap = 3
length   = 8

[State haha]
type = AfterImageTime
trigger1 = AnimTime = 0
value = 0

[State haha]
type = StateTypeSet
trigger1 = AnimElem = 2
movetype = I

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name = "Zero hotaru" || P4Name = "zero hotaru"
trigger1 = Time >= 0
attr = C, NP
reversal.attr = SCA, NA, SA, HA, NT, ST, HT, NP, SP, HP
numhits = 0
sparkno = -1
pausetime = 2,10
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 341 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = var(16) = 1
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command != "holdfwd"
attr = C, NP
reversal.attr = SC, NA, SA, HA
numhits = 0
sparkno = -1
pausetime = 2,10
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 341 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = var(16) = 1
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command = "holdfwd"
attr = C, NP
reversal.attr = SC, NA, SA, HA, NT, ST, HT
numhits = 0
sparkno = -1
pausetime = 2,10
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 341 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = var(16) = 0
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command != "holdfwd"
attr = C, NP
reversal.attr = SC, NA
numhits = 0
sparkno = -1
pausetime = 2,10
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 341 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = var(16) = 0
trigger1 = AnimElemNo(0) = [1,4]
trigger1 = Command = "holdfwd"
attr = C, NP
reversal.attr = SC, NA, SA, HA
numhits = 0
sparkno = -1
pausetime = 2,10
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 341 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 215, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Repel Hit!
[Statedef 341]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 341
velset = 0,0,0

[State -2, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State haha]
type = AfterImageTime
trigger1 = Time = 0
value = 0

[State 1010, 3]
type = PlaySnd
trigger1 = Time = 0
value = S4,var(2)
channel = 0

[State , NotHitBy0]
type = NotHitBy
trigger1 = 1
value = SCA
;time = 1

[State 745, Blink]
type = Null;EnvColor
trigger1 = Time = 0
value = 231,231,231
time = 1

[State haha]
type = StateTypeSet
trigger1 = AnimElem = 5
StateType = S
physics = S

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, SA
animtype = High
getpower = 30,15
hitflag = MA
pausetime = 0,IfElse(P2StateType = A, 16, 26)
numhits = 0
air.pausetime = 2,20
sparkno = 3
sparkxy = -10,-70
hitsound = S0,IfElse(random > 500, 49, 50)
ground.type = High
ground.slidetime = 72
ground.hittime  = 40
ground.velocity = 0;-6.1
air type = Back
air.velocity = -2.1,-6
facing = 1
p2stateno = 507 ;IfElse(P2StateType = A, 357, 5000)
;p2getp1state = IfElse(P2StateType = A, 1, 0)

[State , EnvColor0]
type = EnvColor
trigger1 = AnimElem = 6, 0
trigger2 = AnimElem = 6, 4
value = 0,0,255
time = 1
under = 1
ignorehitpause = 1

[State , EnvColor0]
type = EnvColor
trigger1 = AnimElem = 6, 2
trigger2 = AnimElem = 6, 6
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State , AssertSpecial0]
type = AssertSpecial
trigger1 = AnimElemTime(6) = [0,6]
flag = nobg
flag2 = nofg
;flag3 =

[State haha]
type = TargetState
trigger1 = AnimElemNo(0) >= 7 && MoveHit = 0
value = 3312
persistent = 0

[State punishment for non-clsn2ed chars]
type = TargetLifeAdd
trigger1 = AnimElemNo(0) >= 7 && MoveHit = 0
trigger1 = target, StateNo = 3311
value = (target, Life) * -1
absolute = 1
persistent = 0 

[State 500, 6]
type = NotHitBy
trigger1 = 1
value2 = SCA
time = 1

[State 500, 6]
type = CtrlSet
trigger1 = AnimElem >= 7
value = 1

[State 215, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Air Repel, baby!
[Statedef 350]
type    = A
movetype= I
physics = N
ctrl = 0

[State haha]
type = MoveHitReset
trigger1 = 1
ignorehitpause = 1
persistent = 0

[State haha]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1

; We do not put p2 in a custom state unless cheap mode is activated.

[State haha]
type = Gravity
trigger1 = 1

[State hehahaha]
type = NotHitBy
;trigger1 = P2Name != "zero hotaru" && P4Name != "zero hotaru"
trigger1 = P2BodyDist X <= 15 && Time >= 0 && AnimElemNo(0) <= 4
;trigger2 = P2Name = "zero hotaru" || P4Name = "zero hotaru"
;trigger2 = 1
value = SA, AA
time = 2
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 350
value = 350

[State 300, Brighten]
type = PalFX
trigger1 = Time = 0 && var(5) = 0 && var(7) = 0
time = 8
add = 32,32,32
ignorehitpause = 1

[State 500, Repel AfterImage]
type     = AfterImage
trigger1 = Time = 0
time     = 99999
trans    = add1
timegap  = 1
framegap = 3
length   = 8

[State haha]
type = StateTypeSet
trigger1 = AnimElem = 2
movetype = I

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name = "Zero hotaru" || P4Name = "zero hotaru"
triggerall = Time >= 0
trigger1 = var(31) = 0 && P2StateType = A
trigger2 = var(31) = 0 && P2StateType != A && (command = "holdfwd" || Command = "holddown")
trigger3 = var(31) = 1 && RoundState = 2
attr = A,NP
numhits = 0
reversal.attr = SCA, NA, SA, HA, NT, ST, HT, NP, SP, HP
sparkno = -1
pausetime = 2,10
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 355 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 500, Normal Anim Parry]
type = ReversalDef
triggerall = P2Name != "Zero hotaru" || P4Name != "zero hotaru"
triggerall = AnimElemNo(0) = [1,4]
trigger1 = var(31) = 0 && P2StateType = A
trigger2 = var(31) = 0 && P2StateType != A && (command = "holdfwd" || Command = "holddown")
trigger3 = var(31) = 1 && RoundState = 2
attr = A,NP
numhits = 0
reversal.attr = SCA, NA, SA, HA
sparkno = -1
pausetime = 2,10
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 355 ;Reversal1_success
p2stateno = 3311
priority = 7

[State 215, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 351

; Air Repel landing
[Statedef 351]
type = S
movetype = I
Physics = S
velset = 0,0,0

[State hehaha!]
type = PosSet
trigger1 = Time = 0
y = 0

[State bwahaha]
type = CtrlSet
trigger1 = AnimElem >= 3
value = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 101
value = 101

[State haha]
type = AfterImageTime
trigger1 = Time = 0
value = 0

[State haha]
type = PlaySnd
trigger1 = Time = 0
value = s0 + (6 * (var(24) = 0)),16

[State haha]
type = ChangeState
trigger1 = AnimTime = 0
value = 0 ;107
ctrl = 1

; Repel Hit!
[Statedef 355]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 351
juggle = 0
velset = 0,0,0

[State -2, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State , NotHitBy0]
type = NotHitBy
trigger1 = 1
value = SCA
;time = 1

[State haha]
type = PosFreeze
trigger1 = 1

[State haha]
type = AfterImageTime
trigger1 = Time = 0
value = 0

[State 1010, 3]
type = PlaySnd
trigger1 = Time = 0
value = S4,var(2)
channel = 0

[State 745, Blink]
type = Null;EnvColor
trigger1 = Time = 0
value = 231,231,231
time = 1

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
animtype = High
getpower = 30,15
hitflag = MA
pausetime = 0,IfElse(P2StateType = A, 22, 26)
air.pausetime = 2,20
sparkno = 3
numhits = 0
sparkxy = -10,-70
hitsound = S0,IfElse(random > 500, 49, 50)
ground.type = High
ground.slidetime = 0
ground.hittime  = 50
ground.velocity = 0;-6.1
air.hittime = 70
air type = Back
air.velocity = -.8,-6
facing = 1
;fall = ifelse(p2statetype = A, 1, 0)
fall.recover = 0
p2stateno = 507;IfElse(P2StateType = A, 357, 5000)
;p2getp1state = IfElse(P2StateType = A, 1, 0)

[State , EnvColor0]
type = EnvColor
trigger1 = AnimElem = 4, 0
trigger2 = AnimElem = 4, 4
value = 0,0,255
time = 1
under = 1
ignorehitpause = 1

[State , EnvColor0]
type = EnvColor
trigger1 = AnimElem = 4, 2
trigger2 = AnimElem = 4, 6
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State haha]
type = TargetState
trigger1 = AnimElemNo(0) >= 5 && MoveHit = 0
value = 3312
persistent = 0

[State punishment for non-clsn2ed chars]
type = TargetLifeAdd
trigger1 = AnimElemNo(0) >= 5 && MoveHit = 0
trigger1 = target, StateNo = 3311
value = (target, Life) * -1
absolute = 1
persistent = 0

[State , AssertSpecial0]
type = AssertSpecial
trigger1 = AnimElemTime(4) = [0,6]
flag = nobg
flag2 = nofg

[State 500, 6]
type = NotHitBy
trigger1 = 1
value2 = SCA
time = 1

[State 500, 6]
type = ChangeState
trigger1 = AnimElem >= 6
value = 356

[Statedef 356]
type    = A
movetype= I
physics = N
ctrl = 1
velset = 0,IfElse(P2StateType = A, -6, -3)

[State haha]
type = Gravity
trigger1 = 1

[State 215, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 357]
type    = A
movetype= H
physics = N
ctrl = 0

[State haha]
type = ChangeAnim
trigger1 = !HitShakeOver
value = 5030
ignorehitpause = 1

[State haha]
type = PosFreeze
trigger1 = !HitShakeOver
ignorehitpause = 1

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = HitShakeOver = 1
x = 1
y = 1
persistent = 0

;[State 5030, 3]
;type = ChangeState
;triggerall = !HitFall
;trigger1 = HitshakeOver
;trigger2 = Vel Y > 0    ;Hit ground
;trigger2 = Pos Y >= 10  ;.
;value = 359 ;HITA_RECOV

[State 5030, 5]
type = ChangeState
triggerall = HitShakeOver
trigger1 = AnimTime = 0
trigger2 = Time >= 16
value = 358 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 358]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
;triggerall = !HitFall
trigger1 = HitShakeOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 359 ;HITA_RECOV

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 359]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

; Guard Crush
[Statedef 360]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0

[State 1520, Switch to Wait State]
type = ChangeAnim
trigger1 = Anim != 360
value = 360

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 2
anim = F130
id = 130
pos = 0,0
postype = p1
facing = 1
sprpriority = 3
bindtime = -1
removetime = -1
ignorehitpause = 1
ownpal = 1
shadow = -1,-1,-1
removeongethit = 1

[State 1521, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,16
channel = 0

[State 1520, Switch to Attack State]
type = ChangeState
trigger1 = AnimTime = 0
value = 361

; Guard Crush Wait
[Statedef 361]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0

[State 1520, Switch to Attack State]
type = ChangeState
trigger1 = Time >= 41          ; Changes when statetime 41 passes
trigger2 = var(31) = 1 && (p2stateno = [120,155]) && P2BodyDist X <= 170
trigger3 = Command != "crush" && Time > 4
trigger4 = var(31) = 1 && P2MoveType = A && P2BodyDist X <= 170
value = 362

; Guard Crush
[Statedef 362]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 4,7

[State -2, 2]
type = HitOverride
trigger1 = var(5) || var(7)
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State heh]
type = NotHitBy
trigger1 = var(5) || var(7)
value = SCA
time = 1
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1

[State 1520, Switch to Wait State]
type = ChangeAnim
trigger1 = Anim != 361
value = 361

[State haha]
type = RemoveExplod
trigger1 = Time = 0
id = 130

[State hm]
type = RemoveExplod
trigger1 = 1
id = 36100 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 361
trigger1       = 1 && NumExplod(36100 + AnimElemNo(0)) = 0
anim           = 36500 + AnimElemNo(0)
id             = 36100 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage   = 244 * Ceil(IfElse(life < P2Life, 1.4, 1))
animtype = Hard
getpower = 40, 20
priority = 7
guard = 0
sparkno = 12
pausetime = 16,16
sparkxy =  -37,-71
hitsound   = S0 + (10 * (var(24) = 0)),IfElse(var(24) = 1, 51, var(1))
ground.type = Low
ground.slidetime = 8
ground.hittime  = 11
ground.velocity = -5.5,-3.3
air.velocity = -5.5,-3.3
fall = 1
fall.recover = 0
p2stateno = 256

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F2
pos = -37, -71
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -71
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 1521, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,17
channel = 0

[State 1521, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0 + (6 * (var(24) = 0)),11 - (var(24) = 0)
channel = 2

[State 1521, Voice]
type = PlaySnd
trigger1 = MoveHit && var(24) = 1
value = S0,7
persistent = 0
ignorehitpause = 1

[State 1521, Voice]
type = PlaySnd
trigger1 = MoveHit && var(24) = 1
value = S0,23
persistent = 0
ignorehitpause = 1
channel = 4
;lowpriority = 1

[State haha]
type = StopSnd
trigger1 = RoundState = 3 && var(24) = 1
ignorehitpause = 1
channel = 4

[State 1521, Voice]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_X
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
velset = 0,0,0
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,4

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 430
value = 430
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 430, 0]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),12
channel = 2

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
animtype = Light
damage    = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = L
pausetime = 6,6
sparkxy = -3,-35
sparkno = 0
guard.sparkno = 40
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 0, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -2
air.type = High
air.velocity = -2.2,-3
guard.velocity = -3

[State haha]
type = MoveHitReset
triggerall = Anim = 430
trigger1 = AnimElemNo(0) >= 5
ignorehitpause = 1

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_Y
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 1
velset = 0,0,0
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State haha]
type = VarSet
trigger1 = var(16) = 0
var(20) = 5
ignorehitpause = 1

[State haha]
type = VarSet
trigger1 = var(23) = 1 && MoveContact && var(16) = 0
var(23) = 2
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 440
value = 440
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 440, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),12 + (var(16) = 0)
channel = 2

[State 440, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
animtype = Medium
damage    = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = L
pausetime = 6,6
sparkno = 1
guard.sparkno = 41
sparkxy = -23,-29
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 1, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 10
ground.hittime  = 21
ground.velocity = -2.7
air.type = High
air.velocity = -1.5,-3.2

[State haha]
type = MoveHitReset
triggerall = Anim = 440
trigger1 = AnimElemNo(0) = 6
ignorehitpause = 1

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_Z
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0,0
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,8

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25014
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 450 && Anim != 451
value = 450
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1 && Anim != 451
var(9) = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 450
value = S4,var(2)
channel = 0

[State 450, 3]
type = PlaySnd
triggerall = Anim = 450
trigger1 = Time = 1
trigger2 = AnimElem = 9
value = S0 + (6 * (var(24) = 0)),11 - (var(24) = 0)
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 45000 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 450
trigger1       = 1 && NumExplod(45000 + AnimElemNo(0)) = 0
anim           = 45000 + AnimElemNo(0)
id             = 45000 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 450, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
damage   = 104, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 6, 0)
animtype = Hard
getpower = 15,5
guardflag = M
pausetime = 12,12
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 12), 12
sparkno = 12
guard.sparkno = 42
sparkxy = -4,-64
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 16
ground.hittime  = 28
ground.velocity = -6;3.5
air.type = High
air.slidetime = 6
air.hittime = 8
air.velocity = -1.6,-7
airguard.velocity = -2.5      
guard.kill = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && AnimElemNo(0) = 6 && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F2
pos = -4, -64
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && AnimElemNo(0) = 6 && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -64
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = MoveHitReset
trigger1 = AnimElem = 10
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && AnimElemNo(0) = 12 && target, StateType != A
trigger1 = target, HitShakeOver = 0
anim = F2
pos = -4, -64
postype = P2
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit && AnimElemNo(0) = 12 && target, StateType = A
trigger1 = target, HitShakeOver = 0
anim = F1
pos = Ceil(P2Dist X), -64
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 450, 6]
type = HitDef
trigger1 = AnimElem = 12
attr = C, NA
damage   = 40, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 6, 0)
animtype = Hard
guardflag = M
pausetime = 12,12
guard.pausetime = IfElse(var(16) = 0 && var(17) = 0, 0, 12), 12
sparkno = 12
sparkxy = -4,-64
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
guard.sparkno = 42
ground.type = High
ground.slidetime = 16
ground.hittime  = 28
ground.velocity = -6;3.5
air.type = High
air.slidetime = 6
air.hittime = 8
air.velocity = -1.6,-6.5
airguard.velocity = -2.5      
guard.kill = 0

[State haha]
type = ChangeAnim
trigger1 = MoveGuarded && enemy, StateType != A && var(16) = 0 && var(17) = 0
value = 451
ignorehitpause = 1
persistent = 0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 451
id = 45015
ignorehitpause = 1

[State haha]
type = VelSet
trigger1 = MoveGuarded && var(16) = 0 && var(17) = 0
x = -6.2
ignorehitpause = 1
persistent = 0

[State haha]
type = MoveHitReset
triggerall = Anim = 450
trigger1 = AnimElemNo(0) = 8
trigger2 = AnimElemNo(0) >= 14
ignorehitpause = 1

[State 450, 21]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCHING LOW KICK
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 400
value = 400
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),12 + (var(16) = 0)
channel = 2

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 3 && var(16) = 1
attr = C, NA
damage    = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
animtype = Low
guardflag = L
hitflag = MAFD
sparkno = 0
guard.sparkno = 40
pausetime = 8,8
sparkxy = -23,-4
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 3, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -2.1
air.type = High
air.velocity = -1.4,-3

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 3 && var(16) = 0
attr = C, NA
damage    = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
animtype = Low
guardflag = L
hitflag = M
sparkno = 0
guard.sparkno = 40
pausetime = 8,8
sparkxy = -23,-4
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 3, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -2.1
air.type = High
air.velocity = -1.4,-3

[State haha]
type = MoveHitReset
triggerall = Anim = 400
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_B
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5 + (3 * (var(16) = 1))

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 410
value = 410
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),13
channel = 2

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3 && var(16) = 1
attr = C, NA
animtype = Medium
damage    = 62, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = L
sparkno = 1
hitflag = MAFD
guard.sparkno = 41
pausetime = 10,10
sparkxy = -21,-10
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 4, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 14
ground.hittime  = 18
ground.velocity = -2
air.type = High
air.velocity = -1.8,-3.1

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3 && var(16) = 0
attr = C, NA
animtype = Medium
damage    = 62, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = L
sparkno = 1
Hitflag = M
guard.sparkno = 41
pausetime = 10,10
sparkxy = -21,-10
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 4, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 14
ground.hittime  = 18
ground.velocity = -2
air.type = High
air.velocity = -1.8,-3.1

[State haha]
type = MoveHitReset
triggerall = Anim = 410
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_C
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 2
ctrl = 0
velset = 0,0,0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0 + (4 * (var(16) = 1)),8 + (3 * (var(16) = 1))

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 250
id = 25014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 420
value = 420
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,var(2)
channel = 0

[State 420, 1]
type = PlaySnd
trigger1 = AnimElem = 1, 0
value = S0 + (6 * (var(24) = 0)),14 - (var(16) = 0)
channel = 2

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 3 && var(16) = 1
attr = C, NA
damage   = 96, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = L
Hitflag = MAFD
pausetime = 12,12
sparkxy =  -21,-10
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 5, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
sparkno = 2
guard.sparkno = 42
ground.type = Trip
ground.slidetime = 18
ground.hittime  = 25
guard.hittime = 36
guard.ctrltime = 36
ground.velocity = -2   
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3   
fall = 1

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 3 && var(16) = 0
attr = C, NA
damage   = 96, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = L
Hitflag = M
pausetime = 12,12
sparkxy =  -21,-10
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 5, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
sparkno = 2
guard.sparkno = 42
ground.type = Trip
ground.slidetime = 18
ground.hittime  = 25
guard.hittime = 36
guard.ctrltime = 36
ground.velocity = -2   
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3   
fall = 1

[State 420, 5]
type = SprPriority
trigger1 = Time = 0
value = -2

[State haha]
type = MoveHitReset
triggerall = Anim = 420
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 420, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_X
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,4

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 630
value = 630
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 630
value = S4,var(2)
channel = 0

[State 450, 3]
type = PlaySnd
trigger1 = AnimElem = 3 && Anim = 630
value = S0 + (6 * (var(24) = 0)),12
channel = 2

[State 630, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage   = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = HA
getpower = 15,0
priority = 3
pausetime = 4,4 ;6,6
sparkno = 0
guard.sparkno = 40
sparkxy =  -5,-50
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 0, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 12
ground.hittime  = 21
ground.velocity = -3.5
air.velocity = -6,-6
airguard.velocity = -3
air.juggle = 1
guard.kill = 0
air.slidetime = 8
air.hittime  = 8

[State haha]
type = MoveHitReset
triggerall = Anim = 630
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 660

;JUMP_Y
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 640
value = 640
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 640
value = S4,var(2)
channel = 0

[State 450, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 640
value = S0 + (6 * (var(24) = 0)),10
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 64000 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 640
trigger1       = 1 && NumExplod(64000 + AnimElemNo(0)) = 0
anim           = 64000 + AnimElemNo(0)
id             = 64000 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 640, 2]
type = HitDef
triggerall = Anim = 640
trigger1 = AnimElem = 4
attr = A, NA
damage   = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 11, 0)
guardflag = HA
priority = 3
pausetime = 5,5
sparkno = 11
guard.sparkno = 41
sparkxy =  -5,-20
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 6, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 12
ground.hittime  = 21
ground.velocity = -4
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
air.velocity = -2.5,-3.1
airguard.velocity = -3.3     
guard.kill = 0

[State , AllPalFX0]
type = Explod
triggerall = NumTarget >= 1
trigger1 = MoveHit
anim = F1
pos = Floor(P2Dist x + 5), -20
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = MoveHitReset
triggerall = Anim = 640
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 660

;---------------------------------------------------------------------------
;JUMP_Z
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 5
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,8

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64008
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 650
value = 650
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 1
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 650
value = S4,var(2)
channel = 0

[State 650, 0]
type = PlaySnd
triggerall = Anim = 650
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
value = S0 + (6 * (var(24) = 0)),11 - (var(24) = 0)
channel = 2

[State hm]
type = RemoveExplod
trigger1 = 1
id = 65000 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 650
trigger1       = 1 && NumExplod(65000 + AnimElemNo(0)) = 0
anim           = 65000 + AnimElemNo(0)
id             = 65000 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1

[State 650, 2]
type = HitDef
trigger1 = AnimElem = 6 && P2Name != "psycho shredder[s]"
attr = A, NA
damage   = 84, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 13, 0)
guardflag = HA
pausetime = 14,14
animtype = Hard
;givepower = -999999999,-999999999
sparkno = 12
guard.sparkno = 42
sparkxy =  -25,-20
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5.3
air.velocity = -4.7,-3.5
airguard.velocity = -3.4, -1.2
air.juggle = 1
ground.cornerpush.veloff = -4.2
air.cornerpush.veloff = -4.2
guard.kill = 0

[State 650, 2]
type = HitDef
trigger1 = AnimElem = 6 && P2Name = "psycho shredder[s]"
attr = A, NP
damage   = 84, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 13, 0)
guardflag = HA
pausetime = 16,16
animtype = hard
givepower = -999999999,-999999999
sparkno = 12
sparkxy =  -25,-20
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5.3
air.velocity = -4.7,-3.5
airguard.velocity = -3.4, -1.2
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
air.juggle = 1
ground.cornerpush.veloff = -4.2
air.cornerpush.veloff = -4.2
guard.kill = 0

[State , AllPalFX0]
type = Explod
trigger1 = MoveHit && AnimElemNo(0) = 6
anim = F1
pos = Floor(P2Dist x + 25), -20
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = MoveHitReset
trigger1 = AnimElem = 9

[State 650, 2]
type = HitDef
trigger1 = AnimElem = 10
attr = A, NA
damage   = 32, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 11, 0)
guardflag = HA
animtype = hard
pausetime = 12,12
sparkno = 12
guard.sparkno = 42
sparkxy =  -25,-20
hitsound   = S0 + (9 * (var(24) = 0)),IfElse(var(24) = 1, 8, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -6.3
air.velocity = -4.7,-3.5
airguard.velocity = -3.4, -1.2
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
air.juggle = 1
ground.cornerpush.veloff = -4.2
air.cornerpush.veloff = -4.2
guard.kill = 0

[State , AllPalFX0]
type = Explod
trigger1 = MoveHit && AnimElemNo(0) = 10
anim = F1
pos = Floor(P2Dist x + 5), -20
postype = P1
bindtime = 1
sprpriority = 2
ownpal = 1
persistent = 0
ignorehitpause = 1

[State haha]
type = MoveHitReset
triggerall = Anim = 650
trigger1 = AnimElemNo(0) = 8
trigger2 = AnimElemNo(0) >= 13
ignorehitpause = 1

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 660

;---------------------------------------------------------------------------
;JUMP_A
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 600
value = 600
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 600
value = S4,var(2)
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Anim = 600
trigger1 = AnimElem = 2
value = S0 + (6 * (var(24) = 0)),12 + (var(16) = 0)
channel = 2

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage   = 52, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = HA
animtype = Light
priority = 3
pausetime = 10,10
sparkno = 0
guard.sparkno = 40
sparkxy =  -45,-63
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 3, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -3.6
air.velocity = -2.2,-3
airguard.velocity = -3     

[State haha]
type = MoveHitReset
triggerall = Anim = 600
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 660

;---------------------------------------------------------------------------
;JUMP_B
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0,5 + (3 * (var(16) = 1))

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64008
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 610
value = 610
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 610
value = S4,var(2)
channel = 0

[State 610, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0 + (6 * (var(24) = 0)),13 ;14
channel = 2

[State 610, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage   = 72, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = HA
animtype = Medium
priority = 3
sparkno = 1
guard.sparkno = 41
pausetime = 12,12
sparkxy =  -43,-44
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 4, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -4
air.velocity = -2.5,-3.1
airguard.velocity = -3.3     

[State haha]
type = MoveHitReset
triggerall = Anim = 610
trigger1 = AnimElemNo(0) >= 5
ignorehitpause = 1

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 660

;---------------------------------------------------------------------------
;JUMP_C
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 6
ctrl = 0

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 0 + (4 * (var(16) = 1)),8 + (3 * (var(16) = 1))

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 640
id = 64008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65010
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 650
id = 65013
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 620
value = 620
ignorehitpause = 1

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 620
value = S4,var(2)
channel = 0

[State 620, 1]
type = PlaySnd
trigger1 = Time = 3
value = S0 + (6 * (var(24) = 0)),14
channel = 2

[State 620, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype  = Hard
damage    = 96, IfElse((var(16) = 0 && var(17) = 0) || (PalNo = 9 || PalNo = 12), 5, 0)
guardflag = HA
sparkno = 2
guard.sparkno = 42
pausetime = 12,12
sparkxy = -43,-45
hitsound   = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 5, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.type = High
air.velocity = -3.5,-4.8
guard.velocity = -8

[State haha]
type = MoveHitReset
triggerall = Anim = 620
trigger1 = AnimElemNo(0) >= 6
ignorehitpause = 1

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 660

;JUMP_C
[Statedef 660]
type    = A
movetype= A
physics = A
ctrl = 0

[State haha]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 660
value = 660
ignorehitpause = 1

;---------------------------------------------------------------------------
;ANONYMITY NO. 1
[Statedef 999]
type = S
movetype = A
physics = S
poweradd= 100
ctrl = 0
velset = 0,0,0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 999
value = 999
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = S1,8
channel = 0

[State 1005, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = S0,41

[State hm]
type = RemoveExplod
trigger1 = 1
id = 99900 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 999
trigger1       = 1 && NumExplod(99900 + AnimElemNo(0)) = 0
anim           = 99900 + AnimElemNo(0)
id             = 99900 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 11
attr = S,SA
animtype = Low
damage   = 40, 2
guardflag = MA
hitflag = MAFP
pausetime = 10,10
sparkxy =  -35,-60
sparkno = 3
guard.sparkno = 42
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = -8
air.velocity = -6.7,-4.5
airguard.velocity = -2.4     
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
air.juggle = 1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 12
attr = S, SA
animtype = Low
damage = 76, 6
guardflag = MA
hitflag = MAFP
pausetime = 10,10
sparkno = 3
guard.sparkno = 42
sparkxy =  -35,-60
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = -8
air.velocity = -6.7,-4.5
airguard.velocity = -2.4     
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
air.juggle = 1

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 11 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 11
value = s0,22
channel = 6
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 11
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State haha]
type = MoveHitReset
trigger1 = AnimElemNo(0) = 11 && MoveHit
trigger2 = AnimElemNo(0) >= 16
ignorehitpause = 1

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 12 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State haha]
type = Null;movehitreset
trigger1 = MoveHit && AnimElemNo(0) <= 11
ignorehitpause = 1

[State hell]
type= TargetLifeAdd
trigger1 = AnimElem = 9 && P2Name = "psycho shredder[s]"
value = -360
absolute = 1
kill = 1

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 12
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 12
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1005, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;ANONYMITY NO. 1
[Statedef 1000]
type = S
movetype = A
physics = S
poweradd= 100
ctrl = 0
velset = 0,0,0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1000
value = 1000
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = S1,8
channel = 0

[State 1005, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = S0,41

[State hm]
type = RemoveExplod
trigger1 = 1
id = 99900 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 1000
trigger1       = 1 && NumExplod(99900 + AnimElemNo(0)) = 0
anim           = 99900 + AnimElemNo(0)
id             = 99900 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 11
attr = S,SA
animtype = Low
damage   = 68, 5
guardflag = MA
hitflag = MAFP
pausetime = 10,10
sparkxy =  -35,-60
sparkno = 3
guard.sparkno = 42
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = -8
air.velocity = -6.7,-4.5
airguard.velocity = -2.4     
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
air.juggle = 1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 12
attr = S, SA
animtype = Up
damage   = 120, 9
guardflag = MA
pausetime = 10,10
hitflag = MAFP
priority = 5
sparkno = 3
guard.sparkno = 42
sparkxy = -35,-60
;hitsound = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 5
ground.hittime = 12
ground.velocity = -1, -11.23
guard.velocity = -8
air.velocity = -1.2,-10.5
fall.yvelocity = 8.2
airguard.velocity = -2.4
fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
air.juggle = 2
yaccel = .5
p2stateno = 256

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 11 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 11
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 11
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State haha]
type = MoveHitReset
trigger1 = AnimElemNo(0) = 11 && MoveHit
trigger2 = AnimElemNo(0) >= 16
ignorehitpause = 1

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 12 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State haha]
type = Null;movehitreset
trigger1 = MoveHit && AnimElemNo(0) <= 11
ignorehitpause = 1

[State hell]
type= TargetLifeAdd
trigger1 = AnimElem = 9 && P2Name = "psycho shredder[s]"
value = -360
absolute = 1
kill = 1

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 12
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 12
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1005, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;ANONYMITY NO. 1
[Statedef 1001]
type = S
movetype = A
physics = S
poweradd= 100
ctrl = 0
velset = 0,0,0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1001
value = 1001
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = S1,8
channel = 0

[State 1005, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = S0,41

[State hm]
type = RemoveExplod
trigger1 = 1
id = 99900 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 1001
trigger1       = 1 && NumExplod(99900 + AnimElemNo(0)) = 0
anim           = 99900 + AnimElemNo(0)
id             = 99900 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 11
attr = S,SA
animtype = Low
damage   = 78, 5
guardflag = MA
hitflag = MAFP
sparkno = 3
guard.sparkno = 42
pausetime = 10,10
sparkxy =  -35,-60
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = -8
air.velocity = -6.7,-4.5
airguard.velocity = -2.4     
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
air.juggle = 1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 12
attr = S,SA
damage   = 121, 2
animtype = Back
guardflag = MA
hitflag = MAFP
priority = 6
pausetime = 10,10
sparkno = 3
guard.sparkno = 42
sparkxy =  -35,-60
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -.5,-15
air.velocity = -1,-15
fall.velocity = -2.7,15
airguard.velocity = -2.4
fall.yvelocity = 14
fall = 1
air.fall = 1
forcestand = 1
;down.velocity = -7
down.hittime = 20
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
air.juggle = 2
fall.recover = 0
yaccel = .5
p2stateno = 256

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 11 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 11
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 11
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State haha]
type = MoveHitReset
trigger1 = AnimElemNo(0) = 11 && MoveHit
trigger2 = AnimElemNo(0) >= 16
ignorehitpause = 1

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 12 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State haha]
type = Null;movehitreset
trigger1 = MoveHit && AnimElemNo(0) <= 11
ignorehitpause = 1

[State hell]
type= TargetLifeAdd
trigger1 = AnimElem = 9 && P2Name = "psycho shredder[s]"
value = -360
absolute = 1
kill = 1

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 12
value = s0,22
channel = 6
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 12
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1005, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Anonymity 2 (launch)
[Statedef 1010]
type = S
movetype = I
Physics = S
Poweradd = 40
ctrl = 0
velset = 0,0,0
sprpriority = -2

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1010
value = 1010
ignorehitpause = 1

[State haha]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
x = 4

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1000, 4]
type = Projectile
trigger1 = AnimElem = 7
ProjAnim = 1009         ;Action id 1005 is Shinobu's fireball animation
ProjRemovetime = 20
ProjHitanim = 1009
offset = -20,-10         ;Creation offset from player (x,y)
velocity = 1, 0       ;Speed fireball moves (x,y) (optional)
accel = 0, 0            ;Acceleration (opt)
projsprpriority = -3
projshadow = -1
attr = S, SP
getpower  = 50
hitflag = P
pausetime = 8,8
sparkno = -1
sparkxy = 0, 0
hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))

[State 1002, SFX]
type = PlaySnd
trigger1 = AnimElem = 7
value = S0,46

[State 1002, Change State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1011

[Statedef 1011]
type = A
movetype = A
Physics = N
poweradd = 50
velset = 0,-1.1 ;7

[State not!]
type = ChangeAnim
trigger1 = Anim != 1011
value = 1011
ignorehitpause = 1

[State 1002, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,9
channel = 0

[State 1000, 5]
type = HitDef
attr = A, SA
trigger1 = Time = 0
damage    = 128, 4
animtype  = Back
getpower  = 50
givepower = 30
guardflag = M
sprpriority = -2
pausetime = 14,14
sparkno = 3
guard.sparkno = 42
sparkxy = -10, -60
hitsound   = S0,IfElse(var(24) = 1, 33, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2,-7
airguard.velocity = -3.5      
air.velocity = -2.5,-7.5
air.juggle = 3
fall = 1
air.fall = 1
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State haha]
type = VelAdd
trigger1 = AnimElemNo(0) >= 3
y = .95

[State 1002, PosAdd]
type = Null;Posadd
trigger1 = Time = 0
x = -2;20

[State 1002, VelAdd]
type = VelAdd
trigger1 = AnimElem = 1
y = -6

[State haha]
type = Null;velmul
trigger1 = AnimElem = 7
value = 0

[State 1002, Gravity]
type = Null;Gravity
trigger1 = AnimElem = 3

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1
value = s0,22
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1002, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1016
;ctrl = 1

; Anonymity 2 Y (launch)
[Statedef 1012]
type = A
movetype = A
Physics = S
Poweradd = 40
ctrl = 0
velset = 0,0,0
sprpriority = -2

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 3,11

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1012
value = 1012 + IfElse(var(16) = 0, 2, 0)
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 191, 56]
type = PlayerPush
trigger1 = 1
value = 1

;[state 191, 56]
;type = Width
;trigger1 = 1
;value = 30,0
;ignorehitpause = 1

[State 1000, 4]
type = Projectile
trigger1 = AnimElem = 9
ProjAnim = 1009         
ProjRemovetime = 20
ProjHitanim = 1009
offset = -20,-10         
velocity = 1, 0       
accel = 0, 0            
projsprpriority = -3
projshadow = -1
attr = S, SP
damage    = 31,3
animtype  = Back
hitflag = P
getpower  = 50
givepower = 30
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = 0, 0
hitsound   = S0,IfElse(var(24) = 1, 33, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4   
guard.velocity = -4
airguard.velocity = -3.5      
air.velocity = -2.5,-12.5
air.juggle = 3
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20


[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = 33

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 22

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = 6

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 7
x = 12

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
x = 4

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 9
x = 3

[State 1000, HitDef elbow]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 6
damage    = 60, 7
animtype  = Low
getpower  = 50
givepower = 30
sparkno = 3
guard.sparkno = 42
guardflag = M
pausetime = 11,11
sparkxy = -20, -50
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 2, var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4
airguard.velocity = -2.5,-2.2
air.velocity = -2.5,-6.5
air.juggle = 3
fall = 0
air.fall = 1
sprpriority = -2

[State 1002, SFX]
type = PlaySnd
trigger1 = AnimElem = 9
value = S0,46

[State 1002, Change State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1013

[Statedef 1013]
type = A
movetype = A
Physics = A
poweradd = 50
velset = 2.45,-3.1 ;7.2
sprpriority = -2

[State not!]
type = ChangeAnim
trigger1 = Anim != 1013
value = 1013
ignorehitpause = 1

[State 1002, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,9
channel = 0

[State 1000, HitDef slash]
type = HitDef
attr = A, SA
trigger1 = AnimElem = 1
damage    = 148, 8
animtype  = Back
getpower  = 45
givepower = 30
guardflag = M
pausetime = 18,18
sparkno = 3
guard.sparkno = 42
sparkxy = -25, -55
hitsound   = S0,IfElse(var(24) = 1, 33, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4,-7
airguard.velocity = -1.5,-2.1
air.velocity = -2.5,-6.5
air.juggle = 3
fall = 1
air.fall = 1
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
sprpriority = -2

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1
value = s0,22
ignorehitpause = 1
abspan = Ceil(target, Pos X)
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1002, VelAdd]
type = VelAdd
trigger1 = AnimElem = 1
x = 3
y = -7.2

[State 1002, VelMul]
type = VelMul
trigger1 = AnimElem = 1
x = .3
;y = 1.3

[State 1002, Gravity]
type = Gravity
trigger1 = AnimElem = 4
;y = -.75

[State 1002, ChangeState]
trigger1 = Vel Y > 0
trigger1 = Pos Y >=0
type = ChangeState
value = 1016

; Anonymity 2 Z (launch)
[Statedef 1014]
type = A
movetype = A
Physics = S
Poweradd = 40
ctrl = 0
velset = 0,0,0
sprpriority = -2

[State 180, 5]
type = VarRandom
trigger1 = 1
v = 1
range = 3,11

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Anim != 1012
value = 1012
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1000, 4]
type = Projectile
trigger1 = AnimElem = 10
ProjAnim = 1009         ;Action id 1005 is Shinobu's fireball animation
ProjRemovetime = 20
ProjHitanim = 1009
offset = -20,-10         ;Creation offset from player (x,y)
velocity = 1, 0       ;Speed fireball moves (x,y) (optional)
accel = 0, 0            ;Acceleration (opt)
projsprpriority = -3
projshadow = -1
attr = S, SP
getpower  = 50
hitflag = P
pausetime = 8,8
sparkno = -1
sparkxy = 0, 0
hitsound   = S0,IfElse(var(24) = 1, 33, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))


[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = 33

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 22

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = 6

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 7
x = 12

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
x = 4

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 9
x = 3

[State 1000, 5]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 8
trigger2 = AnimElem = 10
damage    = 72,4
animtype  = Low
getpower  = 50
givepower = 30
guardflag = MA
pausetime = IfElse(AnimElemNo(0) = 8, 12, 14),12 ;6,6
sparkno = 3
guard.sparkno = 42
sparkxy = -25, -50
hitsound = S0 + (12 * (var(24) = 0)),IfElse(var(24) = 1, 2 + (3 * (AnimElemNo(0) = 10)), var(1))
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4   
airguard.velocity = -3.5      
air.velocity = -2.5,-5.5
air.juggle = 3
fall = 1
air.fall = 1
sprpriority = -2

[State whacko]
type = PlaySnd
trigger1 = AnimElem = 10 && MoveHit = 1
value = s0,22
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem >= 10 && MoveHit && NumExplod(300) = 0
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1002, SFX]
type = PlaySnd
trigger1 = AnimElem = 10
value = S0,46

[State 1002, Change State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1015

[Statedef 1015]
type = A
movetype = A
Physics = A
poweradd = 50
velset = 3,-4.2 ;9.2
sprpriority = -2

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1013
value = 1013
ignorehitpause = 1

[State 1002, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,9
channel = 0

[State 1000, 5]
type = HitDef
attr = S, SP
trigger1 = AnimElem = 1
damage    = 122,4
animtype  = Back
getpower  = 50
givepower = 30
guardflag = M
pausetime = 0,8
sparkno = 3
guard.sparkno = 42
sparkxy = -25, -55
hitsound   = S0,IfElse(var(24) = 1, 33, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4,-12
airguard.velocity = -3.5      
air.velocity = -2.5,-12.5
air.juggle = 3
fall = 1
air.fall = 1
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
sprpriority = -2

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1
value = s0,22
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit 
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State not!]
type = ChangeAnim
trigger1 = Anim = 1013 && AnimElemNo(0) = 3 && Vel Y < -2
value = 1013
elem = AnimElemNo(0)
ignorehitpause = 1

[State 1002, VelAdd]
type = VelAdd
trigger1 = AnimElem = 1
x = 3
y = -9.2

[State 1002, VelMul]
type = VelMul
trigger1 = AnimElem = 1
x = .3
;y = 1.3

[State 1002, Gravity]
type = Gravity
trigger1 = AnimElem = 4
;y = -.75

[State 1002, ChangeState]
trigger1 = Vel Y > 0
trigger1 = Pos Y >=0
type = ChangeState
value = 1016

; Anonymity 2 JUMP_LAND
[Statedef 1016]
type    = S
physics = S
ctrl = var(16)
facep2 = IfElse((AnimElem = 2 && Anim = 47), 1, 0)
velset = 0,0

[State 52, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = PlaySnd
trigger1 = Time = 0 && var(16) = 1
value = S0 + (6 * (var(24) = 0)), 16

[State haha]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 47 && Anim != 48
value = 47 + var(16)

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0 && Anim = [47,48]
value = 0
ctrl = 1

; Anonymity # 5
[Statedef 1002]
type    = S
movetype= I
physics = S
poweradd = 100
ctrl = 0
velset = 0,0,0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1002
value = 1002
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 191, 56]
type = VarSet
trigger1 = AnimElemNo(0) = 12
var(5) = 300

[State 1002, Voice]
type = PlaySnd
trigger1 = AnimElem = 6,0
value = S1,12
channel = 0

[State 1002, SFX]
type = PlaySnd
trigger1 = AnimElem = 6,0
value = S0,42

[State 1002, SFX]
type = PlaySnd
trigger1 = AnimElem = 12,0
value = S0,26
channel = 5
loop = 1

[State 1002, Explodanim]
type = Explod
trigger1 = AnimElem = 6;11,0
pos = 0,0
sprpriority = 2
bindtime = 500
anim = 100201
id = 100201
ownpal = 1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
shadow = -1,-1,-1
removeongethit = 1

[State 191, Owl]
type          = Helper
triggerall    = var(16) = 1
trigger1      = AnimTime = 0 && NumHelper(100402) = 0
helpertype    = normal
id            = (100402)
name          = "???"
pos           = 0,0
postype       = p1
stateno       = 100402
sprpriority   = 0
keyctrl       = 1
ownpal        = 1

[State 1002, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Anonymity # 5 Continuation
[Statedef 1004]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
velset = 0

[State 1801, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 1802, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 1803, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 1804, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 1805, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 1806, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 1807, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 1808, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 1809, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 1810, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 18011, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 18012, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 18013, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 18014, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 18015, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 18016, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 18017, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 18018, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 18019, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 18020, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 18021, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 18022, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 18023, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 18024, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 18025, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 18026, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 18027, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 18028, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 18029, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 18030, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 18031, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 18032, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 18033, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 18034, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 18035, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 18036, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 18037, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 18038, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1002, PalFX Remove]
type = VarSet
trigger1 = AnimElem = 7
var(5) = 0

[State 1002, PalFX Remove]
type = VarAdd
trigger1 = AnimElem = 7 && var(7) > 0
var(7) = -280

[State 191, 56]
type = VarSet
trigger1 = 1 && var(7) >= 1 && MoveHit
var(13) = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1004
value = 1004
ignorehitpause = 1

[State 1002, Voice]
type = PlaySnd
trigger1 = AnimElem = 9
value = S1,2
channel = 0

[State 1002, SFX]
type = PlaySnd
trigger1 = AnimElem = 9
value = S0,48

[State 1005, HitDef]
type = HitDef
trigger1 = AnimElem = 9 && var(16) = 1
attr = S,SA
damage   = 172, 12
animtype = Low
hitflag = MAFPD
guardflag = MA
pausetime = 10,50
guard.pausetime = 5,5
sparkxy =  -19,-62
sparkno = 3
guard.sparkno = 42
hitsound   = S0,IfElse(var(24) = 1, 2, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -.5
air.velocity = -.7
airguard.velocity = -.4
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
p2stateno = 100401

[State 1005, HitDef]
type = HitDef
trigger1 = AnimElem = 9 && var(16) = 0
attr = S,SA
damage   = 172, 12
animtype = Low
hitflag = MAF
guardflag = MA
pausetime = 10,50
guard.pausetime = 5,5
sparkxy =  -19,-62
sparkno = 3
guard.sparkno = 42
hitsound   = S0,IfElse(var(24) = 1, 2, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -.5
air.velocity = -.7
airguard.velocity = -.4
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
p2stateno = 100401

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 9
anim = 100401
id = 100401
pos = 0,0
facing = 1
sprpriority = 2
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ownpal = 1
shadow = -1,-1,-1
removeongethit = 1

[State 1002, Remove Explod]
type = RemoveExplod
trigger1 = AnimTime = 0 && !var(7)
trigger1 = MoveContact = 1
ID = 1003
ignorehitpause = 1

[State 1002, PalFX]
type     = PalFX
trigger1 = AnimElem = 7 && !var(7)
Sub      = 0,0,0
SinAdd   = 0,0,0,0
Time     = 2
ignorehitpause = 1

[State haha]
type = StopSnd
trigger1 = AnimElem = 7 && !var(7)
channel = 5
ignorehitpause = 1

[State haha]
type = CtrlSet
trigger1 = AnimElem = 16
value = 1

[State 1002, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State whacko]
type = PlaySnd
trigger1 = MoveHit
value = s0,22
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[Statedef 100401]
type    = U
movetype= H
physics = N
;poweradd= 100
ctrl = 0
;velset = 

[State haha]
type = VelSet
trigger1 = !HitShakeOver
x = 0
y = 0
ignorehitpause = 1

[State haha]
type = VelSet
trigger1 = HitShakeOver
x = -.7 
y = IfElse(pos Y < 0, -.3, 0)
persistent = 0

[State what]
type = Null;StateTypeSet
trigger1 = Pos Y < 0
value = A

[State what]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State what]
type = ChangeAnim2
trigger1 = Time = 0 && StateType != A
value = 100402
ignorehitpause = 1

[State what]
type = ChangeAnim
trigger1 = Time >= 0 && StateType = A
value = 5030
ignorehitpause = 1

[State jaja]
type = ChangeAnim
trigger1 = Time = 44
value = IfElse(!Alive, 5030, 5016)

[State hell]
type = SelfState
trigger1 = Time = 45 && !Alive
value = 5030

[State hell]
type = SelfState
trigger1 = Time = 74 && StateType != A
value = 5001

[State hell]
type = ChangeState
trigger1 = Time = 45 && StateType = A && Alive
value = 358 

; Anonymity 5 & ultimate helper
[Statedef 100402]
type = U
movetype = I
physics = U
ctrl = 0
anim = 100202

[State -2, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
ignorehitpause = 1
time = 2

[State haha]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 500, Normal Anim Parry]
type = ReversalDef
trigger1 = Time >= 0
;id = 331
reversal.attr = SCA, NT, ST, HT
pausetime = 0,0
numhits = 0
sparkno = -1
sparkxy = 35,-80
hitsound = S0,9921
p1stateno = 100403 ;Reversal1_success
p2stateno = 3311
ignorehitpause = 1
priority = 7

[State haha]
type = DestroySelf
trigger1 = root, var(5) = 0 && root, var(7) = 0

; If the helper hits
[Statedef 100403]
type = U
movetype = A
physics = U
ctrl = 0
velset = 0,0,0
anim = 100203

[State -2, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
ignorehitpause = 1
time = 2

[State haha]
type = TargetState
trigger1 = NumTarget = 1
trigger1 = Time > 3 
value = 5000
persistent = 0

[State 1002, PalFX Remove]
type = ParentVarSet
trigger1 = Time = 0 && root, var(5) > 0
var(5) = 0

[State 1002, PalFX Remove]
type = ParentVarAdd
trigger1 = Time = 0 && root, var(7) > 0
var(7) = -280

[State 191, 56]
type = ParentVarSet
trigger1 = 1 && root, var(7) >= 1 && MoveHit
var(13) = 1

[State 1005, HitDef]
type = HitDef
trigger1 = Time = 2
damage   = 72, 12
attr = S,SA
animtype = Low
hitflag = MAFPD
guard = 0
pausetime = 0,0
sparkxy =  -19,-62
sparkno = 3
hitsound   = S0,IfElse(var(24) = 1, 2, 99)
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -.5
air.velocity = -.7
airguard.velocity = -.4
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20
p2stateno = 100401

[State whacko]
type = PlaySnd
trigger1 = MoveHit
value = s0,22
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State haha]
type = ChangeState
triggerall = MoveHit
trigger1 = root, var(5) >= 1 || root, var(7) >= 1
trigger1 = P2StateNo = 100401
value = 100402

[State 1002, 24]
type = DestroySelf
triggerall = root, var(5) = 0 && root, var(7) = 0
trigger1 = P2StateNo = 100401

;---------------------------------------------------------------------------
;ANONYMITY NO. 3 (Near to Far)
[Statedef 1005]
type = S
movetype = A
physics = S
poweradd= 100
ctrl = 0
velset = 0,0,0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1005
value = 1005
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 3]
type = PosAdd
trigger1 = AnimElem = 3
x = 9

[State 1005, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 33

[State 1005, 3]
type = PosAdd
trigger1 = AnimElem = 5
x = 35

[State 1002, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 10051

;---------------------------------------------------------------------------
;ANONYMITY NO. 3 (flying)
[Statedef 10051]
type = A
movetype = A
physics = N
ctrl = 0
velset = 5,-4.2,0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1015
value = 1015
ignorehitpause = 1

[State -2, 2]
type = HitOverride
trigger1 = 1 && var(5) >= 1 || var(7) >= 1
attr = SCA, AA, AT, AP
time = 2
ignorehitpause = 1

[State haha]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1 && var(5) >= 1 || var(7) >= 1
value = SCA
time = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 1]
type = PlaySnd
trigger1 = Time = AnimElem = 7
value = S1,10
channel = 0

[State 1005, 2]
type = PlaySnd
trigger1 = Time = AnimElem = 8
value = S0,41

[State VelSet]
type = VelAdd
trigger1 = 1
y = .6

[State hm]
type = RemoveExplod
trigger1 = 1
id = 101500 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 1015
trigger1       = 1 && NumExplod(101500 + AnimElemNo(0)) = 0
anim           = 101500 + AnimElemNo(0)
id             = 101500 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = A,SA
damage   = 52, 8
animtype = Back
guardflag = HA
hitflag = MAFP
priority = 7
pausetime = 11,11
sparkno = 3
guard.sparkno = 42
sparkxy =  -35,-60
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 12
ground.hittime  = 21
ground.velocity = -2.5
air.velocity = -2.7,-4.5
airguard.velocity = -2.4     
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 5 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 5
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 5
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State whatthehell]
type = ChangeState
trigger1 = Vel Y >= 0 && Pos Y > 0 && Time > 7
trigger2 = AnimElem >= 10
value = 10052

; anonymity 3 (on land again)
[Statedef 10052]
type = S
movetype = A
physics = S
ctrl = 0

[State haha]
type = RemoveExplod
trigger1 = 1
id = 101505
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1024
value = 1024
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = var(5) || var(7)
value = SCA
time = 1
ignorehitpause = 1

[State -2, 2]
type = HitOverride
trigger1 = var(5) || var(7)
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State haha]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 3]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State haha]
type = VelSet
trigger1 = 1
y = 0

[State 1005, 3]
type = PosAdd
trigger1 = AnimElem = 6
x = 8

[State hm]
type = RemoveExplod
trigger1 = 1
id = 102400 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 1024 && Anim != 0
trigger1       = 1 && NumExplod(102400 + AnimElemNo(0)) = 0
anim           = 102400 + AnimElemNo(0)
id             = 102400 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = C,SA
damage   = 60, 12
animtype = Back
hitflag = MAFP
priority = 7
guardflag = H;A
pausetime = 11,11
sparkxy =  -35,-60
sparkno = 3
guard.sparkno = 42
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 12
ground.hittime  = 19
ground.velocity = -4.5,-4.7
guard.velocity = -2.5
air.velocity = -2.7,-4.7
airguard.velocity = -2.4     
fall = 1
air.fall = 1
ground.fall = 1
forcestand = 1
down.velocity = -7,0
down.hittime = 20
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 1 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 1
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 1
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = C,SA
damage   = 96, 12
animtype = Back
hitflag = MAFP
priority = 7
guardflag = H;A
pausetime = 16,16
sparkxy =  -35,-60
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
sparkno = 3
guard.sparkno = 42
ground.slidetime = 12
ground.hittime  = 19
ground.velocity = -4.5,-4.7
guard.velocity = -2.5
air.velocity = -2.7,-4.7
airguard.velocity = -2.4     
fall = 1
air.fall = 1
ground.fall = 1
forcestand = 1
down.velocity = -7,0
down.hittime = 20
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 2 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State whacko]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 2
value = s0,22
channel = 6
abspan = Ceil(target, Pos x)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && AnimElemNo(0) = 2
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State haha]
type = MoveHitReset
triggerall = Anim = 1024
trigger1 = AnimElemNo(0) >= 4
ignorehitpause = 1

[State 1005, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ANONYMITY NO. 3 (Near to Far)
[Statedef 1006]
type = S
movetype = A
physics = S
poweradd= 100
ctrl = 0
velset = 0,0,0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State haha]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1005
value = 1005
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1002, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 10061

;---------------------------------------------------------------------------
;ANONYMITY NO. 3 (flying)
[Statedef 10061]
type = A
movetype = A
physics = N
ctrl = 0
velset = 12,-3.2,0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1015
value = 1015
ignorehitpause = 1

[State -2, 2]
type = HitOverride
trigger1 = 1 && var(5) >= 1 || var(7) >= 1
attr = SCA, AA, AT, AP
time = 2
ignorehitpause = 1

[State haha]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1 && var(5) >= 1 || var(7) >= 1
value = SCA
time = 1

[State 10061, extra Gravity]
type = PosAdd
trigger1 = Time = 0
y = -7

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 1]
type = PlaySnd
trigger1 = Time = AnimElem = 7
value = S1,10
channel = 0

[State 1005, 2]
type = PlaySnd
trigger1 = Time = AnimElem = 8
value = S0,41

[State VelSet]
type = VelAdd
trigger1 = 1
y = .6

[State hm]
type = RemoveExplod
trigger1 = 1
id = 101500 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 1015
trigger1       = 1 && NumExplod(101500 + AnimElemNo(0)) = 0
anim           = 101500 + AnimElemNo(0)
id             = 101500 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = C,SA
damage   = 52, 12
animtype = Back
guardflag = H;A
pausetime = 11,11
hitflag = MAFP
priority = 7
sparkno = 3
guard.sparkno = 42
sparkxy =  -35,-60
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 12
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -4.7,-2.5
airguard.velocity = -2.4     
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 5 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State whacko]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 5
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 5
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State whatthehell]
type = ChangeState
trigger1 = Vel Y >= 0 && Pos Y > 0 && Time > 7
value = 10062

; anonymity 3 (on land again)
[Statedef 10062]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0

[State haha]
type = RemoveExplod
trigger1 = 1
id = 101505
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1024
value = 1024
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = var(5) || var(7)
value = SCA
time = 1
ignorehitpause = 1

[State -2, 2]
type = HitOverride
trigger1 = var(5) || var(7)
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State haha]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 3]
type = PosSet
trigger1 = 1
y = 0

[State 1005, 3]
type = PosAdd
trigger1 = AnimElem = 6
x = 8

[State hm]
type = RemoveExplod
trigger1 = 1
id = 102400 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 1024 && Anim != 0
trigger1       = 1 && NumExplod(102400 + AnimElemNo(0)) = 0
anim           = 102400 + AnimElemNo(0)
id             = 102400 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = C,SA
damage   = 60, 12
animtype = Back
hitflag = MAFP
priority = 7
guardflag = H;A
pausetime = 11,11
sparkxy =  -35,-60
sparkno = 3
guard.sparkno = 42
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 12
ground.hittime  = 19
ground.velocity = -4.5,-4.7
guard.velocity = -2.5
air.velocity = -2.7,-4.7
airguard.velocity = -2.4     
fall = 1
air.fall = 1
ground.fall = 1
forcestand = 1
down.velocity = -7,0
down.hittime = 20
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 1 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 1
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 1
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = C,SA
damage   = 96, 12
animtype = Back
hitflag = MAFP
priority = 7
guardflag = H;A
pausetime = 16,16
sparkxy =  -35,-60
;hitsound   = S0,33
sparkno = 3
guard.sparkno = 42
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 12
ground.hittime  = 19
ground.velocity = -4.5,-4.7
guard.velocity = -2.5
air.velocity = -2.7,-4.7
airguard.velocity = -2.4     
fall = 1
air.fall = 1
ground.fall = 1
forcestand = 1
down.velocity = -7,0
down.hittime = 20
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 2 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State whacko]
type = PlaySnd
trigger1 = MoveHit = 1 && AnimElemNo(0) = 2
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && AnimElemNo(0) = 2
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State haha]
type = MoveHitReset
triggerall = Anim = 1024
trigger1 = AnimElemNo(0) >= 4
ignorehitpause = 1

[State 1005, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ANONYMITY NO. 3 (Near to Far)
[Statedef 1007]
type = S
movetype = A
physics = S
poweradd= 100
ctrl = 0
velset = 0,0,0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State haha]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1005
value = 1005
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1002, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 10071

;---------------------------------------------------------------------------
;ANONYMITY NO. 3 (flying)
[Statedef 10071]
type = A
movetype = A
physics = N
ctrl = 0
velset = 12,-3.2,0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1015
value = 1015
ignorehitpause = 1

[State -2, 2]
type = HitOverride
trigger1 = 1 && var(5) >= 1 || var(7) >= 1
attr = SCA, AA, AT, AP
ignorehitpause = 1

[State haha]
type = Null;playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1 && var(5) >= 1 || var(7) >= 1
value = SCA
time = 1

[State 10061, extra Gravity]
type = PosAdd
trigger1 = Time = 0
y = -7

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State 1005, 1]
type = PlaySnd
trigger1 = Time = AnimElem = 7
value = S1,10
channel = 0

[State 1005, 2]
type = PlaySnd
trigger1 = Time = AnimElem = 8
value = S0,41

[State VelSet]
type = VelAdd
trigger1 = 1
y = .6

[State hm]
type = RemoveExplod
trigger1 = 1
id = 101500 + (AnimElemNo(0) - 1)
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1

[State 210, Explod]
type           = Explod
triggerall     = 1 && Anim = 1015
trigger1       = 1 && NumExplod(101500 + AnimElemNo(0)) = 0
anim           = 101500 + AnimElemNo(0)
id             = 101500 + AnimElemNo(0)
postype        = p1
pos            = 0,0
ignorehitpause = 1
ownpal         = 1
sprpriority    = 3
;removetime     = 1
scale = Const(size.xscale), Const(size.yscale)
removeongethit = 1
bindtime       = -1
pausemovetime = -1
supermovetime = -1
shadow = -1,-1,-1

[State 1005, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = C,SA
damage   = 52, 12
animtype = Back
guardflag = H;A
pausetime = 11,11
hitflag = MAFP
priority = 7
sparkno = 3
guard.sparkno = 42
sparkxy =  -35,-60
;hitsound   = S0,33
guardsound = S0 + (7 * (var(24) = 0)),IfElse(var(24) = 1, 21, var(26))
ground.type = Low
ground.slidetime = 12
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -3.7,-2.5
airguard.velocity = -2.4     
palfx.time = 30
palfx.add = 60,10,100
palfx.sinadd = -20,-60,-89,8
palfx.color = 20

[State hehe]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 5 && var(24) = 1
value = s0,33
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State whacko]
type = PlaySnd
trigger1 = MoveHit && AnimElemNo(0) = 5
value = s0,22
channel = 6
abspan = Ceil(target, Pos X)
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = MoveHit && NumExplod(300) = 0 && AnimElemNo(0) = 5
trigger1 = target, MoveType = H
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 1
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State whatthehell]
type = ChangeState
trigger1 = Vel Y >= 0 && Pos Y > 0 && Time > 2;7
value = 10052
;ignorehit

; Anonymity 4
[Statedef 1020]
type    = S
movetype= A
physics = S
poweradd = 60
ctrl = 0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1020
value = 1020
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = A
time = 1

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NT
animtype = Up
hitflag = AF
guard = 0
numhits = 0
pausetime = 0,12
sparkxy = 9999,-99999
hitsound   = S0,IfElse(var(24) = 1, 24, 99)
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -5,-3
air.type = High
air.velocity = -5,-3
p1stateno = 1025
p2facing = 1
p2stateno = 1026
snap = 48,-142
FALL = 1
fall.recover = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
down.bounce = 1
hitonce = 1
yaccel = .5

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 8
anim = 1021
id = 1021
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
scale = Const(size.xscale), Const(size.yscale)
bindtime = -1
ignorehitpause = 1
ownpal = 1
shadow = -1,-1,-1

[State what?!]
type = PlaySnd
trigger1 = AnimElem = 8
value = s0,48

[State what?!]
type = PlaySnd
trigger1 = AnimElem = 8
value = s4,1
channel = 0

[State 1007, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Anonymity 4 fast version
[Statedef 1021]
type    = S
movetype= A
physics = S
poweradd = 60
ctrl = 0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1023
value = 1023
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = A
time = 1

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NT
animtype = Up
hitflag = AF
guard = 0
numhits = 0
pausetime = 0,12
sparkxy = 9999,-99999
hitsound   = S0,IfElse(var(24) = 1, 24, 99)
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -5,-3
air.type = High
air.velocity = -5,-3
p1stateno = 1025
p2facing = 1
p2stateno = 1026
snap = 48,-142
FALL = 1
hitonce = 1
fall.recover = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
down.bounce = 1
yaccel = .5

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 8
anim = 1021
id = 1021
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
scale = Const(size.xscale), Const(size.yscale)
bindtime = -1
ignorehitpause = 1
ownpal = 1
shadow = -1,-1,-1

[State what?!]
type = PlaySnd
trigger1 = AnimElem = 8
value = s0,48

[State what?!]
type = PlaySnd
trigger1 = AnimElem = 8
value = s4,1
channel = 0

[State 1007, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Anonymity 4 success
[Statedef 1025]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1025
sprpriority = -2

[State hehe]
type = PlaySnd
trigger1 = Time = 0
value = s0,22
channel = 3 + (3 * (var(16) = 0))
abspan = Ceil(target, Pos X)
ignorehitpause = 1

[State haha]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

[State haha]
type = Null;changeanim
trigger1 = 1 && Anim != 1025
value = 1025
ignorehitpause = 1
persistent = 0

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 3
anim = 1022
id = 1022
pos = 0,0
postype = p1
facing = 1
sprpriority = 4
scale = Const(size.xscale), Const(size.yscale)
bindtime = -1
ignorehitpause = 1
ownpal = 1
shadow = -1,-1,-1

[State 1007, 24]
type = PlaySnd
trigger1 = AnimElem = 2
value = s1,11
ignorehitpause = 1
channel = 0

[State 1007, 24]
type = PlaySnd
trigger1 = var(24) = 1
value = s0,2
ignorehitpause = 1
channel = 6
persistent = 0

[State 942, 4]
type = EnvShake
Trigger1 = AnimElem = 3
;trigger2 = numtarget = 1
;Trigger2 = animtime = 0 && p2stateno = [5101, 5110]
time = 14
ampl = -10
freq = 90
phase = 100

[State 1007, 24]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,25
channel = 6
ignorehitpause = 1

[State 1007, 24]
type = PlaySnd
trigger1 = var(24) = 1
trigger1 = AnimElem = 3
value = s8,2
ignorehitpause = 1

[State whacko]
type = PlaySnd
trigger1 = var(24) = 1
trigger1 = AnimElem = 3 && var(24) = 1
value = s0,22

[State wtf]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value = Ceil(-128 * fvar(31))
absolute = 1

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 3;time = 17
anim = 300
id = 300
pos = 0,-60
postype = p2
facing = 1
sprpriority = 2
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State 1007, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1026]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0

[State haha]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

[State 1007, 24]
type = ChangeAnim2
trigger1 = Time = 0 && !HitShakeOver
value = 1026

[State 1007, 24]
type = PosAdd
trigger1 = AnimElem = 2
x = 20
y = 38

[State 1007, 24]
type = PosAdd
trigger1 = AnimElem = 3
x = 28
y = 80

[State 1007, 24]
type = PosSet
trigger1 = AnimElem = 4
y = 0

[State whee!]
type = PalFX
trigger1 = AnimTime = 0
time = 30
add = 60,10,100
sinadd = -20,-60,-89,8
color = 20

[State whee!]
type = VelSet
trigger1 = AnimElem = 14 ;,3
x = -7
y = -6

[State 1007, 24]
type = SelfState
trigger1 = P2StateNo != 1025 || P2MoveType = H
value = 5030

[State 1007, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 1027 ;5101
anim = 5030

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 1027]
type    = A
movetype= H
physics = N
ctrl = 0

[State haha]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 1029 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 1029 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 1029]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = Anim = [5050,5059]
trigger1 = Vel Y >= IfElse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = Anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 942, 4]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= IfElse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
time = 14
ampl = -10
freq = 90
phase = 100

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= IfElse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

; Anonymity 4 (horizontal)
[Statedef 1030]
type    = S
movetype= A
physics = S
poweradd = 60
ctrl = 0

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24003
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 240
id = 24008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24502
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24503
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24504
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24505
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 245
id = 24507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35506
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35507
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35508
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35514
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35515
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 355
id = 35516
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25509
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25510
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25511
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25512
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 255
id = 25513
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45004
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45005
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45006
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45007
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45008
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45009
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45011
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45012
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45013
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45014
ignorehitpause = 1

[State 180, VarRandom]
type = RemoveExplod
trigger1 = Anim = 450
id = 45015
ignorehitpause = 1

[State not!]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 1030
value = 1030
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SC
time = 1

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = S, ST
animtype = Hard
hitflag = MF
guard = 0
pausetime = 0,0
;numhits = 0
sparkxy = 9999,-99999
hitsound   = S0 + (7 * (var(24) = 0)),24 - (22 * (var(24) = 0))
ground.type = Low
ground.slidetime = 9
ground.hittime  = 18
ground.velocity = -5,-3
air.type = High
air.velocity = -5,-3
p1stateno = 1035
p2facing = 1
p2stateno = 1036
snap = 87,0
FALL = 1
fall.recover = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
down.bounce = 1

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 7
anim = 1031
id = 1031
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
shadow = -1,-1,-1

[State what?!]
type = PlaySnd
trigger1 = AnimElem = 7
value = s0,48

[State what?!]
type = PlaySnd
trigger1 = AnimElem = 8
value = s4,3
channel = 0

[State 1007, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Anonymity 4 success
[Statedef 1035]
type    = S
movetype= A
physics = S
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 315

[State hehe]
type = PlaySnd
trigger1 = Time = 0
value = s0,22
channel = 3
abspan = Ceil(target, Pos X)
ignorehitpause = 1

[State haha]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

[State 191, 56]
type = VarSet
trigger1 = 1
var(9) = 0

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 6
value = s0 + (6 * (var(24) = 0)),12 + (3 * (var(24) = 0))
channel = 2

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 4
value = s1,1
channel = 0

[State heh!]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = Ceil(-149 * fvar(31))
absolute = 1

[State 942, 4]
type = EnvShake
Trigger1 = AnimElem = 7
time = 14
ampl = -10
freq = 90
phase = 100

[State 1007, 24]
type = PlaySnd
trigger1 = AnimElem = 7
value = s0,25

[State what the hell]
type = PlaySnd
trigger1 = AnimElem = 7 && var(24) = 1
value = S7,2

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 7
anim = 1022
id = 1022
pos = 0,0
postype = p1
facing = 1
sprpriority = 4
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
shadow = -1,-1,-1

[State whacko]
type = PlaySnd
trigger1 = AnimElem = 7 && var(24) = 1
value = s0,22

[State whacko]
type = HitAdd
trigger1 = AnimElem = 7
value = 1

[State 230, Exclamation]
type = Explod
trigger1 = AnimElem = 7
anim = 300
id = 300
pos = 0,-30
postype = p2
facing = 1
sprpriority = 4
bindtime = -1
scale = Const(size.xscale), Const(size.yscale)
ignorehitpause = 1
ownpal = 1
persistent = 0
shadow = -1,-1,-1

[State what the hell]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1036]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0,0

[State haha]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

[State 265, Drawing Priority for the first few frames]
type     = SprPriority
Trigger1 = AnimElem <= 3
value    = -2

[State 265, Drawing Priority for the first few frames]
type     = SprPriority
Trigger1 = AnimElem >= 4
value    = 2

[State ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State wahaha!]
type = PlayerPush
trigger1 = Time = 0
value = 0
time = 120

[State what the hell]
type = ChangeAnim2
trigger1 = Time = 0
value = 311
ignorehitpause = 1

[State heh!]
type = PosAdd
trigger1 = AnimElem = 2,0
x = 23
y = -93 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 2,3
x = 20
y = -20 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 2,6
x = 8
y = -9 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 3
x = 6
y = -22 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 4
x = 2
y = 35 ; + -10 pixels

[State heh!]
type = PosAdd
trigger1 = AnimElem = 5
x = 40
y = 95 ; + 80 pixels

[State heh!]
type = PosSet
trigger1 = AnimElem = 6
y = 0

[State WOW!]
type = VelSet
trigger1 = AnimTime = 0
x = -5.3

[State what?]
type = SelfState
trigger1 = P2StateNo != 310 && P2MoveType = H
value = 5030

[State whee!]
type = PalFX
trigger1 = Time = 54
time = 30
add = 60,10,100
sinadd = -20,-60,-89,8

[State what the hell]
type = SelfState
trigger1 = AnimTime = 0
value = 5030 ;5101
anim = 5030

;-

; KO SOund Effect, ETC!
[Statedef 6005]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 999999
sprpriority = -21

[State haha]
type = VarSet
trigger1 = 1
var(19) = 255
ignorehitpause = 1
persistent = 0

[State haha]
type = AssertSpecial
;trigger1 = root, teammode != simul && root, teammode != turns
triggerall = Time <= 85
;trigger1 = root, var(16) <= 1
trigger1 = RoundState >= 3
trigger1 = RoundNo >= 2
flag = nomusic
ignorehitpause = 1

[State 6005, white fadeout]
type           = BGPalFX
triggerall     = Time = 0
trigger1       = root, StateNo = 1522
trigger2       = root, StateNo = 1617
trigger3       = root, StateNo = 1600
trigger4       = root, StateNo = 1700
trigger5       = root, StateNo = 1710
trigger6       = root, StateNo = 1801
add            = 255,255,255
sinadd         = -255,-255,-255,50
time           = 12;20
ignorehitpause = 1
persistent     = 0

[State 6005, red fadeout]
type           = EnvColor ;BGPalFx
triggerall     = TimeMod = 2,0 && Time <= 12
trigger1       = root, StateNo != 1522
trigger1       = root, StateNo != [1610,1617]
trigger1       = root, StateNo != 1600
trigger1       = root, StateNo != 1700
trigger1       = root, StateNo != 1710
trigger1       = root, StateNo != 1801
;add            = 512,0,0
;sinadd         = -512,-512,-512,10
time           = 1
value          = 255,0,0
under           = 1
ignorehitpause = 1
;persistent     = 0

[State 6005, red fadeout]
type           = EnvColor ;BGPalFx
triggerall     = TimeMod = 2,1 && Time <= 12
trigger1       = root, StateNo != 1522
trigger1       = root, StateNo != [1610,1617]
trigger1       = root, StateNo != 1600
trigger1       = root, StateNo != 1700
trigger1       = root, StateNo != 1710
trigger1       = root, StateNo != 1801
;add            = 512,0,0
;sinadd         = -512,-512,-512,10
time           = 1
value          = 155,0,0
under           = 1
ignorehitpause = 1
;persistent     = 0

[State gahaha]
type = AssertSpecial
trigger1 = Time <= 12
trigger1 = root, StateNo != 1522
trigger1 = root, StateNo != 1617
trigger1 = root, StateNo != 1600
trigger1 = root, StateNo != 1700
trigger1 = root, StateNo != 1710
trigger1 = root, StateNo != 1801
flag = nofg
;flag2 = nobardisplay

[State haha]
type = VarAdd
trigger1 = var(19) > 0 ;time = [1,12]
var(19) = -19
ignorehitpause = 1

[State 6005, red fadeout]
type           = EnvColor ;BGPalFx
triggerall     = var(19) > 0 ;time <= 12
trigger1       = root, StateNo = [1610,1617]
time           = 1
value          = var(19),var(19),var(19)
;value = var(19), 0,0
under           = 1
ignorehitpause = 1
;persistent     = 0

[State that enables echo only in the final round]
type = PlaySnd
trigger1 = Time = 0 && root, var(9) = 0
value = S0, IfElse(random >= 500, 59, 37)
ignorehitpause = 1
persistent = 0
volume = 190
abspan = 0
channel = 3

[State that enables echo only in the final round]
type = PlaySnd
trigger1 = Time = 0 && root, var(9) = 1
value = S0, IfElse(random >= 500, 58, 36)
ignorehitpause = 1
persistent = 0
volume = 190
abspan = 0
channel = 3

[State ChangeState!]
type = DestroySelf
trigger1 = RoundState = 0

; Invincibility!!!
[Statedef 5600]
movetype = I;H
StateType = U
ctrl     = 0
velset   = 0,0,0

[State haha]
type = PosFreeze
trigger1 = 1
ignorehitpause = 1

;[State Freeze Anim]
;type = ChangeAnim
;trigger1 = 1 ;alive && (var(11) = animelemno(0)) && animtime != 0
;value = Anim
;elem = var(11)
;ignorehitpause = 1

[State lol]
type     = Null;pause
trigger1 = Time = 0 && Alive && P2Name != "psycho shredder[s]"
;time     = gethitvar(hittime)
time = GetHitVar(hitshaketime)
ignorehitpause = 1

[State haha]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = GetHitVar(hitshaketime)
ignorehitpause = 1

[State ChangeState]
type       = LifeAdd
trigger1   = Time = 0 && P2Name != "psycho shredder[s]"
;trigger1   = movetype != H
value      = Ceil((GetHitVar(damage) * -1) * .9) * IfElse(P2Name = "psycho shredder[s]", -1, 1)
persistent = 0
kill       = IfElse(var(16) = 1 && var(7) >= 1 && var(7) >= 100, 0, 1)
ignorehitpause = 1

[State ChangeState]
type     = ChangeState
trigger1 = !Alive
value = 5501
;value    = 5030 - (ifelse(statetype = S, 30, 0) + ifelse(statetype = C, 20, 0))
;anim     = 5030
ignorehitpause = 1
ctrl = 0

[State 191, 56]
type = VarSet
trigger1 = var(7) >= 1
var(13) = 1
ignorehitpause = 1

[State nyahaha!]
type     = VarSet
trigger1 = Time = 0
var(5)   = 0
ignorehitpause = 1

[State 1002, PalFX]
type     = PalFX
trigger1 = 1 && Time >= 0 && !var(7)
Sub      = 0,0,0
SinAdd   = 0,0,0,0
Time     = 2
ignorehitpause = 1

[State haha]
type     = StopSnd
trigger1 = Time = 0 && !var(7)
;trigger2 = var(7) = 0
channel  = 5
ignorehitpause = 1

[State haha]
type = VarAdd
trigger1 = Time = 0 && var(7) > 0
var(7) = -230
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 27
ignorehitpause = 1

[State bwahahah!]
type = VelSet
trigger1 = Time = 0
x = fvar(1)
y = fvar(2)
ignorehitpause = 1

[State -2, sorry!]
type = ChangeState
triggerall = Alive
triggerall = P2Name = "Minakata Moriya"
trigger1 = !AnimExist(371)
trigger2 = !AnimExist(373)
value = IfElse(pos Y = 0, var(15), 5040)
anim = IfElse(pos Y = 0, 0, 5040)
ignorehitpause = 1
ctrl = 1
ignorehitpause = 1

[State huhuh!]
type = VarSet
trigger1 = var(10) = 2067 && P2Name = "psycho shredder[s]"
trigger2 = P2Name = "psycho shredder[s]" && var(10) = [7000,7999]
var(10) = 0
ignorehitpause = 1

[State huhuh!]
type = VarSet
trigger1 = P2Name = "psycho shredder[s]" ;1&& var(10) = [7000,7999]
var(12) = 1
ignorehitpause = 1

[State haha!]
type = ChangeState
triggerall = Alive
trigger1 = GetHitVar(hitshaketime) = 0 && P2Name != "psycho shredder[s]"
value = var(10)
ctrl = var(12)
ignorehitpause = 1

[State haha!]
type = ChangeState
trigger1 = P2Name = "psycho shredder[s]"
trigger1 = Time = 0 && MoveType = H && P2StateType = S
value = 0
ctrl = 1
ignorehitpause = 1

[State haha!]
type = ChangeState
trigger1 = P2Name = "psycho shredder[s]"
trigger1 = Time = 0 && MoveType = H && P2StateType = C
value = 11
ctrl = 1
ignorehitpause = 1

[State haha!]
type = ChangeState
trigger1 = P2Name = "psycho shredder[s]"
trigger1 = Time = 0 && MoveType = H && P2StateType = A
value = 5040
ctrl = 1
ignorehitpause = 1

; Died while in invincibility
[Statedef 5501]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = IfElse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = Anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = Anim = 5000
trigger2 = Anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = Anim = 5001
trigger2 = Anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = Anim = 5012
trigger2 = Anim = 5002
trigger3 = Anim = 5030
trigger4 = Anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
