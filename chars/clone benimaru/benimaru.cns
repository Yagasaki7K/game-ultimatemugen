[Data]
life = 1200
power = 6660
attack = 110
defence = 120
fall.defence_up = 50
liedown.time = 11
airjuggle = 14
sparkno = s61
guard.sparkno = s48
volume = 160
volumescale = 60
KO.echo = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 15 
ground.front = 15
air.back = 12   
air.front = 12
z.width = 3
attack.width = 4,4 
attack.dist = 160 
proj.attack.dist = 90
head.pos = 0, -94
mid.pos = -1, -66
shadowoffset = -1

[Velocity]
walk.fwd  = 3
walk.back = -3.66666667 
run.fwd  = 5.85714
run.back = -5.3,-4 
jump.neu = 0,-10.2   
jump.back = -3,-10.2 
jump.fwd = 3,-10.2 
runjump.back = -6,-8.1 
runjump.fwd = 7,-13 

[Movement]
airjump.num = 0
yaccel = .5714286  
stand.friction = .829 
crouch.friction = .824 
;===========================================================================
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != ifelse(var(11)=0,0,1) && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = ifelse(var(11)=0,0,1)

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 1]
type = varset
triggerall = abs(var(20)) <= 1
triggerall = !IsHelper
triggerall = movetype != H
triggerall = P2BodyDist x = [-40,55]
triggerall = enemynear,movetype = A
trigger1 = prevstateno = 702
fvar(23) = 1

[State 0, 4] 
type = ChangeState
trigger1 = !alive
value = 5050

[State -1]
type = destroyself
trigger1 = ishelper
ignorehitpause = 1
;----------------------------------------------
[Statedef 1]
ctrl = 0
velset = 0,0

[State a]
type = RemoveExplod
trigger1 = 1
ignorehitpause = 1

[State a]
type = PalFX
Trigger1 = !time
time = 1
ignorehitpause = 1

[State a]
type = AfterImage
Trigger1 = !time
time = 1
ignorehitpause = 1

[State -2]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1

[State -2]
type = SelfState
trigger1 = !IsHelper
value = 0
ctrl = 1
;------------------------

; Jump Start
[Statedef 40]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 40, 1]
type = ChangeState
triggerall = var(9) != 0
trigger1 = time = 0
value = 0
ctrl = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 40, 3]
type = VarSet
trigger1 = command = "longjump"
trigger2 = prevstateno = 100 && command = "holdfwd"
var(8) = 1

[State 40, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 6]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 7]
type = PlaySnd
trigger1 = AnimTime = 0 && (var(8) = 0 || (var(8) && Sysvar(1) = 0))
value = 3,0 ;Normal jump

[State 40, 8]
type = PlaySnd
trigger1 = var(8) && Sysvar(1) != 0 && AnimTime = 0 
value = 3,2 ;Super jump

[State 120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = time >= 0
value = , NT,ST,HT
;----------------------------------------------------------------------------
[State 40, 3]
type = VarSet
triggerall = var(9) = 1
trigger1 = p2bodydist x = [160,185]
trigger2 = random <= 1000
var(8) = 1

[State 40, 4]
type = VarSet
trigger1 = var(9) = 1
trigger1 = P2bodydist x = [-10,40]
sysvar(1) = 0

[State 40, 4]
type = VarSet
trigger1 = var(9) = 1
trigger1 = P2bodydist x > 60
trigger1 = p2statetype != L
sysvar(1) = 1

[State 40, 5]
type = VarSet
trigger1 = var(9) = 1
trigger1 = P2bodydist x = [0,60]
trigger1 = P2statetype = L
trigger1 = backedgebodydist > 30
sysvar(1) = -1

;----------------------------------------------------------------------------
[State 40, Invincibility]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 40, 10]
type = ChangeState
trigger1 = var(9) = 1 && AnimTime = 0
trigger1 = p2bodydist x = [160,185]
value = 50
ctrl = 1

[State 40, 9]
type = ChangeState
trigger1 = AnimTime = 0 && command != "holdup"
value = 950
ctrl = 1

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

; Jump Up
[Statedef 50]
type    = A
physics = A

[State 40, 1]
type = ChangeState
triggerall = var(9) != 0
trigger1 = pos y >= 0
value = 0
ctrl = 1

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = VelSet
trigger1 = Time = 0 && var(8)
x = IfElse(vel x = 0,0,IfElse(vel x < 0,-4.5,4.5))

[State 50, 3]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 50, Afterimage]
type = Afterimage
trigger1 = stateno = 50 && var(8)
trigger1 = Time = 0 && var(8) && Vel X != 0
time = 2
length = 7
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 50, fterimagetime]
type = Afterimagetime
trigger1 = stateno = 50 && var(8)
trigger1 = time%2 = 0
time = 2

[State -1]
type = destroyself
trigger1 = ishelper
;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
velset = 0,0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s13,0
volumescale = 50

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, VarSet]
type = VarSet
trigger1 = time = 0
v = 49
value = 5

[State 52, NotHitBy];No Recibir Golpes al Tocar el Piso
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 1

[State 52, 3]
type = changestate
trigger1 = time = 1 && command = "holdup"
value = 40
ctrl = 0

[State 52, CtrlSet]
type = CtrlSet
triggerall = command != "holdup"
trigger1 = time = 0
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State -1]
type = destroyself
trigger1 = ishelper
;===========================================================================

;===========================================================================
; DASH (common state override)
;===========================================================================
[Statedef 100]
type    = S
physics = N
velset = 0,0
sprpriority = 1
anim = 100
ctrl = 0

[State haha]
type = Turn
triggerall = prevstateno = [390,391]
triggerall = time = 0
trigger1 = P2Dist X < 0

[State 100, NoWalk]
type = Velset
trigger1 = Animelem = 2, >= 0
x = const(velocity.run.fwd.x)+2

[State 100, NoWalk]
type = AssertSpecial
trigger1 = 1
flag = nowalk

[State 100, DashSound]
type = PlaySnd
trigger1 = animelem = 2
value = s3,4
loop = 1
channel = 11

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
triggerall = command != "holdfwd"
trigger1 = AnimElem = 5, >= 0
value = 0
ctrl = 1

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 100, 5.2]
type = ChangeState
triggerall = var(9) = 1
triggerall = AnimElem = 3, >= 0
trigger1 = (P2bodydist X <= 90&&enemynear,movetype = A)||(P2bodydist X <= 60&&enemynear,movetype != A)
value = 0
ctrl = 1
ignorehitpause = 1

[Statedef 101]
type = S
physics = S
anim = 101
ctrl = 1

[State 101, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; Hop back (start)
[Statedef 105]
type = S
movetype = I
physics = S
anim = 105
velset = 0
ctrl = 0

[State 105, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 106

; Hop back (air)
[Statedef 106]
type = A
movetype = I
physics = N
anim = 106
velset = -10,-5.45

[State 106, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 3,3

[State 106, Slow]
type = VelAdd
trigger1 = Time > 0
y = .73

[State 106, Gravity]
type = VelMul
trigger1 = Time > 2
x = .89

[State 106, State]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 107

;Hop Back (landing)
[Statedef 107]
type = S
movetype = I
physics = S
anim = 107
velset = 0,0

[State 107, Align]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s13,0
volumescale = 50

[State 107, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;========================================
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151


[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4
;===========================================================================
; LOSE (Time over)
;===========================================================================
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, Voice]
channel = 0
type = PlaySnd
trigger1 = AnimElem = 3
value = S10,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;===========================================================================
; WINPOSE SELECT
;===========================================================================
[Statedef 180]
type = S

[State 180, 2]
type = ChangeState
trigger1 = 1
value = 180+(random%7)

;===========================================================================
; WINPOSE 1
;===========================================================================
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, Width]
type = Width
trigger1 = 1
edge = 0,40

[State 181, Assert]
type = AssertSpecial
trigger1 = time = [0,260]
flag = roundnotover
value = 1

[State 181, Move1]
type = PosAdd
trigger1 = animelem = 2
x = -8

[State 181, Move2]
type = PosAdd
trigger1 = animelem = 3
x = -16

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 1
value = s181,0

[State 181, Voice]
type = PlaySnd
trigger1 = animelem = 7
value = s7,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;===========================================================================
; WINPOSE 2
;===========================================================================
[Statedef 182]
type = S
ctrl = 0
anim = 182+ifelse(random%2,0,7)
velset = 0,0

[State 182, Width]
type = null;Width
trigger1 = 1
edge = 0,40

[State 182, Assert]
type = AssertSpecial
trigger1 = time = [0,150]
flag = roundnotover

[State 182, Voice]
type = PlaySnd
triggerall = anim = 182
trigger1 = AnimElem = 1
value = s7,1

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;===========================================================================
; WINPOSE 3
;===========================================================================
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, Width]
type = null;Width
trigger1 = 1
edge = 0,40

[State 183, Assert]
type = AssertSpecial
trigger1 = time = [0,240]
flag = roundnotover

[State 183, Sparks]
type = null;Explod
trigger1 = animelem = 4
anim = 8000
sprpriority = 2
postype = p1
pos = 0,0
bindtime = 120
ownpal = 1

[State 183, Sparks]
type = null;Explod
trigger1 = animelem = 4
anim = 8005
sprpriority = 2
postype = p1
pos = 0,0
bindtime = 120
ownpal = 1

[State 1310, Spark]
type = Explod
triggerall = animelem = 4
trigger1 = !numExplod(1530)
anim = 1530
id = 1530
postype = p1
pos = 25,0;-30,0
facing = -1
removetime = -1
bindtime = -1
sprpriority = 8
supermove = 1
ownpal = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 136
id = 1530

[State 1310, Spark]
type = Explod
triggerall = animelemtime(14) = 0
trigger1 = !numExplod(4147)
anim = 4147
id = 4147
postype = p1
pos = 0,2
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1
ownpal = 1

[State 183, Bright]
type = PalFX
trigger1 = time = 135
time = 1
add = 96,96,96
ignorehitpause = 1

[State 183, Bright]
type = PalFX
trigger1 = time = 136
time = 1
add = -96,-96,-96
ignorehitpause = 1

[State 183, SFX]
type = PlaySnd
trigger1 = animelemtime(14) = 1
value = s13,11
volume = -100

[State 183, Voice]
type = PlaySnd
trigger1 = time = 136
value = s7,2
volume = 16
channel = 0

[State 183, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;===========================================================================
; WINPOSE 4 - lightning-hand-over-face
;===========================================================================
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 184, Width]
type = null;Width
trigger1 = 1
edge = 0,40

[State 184, Assert]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

[State 183, Sparks]
type = Explod
trigger1 = animelem = 11
anim = 1084;8010
sprpriority = 999;-2
postype = p1
pos = 0,0
ontop = 1
bindtime = -1;120
ownpal = 1

[State 183, SFX]
type = PlaySnd
trigger1 = animelem = 11
value = s13,10;3,5

[State 183, Bright]
type = PalFX
trigger1 = time = 77
time = 1
add = 96,96,96
ignorehitpause = 1

[State 183, Bright]
type = PalFX
trigger1 = time = 78
time = 1
add = -96,-96,-96
ignorehitpause = 1

[State 184, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;===========================================================================
; WINPOSE 5 - "I love you."
;===========================================================================
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 185, Width]
type = null;Width
trigger1 = 1
edge = 0,40

[State 185, Assert]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

[State 185, Voice]
type = PlaySnd
trigger1 = animelem = 4
value = 7,3
channel = 0

[State 185, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;===========================================================================
; WINPOSE 6 - "See you next time"
;===========================================================================
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 187, Width]
type = null;Width
trigger1 = 1
edge = 0,40

[State 186, Assert]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

[State 186, Voice]
type = PlaySnd
trigger1 = animelem = 14
value = s6,9
channel = 0
volume = 100

[State 186, Sparks]
type = Explod
trigger1 = animelemtime(8) = 0;3
anim = 82;188
sprpriority = 4
postype = p1
pos = -5,-5;0,0
bindtime = -1
scale = .85,.85
ownpal = 1

[State 186, SFX]
type = PlaySnd
trigger1 = Animelem = 9;3
value = s13,5;3,5

[State 186, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;===========================================================================
; WINPOSE 7 - "Gomene"
;===========================================================================
[Statedef 187]
type = S
ctrl = 0
anim = 187
velset = 0,0

[State 187, Width]
type = null;Width
trigger1 = 1
edge = 0,40

[State 187, Assert]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

[State 187, Voice]
type = PlaySnd
trigger1 = animelem = 5
value = s6,10
channel = 0
volume = 100

[State 187, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;============================================
[Statedef 5900]
type = S

[state a]
type = destroyself
trigger1 = ishelper
ignorehitpause = 1

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = time = 0
value = ifelse(roundno = 1,191,199)
;===========================================================================
; INTRO
;===========================================================================
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, KyoIntro]
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "NeoKyo" || p4name = "NeoKyo"
trigger2 = p2name = "Kyo99" || p4name = "Kyo99"
trigger3 = p2name = "Kyo Kusanagi" || p4name = "Kyo Kusanagi"
trigger4 = p2name = "Gameboy Kyo" || p4name = "Gameboy Kyo"
trigger5 = p2name = "Kyo Clone-10"|| p4name = "Kyo Clone-10"
trigger6 = p2name = "Boss Kyo"|| p4name = "Boss Kyo"
trigger7 = p2name = "Boss Kyo"|| p4name = "Boss Kyo"
trigger8 = p2name = "Kyo"|| p4name = "Kyo"
trigger9 = p2name = "Kyo_WLS"|| p4name = "Kyo_WLS"
trigger10 = p2name = "Kyo-type-S"|| p4name = "Kyo-type-S"
trigger11 = p2name = "KyoXIII" || p4name = "KyoXIII"
trigger12 = p2name = "Kyo_arrange" || p4name = "Kyo_arrange"
trigger13 = p2name = "Kyo_2002um"|| p4name = "Kyo_2002um"
trigger14 = p2name = "Kyo Clone-1"|| p4name = "Kyo Clone-1"
trigger15 = p2name = "Kyo Clone-2"|| p4name = "Kyo Clone-2"
trigger16 = p2name = "EX-Kyo"|| p4name = "EX-Kyo"
trigger17 = p2name = "Kyo-type-U"|| p4name =  "Kyo-type-U"
trigger18 = p2name = "Kyo-98"|| p4name = "Kyo-98"
trigger19 = p2name = "Kyo-96"|| p4name = "Kyo-96"
trigger20 = p2name = "AD_KYO"|| p4name = "AD_KYO"
value = 193

[State 191, GirlIntro]
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "Blue Mary" || p4name = "Blue Mary"
trigger2 = p2name = "Mai Shiranui" || p4name = "Mai Shiranui"
trigger3 = p2name = "Leona" || p4name = "Leona"
trigger4 = p2name = "Yuri Sakazaki" || p4name = "Yuri Sakazaki"
trigger5 = p2name = "Shermie" || p4name = "Shermie"
trigger6 = p2name = "Mature" || p4name = "Mature"
trigger7 = p2name = "Vice" || p4name = "Vice"
trigger8 = p2name = "Chizuru" || p4name = "Chizuru"
trigger9 = p2name = "Li Xiangfei" || p4name = "Li Xiangfei"
trigger10 = p2name = "Kasumi Todo" || p4name = "Kasumi Todo"
trigger11 = p2name = "kyoko_typeP"|| p4name = "kyoko_typeP"
trigger12 = p2name = "Yumiduka_Satsuki"|| p4name = "Yumiduka_Satsuki"
trigger13 = p2name = "Saber"||p4name = "Saber"
trigger14 = p2name = "yuri_S"|| p4name = "yuri_S"
trigger15 = p2name = "InuSakuya"|| p4name = "InuSakuya"
trigger16 = p2name = "Hei Meiling"|| p4name = "Hei Meiling"
trigger17 = p2name = "Hei_F"|| p4name = "Hei_F"
trigger18 = p2name = "Alice Margatroid"|| p4name = "Alice Margatroid"
trigger19 = p2name = "Saku"|| p4name = "Saku"
trigger20 = p2name = "Kanna"|| p4name ="Kanna"
trigger21 = p2name = "Athena Asamiya"|| p4name ="Athena Asamiya"
trigger22 = p2name = "celene"|| p4name ="celene"
trigger23 = p2name = "W-Reimu"|| p4name ="W-Reimu"
trigger24 = p2name = "Konata Izumi"|| p4name ="Konata Izumi"
trigger25 = p2name = "Nayuki Minase"|| p4name ="Nayuki Minase"
trigger26 = p2name = "Mai_K"|| p4name ="Mai_K"
trigger27 = p2name = "Misuzu_K"|| p4name ="Misuzu_K"
trigger28 = p2name = "Ayu Tukimiya"|| p4name ="Ayu Tukimiya"
trigger29 = p2name = "Physalis"|| p4name ="Physalis"
trigger30 = p2name = "Physalis_F" || p4name ="Physalis_F" 
trigger31 = p2name = "Inaba Tei"|| p4name ="Inaba Tei"
trigger32 = p2name = "TEOC REISEN"|| p4name ="TEOC REISEN"
trigger33 = p2name = "Kunagi Tenrou"|| p4name ="Kunagi Tenrou"||enemynear,name="R-kunagi"
trigger34 = p2name = "Aya Syameimaru"|| p4name ="Aya Syameimaru"
trigger35 = p2name = "Tohno Akiha"|| p4name ="Tohno Akiha"
trigger36 = p2name = "Another Blood"|| p4name ="Another Blood"
trigger37 = p2name = "Kung Fu Girl"|| p4name ="Kung Fu Girl"
trigger38 = p2name = "Mishio Amano"|| p4name = "Mishio Amano"
trigger39 = p2name = "Absolute_White_Len" || p4name = "Absolute_White_Len" 
trigger40 = p2name = "Mai Kawasumi"|| p4name = "Mai Kawasumi"
trigger41 = p2name = "Saki_Tsuzura"|| p4name = "Saki_Tsuzura"
trigger42 = p2name = "Misuzu"|| p4name = "Misuzu"
trigger43 = p2name = "Gloria" || p4name ="Gloria" 
trigger44 = p2name = "HATSUNE MIKU" || p4name ="HATSUNE MIKU"
trigger45 = p2name = "Kula"|| p4name ="Kula"
trigger46 = p2name = "RYUKO"|| p4name ="RYUKO"
trigger47 = p2name = "RYUKO2nd" || p4name ="RYUKO2nd" 
trigger48 = p2name = "Setsuna Sakurazaki" || p4name ="Setsuna Sakurazaki"
trigger49 = p2name = "bridget" || p4name ="bridget"
trigger50 = p2name = "Mizuka Nagamori" || p4name ="Mizuka Nagamori"
trigger51 = p2name = "Yukino Ozawa" || p4name ="Yukino Ozawa"
trigger52 = p2name = "Hakufu Sonsaku" || p4name ="Hakufu Sonsaku"
trigger53 = enemynear,name = "Yuka Kazami"||enemynear,name="White Len_MA"||enemynear,name = "Athena 2003"
trigger54 = p2name="USHIROMIYA ANGE"|| p4name = "USHIROMIYA ANGE"
trigger55 = p2name="Original_Flandre"|| p4name = "Original_Flandre"
trigger55 = p2name ="Final Zeroko"|| p4name ="Final Zeroko"
trigger56 = p2name = "Igniz_Scarlet"|| p4name = "Igniz_Scarlet"
trigger57 = p2name = "Hiedano Akyu"|| p4name = "Hiedano Akyu"
value = 196

[State 191, IntroB]
type = VarRandom
trigger1 = time = 0
v = 13
range = 0,3

[State 191, State]
type = ChangeState
trigger1 = var(13) = 1||enemy,name="Iori Clone-9"
value = 192

[State 191, State]
type = ChangeState
trigger1 = var(13) = 2
value = 194

[State 191, State]
type = ChangeState
trigger1 = var(13) = 3
value = 198

[State 191, Assert]
type = AssertSpecial
trigger1 = time = [0,700]
flag = intro

[State 191, Voice]
channel = 0
type = PlaySnd
trigger1 = AnimElem = 3
value = s6, 1

[State 191, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;===========================================================================
;INTRO B - "Ja... yaru ka?"
;===========================================================================
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, Assert]
type = AssertSpecial
trigger1 = time = [0,700]
flag = intro

[State 192, Voice1]
type = PlaySnd
trigger1 = time = 20
value = S6,3

[State 192, Voice2]
type = PlaySnd
trigger1 = AnimElem = 7
value = S6,4

[State 192, SFX]
type = PlaySnd
trigger1 = animelem = 5,1
value = S13,9;3,5
volume = -60

[State 192, SFX]
type = PlaySnd
trigger1 = animelem = 6
value = S13,9
volume = -100

[State 192, Spark]
type = NULL;Explod
trigger1 = AnimElem = 7
anim = 4110
postype = p1
pos = 0,0
sprpriority = 4
bindtime = -1
ownpal = 1

[State 955, FLAME]
type = Explod
trigger1 = AnimElemTIME(5) = 0
anim = 1090
pos = 3,-38
sprpriority = 10
shadow = 68,68,68
ownpal = 1
facing = -1
scale = .6,.6

[State 1310, Spark]
type = Explod
triggerall = !numExplod(1530)
triggerall = time >= 0
trigger1 = AnimElemTIME(8) <= 0
anim = 1530
id = 1530
postype = p1
pos = -30,0
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1

[State 192, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;===========================================================================
;INTRO VS. KYO - "Ikuze... Kyo."
;===========================================================================
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 192, Assert]
type = AssertSpecial
trigger1 = time = [0,700]
flag = intro

[State 192, Voice1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 6,5

[State 192, Voice2]
type = PlaySnd
trigger1 = AnimElem = 8,=20
value = 6,6

[State 192, Voice2]
type = PlaySnd
trigger1 = AnimElem = 17
value = S193,2

[State 191, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;===========================================================================
;INTRO C - "Kakugo wa dekita ka na?"
;===========================================================================
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 194, Assert]
type = AssertSpecial
trigger1 = time = [0,700]
flag = intro

[State 191, Voice]
channel = 0
type = PlaySnd
trigger1 = AnimElem = 3
value = 6, 0

[State 194, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;===========================================================================
;INTRO D - KOF2K intro
;===========================================================================
[Statedef 198]
type = S
ctrl = 0
velset = 0,0

[State 194, Anim]
type = Changeanim
trigger1 = roundstate = 0
value = 198

[State 198, Assert]
type = AssertSpecial
trigger1 = time = [0,700]
flag = intro

[State 198, Voice]
channel = 0
type = PlaySnd
trigger1 = AnimElem = 9,= 5
value = 6, 1

[State 198, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------
[Statedef 199]
type = S
ctrl = 0
velset = 0,0
anim = 199

[State 198, Assert]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 198, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = s6,5

[State 1]
type = Explod
triggerall = numExplod(41455) < 5
triggerall = animelemtime(4) = [5,15]
trigger1 = timemod = 3,1
anim = 4145
id = 41455
postype = p1
pos = 20,-70
random = 60,85
bindtime = 1
ownpal = 1
sprpriority = 15

[State 1]
type = Explod
triggerall = numExplod(41302) < 5
triggerall = animelemtime(4) = [5,15]
trigger1 =  timemod = 3,1
anim = 4130
id = 41302
postype = p1
pos = 20,-65
random = 60,75
bindtime = 1
ownpal = 1
sprpriority = 10

[State 1]
type = Explod
triggerall = numExplod(41257) < 5
triggerall = animelemtime(4) = [5,15]
trigger1 = timemod = 3,1
anim = 4125
id = 41257
postype = p1
pos = 20,-70
random = 60,85
bindtime = 1
ownpal = 1
sprpriority = 10

[State 1]
type = Explod
triggerall = numExplod(41456) < 5
triggerall = animelemtime(4) = [5,15]
trigger1 = timemod = 3,1
anim = 4145
id = 41456
postype = p1
pos = -20,-70
random = 60,85
bindtime = 1
ownpal = 1
sprpriority = 15

[State 2]
type = Explod
triggerall = numExplod(41301) < 5
triggerall = animelemtime(4) = [5,15]
trigger1 =  timemod = 3,1
anim = 4130
id = 41301
postype = p1
pos = -20,-65
random = 60,75
bindtime = 1
ownpal = 1
sprpriority = 10

[State 3]
type = Explod
triggerall = numExplod(41257) < 5
triggerall = animelemtime(4) = [5,15]
trigger1 = timemod = 3,1
anim = 4125
id = 41257
postype = p1
pos = -20,-70
random = 60,85
bindtime = 1
ownpal = 1
sprpriority = 10

[State 3210, SFX]
type = PlaySnd
trigger1 = animelemtime(4) = 6
value = s13,6

[State 3210, SFX]
type = PlaySnd
trigger1 = animelemtime(4) = 6
value = s13,4

[State 3210, SFX]
type = PlaySnd
trigger1 = animelemtime(4) = 5
value = s13,11

[State 199, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===========================================================================
;TAUNT - "Yare yare..."
;===========================================================================
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
anim = ifelse(random <= 500,197,195)

[State 181, Move1]
type = PosAdd
triggerall = anim = 195
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = -8

[State 181, Move2]
type = PosAdd
triggerall = anim = 195
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
x = 8

[State 195, Voice]
type = PlaySnd
channel = 0
trigger1 = anim = 195
trigger1 = animelem = 1
value = 5,4

[State 195, Voice]
type = PlaySnd
channel = 0
trigger1 = anim = 197
trigger1 = animelem = 1
value = 5,5

[State -2, Explod]
type = Explod
TriggerAll = var(9) = 1 
TriggerAll = RoundState = 3
trigger1 = !numExplod(353532)
anim = 9999
id = 353532
pos = 0,0
postype = p1
bindtime = -1
removetime = 300
ignorehitpause = 1

[State 195, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;===========================================================================
;INTRO VS, GIRLS - "Ikuze... kawaikochan."
;===========================================================================
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 194, Assert]
type = AssertSpecial
trigger1 = time = [0,700]
flag = intro

[State 191, Voice]
channel = 0
type = PlaySnd
trigger1 = AnimElem = 3
value = 6, 7

[State 191, Voice]
channel = 0
type = PlaySnd
trigger1 = AnimElem = 3, =50
value = 6, 8

[State 194, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;===========================================================================
;STAND AND CLOSE STAND NORMAL ATTACKS
;===========================================================================
;STAND A
[Statedef 200]
type = S 
movetype= A 
physics = S 
juggle = 8
velset = 0,0
ctrl = 0 
anim = 200 
poweradd = 35

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 200, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 200, SFX]
type = PlaySnd
trigger1 = animelem = 1
value = S0,0

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 38
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
poweradd = 20,5
pausetime = 12,14+(var(11)=1)*2
sparkno = s60
guard.sparkno = s30
sparkxy = 10,-88
hitsound = S0,1
guardsound = S2,0
ground.type = High
ground.slidetime = ifelse((var(40)>0||var(37)>0||var(11)=1),20,10)
ground.hittime = ifelse((var(40)>0||var(37)>0||var(11)=1),20,10)
ground.velocity = -5.6;6.1
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
getpower = 32,28
givepower = 15,15

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 21,0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;CLOSE A
[Statedef 205]
type = S 
movetype= A 
physics = S 
juggle = 8
velset = 0,0
ctrl = 0 
anim = 205
poweradd = 35

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 205, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 200, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 29
animtype = Light
guardflag = MA
poweradd = 20,5
hitflag = MAF
priority = 3, Hit
pausetime = 12, 14+(var(11)=1)*2
sparkno = s60
guard.sparkno = s30
sparkxy = 10,-88
hitsound = S0,1
guardsound = S2,0
ground.type = High
ground.slidetime = ifelse((var(40)>0||var(37)>0||var(11)>0),20,10)
ground.hittime = ifelse((var(40)>0||var(37)>0||var(11)>0),20,10)
ground.velocity = -5.6;6.1
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
getpower = 32,28
givepower = 15,15

[State 205, SFX]
type = PlaySnd
trigger1 = AnimElem = 2
value = 21,0

[State 205, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand B
[Statedef 210]
type = S 
movetype= A 
physics = S 
juggle = 8 
velset = 0,0
ctrl = 0 
anim = 210 
poweradd = 35

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 210, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 210, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0

[State 210, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 58
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
poweradd = 20,5
sparkno = s60
guard.sparkno = s30
sparkxy = 10,-88
hitsound = S1,1
guardsound = S2,0
ground.type = High
ground.slidetime = ifelse((var(40)>0||var(37)>0),18,9)
ground.hittime = ifelse((var(40)>0||var(37)>0),18,9)
ground.velocity = -6.1
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
getpower = 32,28
givepower = 16,16

[State 210, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;CLOSE B
[Statedef 215]
type = S
movetype= A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 215
poweradd = 35

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 215, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 215, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0

[State 215, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 48
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4,hit;3, Hit
pausetime = 13,13
poweradd = 20,5
sparkno = s60
guard.sparkno = s30
sparkxy = 10,-80
hitsound = S1,1
guardsound = S2,0
ground.type = High
ground.slidetime = ifelse((var(40)>0||var(37)>0),20,10)
ground.hittime = ifelse((var(40)>0||var(37)>0),20,10)
ground.velocity = -6.1
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
getpower = 32,30
givepower = 16,16
air.juggle = 15

[State 215, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;STAND C
[Statedef 220]
type = S 
movetype= A 
physics = S 
juggle = 8 
velset = 0,0
ctrl = 0 
anim = 220 
poweradd = 35

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 220, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,1

[State 220, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0

[State 220, HitDef1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 96
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
poweradd = 20,10
sparkno = s61
guard.sparkno = s30
sparkxy = 10,-88
hitsound = S0,2
guardsound = S2,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
getpower = 32,30
givepower = 16,16

[State 220, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;CLOSE C
[Statedef 225]
type = S
movetype= A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 225
poweradd = 20

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 225, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,1

[State 225, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0

[State 225, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 77
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
poweradd = 40,10
pausetime = 12,12
sparkno = s61
guard.sparkno = s30
sparkxy = 10,-80
hitsound = S0,2
guardsound = S2,0
ground.type = High
air.animtype = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -15
getpower = 32,30
givepower = 16,16
fall = 0

[State 225, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;STAND D
[Statedef 230]
type = S
movetype= A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 230
poweradd = 35

[State 230, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,1

[State 230, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0

[State 230, Move]
type = PosAdd
trigger1 = animelem = 3
x = 2

[State 230, Move]
type = PosAdd
trigger1 = animelem = 4
x = 4

[State 230, Move]
type = PosAdd
trigger1 = animelem = 5
x = 8

[State 230, Move]
type = PosAdd
trigger1 = animelem = 6
x = 4

[State 230, Move]
type = PosAdd
trigger1 = animelem = 7
x = 2

[State 230, HitDef1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 115
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
poweradd = 20,10
sparkno = s61
guard.sparkno = s50
sparkxy = 10,-78
hitsound = S1,2
guardsound = S2,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
getpower = 40,30
givepower = 16,16

[State 230, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;CLOSE D
[Statedef 235]
type = S
movetype= A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 235
poweradd = 35

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 235, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,1

[State 235, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0

[State 235, HitDef1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 80
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
poweradd = 20,10
sparkno = s61
guard.sparkno = s30
sparkxy = 10,-88
hitsound = S1,2
guardsound = S2,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
;guard.velocity = 0 -12
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -15
getpower = 32,30
givepower = 16,16
;guard.slidetime = 18
;guard.hittime = 36
yaccel = .5

[State 235, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;STAND CD
[Statedef 240]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 14
anim = 240
ctrl = 0
poweradd = 35

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 240, Voice]
channel = 0
type = PlaySnd
trigger1 = animelem = 3
value = 5,2

[State 240, SFX]
type = PlaySnd
trigger1 = animelem = 4
value = 1,0

[State 240, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 90
animtype = Heavy
guardflag = MA
hitflag = MAF
air.juggle = 14
priority = 3, Hit
pausetime = 10,12
sparkno = s61
sparkxy = 4,-60
guard.sparkno = s30
hitsound = S2,1
guardsound = S2,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
air.fall = 1
fall.recover = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
yaccel = .5
getpower = 35,30
givepower = 16,16

[State 240, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Counter Hit States
[Statedef 12000]
type = A
movetype = H
physics = N
ctrl = 0
velset = -4,-7

[State 245, Anim]
type = ChangeAnim
trigger1 = time = 0
value = 5050

[State 245, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .43

[State 245,State]
type = SelfState
trigger1 = vel y > 0 && pos y >= 0
value = 5100

[Statedef 12001]
type = A
movetype = H
physics = N
ctrl = 0
velset = -4,-7

[State 246, Anim]
type = ChangeAnim
trigger1 = time = 0
value = 5050

[State 246, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .43

[State 246, State]
type = SelfState
trigger1 = vel y > 0 && pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;Forward + B Normal (Jackknife Kick)
[Statedef 250]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0
anim = 250
poweradd = 35

[State 250, State]
type = ChangeState
trigger1 = animtime = 0
value = 253

;Hop
[Statedef 253]
type = A
movetype = A
physics = N
velset = 4,-3
anim = 253

[State 291, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .45

[State 291, State]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 255

;Land and kick
[Statedef 255]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
juggle = 9
anim = 255

[State 210, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 3
trigger1 = random < 700
value = S5,0

[State 210, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0

[State 255, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 67
animtype = Heavy
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = s61
guard.sparkno = s30
sparkxy = 4,-60
hitsound = S1,2
guardsound = S2,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
getpower = 35,30
givepower = 16,16
air.juggle = 15
fall = ifelse(p2statetype = A,1,0)

[State 255, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 255, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------
;Forward + B Combo (Jackknife Kick)
[Statedef 260]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0
anim = 260
poweradd = 30

[State 260, State]
type = ChangeState
trigger1 = animtime = 0
value = 263

;Hop
[Statedef 263]
type = A
movetype = A
physics = N
velset = 4,-3
anim = 263

[State 263, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .48

[State 263, State]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 265

;Land and kick
[Statedef 265]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
juggle = 9
anim = 265

[State 265, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 265, SFX]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0

[State 265, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 67
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = s61
guard.sparkno = s30
sparkxy = 4,-60
hitsound = S1,2
guardsound = S2,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -9
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
getpower = 35,30
givepower = 16,16
air.juggle = 15
fall = ifelse(p2statetype = A,1,0)

[State 265, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 265, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CD Counter
[Statedef 245]
type = S
movetype = A
physics = S
velset = 0,0
anim = 245
juggle   = ifelse(P2movetype=H,8,15)
ctrl = 0

[State 245, SuperPause]
type = SuperPause
trigger1 = time = 1
darken = 0
anim = -1
time = 10
movetime = 10
poweradd = -1000

[State 1000, PlaySnd]
type = PlaySnd
triggerall = prevstateno = [150,152]
trigger1 = time = 0
value = s5200,1

[State 1000, Explod]
type = Explod
triggerall = prevstateno = [150,152]
trigger1 = time = 0
anim = 7130
pos = 11,-75
postype = p1
bindtime = 1
removetime = -2
supermove = 1
pausemove = 1
ownpal = 1
sprpriority = 5

[State haha]
type = Turn
triggerall = prevstateno = [150,152]
triggerall = time = 0
trigger1 = P2Dist X < 0

[State 245, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 245, Voice]
channel = 0
type = PlaySnd
trigger1 = animelem = 3
value = 5,2

[State 245, SFX]
type = PlaySnd
trigger1 = animelem = 4
value = 1,0

[State 245, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = s61
guard.sparkno = s30
sparkxy = 20,-60
hitsound = S2,1
guardsound = S2,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
air.fall = 1
fall.recover = 0
kill = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
yaccel = .5
kill = 0
getpower = 0,0
givepower = 15,15

[State 290, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;===========================================================================
;CROUCH NORMAL ATTACKS
;===========================================================================
;CROUCH A
[Statedef 400]
type = C
movetype = A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 400
poweradd = 35

[State 400, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0 && random <= 700
value = S5,0

[State 400, SFX]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0

[State 400, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 29
animtype = Light
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
sparkno = s60
guard.sparkno = s30
sparkxy = 10,-44
hitsound = S0,1
guardsound = S2,0
ground.type = Low
ground.slidetime = 11
ground.hittime = 9
ground.velocity = -4.5;-6.5
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
getpower = 32,28
givepower = 15,15

[State 400, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;CROUCH B
[Statedef 410]
type = C
movetype= A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 410
poweradd = 35

[State 410, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0 && random <= 700
value = S5,0

[State 410, SFX]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1,0

[State 410, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 32
animtype = Light
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s60
guard.sparkno = s30
sparkxy = 10,-8
hitsound = S1,1
guardsound = S2,0
ground.type = Low
ground.slidetime = 9
ground.hittime = 8
ground.velocity = -4;-6.5
getpower = 35,28
givepower = 15,15
air.animtype = Back;Blank;
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
;yaccel = 0.45

[State 410, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;CROUCH C
[Statedef 420]
type = C
movetype= A
physics = S
juggle = 9
velset = 0,0
ctrl = 0
anim = 420
poweradd = 35

[State 420, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0 && random <= 700
value = S5,1

[State 420, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0

[State 420, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 77
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
sparkno = s61
guard.sparkno = s30
sparkxy = 10,-44
hitsound = S0,2
guardsound = S2,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
ground.cornerpush.veloff = -18
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -18
getpower = 35,30
givepower = 16,16
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1

[State 420, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;CROUCH D
[Statedef 430]
type = C
movetype= A
physics = S
juggle = 14
velset = 0,0
ctrl = 0
anim = 430
poweradd = 35

[State 430, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0 && random <= 700
value = S5,1

[State 430, SFX]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0

[State 430, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = 87
air.juggle = 14
animtype = Back
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = s61
guard.sparkno = s48
sparkxy = 10,-12
hitsound = S1,2
guardsound = S2,0
ground.type = Trip
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -2,-6.7
air.velocity = -5.5,-5.7
guard.velocity = -12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
yaccel = .45
fall = 1

[State 430, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;===========================================================================
;JUMP NORMAL ATTACKS
;===========================================================================
;JUMP A
[Statedef 600]
type = A
movetype= A
physics = A
juggle = 8
ctrl = 0
anim = 600
poweradd = 35

[State 600, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 600, SFX]
type = PlaySnd
trigger1 = animelem = 1
value = S0,0

[State 600, SFX]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0

[State 600, HitDef]
type = HitDef
;triggerall = (p2stateno != [5020,5040])
;triggerall = p2stateno != [154,155]
trigger1 = AnimElem = 3
attr = A, NA
damage = 38
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
poweradd = 30, 15
sparkno = s60
guard.sparkno = s30
sparkxy = -20,-50
hitsound = S0,1
guardsound = S2,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 9
ground.velocity = -7
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
ground.cornerpush.veloff = -14
getpower = 35,30
givepower = 15,15
yaccel = .6

[State 600, Throw Limitter]
type = null;VarSet
trigger1 = var(15) <= 0
trigger1 = movehit
var(5) = 15
persistent = 0

;JUMP UP A
[Statedef 605]
type = A
movetype= A
physics = A
juggle = 8
ctrl = 0
anim = 605
poweradd = 35

[State 605, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 605, SFX]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0

[State 605, HitDef]
type = HitDef
;triggerall = (p2stateno != [5020,5040])
;triggerall = p2stateno != [154,155]
trigger1 = AnimElem = 2
attr = A, NA
damage = 38
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
poweradd = 20, 5
sparkno = s60
guard.sparkno = s30
sparkxy = -20,-50
hitsound = S0,1
guardsound = S2,0
ground.type = High
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -6.1
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
;guard.velocity = 0 -6.1
ground.cornerpush.veloff = -14
getpower = 32,28
givepower = 16,16

[State 600, Throw Limitter]
type = null;VarSet
trigger1 = var(15) <= 0
trigger1 = movehit
var(5) = 15
persistent = 0

;JUMP B
[Statedef 610]
type = A
movetype= A
physics = A
juggle = 8
ctrl = 0
anim = 610
poweradd = 35

[State 610, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,0

[State 610, SFX]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1,0

[State 610, HitDef]
type = HitDef
trigger1 = AnimElem = 2, = 1
attr = A, NA
damage = 48
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
poweradd = 20, 5
pausetime = 10,12
sparkno = s60
guard.sparkno = s30
sparkxy = -20,-50
hitsound = S1,1
guardsound = S2,0
ground.type = High
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -6.1
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
ground.cornerpush.veloff = -14
getpower = 32,28
givepower = 16,16

[State 610, Throw Limitter]
type = null;VarSet
trigger1 = var(15) <= 0
trigger1 = movehit
var(5) = 15
persistent = 0

;JUMP C
[Statedef 620]
type = A
movetype= A
physics = A
juggle = 9
ctrl = 0
anim = 620
poweradd = 35

[State 620, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,1

[State 620, SFX]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0

[State 620, HitDef]
type = HitDef
trigger1 = AnimElem = 3, = 1
attr = A, NA
damage = 77
animtype = Heavy
guardflag = HA
hitflag = MAF
priority = 3, Hit
poweradd = 40, 10
pausetime = 10,12
sparkno = s61
guard.sparkno = s48
sparkxy = -20,-50
hitsound = S0,2
guardsound = S2,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
guard.velocity = -9
ground.cornerpush.veloff = -14
getpower = 35,30
givepower = 16,16

[State 620, Throw Limitter]
type = null;VarSet
trigger1 = var(15) <= 0
trigger1 = movehit
var(5) = 15
persistent = 0

;JUMP D
[Statedef 630]
type = A
movetype= A
physics = A
juggle = 9
ctrl = 0
anim = 630
poweradd = 35

[State 620, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,1

[State 630, SFX]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1,0

[State 630, HitDef]
type = HitDef
trigger1 = AnimElem = 3, = 1
attr = A, NA
damage = 79
animtype = Heavy
guardflag = HA
hitflag = MAF
priority = 3, Hit
poweradd = 40, 10
pausetime = 10,12
sparkno = s61
guard.sparkno = s48
sparkxy = -20,-50
hitsound = S1,2
guardsound = S2,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
guard.velocity = -9
ground.cornerpush.veloff = -14
getpower = 35,30
givepower = 16,16

[State 630, Throw Limitter]
type = null;VarSet
trigger1 = var(15) <= 0
trigger1 = movehit
var(5) = 15
persistent = 0

;JUMP Up D
[Statedef 635]
type = A
movetype= A
physics = A
juggle = 8
ctrl = 0
anim = 635
poweradd = 35

[State 620, Voice]
channel = 0
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 700
value = S5,1

[State 635, SFX]
type = PlaySnd
trigger1 = AnimElem = 3
value = S1,0

[State 635, HitDef]
type = HitDef
trigger1 = AnimElem = 3, = 1
attr = A, NA
damage = 70
animtype = Heavy
guardflag = HA
hitflag = MAF
priority = 3, Hit
getpower = 25,25
givepower = 16,16
pausetime = 8,10
sparkno = s61
guard.sparkno = s48
sparkxy = -20,-50
hitsound = S1,2
guardsound = S2,0
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
air.animtype = Back
air.velocity = -4.5,-4
airguard.velocity = -5.5,-2.5
air.hittime = 0
forcenofall = 1
guard.velocity = -9
ground.cornerpush.veloff = -14
getpower = 35,30
givepower = 16,16

[State 630, Throw Limitter]
type = null;VarSet
trigger1 = var(15) <= 0
trigger1 = movehit
var(5) = 15
persistent = 0

;JUMP CD
[Statedef 640]
type = A
movetype= A
physics = A
juggle = 14
ctrl = 0
anim = 640
poweradd = 35

[State 640, Voice]
channel = 0
type = PlaySnd
trigger1 = animelem = 2
value = 5,2

[State 640, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 1,0

[State 640, HitDef]
type = HitDef
trigger1 = AnimElem = 3, = 1
attr = S, NA
damage = 90
animtype = Heavy
guardflag = MA
hitflag = MAF
air.juggle = 14
priority = 3, Hit
pausetime = 10,12
sparkno = s61
guard.sparkno = s48
sparkxy = 4,-60
hitsound = S2,1
guardsound = S2,0
ground.type = High
air.animtype = Low
ground.velocity = -5,-7
air.velocity = -5,-6.7
ground.cornerpush.veloff = -14
fall = 1
fall.recovertime = 35
fall.yvelocity = -3.4
getpower = 35,30
givepower = 16,16
air.juggle = 15
guard.pausetime = 10,10
guard.velocity = -9
;guard.hittime = 44
guard.ctrltime = 44
yaccel = .55

[State 640, Anim]
type = ChangeAnim
trigger1 = time = 0
value = 640

;Flying Drill
[Statedef 650]
type = A
movetype = A
physics = N
ctrl = 0
anim = 650
velset = 0,0
poweradd = 40

[State 655, Align]
type = Posadd
triggerall = prevstateno = 653||prevstateno = 655
trigger1 = time = 0
y = -80

[State 653, SFX]
type = PlaySnd
trigger1 = time = 0
value = s4,7

[State 653, SFX]
type = PlaySnd
trigger1 = time = 0
value = s8,12

[State 650, State]
type = ChangeState
trigger1 = animtime = 0
value = 653

;-------------------------------------------------------------------------------
[Statedef 653]
type = A
movetype = A
physics  = N
ctrl = 0
anim = 653
juggle = 4-(P2movetype = H&&p2statetype = A)*4
velset = 5.1,5.1

[State 653, HitDef]
type = HitDef
trigger1 = AnimElem = 1||(AnimElem = 2&&(AnimElem = 1&&!movecontact))||AnimElem = 3
trigger2 = AnimElem = 4||(AnimElem = 5&&(AnimElem = 4&&!movecontact))||AnimElem = 6
trigger3 = AnimElem = 7||(AnimElem = 8&&(AnimElem = 7&&!movecontact))||AnimElem = 9
trigger4 = AnimElem = 11
attr = A, NA
damage = 21
animtype = Heavy
guardflag = HA
hitflag = MAF
priority = 3,Hit
pausetime = 8,10
sparkno = s61
guard.sparkno = s48
sparkxy = 4,-50
hitsound = s1,2
guardsound = S2,0
ground.type = High
air.animtype = Low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -11
air.velocity = -3,-7
air.fall = 1
fall.recover = 0
yaccel = .5
getpower = 46,40
givepower = 16,16

[State 653, State]
type = ChangeState
trigger1 = vel y > 0 && pos y >= 0
value = 655
;-------------------------------------------------------------------------------
[Statedef 655]
type = S
movetype = I
physics = S
ctrl = 0
anim = 655
velset = 0,0

[State -1]
type = ChangeState
value = 650
triggerall = time >= 2
triggerall = var(9) != 1
triggerall = command = "UD"
trigger1 = pos y >= 0

[State AI]
type = ChangeState
value = 650
IgnoreHitPause = 1
triggerall = time >= 2
triggerall = HitPauseTime = 0
triggerall = var(9) != 0
triggerall = statetype != A
triggerall = p2statetype = A
triggerall = roundstate = 2
triggerall = var(32) != 0
triggerall = p2movetype = H
;triggerall = frontedgebodydist <= 100
trigger1 = P2bodydist y <= -40

[State 100, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s13,0
volumescale = 50

[State 655, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 655, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;===========================================================================
; ROLLS
;===========================================================================
;=================================================================================
;SideStep
[Statedef 702]
type = S
movetype = I
physics = N
anim = 702
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0

[State 702, 1]
type = PlaySnd
trigger1 = Time = 0
value = s5,3
channel = 0

[State 702, 2]
type = notHitBy
trigger1 = Time <= 7
value = SCA

[State 702, 2]
type = HitBy
trigger1 = Time >= 8
value = SCA,NT,ST,HT

[State 702, 3]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 702, 4]
type = SprPriority
trigger1 = Time = 8
value = -1

[State 702, 5]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 702, 6]
type = VarSet
triggerall = Time > 1
trigger1 = Command = "a"
trigger2 = Command = "c"
var(1) = 1

[State 702, 7]
type = ChangeState
triggerall = var(9) != 1
triggerall = animelem = 2, >= 1
triggerall = animelem = 3, < 0
trigger1 = var(1) = 1
value = 703

[State 702, 8]
type = ChangeState
triggerall = var(9) = 1
triggerall = animelem = 2, >= 1
triggerall = animelem = 3, < 0                                 
triggerall = P2BodyDist x = [10,40]
trigger1 = enemynear,movetype != A&&(EnemyNear,facing = facing||abs(var(27))=1)
value = 703

[State 702, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=================================================================================
;Dodge Attack
[Statedef 703]
type = S
movetype = A
physics = N
anim = 703
velset = 0,0
ctrl = 0

[State ]
type = turn
trigger1 = !time
triggerall = p2dist x < 0

[State 702, 2]
type = HitBy
triggerall = abs(var(27)) = 0
trigger1 = Time <= 7
value = SCA,NT,ST,HT,HA,HP,SA

[State 703, Image]
type = AfterImageTime
trigger1 = time = 0
value = 0
time = 0

[State 703, 3]
type = HitDef
trigger1 = !movecontact
attr = S,NA
hitflag = MAF
animtype = hard
damage = 52
guardflag = MA
pausetime = 12,14
sparkxy = 5,-93
sparkno = s60
priority = 7, Hit
sparkxy = 10,-88
hitsound = S1,1
guardsound = S2,0
ground.type = low
ground.slidetime = 20;17
ground.hittime = 20;17
ground.velocity = -11.5
air.velocity = -3.5,-6
airguard.velocity = 0 -4,-6
;guard.velocity = 0 -11.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -12
getpower = 40,30
givepower = 12,10
fall = 0
yaccel = .5

[State 703, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;==========================================================================================
;CHARGE
[Statedef 704]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0

[State -1]
type = Changeanim
trigger1 = anim != 704
value = 704
IgnoreHitPause = 1

[State 911, 2]
type = PowerAdd
trigger1 = gameTime%1 = 0
value = 15

[State 704, 2]
type = PlaySnd
trigger1 = Time = 5
value = s5,6
channel = 0
volume = 40

[State 704, 3]
type = PlaySnd
trigger1 = Time = 5
value = s4,8
channel = 15
volume = 50

[State 704, 4]
type = Explod
trigger1 = Time = 4
ignorehitpause = 1
anim = 706
id = 706
pos= 2,0
postype = P1
removetime = 9999
supermove = 10
sprpriority = 2
removeongethit = 1
ownpal = 1

[State a]
type = ChangeState
triggerall = animelem = 4, >= 1
triggerall = var(9) = 0
trigger1 = Command != "hold_a"
trigger2 = Command != "hold_c"
value = 705
ctrl = 0

[State a]
type = ChangeState
trigger1 = Power >= powermax;6000
value = 707

[State a]
type = ChangeState
triggerall = var(9) = 0
trigger1 = command != "hold_a"
trigger2 = command != "hold_c"
value = 705

[State a]
type = ChangeState
triggerall = animelem = 4, >= 2
triggerall = var(9) != 0
triggerall = enemynear,pos y = 0||enemynear,statetype != A
trigger1 = p2bodydist x = [-35,40]
value = ifelse((p2bodydist x = [-15,15]),ifelse(random%4 = 0,800,850),410)
ctrl = 0
IgnoreHitPause = 1

[State a]
type = ChangeState
triggerall = animelem = 4, >= 2
triggerall = var(9) != 0
trigger1 = fvar(10) = 2||enemynear,statetype = A||var(35) = [2,3]
value = ifelse((EnemyNear,movetype = A||p2movetype = A),ifelse((var(35) = [2,3]),ifelse(random%2,702,131),0),705)
ctrl = ifelse((EnemyNear,movetype = A||p2movetype = A),1,0)
IgnoreHitPause = 1
;+++++++++++++++++++++++++++++++++++++++++++
; CHARGE OVER
[Statedef 705]
type = S
movetype = I
physics = S
anim = 705
ctrl = 0

[State 705, 1]
type = StopSnd
trigger1 = Time = 0
channel = 0
value = 5,3

[State 705, 2]
type = StopSnd
trigger1 = Time = 0
channel = 15
value = 5,4

[State 705, 3]
type = RemoveExplod
trigger1 = Time = 0
id = 706

[State 705, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Power up (maxed out)
[Statedef 707]
type = S
movetype = I
physics = S
anim = 705

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 706

[State 313, Explod]
type = Explod
trigger1 = time = 0
anim = 790;f140
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 7

[State 1000, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 15
freq = 90
ampl = -5
phase = 90

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s4,9

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 910

[State 741, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;==========================================================================
;---------------------------------------------------------------------------
; Roll Backward
[Statedef 740]
type = S
movetype = I
physics = N
anim = 740
velset = 0,0
ctrl = 0

[State 740, Invincibility]
type = HitBy
trigger1 = animelemtime(1) >= 0 
;trigger1 = animelem = 8, < 0
value = SCA, NT, ST, HT

[State 740, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 1000, AfterImage]
type = AfterImage
triggerall = prevstateno = [150,152]
trigger1 = time = 0
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 1000, Afterimage]
type = Afterimage
triggerall = prevstateno != [150,152]
trigger1 = time = 0
time = 2
length = 7
PalBright = 0,0,0
PalContrast = 255,255,255
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 2041, 2]
type = Afterimagetime
triggerall = stateno = 740
trigger1 = time%2 = 0 && Time < 20
time = 2

[State 740, Voice]
channel = 0
type = PlaySnd
trigger1 = animelem = 3
value = 5,3
channel = 0

[State 740, Push]
type = PlayerPush
trigger1 = time = [4,22]
value = 0

[State 740, 6]
type = VelSet
trigger1 = AnimElem = 3
x = -7.7

[State 740, 7]
type = VelAdd
triggerall = AnimElem = 4, >= 0
trigger1 = AnimElem = 7, < 0
x = .10

[State 740, 8]
type = VelSet
trigger1 = AnimElem = 7,>=0
x = 0

[state 740, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ESCAPE Roll Forward
[Statedef 760]
type = S
movetype = I
physics = N
anim = 760
velset = 0,0
ctrl = 0

[State 760, SuperPause]
type = SuperPause
triggerall = prevstateno = [150,152]
trigger1 = time = 1
darken = 0
anim = -1
time = 12
movetime = 12
poweradd = -1000

[State 1000, PlaySnd]
type = PlaySnd
triggerall = prevstateno = [150,152]
trigger1 = time = 0
value = s5200,1

[State 1000, Explod]
type = Explod
triggerall = prevstateno = [150,152]
trigger1 = time = 0
anim = 7130
pos = 11,-55
postype = p1
bindtime = 1
removetime = -2
supermove = 1
pausemove = 1
ownpal = 1
sprpriority = 5

[State 700, Voice]
channel = 0
type = PlaySnd
trigger1 = animelem = 2
value = s5,3
channel = 0

[State 1000, AfterImage]
type = AfterImage
triggerall = prevstateno = [150,152]
trigger1 = time = 0
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 1000, Afterimage]
type = Afterimage
trigger1 = prevstateno != [150,152]
trigger1 = time = 0
time = 2
length = 7
PalBright = 0,0,0
PalContrast = 255,255,255
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 2041, 2]
type = Afterimagetime
triggerall = stateno = 760
trigger1 = time%2 = 0 && Time < 20
time = 2

[State 760, Push]
type = PlayerPush
trigger1 = time = [11,29]
value = 0

[State 2110, ]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno = 100
var(14) = 1

[State 2110, ]
type = Varset
trigger1 = Animtime = 0
var(14) = 0

[State 2100]
type = VelSet
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(7) < 0
x = 5

[State 2110]
type = VelSet
triggerall = var(14) = 1
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(7) < 0
x = 8

[State 2100]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 2110]
type = VelSet
triggerall = var(14) = 1
trigger1 = AnimElem = 7
x = 0

[State 1000, HitBy]
type = NotHitBy
trigger1 = AnimElem = 4, <= 2
value = SCA

[State 1000, HitBy]
type = HitBy
trigger1 = AnimElem = 4, >= 3
;trigger1 = AnimElem = 7, <= 0
value = SC, NT, ST, HT

[State 760, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; ESCAPE Roll Backward
[Statedef 770]
type = S
movetype = I
physics = N
anim = 770
velset = 0,0
ctrl = 0

[State 770, SuperPause]
type = SuperPause
triggerall = prevstateno = [150,152]
trigger1 = time = 1
darken = 0
anim = -1
time = 12
movetime = 12
poweradd = -1000

[State 1000, PlaySnd]
type = PlaySnd
triggerall = prevstateno = [150,152]
trigger1 = time = 0
value = s5200,1

[State 1000, Explod]
type = Explod
triggerall = prevstateno = [150,152]
trigger1 = time = 0
anim = 7130
pos = 11,-55
postype = p1
bindtime = 1
removetime = -2
supermove = 1
pausemove = 1
ownpal = 1
sprpriority = 5

[State 700, Voice]
channel = 0
type = PlaySnd
trigger1 = animelem = 2
value = s5,3
channel = 0

[State 1000, AfterImage]
type = AfterImage
triggerall = prevstateno = [150,152]
trigger1 = time = 0
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 1000, Afterimage]
type = Afterimage
triggerall = prevstateno != [150,152]
trigger1 = time = 0
time = 2
length = 7
PalBright = 0,0,0
PalContrast = 255,255,255
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 2041, 2]
type = Afterimagetime
triggerall = stateno = 770
trigger1 = time%2 = 0 && Time < 20
time = 2

[State 770, Push]
type = PlayerPush
trigger1 = time = [11,29]
value = 0

[State 1000, HitBy]
type = NotHitBy
trigger1 = AnimElem = 4, <= 2
value = SCA

[State 1000, HitBy]
type = HitBy
trigger1 = AnimElem = 4, >= 3
;trigger1 = AnimElem = 7, <= 0
value = SC, NT, ST, HT

[State 770, 6]
type = VelSet
trigger1 = AnimElem = 3
x = -7.7

[State 770, 7]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 7, < 0
x = .10

[State 770, 8]
type = VelSet
trigger1 = AnimElem = 7,>=0
x = 0

[State 770, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;===========================================================================
;POW EXPLODE
;===========================================================================
[Statedef 780]
type = S
movetype = I
physics = N
anim = 780
velset = 0,0
ctrl = 0
sprpriority = 3

[State 780, Activate]
type = VarSet
trigger1 = animelem = 4
v = 10
value = 1100

[State 780, Voice]
channel = 0
type = PlaySnd
trigger1 = animelem = 4
value = 5,0

[State 780, SFX]
type = PlaySnd
trigger1 = animelem = 4
value = 3,7

[State 780, Shake]
type = EnvShake
trigger1 = animelem = 4
time = 15
freq = 150
ampl = 5

[State 780, DamageBoost]
type = AttackMulSet
trigger1 = animelem = 4
value = 1.3

[State 780, PowerDrain]
type = PowerAdd
trigger1 = animelem = 4
value = -1000

[State 780, MAXbarLeft]
type = Explod
trigger1 = var(30) = 1
trigger1 = animelem = 4
anim = 4100
id = 4100
sprpriority = 8
ontop = 1
ownpal = 1
postype = left
pos = 16,200
removetime = -1
ignorehitpause = 1
bindtime = -1

[State 780, MAXbarCounterLeft]
type = Explod
trigger1 = var(30) = 1
trigger1 = animelem = 4
anim = 4102
id = 4102
ontop = 1
ownpal = 1
postype = left
pos = 103,202
removetime = -1
ignorehitpause = 1
bindtime = -1

[State 780, MAXbarRight]
type = Explod
trigger1 = var(30) = 2
trigger1 = animelem = 4
anim = 4105
id = 4100
sprpriority = 8
ontop = 1
ownpal = 1
postype = right
pos = -107,200
removetime = -1
ignorehitpause = 1
bindtime = -1

[State 780, MAXbarCounterRight]
type = Explod
trigger1 = var(30) = 2
trigger1 = animelem = 4
anim = 4107
id = 4102
ontop = 1
sprpriority = 9
ownpal = 1
postype = Right
pos = -83,202
removetime = -1
ignorehitpause = 1
bindtime = -1

[State 780, ExplodEffect]
type = Explod
trigger1 = animelem = 4
anim = 790
id = 790
sprpriority = 4
postype = p1
pos = 0,0
bindtime = 20

[State 780, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;===========================================================================
;THROWS
;===========================================================================
;C throw ATTEMPT
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
anim = 800
ctrl = 0

[State 800, 1]
type = HitDef
trigger1 = p2movetype != H
trigger1 = var(4) <= 0
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0
p2facing = 1
p1stateno = 805
p2stateno = 810
numhits = 0

[State 800, ChangeState]
type = ChangeState
trigger1 = p2bodydist X < 15
trigger1 = animtime = 0
value = 225

[State 800, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;C throw SUCCESS
[Statedef 805]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 805
sprpriority = 3

[State 1000, ChangeState]
type = ChangeState
triggerall = time = [0,3]
triggerall = enemy,command = "holdfwd" || enemy,command = "holdback"
trigger1 = enemy,command = "a"
trigger2 = enemy,command = "b"
trigger3 = enemy,command = "x"
trigger4 = enemy,command = "y"
value = 5260
ctrl = 0

[State 805, GrabSound]
type = PlaySnd
trigger1 = animelem = 2
value = s2,3
channel = 5

[State 805, GrabSpark]
type = Explod
trigger1 = animelem = 2
anim = 890
postype = p1
pos = 29,-102
sprpriority = 2
bindtime = 1
ownpal = 1

[State 805, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 805, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 805, Bind1]
type = TargetBind
trigger1 = animelem = 2, < 0
pos = 40,0

[State 805, Bind2]
type = TargetBind
trigger1 = animelem = 2, >= 0 && animelem = 3, < 0
pos = 32,-111

[State 805, Bind3]
type = TargetBind
trigger1 = animelem = 3, >= 0 && animelem = 4, < 0
pos = 22,-101

[State 805, Bind4]
type = TargetBind
trigger1 = animelem = 4, >= 0 && time < 17
pos = 41,-20

[State 805, Bind5]
type = TargetBind
trigger1 = time = 17
pos = 79,-39

[State 805, Combo]
type = HitAdd
trigger1 = animelem = 4
value = 1

[State 805, HitSound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1,2

[State 805, Hitspark]
type = Explod
trigger1 = AnimElem = 4
anim = 62
ontop = 1
postype = p1
pos = 54,-81
bindtime = 1

[State 805, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Hit by C throw
[Statedef 810]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 810, ScreenBound]
type = ScreenBound
trigger1 = time < 18
movecamera = 0,0

[State 810, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 810

[State 860, Velocity]
type = VelSet
trigger1 = time = 18
y = -5
x = -5

[State 860, Gravity]
type = Gravity
trigger1 = time >= 18

[State 860, Anim]
type = ChangeAnim
trigger1 = time = 18
value = 5050

[State 860, Damage1]
type = LifeAdd
trigger1 = time = 18
value = -145
absolute = 1

[State 860, State]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------

;P1 Miss
[Statedef 305]
type    = S
movetype= I ;Get hit
physics = S
velset = -12,0
anim = 305
ctrl = 0

[State 305, Cancel]
type = targetstate
Trigger1 = time = 0
value = 306

[State 305, MD]
type = makedust
Trigger1 = 1
pos = 0,0
spacing = 3

[State 301, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(7) = 0

[State 305, END]
type = changestate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------

;P2 Counter
[Statedef 306]
type    = S
movetype= I ;Get hit
physics = S
velset = 0,0
ctrl = 0

[State 306, ANIM1]
type = posset
Trigger1 = time = 0
y = 0

[State 306, ANIM1]
type = changeanim
trigger1 = selfanimexist(306)
Trigger1 = time = 0
value = 306

[State 306, ANIM2]
type = changeanim
trigger1 = !selfanimexist(306)
trigger1 = selfanimexist(200)
Trigger1 = Time = 0
value = 200

[State 306, ANIM3]
type = changeanim
trigger1 = !selfanimexist(306)
trigger1 = !selfanimexist(200)
Trigger1 = Time = 0
value = 5000

[State 306, END]
type = selfstate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------
;D throw ATTEMPT
[Statedef 850]
type = S
movetype = A
physics = S
velset = 0,0
anim = 850
ctrl = 0

[State 850, 1]
type = HitDef
trigger1 = p2movetype != H
trigger1 = var(4) <= 0
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0
p2facing = 1
p1stateno = 855
p2stateno = 860
yaccel = .5
fall = 1
ground.velocity = 3.1,-4.5
air.velocity = 3.1,-4.5
yaccel = .5
fall.yvelocity = -3.4

[State 800, ChangeState]
type = ChangeState
trigger1 = p2bodydist X < 15
trigger1 = animtime = 0
value = 235

[State 850, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;D throw SUCCESS
[Statedef 855]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 855
sprpriority = 3

[State 1000, ChangeState]
type = ChangeState
triggerall = time = [0,5]
triggerall = enemy,command = "holdfwd" || enemy,command = "holdback"
trigger1 = enemy,command = "a"
trigger2 = enemy,command = "b"
trigger3 = enemy,command = "x"
trigger4 = enemy,command = "y"
value = 5260
ctrl = 0

[State 805, GrabSound]
type = PlaySnd
trigger1 = animelem = 2
value = s2,3
channel = 5

[State 805, GrabSound]
type = PlaySnd
trigger1 = animelem = 6
value = s1,2

[State 805, GrabSpark]
type = Explod
trigger1 = animelem = 2
anim = 895
postype = p1
pos = 32,-64
sprpriority = 2
bindtime = 1
ownpal = 1

[State 805, Hitspark]
type = Explod
trigger1 = AnimElem = 6
anim = 62
ontop = 1
postype = p2
pos = 0,0;54,-81
bindtime = 1

[State 855, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 855, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 855, Bind1]
type = TargetBind
trigger1 = animelem = 3, < 0
pos = 16,0

[State 855, Bind2]
type = TargetBind
trigger1 = animelem = 3, >= 0 && animelem = 4, < 0
pos = 32,0

[State 855, Bind3]
type = TargetBind
trigger1 = animelem = 4, >= 0 && animelem = 5, < 0
pos = 16,-120;-94

[State 855, Bind4]
type = TargetBind
trigger1 = animelem = 5, >= 0 && animelem = 6, < 0
pos = -28,-120

[State 855, Bind4]
type = TargetBind
trigger1 = animelem = 6, >= 0 && time < 37;nimelem = 7, < 0
pos = -71,-5

[State 855, Bind4]
type = Targetlifeadd
trigger1 = animelem = 7
value = -155
absolute = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 20
freq = 100
ampl = -4

[State 855, whomp]
type = PlaySnd
trigger1 = animelem = 6
value = s13, 1
volume = 20

[State 855, Move]
type = PosAdd
trigger1 = animelem = 9
trigger2 = animelem = 10
trigger3 = animelem = 11
x = -16

[State 855, Turn]
type = Turn
trigger1 = time = 83

[State 855, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Hit by D throw
[Statedef 860]
type = A
movetype = H
physics = N
velset = 0

[State 860, ScreenBound]
type = ScreenBound
trigger1 = time < 18
movecamera = 0,0

[State 860, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 860

[State 860, Sprite2]
type = SprPriority
trigger1 = time >= 0
value = 1

[State 1420, Velocity]
type = VelSet
trigger1 = time = 36
y = 22
x = 7

[State 1420, State]
type = ChangeState
triggerall = Pos Y >= 0
trigger1 = Vel Y > 0
value = 870
;------------------------------
;Slammed by D throw
[Statedef 870]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = -9

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = f61
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -9

[State 870, Anim]
type = posset
trigger1 = time = [0,11]
y = 0

[State 870, Anim]
type = ChangeAnim
trigger1 = time = 0
value = 5100

[State 1000, VelSet]
type = VelSet
trigger1 = time = 12
x = 5

[State 870, State]
type = changestate
trigger1 = time >= 12
value = 871
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 871]
type    = L
movetype= H
physics = N

[State 1000, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -15

[State 1000, VelSet]
type = VelSet
trigger1 = time = 0
y = -5

[State 5101, 1]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 5]
type = VelAdd
trigger1 = 1
y = .48

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5101, 6]
type = selfstate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;---------------------------------------------------------------------------
;Air throw
;Attempt
[Statedef 900]
type = A
movetype = A
physics = N
anim = 900
ctrl = 0

[State 900, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0
p2facing = 1
p1stateno = 910
p2stateno = 930

[State 900, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 40
ctrl = 0

;Success
[Statedef 910]
type = A
movetype = A
physics = N
velset = 0,0
anim = 910
ctrl = 0

[State 805, GrabSound]
type = PlaySnd
trigger1 = animelem = 1
value = 2,3
channel = 5

[State 805, GrabSpark]
type = Explod
trigger1 = animelem = 1
anim = 890
postype = p1
pos = 22,-83
sprpriority = 2
bindtime = 1
ownpal = 1

[State 920, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 910, Gravity]
type = Gravity
trigger1 = time >= 16

[State 910, Bind1]
type = TargetBind
trigger1 = animelem = 2, <0
pos = 22,-83;4, -20

[State 910, Bind2]
type = TargetBind
trigger1 = animelem = 2, >=0 && animelem = 3, <0
pos = -7,-42

[State 910, Bind3]
type = TargetBind
trigger1 = animelem = 3, >=0 && animelem = 4, <0
pos = -14,-45

[State 910, Bind2]
type = TargetBind
trigger1 = animelem = 4, >=0
pos = -12,-12

[State 910, Damage]
type = TargetLifeAdd
trigger1 = Pos Y >= 0 && Vel Y > 0
value = -100
absolute = 1

[State 910, Target]
type = TargetState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 935

[State 910, State]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 915

;Landing
[Statedef 915]
type = A
movetype = I
physics = S
anim = 915
velset = 0,0

[State 915, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 920, Push]
type = PlayerPush
trigger1 = win = 1
value = 0

[State 915, State]
type = ChangeState
trigger1 = animtime = 0
value = 920

;Hopback
[Statedef 920]
type = A
movetype = I
physics = A
anim = 920
velset = -3.3,-6.5

[State 1120, Move]
type = PosAdd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
x = 3

[State 920, Push]
type = PlayerPush
trigger1 = win = 1
value = 0

[State 920, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

;Hit by Air Throw
[Statedef 930]
type = A
movetype = H
physics = N
ctrl = 0

[State 920, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 930, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 930

[Statedef 935]
type = C
movetype = H
physics = N
velset = 0

[State 935, SFX]
type = PlaySnd
trigger1 = time = 0
value = s13,1

[State 935, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 935, State]
type = SelfState
trigger1 = time = 0 && life < 1
value = 5150

[State 930, Anim]
type = ChangeAnim2
trigger1 = life > 1
trigger1 = time = 0
value = 935

[State 780, Shake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 150
ampl = 5

[State 935, Explod]
type = Explod
trigger1 = time = 0
anim = F61
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1

[State 930, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 935

[State 935, Anim]
type = ChangeAnim
trigger1 = time = 30
value = 5120

[State 935, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 935, State]
type = SelfState
trigger1 = anim = 5120 && animtime = 0
value = 0
ctrl = 1

;===========================================================================
;SHORT JUMP
;===========================================================================
; Short jump
[Statedef 950]
type = A
movetype = I
physics = A
anim = IfElse(Vel X = 0,950,IfElse(Vel X > 0,951,952))

[State 950, Velocity]
type = VelSet
trigger1 = Time = 0
x = IfElse(vel x = 0,0,IfElse(vel x < 0,-3,3))
y = -8.5714286

[State 950, Velocity]
type = VelSet
trigger1 = Time = 0 && var(8)
x = IfElse(vel x = 0,0,IfElse(vel x < 0,-4.5,4.5))

[State 50, Afterimage]
type = Afterimage
trigger1 = stateno = 950 && var(8)
trigger1 = Time = 0 && var(8) && Vel X != 0
time = 2
length = 7
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 50, fterimagetime]
type = Afterimagetime
trigger1 = stateno = 950 && var(8)
trigger1 = time%2 = 0
time = 2

[State 950, State]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;===========================================================================
;SPECIAL ATTACKS (Hissatsu Waza)
;===========================================================================
;Raijinken
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
sprpriority = 2
ctrl = 0
juggle = 8
velset = 0,0
poweradd = 125

[State 1000, Spark]
type = null;Explod
trigger1 = time = 0
anim = 1010
ownpal = 1
sprpriority = 4
postype = p1
pos = 0,0
bindtime = 120

[State 183, Bright]
type = PalFX
trigger1 = time = 12
time = 2
add = 96,96,96
ignorehitpause = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = time = 1
value = s5,2;8, 0

[State 1000, SFX]
type = PlaySnd
trigger1 = time = 12
value = s13,4;4, 0

[State 1000, Lightning Ball]
type = Explod
trigger1 = time = 14
anim = 3063;1020
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 78,-76
trans = add1
bindtime = -1

[State 1000, Lightning Ball]
type = Explod
trigger1 = time = 14
anim = 4135;1020
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1

[State 1000, Projectile]
type = Projectile
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
projanim = 1025
projremove = 0
projpriority = 1
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 1
offset = 78,-76
velocity = 0,0

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 61
ownpal = 1
sprpriority = 4
postype = p2
pos = -10,-82
bindtime = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = movehit = 1
value = s1,4
volume = -100

[State 1000, 3]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
attr = S, SP
sprpriority = 0
id = 17000
animtype = High
damage = IfElse(var(10)>0,49,38),5
sparkno = s(ifelse(random%2,4130,4125))
guard.sparkno = s50
pausetime = 0,14
sparkxy = -10,-82
hitsound = s-1;s1,4
guardsound = s2,4
getpower = 45,30
givepower = 16,16
hitflag = MAFP
guardflag = MA
guard.velocity = -12
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
yaccel = .5
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
ground.cornerpush.veloff = 0

[State 1000, 4]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 11
attr = S, SP
sprpriority = 0
id = 17000
animtype = Back
pausetime = 0,1
damage = IfElse(var(10)>0,49,38),5
sparkno = s(ifelse(random%2,4130,4125))
guard.sparkno = s50
sparkxy = -10,-82
hitsound = s-1;1,4
guardsound = S2,4
getpower = 50,40
givepower = 16,16
hitflag = MAFP
guardflag = MA
guard.velocity = -12
ground.slidetime = 20
ground.hittime = 20
ground.velocity = ifelse(p2statetype = A,-3,-12)
air.velocity = -5,-9
air.fall = 1
yaccel = .5
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
ground.cornerpush.veloff = 0

[State 1000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;C Raijinken
[Statedef 1050]
type = S
movetype = A
physics = S
anim = 1050
sprpriority = 2
ctrl = 0
juggle = 8
velset = 0,0
poweradd = 135

[State 1050, Spark]
type = null;Explod
trigger1 = time = 0
anim = 1010
ownpal = 1
sprpriority = 4
postype = p1
pos = 0,0
bindtime = 120

[State 1050, Bright]
type = PalFX
trigger1 = time = 9
time = 1
add = 96,96,96
ignorehitpause = 1

[State 1050, Bright]
type = PalFX
trigger1 = time = 10
time = 1
add = -96,-96,-96
ignorehitpause = 1

[State 1050, Voice]
type = PlaySnd
trigger1 = time = 1
value = s5,2;8, 0

[State 1050, SFX]
type = PlaySnd
trigger1 = time = 9
value = s13,4;4, 0

[State 1050, Lightning Ball]
type = Explod
trigger1 = time = 11
anim = 3063;1020
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 61,-116
trans = add1
bindtime = -1

[State 1050, Lightning Ball]
type = Explod
trigger1 = time = 11
anim = 4135;1020
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 61,-116
bindtime = -1

[State 1000, Projectile]
type = Projectile
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
projanim = 1025
projremove = 0
projpriority = 1
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 1
offset = 61,-116
velocity = 0,0

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 61
ownpal = 1
sprpriority = 4
postype = p2
pos = -10,-122
bindtime = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = movehit = 1
value = s1,4
volume = -100

[State 1050, 3]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
attr = S, SP
sprpriority = 0
id = 17000
animtype = High
damage = IfElse(var(10)>0,49,38),5
sparkno = s(ifelse(random%2,4130,4125));4020
guard.sparkno = s50
pausetime = 0,17
sparkxy = -10,-122
hitsound = s-1;1,4
guardsound = S2,4
getpower = 40,26
givepower = 16,16
hitflag = MAFP
guardflag = MA
guard.velocity = -12
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = -3,-6
air.fall = 1
fall.recover = 0
fall.yvelocity = -3.4
yaccel = .5
palfx.time = 30
palfx.color = 0;64
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
ground.cornerpush.veloff = 0

[State 1050, 4]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 11
attr = S, SP
sprpriority = 0
id = 17000
animtype = Back
pausetime = 0,1
damage = IfElse(var(10)>0,49,38),5
sparkno = s(ifelse(random%2,4130,4125));4020
guard.sparkno = s50
sparkxy = -10,-122
hitsound = s-1;1,4
guardsound = S2,4
getpower = 50,40
givepower = 16,16
hitflag = MAFP
guardflag = MA
guard.velocity = -12
ground.slidetime = 20
ground.hittime = 20
ground.velocity = ifelse(p2statetype = A,-3,-12)
air.velocity = -3,-9
fall.yvelocity = -3.4
air.fall = 1
yaccel = .5
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
ground.cornerpush.veloff = 0

[State 1050, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------------------------------------------
[Statedef 1001]
type = S
movetype = A
physics = S
anim = 1001
sprpriority = 1
ctrl = 0
juggle = 14
velset = 0,0
poweradd = 250

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = prevstateno = 1002
value = -500
ignorehitpause = 1
[State 183, Bright]
type = PalFX
trigger1 = AnimElemtime(6) = 1
time = 10
add = 96,96,96
ignorehitpause = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElemtime(5) = 0
value = s8,17
volume = -1

[State 705, 2]
type = null;Explod
trigger1 = AnimElemtime(3) = 0
anim = 4063
ID = 4063
sprpriority = 2
postype = p1
pos = 10,-60
scale = 1,1
bindtime = -1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElemtime(6) = 1
value = s13,10

[State 3000, Projectile]
type = Projectile
trigger1 = AnimElemtime(6) = 0
projID = 2259
projanim = 2253
projremove = 0
projpriority = 8
;projhitanim = -1
projsprpriority = 8
projremovetime = 36
projhits = 10
ownpal = 1
postype = p1
offset = floor(30+(P2BodyDist X)),-2
getpower = 95,40
velocity = 0
attr = A, HP
animtype = diagup
damage = 12,5
hitflag = MAFP
guardflag = M
hitsound = s1,4
guardsound = s2,4
pausetime = 1,5
sparkno = s4130
guard.sparkno = s50
sparkxy = -15+random%30,floor(-(75+random%30)+(enemynear, pos y))
ground.type = High
ground.slidetime = 12
ground.hittime = 8
ground.velocity = 1,-12
envshake.time = 15
envshake.ampl = 5
envshake.freq = 120
envshake.phase = 120
air.animtype = Diagup
air.velocity = 1,-12
fall.recover = 0
fall = 1
yaccel = .5
palfx.time = 65
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
ground.cornerpush.veloff = 0

[State 1000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------------------------------------------
[Statedef 1002]
type = S
movetype = A
physics = S
anim = 1001
sprpriority = 1
ctrl = 0
juggle = 14
velset = 0,0
poweradd = 250

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = prevstateno = 1001
value = -500
ignorehitpause = 1

[State 183, Bright]
type = PalFX
trigger1 = AnimElemtime(6) = 1
time = 10
add = 96,96,96
ignorehitpause = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElemtime(5) = 0
value = s8,17
volume = -1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElemtime(6) = 1
value = s13,10

[State 3000, Projectile]
type = Projectile
trigger1 = AnimElemtime(6) = 0
projID = 2259
projanim = 2253
projremove = 0
projpriority = 8
;projhitanim = -1
projsprpriority = 8
projremovetime = 36
projhits = 10
ownpal = 1
postype = p1
offset = floor(30+(P2BodyDist X)),-2
getpower = 105,48
velocity = 0
attr = A, HP
animtype = diagup
damage = 15,5
hitflag = MAFP
guardflag = M
hitsound = s1,4
guardsound = s2,4
pausetime = 1,5
sparkno = s4130
guard.sparkno = s50
sparkxy = -15+random%30,floor(-(75+random%30)+(enemynear, pos y))
ground.type = High
ground.slidetime = 22
ground.hittime = 12
ground.velocity = -1,-12
envshake.time = 15
envshake.ampl = 5
envshake.freq = 120
envshake.phase = 120
air.animtype = Diagup
air.velocity = -1,-12
fall.recover = 0
fall = 1
yaccel = .5
palfx.time = 65
palfx.color = 0;64
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
ground.cornerpush.veloff = 0

[State 1000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------------------------------------------
;Iaigeri
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 45
juggle = 14

[State 1100, Voice]
type = PlaySnd
trigger1 = animelem = 3
value = s8,1
channel = 0

[State 1100, Explod]
type = Explod
trigger1 = time = 7
anim = 1105
postype = p1
pos = 0,0
sprpriority = 4
bindtime = 1
ownpal = 1

[State 1100, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0

[State 1100, HitDef1]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 5
attr = S, SA
damage = 58,5
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5,7
poweradd = 30,20
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S1,2
guardsound = S2,4
ground.type = High
air.animtype = Low
ground.velocity = -12
ground.slidetime = 28;22
ground.hittime = 27;22
air.velocity = -5,-7
;guard.velocity = 0 -12
fall = ifelse(p2statetype = A, 1,0)
fall.recovertime = 35
;guard.velocity = 0 -12
ground.cornerpush.veloff = -10;20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10;20
getpower = 36,26
givepower = 16,16
fall.yvelocity = -3.4
guard.pausetime = 1,4
;guard.slidetime = 22
;guard.hittime = 44
guard.ctrltime = 44
yaccel = .55

[State 1100, HitDef1]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 5
attr = S, SA
damage = 58,5
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5,7
poweradd = 30,20
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S1,2
guardsound = S2,4
ground.type = High
air.animtype = Low
ground.velocity = -12
ground.slidetime = 22
ground.hittime = 22
air.velocity = -5.5,-6
;guard.velocity = 0 -12
fall = ifelse(p2statetype = A, 1,0)
fall.recovertime = 35
;guard.velocity = 0 -12
getpower = 36,36
givepower = 16,16
fall.yvelocity = -3.4
guard.pausetime = 1,4
;guard.slidetime = 22
;guard.hittime = 44
guard.ctrltime = 44
yaccel = .55
p2getp1stateno = 1
p2stateno = 6990;7000

[State 1100, BFollowup]
type = ChangeState
triggerall = animelem = 6, > 0 && animelem = 7, < 0
trigger1 = command = "Handou Sandan Geri B"
value = 1110

[State 1100, DFollowup]
type = ChangeState
trigger1 = command = "Handou Sandan Geri D"
trigger1 = animelem = 6, > 0 && animelem = 7, < 0
value = 1120

[State 1100, DFollowup]
type = ChangeState
trigger1 = var(9) = 1
trigger1 = animelem = 6, > 1 && animelem = 7, < 0
value = ifelse(random <= 800,1110,1120)

[State 1100, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Handou Sandangeri (B followup)
[Statedef 1110]
type = S
movetype = A
physics = S
anim = 1110
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 75
juggle = 14

[State 1110, Voice]
type = PlaySnd
trigger1 = animelem = 2
value = 8,2
channel = 0

[State 1120, Move]
type = PosAdd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
x = 12

[State 1120, Move]
type = PosAdd
trigger1 = animelem = 6
x = 8

[State 1100, HitDef1]
type = HitDef
;triggerall = (p2stateno != [5020,5040])
;triggerall = p2stateno != [154,155]
trigger1 = AnimElem = 5
attr = S, SA
damage = 28,5
animtype = Heavy
guardflag = MA
hitflag = MAF
air.juggle = 3
priority = 3, Hit
pausetime = 6,16
poweradd = 30,20
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S1,2
guardsound = S2,4
ground.type = Low
ground.slidetime = 22
ground.hittime = 22
fall.yvelocity = -3.4
ground.velocity = -1
air.velocity = -3,-8
air.fall = 1
yaccel = .45
getpower = 38,36
givepower = 16,16

[State 1120, Lightning]
type = null;Explod
trigger1 = animtime = -1
anim = 1160
ownpal = 1
sprpriority = 4
postype = p1
pos = 56,0
bindtime = 1
removeongethit = 1

[State 1110, State]
type = ChangeState
trigger1 = animtime = 0
value = 1130

;Handou Sandangeri (D followup)
[Statedef 1120]
type = S
movetype = A
physics = S
anim = 1120
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 75
juggle = 14

[State 1110, Voice]
type = PlaySnd
trigger1 = animelem = 2
value = s8,2
channel = 0

[State 1100, HitDef1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 28,5
animtype = Heavy
guardflag = MA
hitflag = MAF
air.juggle = 3
priority = 3, Hit
pausetime = 6,16
poweradd = 20,10
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S1,2
guardsound = S2,4
ground.type = High
ground.slidetime = 22
ground.hittime = 22
fall.yvelocity = -3.4
ground.velocity = -1
air.velocity = -3,-8
air.fall = 1
yaccel = .45
getpower = 36,30
givepower = 16,16

[State 1120, Move]
type = PosAdd
trigger1 = animelem = 2
x = 6

[State 1120, Move]
type = PosAdd
trigger1 = animelem = 3
x = 4

[State 1120, Move]
type = PosAdd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
x = 8

[State 1120, Lightning]
type = null;Explod
trigger1 = animtime = -1
anim = 1160
ownpal = 1
sprpriority = 4
postype = p1
pos = 56,0
bindtime = 1
removeongethit = 1

[State 1120, State]
type = ChangeState
trigger1 = animtime = 0
value = 1135

;B Flipkick
[Statedef 1130]
type = A
movetype = A
physics = N
anim = 1130
sprpriority = 2
ctrl = 0
juggle = 1
velset = -2,-6

[State 2]
type = notHitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 5
value = SCA

[State 1600, Lightning]
type = Explod
trigger1 = time = 1;animtime = -1
anim = 1081;1620
id = 1620
ownpal = 1
sprpriority = 4
postype = p1
pos = 32,-20;56,0
bindtime = 1
removeongethit = 1

[State 1600, Lightning]
type = Explod
trigger1 = time = 2
anim = 1115
id = 1620
ownpal = 1
sprpriority = 3
postype = p1
pos = -22,-36
bindtime = 1
removeongethit = 1

[State 1130, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .5

[State 1130, SFX]
type = PlaySnd
trigger1 = time = 0
value = s13,5;4,0

[State 1135, HitDef1]
type = HitDef
;triggerall = (p2stateno != [5020,5040])
triggerall = ifelse(p2movetype = H, (p2stateno != [3300,3315]),1)
trigger1 = !movecontact;AnimElem = 1
attr = A, SA
damage = 86,10
animtype = Back
guardflag = M
hitflag = MAF
air.juggle = 8
priority = 7,Hit
pausetime = 12,16
guard.pausetime = 10,18
poweradd = 50,30
p2getp1stateno = 1
p2stateno = 3300
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S13,3;2,2
guardsound = S2,4
ground.type = High
ground.slidetime = 25
ground.hittime = 27
ground.velocity = -13, -3
air.velocity = -13,-3
fall.yvelocity = -3.4
yaccel = .45
fall = 1
fall.recovertime = 105;35
palfx.time = 65
palfx.color = 0;64
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
getpower = 36,36
givepower = 16,16

[State 1130, Move]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = 4

[State 1000, p2GCRUSH]
type = targetstate
triggerall = moveguarded
trigger1 = p2statetype != A
persistent = 0
ignorehitpause = 1
value = 5255
ctrl = 0

[State 1130, Landing]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1140

;D Flipkick
[Statedef 1135]
type = A
movetype = A
physics = N
anim = 1130
sprpriority = 2
ctrl = 0
velset = 0,-9
juggle = 1

[State 2]
type = notHitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 6
value = SCA

[State 1600, Lightning]
type = Explod
trigger1 = time = 1;animtime = -1
anim = 1081;1620
id = 1620
ownpal = 1
sprpriority = 4
postype = p1
pos = 56,-32;56,0
bindtime = 1
removeongethit = 1

[State 1600, Lightning]
type = Explod
trigger1 = time = 2
anim = 1115
id = 1620
ownpal = 1
sprpriority = 3
postype = p1
pos = -23,-38
bindtime = 1
removeongethit = 1

[State 1135, Gravity]
type = Gravity
trigger1 = time >= 0

[State 1135, SFX]
type = PlaySnd
trigger1 = time = 0
value = s13,5;4,0

[State 1135, HitDef1]
type = HitDef
;triggerall = (p2stateno != [5020,5040])
;triggerall = p2stateno != [154,155]
triggerall = ifelse(p2movetype = H, (p2stateno != [3300,3315]),1)
trigger1 = !movecontact;AnimElem = 1
attr = A, SA
damage = 86,5
animtype = Back
guardflag = M
hitflag = MAF
air.juggle = 8
priority = 7, Hit
pausetime = 12,16
guard.pausetime = 10,18
poweradd = 30,20
p2stateno = 3300 + ((p2statetype=C)*10)
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S13,3;2,2
guardsound = S2,4
ground.type = High
ground.slidetime = 25
ground.hittime = 27
ground.velocity = -13, -3
air.velocity = -13,-3
fall.yvelocity = -3.4
yaccel = .45
fall = 1
fall.recovertime = 105;35
palfx.time = 65
palfx.color = 0;64
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
getpower = 36,36
givepower = 16,16

[State 1135, Move]
type = PosAdd
trigger1 = time = 2
trigger2 = time = 4
trigger3 = time = 6
x = 9

[State 1000, p2GCRUSH]
type = targetstate
triggerall = moveguarded
trigger1 = p2statetype != A
persistent = 0
ignorehitpause = 1
value = 5255
ctrl = 0

[State 1135, Landing]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1150

;B landing
[Statedef 1140]
type = S
movetype = I
physics = S
anim = 1140
sprpriority = 2
ctrl = 0
velset = 0,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s13,0
volumescale = 50

[State 1140, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State AI,New]
type = ChangeState
value = ifelse((power >= 2000&&random%2=0),2798,2898)
triggerall = animelemtime(4) >= 2
triggerall = !numhelper(2625)
triggerall = !numhelper(2799)
triggerall = !numhelper(2899)
triggerall = var(9) = 1
triggerall = (random%7=3&&!var(11))||(var(11)=1&&random%5=4&&random > 555)
triggerall = p2bodydist x >=150
triggerall = var(35) = 1||statetype != A
triggerall = power >= 1000
trigger1 = enemynear,statetype = L||p2statetype = L||p2stateno = [3300,3315]
trigger2 = p2stateno = [5050,5100]
trigger3 = enemynear,stateno = [5050,5100]
IgnoreHitPause = 1

[State 1140, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;D landing
[Statedef 1150]
type = S
movetype = I
physics = S
anim = 1150
sprpriority = 2
ctrl = 0
velset = 0,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s13,0
volumescale = 50

[State 1150, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State AI,New]
type = ChangeState
value = ifelse((power >= 2000&&random%2=0),2798,2898)
triggerall = animelemtime(3) >= 2
triggerall = !numhelper(2625)
triggerall = !numhelper(2799)
triggerall = !numhelper(2899)
triggerall = var(9) = 1
triggerall = (random%7=3&&!var(11))||(var(11)=1&&random%5=2&&random > 555)
triggerall = p2bodydist x >=150
triggerall = var(35) = 1||statetype != A
triggerall = power >= 1000
trigger1 = enemynear,statetype = L||p2statetype = L||p2stateno = [3300,3315]
trigger2 = p2stateno = [5050,5100]
trigger3 = enemynear,stateno = [5050,5100]
IgnoreHitPause = 1


[State 1150, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------
;------------------------------------
[Statedef 1101]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 70
velset   = 0,0
anim     = 1101
ctrl     = 0
sprpriority = 2

[State 1000, Voice]
type = PlaySnd
trigger1 = time = 1
value = s5,2

[State 1000, SFX]
type = PlaySnd
trigger1 = animelemtime(6) = 2
value = s13,4
volume = -100

[State 2200, 7]
type = Explod
trigger1 = animelemtime(2) = 0
id = 3060
anim = 1151
pos = -28,-88
postype = p1
sprpriority = 3
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
ontop = 1
scale = .5,.5

[State 3710, KillBolt]
type = RemoveExplod
trigger1 = animelemtime(5) = 0
id = 3060

[State 3000]
type = Projectile
trigger1 = animelemtime(6) = 0
projID = 3051
projanim = 3051
projremove = 1
projpriority = 10
projhitanim = 3052
projremanim = 3052
projscale = .66,.66
projsprpriority = 5
projremovetime = 120
getpower = 80,30
ownpal = 1
offset = 72,-72
velocity = 6;4, 0
attr = S,SP
animtype = medium
damage = 110 ,20
hitflag = MAF
guardflag = M
hitsound = s13,17
guardsound = s2,4
pausetime = 0,8
sparkno = s4130
guard.sparkno = s50
;sparkxy = -10,-52
ground.type = high
ground.hittime = 20
ground.slidetime = 20
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
palfx.time = 30
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
trans = add;alpha
;alpha = 115, 256

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;==================================
;------------------------------------
[Statedef 1102]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 99
velset   = 0,0
anim     = 1102
ctrl     = 0
sprpriority = 2

[State 1000, Voice]
type = PlaySnd
trigger1 = time = 1
value = s5,2

[State 2200, 7]
type = Explod
trigger1 = animelemtime(2) = 0
id = 3060
anim = 1151
pos = -28,-88
postype = p1
sprpriority = 3
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
ontop = 1
scale = .5,.5

[State 3710, KillBolt]
type = RemoveExplod
trigger1 = animelemtime(5) = 0
id = 3060

[State 2900, 1]
type = helper
trigger1 = AnimElemtime(6) = 0
id = 1103
persistent = 0
name = "AP"
pos = 61,-116
postype = p1
stateno = 1103
helpertype = normal;Player
keyctrl = 0
ownpal = 1
size.xscale = .665
size.yscale = .665

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------
;-------------------------------------------
[Statedef 1103]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0]
type = ChangeAnim
trigger1 = anim != 1152
value = 1152
ignorehitpause = 1

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 1000, HitOverride]
type = HitOverride
trigger1 = ishelper
attr = SCA,AP
stateno = 1103
time = 1
ignorehitpause = 1

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10
mul = 256,256,256
invertall = 0
color = 0

[State 1660]
type = Projectile
Trigger1 = animelemtime(1) = 7
Trigger2 = animelemtime(1) = 25
projID = 1660
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = (0+random%2),(0+random%2)
velocity = (2+random%4),5;Vel X,Vel Y
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,6
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
ground.hittime = 20
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.6
guard.velocity = -6
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = 1
facing = 1
fall.recover = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 1660]
type = Projectile
Trigger1 = animelemtime(1) = 10
Trigger2 = animelemtime(1) = 28
projID = 1661
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = -(0+random%2),(0+random%2)
velocity = -(2+random%4),5;Vel X,Vel Y
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,6
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
ground.hittime = 20
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.6
guard.velocity = -6
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = 1
fall.recover = 0
palfx.time = 30
facing = -1
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 1660]
type = Projectile
Trigger1 = animelemtime(1) = 13
Trigger2 = animelemtime(1) = 33
projID = 1662
projanim = 1662
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = -(0+random%2),-(0+random%2)
velocity = -(2+random%4),-(5-random%4);Vel X,Vel Y
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,8
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
facing = -1
ground.hittime = 28
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.6
guard.velocity = -4
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = 1
facing = -1
fall.recover = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 1660]
type = Projectile
Trigger1 = animelemtime(1) = 16
Trigger2 = animelemtime(1) = 37
projID = 1663
projanim = 1662
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = (0+random%2),(0+random%2)
velocity = (2+random%5),-(5-random%4);Vel X,Vel Y
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,8
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
ground.hittime = 28
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.6
guard.velocity = -4
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = 1
facing = 1
fall.recover = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 1660]
type = Projectile
Trigger1 = animelemtime(1) = 11
Trigger2 = animelemtime(1) = 27
projID = 1060
projanim = 1060
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 4125
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = (0+random%2),(-2+random%5)
velocity = (2+random%5),0;Vel X,Vel Y
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,8
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
ground.hittime = 28
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.6
guard.velocity = -4
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = 1
facing = 1
fall.recover = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 1660]
type = Projectile
Trigger1 = animelemtime(1) = 9
Trigger2 = animelemtime(1) = 32
projID = 1061
projanim = 1060
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 4125
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = (0+random%2),(-2+random%5)
velocity = -(2+random%5),0
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,8
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
ground.hittime = 28
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.6
guard.velocity = -4
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = -1
facing = 1
fall.recover = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 3000, Voice]
type = PlaySnd
Trigger1 = animelemtime(1) = 7
Trigger2 = animelemtime(1) = 25
Trigger3 = animelemtime(1) = 10
Trigger4 = animelemtime(1) = 25
Trigger5 = animelemtime(1) = 13
Trigger6 = animelemtime(1) = 33
Trigger7 = animelemtime(1) = 16
Trigger8 = animelemtime(1) = 37
value = s13,8

[state a]
type = destroyself
trigger1 = animelemtime(1) >= 40
;=======================================
;P2 GUARD CRUSH
[Statedef 1160]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0

[State 1160, ANIM]
type = Changeanim
Trigger1 = time = 0
trigger1 = anim != 307
trigger1 = selfanimexist(307)
value = 307

[State 1160, ANIM]
type = Changeanim2
Trigger1 = time = 0
trigger1 = !selfanimexist(307)
value = 1180

[State 1160, vel]
type = velset
Trigger1 = time = 0
trigger1 = selfanimexist(307)
x = -12

[State 1160, vel]
type = velset
Trigger1 = time = 0
trigger1 = !selfanimexist(307)
x = -8

[State 1160, MD]
type = makedust
Trigger1 = 1
pos = 0,0
spacing = 3

[State 1160, END]
type = selfstate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------
;Shinkuu Katategoma
;B version
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 110
juggle = 14

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP

[State 1200, Var]
type = VarRandom
trigger1 = time = 0
v = 13
range = 0,2

[State 1200, Voice]
type = PlaySnd
trigger1 = animelem = 2
value = s8, 3
channel = 0

[State 1200, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = s4, 3
loop = 1
channel = 4

[State 1200, HitDef]
type = HitDef
triggerall = (p2stateno != 5040)  
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
attr = C, SA
damage = 30,5
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
poweradd = 30,16
pausetime = 2,4
sparkno = s62
guard.sparkno = s50
sparkxy = -25,-36
hitsound = S2,1
guardsound = S2,4
ground.type = Low
air.animtype = Low
ground.slidetime = 24;19
guard.hittime = 16;12
guard.pausetime = 1,12
ground.hittime = 19
ground.velocity = 0
air.velocity = -4,-9
fall.recover = 0
air.fall = 1
yaccel = .5
getpower = 40,35
givepower = 16,16

[State 1200, HitDef]
type = HitDef
triggerall = (p2stateno != 5040)  
trigger1 = AnimElem = 16
attr = C, SA
damage = 30,5
animtype = hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 10,12
sparkno = s62
guard.sparkno = s50
sparkxy = -25,-36
hitsound = S2,1
guardsound = S2,4
ground.type = Low
ground.slidetime = 20;15
ground.hittime = 16;12
ground.velocity = -5,-7
air.velocity = -5,-7
guard.velocity = -12
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -15
fall = 1
fall.recover = 0
air.fall = 1
yaccel = .5
getpower = 65,55
givepower = 16,16

[State 1200, State]
type = ChangeState
trigger1 = animtime = 0
value = 1220

;D version
[Statedef 1210]
type = S
movetype = A
physics = S
anim = 1210
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 120
juggle = 14

[State 2]
type = HitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA,HT,HA,HP,SA

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = prevstateno = [1800,1822]
value = -500
ignorehitpause = 1

[State 183, Bright]
type = PalFX
triggerall = !time
trigger1 = prevstateno = [1800,1822]
time = 10
add = 96,96,96
ignorehitpause = 1
;---------------------------------------------
[State 1210, Var]
type = VarRandom
trigger1 = time = 0
v = 13
range = 0,2

[State 1210, Voice]
type = PlaySnd
trigger1 = animelem = 2
value = s8, 3
channel = 0

[State 1200, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = s4, 3
loop = 1
channel = 4
volume = 0

[State 1210, HitDef]
type = HitDef
triggerall = (p2stateno != 5040)  
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 16
trigger4 = AnimElem = 22
trigger5 = AnimElem = 28
attr = C, SA
damage = 24,5
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
poweradd = 30,8
pausetime = 2,6
sparkno = s62
guard.sparkno = s50
sparkxy = -25,-36
hitsound = S2,1
guardsound = S2,4
ground.type = Low
guard.hittime = 18;12
guard.pausetime = 1,12
ground.slidetime = 28
ground.hittime = 20;18
ground.velocity = 0
air.velocity = -6,-9
fall.recover = 0
air.fall = 1
yaccel = .5
getpower = 50,40
givepower = 16,16

[State 1200, HitDef]
type = HitDef
triggerall = (p2stateno != 5040)
trigger1 = AnimElem = 31
trigger2 = AnimElem = 34
attr = C, SA
damage = 38,5
animtype = hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
poweradd = 30,8
pausetime = 10,12
sparkno = s62
guard.sparkno = s50
sparkxy = -25,-36
hitsound = S2,1
guardsound = S2,4
ground.type = Low
ground.slidetime = 26;16
ground.hittime = 17
ground.velocity = -5,-7
guard.velocity = -12
air.velocity = -5,-7
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -15
fall = 1
fall.recover = 0
air.fall = 1
yaccel = .5
getpower = 70,50
givepower = 16,16

[State 1210, State]
type = ChangeState
trigger1 = animtime = 0
value = 1230

;B recover
[Statedef 1220]
type = S
movetype = A
physics = S
anim = 1220
sprpriority = 2
ctrl = 0
velset = 0,0

[State 1220, StopSnd]
type = StopSnd
trigger1 = time = 10
channel = 4

[State 1220, Move]
type = PosAdd
trigger1 = animelem = 2
x = -16

[State 1220, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;D recover
[Statedef 1230]
type = S
movetype = A
physics = S
anim = 1230
sprpriority = 2
ctrl = 0
velset = 0,0

[State 1220, StopSnd]
type = StopSnd
trigger1 = time = 18
channel = 4

[State 1230, Move]
type = PosAdd
trigger1 = animelem = 2
x = -16

[State 1230, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;==================================
;-------------------------------------
[StateDef 380]
type = S
movetype = I
physics = N
juggle = 0
anim = 380
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = null;PlaySnd
trigger1 = time = 6
value = s6,5

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 1
id = 380
anim = 315
pos = 10,2
postype = p1
sprpriority = -2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
scale = .7,1

[State 1310, Spark]
type = Explod
trigger1 = !numExplod(1530)
anim = 1530
id = 1530
postype = p1
pos = 25,0
facing = -1
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1
ownpal = 1

[State 1310, Spark]
type = Explod
trigger1 = !numExplod(1540)
anim = 1530
id = 1540
postype = p1
pos = -20,0
facing = 1
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1
ownpal = 1

[State a]
type = Reversaldef
trigger1 = 1
reversal.attr = SCA,AA,AT,AP
priority = 7,miss
pausetime = 10,30
sparkno = s50
hitsound = s2,0
;p1stateno = 381
ignorehitpause = 1

[State -2]
type = ChangeState
triggerall = hitpausetime = 0
triggerall = numtarget > 0
triggerall = !target,IsHelper
trigger1 = enemy,movereversed
value = 381
ctrl = 0
IgnoreHitPause = 1

[State a]
Type = HitOverride
trigger1 = 1
attr = SCA,AA,AT,AP
stateno = 383
IgnoreHitPause = 1

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[StateDef 381]
type = S
movetype = I
physics = N
juggle = 0
anim = 381
ctrl = 0
velset = 0,0

[State a]
type = Reversaldef
trigger1 = 1
reversal.attr = SCA,AA,AT,AP
pausetime = 0,0
ignorehitpause = 1

[State 3920, Bilog Spark]
type = Explod
triggerall = animelemtime(1) = 0
trigger1 = !numExplod(381)
anim = 381
id = 381
sprpriority = 4
postype = p1
pos = 0,0
bindtime = 1
removetime = -2
ownpal = 1

[State 2200, 7]
type = Explod
trigger1 = !numExplod(27)
id = 27
anim = 316
pos = 10,2
postype = p1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .7,1

[State 600, end]
type = ChangeState
trigger1 =  animelemtime(1) > 0
value = 382
ctrl = 0

[StateDef 382]
type = S
movetype = I
physics = N
juggle = 0
anim = 382
ctrl = 0
velset = 0,0

[State a]
type = playerpush
trigger1 = animelemtime(5) <= 1
value = 0
IgnoreHitPause = 1

[State haha]
type = Turn
triggerall = animelemtime(1) = 0
trigger1 = P2Dist X < 0

[State ]
type = AssertSpecial
trigger1 = animelemtime(17) <= 10
flag= noBG
flag2= noFG
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1

[State a]
type = posadd
trigger1 = animelemtime(1) = 1
x = (p2BodyDist x) + 110;(enemy,pos x) + 50

[State 805, Combo]
type = HitAdd
trigger1 = animelem = 2
value = 1

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 3
value = s8,17

[State a]
type = Reversaldef
trigger1 = animelemtime(17) <= 1
reversal.attr = SCA,AA,AT,AP
pausetime = 0,0
ignorehitpause = 1

[State 3210, Damage]
type = TargetLifeAdd
triggerall = gametime%3 = 0
triggerall = animelemtime(1) >= 1
trigger1 = animelemtime(16) < 8
value = -floor(enemy,lifemax*0.005)
kill = 0
ignorehitpause = 1

[State 3210, Damage]
type = Targetstate
triggerall = animelemtime(17) < 0
trigger1 = numtarget >  0
value = 387
ignorehitpause = 1

[State 3210, Damage]
type = Targetstate
triggerall = animelemtime(17) = [0,2]
trigger1 = numtarget >  0
value = 388
ignorehitpause = 1

[State 3210, Damage]
type = Targetstate
triggerall = animelemtime(17) = 3
trigger1 = numtarget >  0
value = 3830
ignorehitpause = 1

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = animelemtime(16) = [8,9]
value = -(floor(enemy,lifemax*0.02)+10)
kill = 1
absolute = 1
ignorehitpause = 1

[State 3000, SparkSound]
type = PlaySnd
triggerall = animelemtime(16) < 1
trigger1 = gametime%10 = 0
value = s13,9
volume = 50
freqmul = .7
volumescale = 50

[State 3920, Bilog Spark]
type = Explod
triggerall = gametime%7 = 0
trigger1 = animelemtime(17) < 1
anim = 4125
sprpriority = 3
postype = p2
pos = -15+(random%40),-15
vel = 0,-3
bindtime = 1
removetime = -2
ownpal = 1

[State 3920, Bilog Spark]
type = Explod
triggerall = gametime%8 = 0
trigger1 = animelemtime(17) < 1
anim = 4130
sprpriority = 4
postype = p2
pos = 15-(random%40),-15
vel = 0,-4
bindtime = 1
removetime = -2
ownpal = 1

[State 3920, Bilog Spark]
type = Explod
triggerall = animelemtime(5) > 0
triggerall = animelemtime(17) < 0
trigger1 = gametime%7 = 1&&animelemtime(10) < 0
trigger2 = gametime%14 = 0&&animelemtime(10) >= 1;&&!numExplod(4135)
anim = 4135
id = 4135
sprpriority = 4
postype = p1
pos = 10,-35
bindtime = -1
removetime = -2
ownpal = 1
trans = add
scale = .75,.75

[State 3920, Bilog Spark]
type = Explod
triggerall = numExplod(985) = 0
triggerall = command = "RED"
triggerall = power >= 1000
trigger1 = animelemtime(13) >= 1
anim = 999
id = 985
postype = p1
pos = 0
bindtime = 1
removetime = 15
ownpal = 1

[State 600, end]
type = ChangeState
triggerall = var(9) != 0
triggerall = power >= 1000
trigger1 = animelemtime(17) >= 1
value = 2380
ctrl = 0

[State 600, end]
type = ChangeState
triggerall = var(9) = 0
triggerall = numExplod(985) > 0
trigger1 = animelemtime(17) >= 1
value = 2380
ctrl = 0

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;=============================================
[StateDef 383]
type = S
movetype = I
physics = N
juggle = 0
anim = 383
ctrl = 0
velset = 0,0

[State 10]
type = Helper
trigger1 = animelemtime(5) = 1
name = "ry"
stateno = 385
ID = 385
helpertype = normal
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 10]
type = Helper
trigger1 = animelemtime(5) = 1
name = "ry"
stateno = 386
ID = 386
helpertype = normal
pos = -20,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1

[State 1,AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 10
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State ]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = s8,15
cannel = -1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(6)<0
trigger1 = numExplod(4110) < 4
anim = 4125
id = 4110
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 60,100
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(6)<0
trigger1 = numExplod(4111) < 4
anim = 4130
id = 4111
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 60,100
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1,Super Pause]
type = Pause
trigger1 = animelem = 1, = 0
movetime = 30
time = 30

[State end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 385]
type     = C
movetype = A
physics  = N
ctrl     = 0
anim     = 787
sprpriority = 5

[State 1]
type = velset
trigger1 = animelemtime(1) >= 0
x = 4

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State ]
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = s13,6
cannel = -1

[State ]
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = s13,5
cannel = -1

[State ]
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = s13,4
cannel = -1

[State 1]
type = Projectile
trigger1 = animelemtime(2) = 1
projid = 1000
projanim = 3255
;projhitanim = 7201
projremanim = -1
projscale = 1,.42
projpriority = 8
projremovetime = 30
velocity = 0
offset = 20,0
attr = A,HP
projhits = 3
damage = 18,3
getpower = 20,12
ground.type = low
animtype = up
givepower = 8
sprpriority = 8
hitflag = MAFP
guardflag = M
pausetime = 0,2
ground.slidetime = 25
ground.hittime  = 25
sparkno = s70
guard.sparkno = S72
sparkxy = 115,-70
hitsound = s1,7
guardsound = s2,1
guard.velocity = -11
airguard.velocity = 7.5,-8
ground.velocity = 7.7,-9.25
ground.cornerpush.veloff = -3
yaccel = .45
fall = 1
fall.recover = 0
;P2Stateno = 5037
air.juggle = 8
envshake.time = 6
envshake.ampl = 3
envshake.freq = 90

[State 1001, ]
type = DestroySelf
trigger1 = FrontEdgeBodyDist <= -88
;---------------------------------------------------------------------------
[Statedef 386]
type     = C
movetype = A
physics  = N
ctrl     = 0
anim     = 787
sprpriority = 5

[State 1]
type = velset
trigger1 = animelemtime(1) >= 0
x = 4

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State ]
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = s13,5
cannel = -1

[State ]
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = s13,6
cannel = -1

[State ]
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = s13,4
cannel = -1

[State 1]
type = Projectile
trigger1 = animelemtime(2) = 1
projid = 1000
projanim = 3255
;projhitanim = 7201
projremanim = -1
projpriority = 8
projscale = 1,.42
projremovetime = 30
velocity = 0
offset = 20,0
attr = A, HP
projhits = 3
damage = 30,2
getpower = 20,12
ground.type = low
animtype = up
givepower = 8
sprpriority = 8
hitflag = MAFP
guardflag = M
pausetime = 0,2
ground.slidetime = 25
ground.hittime  = 25
sparkno = s70
guard.sparkno = S72
sparkxy = 115,-70
hitsound = s1,7
guardsound = s2,1
guard.velocity = -11
airguard.velocity = 7.5,-8
ground.velocity = 7.7,-9.25
ground.cornerpush.veloff = -3
yaccel = .45
fall = 1
fall.recover = 0
;P2Stateno = 5037
air.juggle = 8
envshake.time = 6
envshake.ampl = 3
envshake.freq = 90

[State 1001, ]
type = DestroySelf
trigger1 = FrontEdgeBodyDist <= -88;backedgebodydist <= -88
;=============================================
[StateDef 2380]
type = S
movetype = I
physics = N
juggle = 0
anim = 2380
ctrl = 0
velset = 0,0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 2, = 0
value = s3,6

[State 3000, Super Pause]
type = SuperPause
trigger1 = animelem = 2, = 0
movetime = 0
poweradd = -1000
time = 28
anim = -1
p2defmul = 0
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 2, = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2, = 0
time = 30
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7000
id   = 1351
pos = 45,-75
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7010
id   = 1352
pos = 45,-75
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1
;---------------------------------------------
[State 1000, Explod]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
trigger1 =  animelem = 2, = 0
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
;-----------------------------------------------
[State a]
type = playerpush
trigger1 = animelemtime(5) <= 1
value = 0
IgnoreHitPause = 1

[State ]
type = AssertSpecial
trigger1 = animelemtime(7) <= 1
flag= noBG
flag2= noFG
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1

[State 805, Combo]
type = HitAdd
trigger1 = animelem = 5
value = 1

[State a]
type = Reversaldef
trigger1 = animelemtime(7) <= 1
reversal.attr = SCA,AA,AT,AP
pausetime = 0,0
ignorehitpause = 1

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 2, = 2
value = s8,7

[State 3210, Damage]
type = Targetstate
triggerall = animelemtime(5) < 0
trigger1 = numtarget >  0
value = 387
ignorehitpause = 1

[State 3210, Damage]
type = Targetstate
triggerall = animelemtime(5) = 0
trigger1 = numtarget >  0
value = 3830
ignorehitpause = 1

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = animelemtime(5) = 1
value = -(floor(enemy,lifemax/10)+50)
kill = 1
absolute = 1
ignorehitpause = 1

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 30
length = 10
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 4
Trans = add

[State 2100]
type = Explod
Trigger1 = animelemtime(5) = 0
anim = 4147
sprpriority = 5
postype = p2
pos = 0,-10
vel = 0,-.5
bindtime = 1
under = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
supermovetime = 10
pausemovetime = 10

[State 2100]
type = Explod
Trigger1 = animelemtime(5) = 0
anim = 62
sprpriority = 11
postype = p2
pos = 0,-(50+random%10)
vel = 0,-.5
bindtime = 1
under = 0
ownpal = 1
;scale = .85,.85
ignorehitpause = 1
persistent = 0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = s1,4

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = s13,10

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = s13,11

[State 2100]
type = envshake
Trigger1 = animelemtime(5) = 0
ampl = 12
time = 16

[State 3920, Bilog Spark]
type = Explod
trigger1 = gametime%9 = 0
trigger1 = animelemtime(6) < 1
anim = 4125
sprpriority = 3
postype = p2
pos = -15+(random%40),-15
vel = 0,-3
bindtime = 1
removetime = -2
ownpal = 1

[State 3920, Bilog Spark]
type = Explod
trigger1 = gametime%10 = 0
trigger1 = animelemtime(6) < 1
anim = 4130
sprpriority = 4
postype = p2
pos = 15-(random%40),-15
vel = 0,-4
bindtime = 1
removetime = -2
ownpal = 1

[State 600, end]
type = ChangeState
triggerall = var(9) != 0
triggerall = power >= 1000
trigger1 = animelemtime(8) >= 0
value = 2381
ctrl = 0

[State 600, end]
type = ChangeState
triggerall = var(9) = 0
triggerall = command = "RED"
triggerall = power >= 1000
trigger1 = animelemtime(8) >= 0
value = 2381
ctrl = 0

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;========================================
[StateDef 2381]
type = S
movetype = I
physics = N
juggle = 0
anim = 2381
ctrl = 0
velset = 0,0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 5, = 0
value = s3,8

[State 3000, Super Pause]
type = SuperPause
trigger1 = animelem = 5, = 0
movetime = 30
poweradd = -1000
time = 32
anim = -1
p2defmul = 0
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 5, = 0
value = 255,255,255
time = 2
under = 1

[State 2200, 7]
type = Explod
trigger1 = animelem = 5, = 0
id = 992
anim = 997
pos = 39,-125
postype = p1
sprpriority = 4
removetime = 32
bindtime = -1
ownpal = 1
ontop = 1
Trans = add1
scale = 1.05,1.05
supermove = 1
IgnoreHitPause = 1

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 5, = 0
anim = 7110
id   = 1351
pos = 40,-135
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 5, = 0
anim = 7100
id   = 1352
pos = 40,-135
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s6,5
volume = 255
volumescale = 100
;------------------------------------------------------
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = 1
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = 1
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = 1
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = 1
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = 1
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = 1
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1
;-----------------------------------------------
[State a]
type = playerpush
trigger1 = animelemtime(9) <= 1
value = 0
IgnoreHitPause = 1

[State ]
type = AssertSpecial
trigger1 = animelemtime(9) <= 1
flag= noBG
flag2= noFG
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1

[State 805, Combo]
type = HitAdd
trigger1 = animelem = 8
value = 1

[State a]
type = Reversaldef
trigger1 = animelemtime(9) <= 1
reversal.attr = SCA,AA,AT,AP
pausetime = 0,0
ignorehitpause = 1

[State 3210, Damage]
type = Targetstate
triggerall = animelemtime(8) < 0
trigger1 = numtarget >  0
value = 387
ignorehitpause = 1

[State 3210, Damage]
type = Targetstate
triggerall = animelemtime(8) = 0
trigger1 = numtarget >  0
value = 2324
ignorehitpause = 1

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = animelemtime(8) = 1
value = -(floor(enemy,lifemax/10)+50)
kill = 1
absolute = 1
ignorehitpause = 1

;---------------------
[State 2100]
type = Explod
Triggerall = gametime%10 = 0
Trigger1 = animelemtime(5) < 0
anim = 60
sprpriority = 11
postype = p2
pos = 20-(random%30),-(50+random%10)
bindtime = 1
under = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 2100]
type = Explod
Triggerall = gametime%10 = 1
Trigger1 = animelemtime(5) < 0
anim = 61
sprpriority = 12
postype = p2
pos = -17+(random%30),-(50+random%10)
bindtime = 1
under = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3920, Bilog Spark]
type = Explod
triggerall = gametime%9 = 0
trigger1 = animelemtime(5) < 1
anim = 4125
sprpriority = 3
postype = p2
pos = -15+(random%40),-15
vel = 0,-3
bindtime = 1
removetime = -2
ownpal = 1

[State 3920, Bilog Spark]
type = Explod
triggerall = gametime%10 = 0
trigger1 = animelemtime(5) < 1
anim = 4130
sprpriority = 4
postype = p2
pos = 15-(random%40),-15
vel = 0,-4
bindtime = 1
removetime = -2
ownpal = 1

[State 3000, SparkSound]
type = PlaySnd
triggerall = animelemtime(5) < 1
trigger1 = gametime%10 = 0
value = s13,9
volume = 50
freqmul = .7
volumescale = 50

[State 3210, Damage]
type = TargetLifeAdd
Triggerall = gametime%4 = 0
trigger1 = animelemtime(5) <= 1
value = -6
kill = 1
absolute = 1
ignorehitpause = 1
;=================

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 55
length = 12
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 4
Trans = add

[State 2100]
type = Explod
Trigger1 = animelemtime(8) = 0
anim = 4147
sprpriority = 5
postype = p2
pos = 0,-10
vel = 0,-.5
bindtime = 1
under = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
supermovetime = 10
pausemovetime = 10

type = Explod
Trigger1 = animelemtime(8) = 0
anim = 4147
sprpriority = 5
postype = p2
pos = 0,-15
vel = 0,-.5
bindtime = 1
under = 0
facing = -1
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
supermovetime = 10
pausemovetime = 10

[State 2100]
type = Explod
Trigger1 = animelemtime(8) = 0
anim = 62
sprpriority = 11
postype = p2
pos = 0,-(50+random%10)
vel = 0,-.5
bindtime = 1
under = 0
ownpal = 1
;scale = .85,.85
ignorehitpause = 1
persistent = 0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelemtime(8) = 0
value = s1,4

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelemtime(8) = 0
value = s13,10

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelemtime(8) = 0
value = s13,11

[State 2100]
type = envshake
Trigger1 = animelemtime(8) = 0
ampl = 12
time = 16

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;======================================
[Statedef 387]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3830, Flash]
type = PalFX
trigger1 = 1
time = 22
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

;[state haha]
;type = nothitby
;trigger1 = 1
;value = SCA
;time = 0
;ignorehitpause = 1

[State , RemoveExplod0]
type = RemoveExplod
trigger1 = time = 0
trigger1 = ishelper

[state haha]
type = destroyself
trigger1 = time = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = anim != 387
value = 387

[State 1830]
type = SelfState
trigger1 = time >= 600
value = ifelse(!alive,5110,0)
ctrl = 1

[Statedef 388]
type    = S
movetype= H
physics = N
velset = 0,0

;[state haha]
;type = nothitby
;trigger1 = 1
;value = SCA
;time = 0
;ignorehitpause = 1

[State , RemoveExplod0]
type = RemoveExplod
trigger1 = time = 0
trigger1 = ishelper

[state haha]
type = destroyself
trigger1 = time = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = anim != 388
value = 388

[State 1830]
type = SelfState
trigger1 = animtime = 0
value = ifelse(!alive,5110,0)
ctrl = 1
;------------------------------------------------\

[Statedef 2324]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1227, life]
type = LifeAdd
trigger1 = time = 0
value = -floor(lifemax/8)
kill = 1
absolute = 1

[State 1227, pal]
type = PalFx
trigger1 = time = 0
time = 60
add = 80,-40,-140
mul = 256,256,256
sinadd = 100,100,100,15
invertall = 1
color = 0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -2.4
y = -14

[State 52, 2]
type = Veladd
trigger1 = time >= 2
y = .5

[State 810,]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2320

[State 1830]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[Statedef 1275]
type = S
movetype = A
physics = N
anim = 275
sprpriority = 2
ctrl = 0
juggle = 14
velset = 0,0
poweradd = 80

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = (prevstateno = [1200,1210])||prevstateno = [1800,1822]
value = -500
ignorehitpause = 1

[State 183, Bright]
type = PalFX
triggerall = !time
trigger1 = (prevstateno = [1200,1210])||prevstateno = [1800,1822]
time = 10
add = 96,96,96
ignorehitpause = 1

[State 2]
type = NOTHitBy
trigger1 = Time = 0
value = SC,HT,HA,HP
time = 6

[State HitDef]
type = HitDef
trigger1 = p2statetype != A
attr = S,ST
id = 277
animtype = Heavy
guard = 0
guardflag =
hitflag = M
priority = 7,Miss
poweradd = 30,15
p1stateno = 1276
p2stateno = 1277
p2getp1stateno = 1
p2facing = 1
sparkno = -1
sparkxy = -25,-83
hitsound = s-1
guardsound = S2,4
ground.type = High
air.animtype = Low
getpower = 50,35
givepower = 16,16

[State 810, 1]
type = PlaySnd
Trigger1 = time = 0
value = s5,1

[State 1300, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1276]
type    = S
movetype= A
physics = N
ctrl    = 0
velset  = 0,0
anim = 276

[State 0, Explod]
type = Explod
Trigger1 = time = 0
anim = 895
pos = 50,-72
postype = p1
facing = 1
vfacing = 1
removetime = -2
ontop = 1

[State 810, 1]
type = PlaySnd
Trigger1 = time = 0
value = s2,3

[State 810, 1]
type = PlaySnd
Trigger1 = AnimElem = 4
value = s5,1

[State 810, 1]
type =null; PlaySnd
Trigger1 = AnimElem = 1
value = s12,0

[State 810, 1]
type = PlaySnd
Trigger1 = animelem = 4
value = s3,10
volume = -255
volumescale = 50

[State 810, 3]
type = TargetBind
Trigger1 = animelem = 1
pos = 32, 0

[State 810, 3]
type = TargetBind
Trigger1 = animelem = 2
pos = 23, 0

[State 810, 3]
type = TargetBind
Trigger1 = animelem = 3
pos = 18, 0

[State 810, 3]
type = TargetBind
Trigger1 = animelem = 4
pos = 1, 0

[State 810, 3]
type = TargetBind
Trigger1 = animelemtime(4) = 2
pos = -4, 0

[State 810, 3]
type = TargetBind
Trigger1 = animelem = 5
pos = 11, 0

[State 810, 3]
type = SprPriority
Trigger1 = AnimElem = 3
value = 0

[State 1500,]
type = Turn
trigger1 = AnimElem = 5

[State 810, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------
[Statedef 1277]
Type = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 277

[State 810, 3]
type = SprPriority
Trigger1 = AnimElem = 3
value = 1

[State 1322]
type = veladd
trigger1 = AnimElem = 5
x = 9

[State 1322]
type = veladd
triggerall = vel x < 0
trigger1 = AnimElemtime(5) > 4 && time < 68
x = .3

[State 1322]
type = velset
trigger1 = time >= 68
trigger2 = vel x > 0&&AnimElemtime(5) > 4
x = 0

[State 1500,]
type = Turn
trigger1 = AnimElem = 6

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = S

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = ishelper

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper

[State 820, 1]
type = SelfState
trigger1 = AnimTime = 0
trigger2 = time >= 82
value = 0
ctrl = 1
;----------------------------
;Benimaru Koreda
[Statedef 1300]
type = S
movetype = A
physics = S
anim = 1300
sprpriority = 2
ctrl = 0
juggle = 14
velset = 0,0
poweradd = 110

[State ]
type = NotHitBy
trigger1 = animelemtime(3) < 0
value = SCA
time = 2
ignorehitpause = 1

[State HitDef]
type = HitDef
triggerall = var(5) <= 0;p2bodydist x < 30 &&
trigger1 = p2statetype != A &&  p2stateno != [150,153]
attr = S,ST
id = 1320
animtype = Heavy
guard = 0
guardflag =
hitflag = M
priority = 3, Miss
poweradd = 30,15
p1stateno = 1310
p2stateno = 1320
p2getp1stateno = 1
p2facing = 1
sparkno = -1
sparkxy = -25,-83
hitsound = -1
guardsound = S2,4
ground.type = High
air.animtype = Low
getpower = 50,35
givepower = 16,16

[State 1300, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Success
[Statedef 1310]
type = S
movetype = A
physics = S
anim = 1310
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 210

[State 805, Width]
type = Width
trigger1 = 1
edge = 40,40

[State 805, GrabSound]
type = PlaySnd
trigger1 = animelem = 4
value = s2,3
channel = 5
volume = 0

[State 805, GrabSpark]
type = Explod
trigger1 = animelem = 4
anim = 895
postype = p1
pos = 25, -101
sprpriority = 2
bindtime = 20
ownpal = 1

[State 1310, Bind1]
type = TargetBind
trigger1 = animelem = 4, < 0
pos = 32, 0

[State 1310, Bind2]
type = TargetBind
trigger1 = animelem = 4, >= 0 && animelem = 5, < 0
pos = 25, -101

[State 1310, Bind3]
type = TargetBind
trigger1 = animelem = 5, >= 0 && animelem = 6, < 0
pos = -4, -101

[State 1310, Bind4]
type = TargetBind
trigger1 = animelem = 6, >= 0 && animelem = 7, < 0
pos = -19, -102

[State 1310, Damage]
type = TargetLifeAdd
trigger1 = timemod = 4, 1 && animelem = 6, >= 7 && animelem = 7, < 0
value = -9
kill = 0
ignorehitpause = 1

[State 1310, Damage]
type = TargetLifeAdd
trigger1 = time = 105
value = -12
kill = 1
absolute = 1
ignorehitpause = 1

[State 1310, SFX]
type = PlaySnd
trigger1 = time <= 105
trigger1 = animelem = 6, >=7&&gametime%10 = 0;timemod = 10,1;&&random < 200
value = s13,12;ifelse(random%2,11,12)
channel = 5

[State 1310, SFX]
type = PlaySnd
trigger1 = time <= 105
trigger1 = animelem = 6, >=7&&gametime%10 = 0
value = s1,4
;channel = 8
volume = -150

[State 1310, Voice]
type = PlaySnd
trigger1 = animelem = 6
value = s8,4
channel = 0

[State 1310, Spark]
type = Explod
trigger1 = time = 36
anim = 4130;4140;1330
id = 1330
postype = p1
pos = -19, -102
bindtime = -1
removetime = -1
sprpriority = 5

[State 1310, Spark]
type = Explod
trigger1 = gametime%15 = 0 && time > 36;timemod = 15,1
anim = 4145;1340
id = 4145
postype = p1
pos = 0,-40
random = 40,80
bindtime = 1
sprpriority = 5

[State 1310, Spark]
type = Explod
trigger1 = gametime%17 = 0 && time > 36
anim = 4130
id = 4020
postype = p1
pos = 0,-50
random = 40,70
bindtime = 1
sprpriority = 3

[State 1310, Spark]
type = Explod
trigger1 = gametime%17 = 0 && time > 36
anim = 4125
id = 4020
postype = p1
pos = 0,-50
random = 40,70
bindtime = 1
sprpriority = 3

[State 1310, Spark]
type = Explod
trigger1 = gametime%15 = 0 && time > 36
anim = ifelse(random%2,60,ifelse(random%2,61,62))
id = 60
postype = p1
pos = 0,-40
random = 40,70
bindtime = 1
sprpriority = 7-random%3

[State 1310, Spark]
type = null;Explod
trigger1 = time = 123
anim = 3240
id = 1340
postype = p2
pos = 0,-8
bindtime = 1
sprpriority = 5

[State 1310, StopSound]
type = null;StopSnd
trigger1 = time = 105
channel = 5

[State 1310, StopSpark]
type = RemoveExplod
trigger1 = time = 105
id = 1330

[State 1310, Damage]
type = EnvShake
trigger1 = time = 37;animelem = 6, >= 7 && time < 105
time = 68
ampl = -2

[State 1310, Move]
type = PosAdd
trigger1 = animelem = 9
trigger2 = animelem = 10
x = -15

[State 1310, Move]
type = PosAdd
trigger1 = animelem = 11
x = -22

[State 1000, ChangeState]
type = ChangeState
triggerall = time = [100,107]
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "a"
trigger4 = command = "b"
value = 1315
ctrl = 0

[State 1310, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1315]
type     = C
movetype = A
physics  = C
juggle   = 0
poweradd = 65
ctrl     = 0
velset   = 0,0
anim     = 1315
sprpriority = 2

[State 1310, Move]
type = PosAdd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = -15

[State 1310, Move]
type = PosAdd
trigger1 = animelem = 5
x = -22

[State 1310, Move]
type = PosAdd
trigger1 = animelem = 10
trigger2 = animelem = 11
x = -10

[State 1310, StopSound]
type = StopSnd
trigger1 = time = 0
channel = 5

[State 1310, StopSpark]
type = RemoveExplod
trigger1 = time = 0
id = 1330

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, PlaySnd]
type = null;PlaySnd
trigger1 = movehit = 1
value = S2,2

[State 200]
type = HitDef
trigger1 = animelem = 7
attr = S, NA
damage = 30, 10
animtype = Hard
hitflag = MAFLDP
guardflag = MA
priority = 3, Hit
pausetime = 10,12
sparkno = s62
guard.sparkno = s50
sparkxy = -15,-35
hitsound = s2,1
guardsound = s2,4
ground.type = Low
ground.slidetime = 41
ground.hittime  = 22
ground.velocity = -6.7,-3
air.type = hard
air.velocity = -6.7,-3
air.hittime = 12
air.fall = 1
fall.recover = 0
p2stateno = 335
air.recover = 0
fall = 1
getpower = 55,40
givepower = 16,16

[State 200]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,2
channel = 4

[State 200]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1,0

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 335]
type    = A
movetype= H
physics = N
velset = 0,0

[State 7000, Flash]
type = PalFX
trigger1 = 1;Time % 2
time = 10
add = 30,-40,-140;0,15,75
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 335

[State 2100]
type = VelSet
trigger1 = AnimElem = 13
x = -5
y = -4

[State 2100]
type = Veladd
trigger1 = AnimElemtime(13) >= 0
y = .4

[State 820, 1]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 336
;---------------------------------------------------------------------------
[Statedef 336]
type    = L
movetype= H
physics = N
velset = -4,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 336

[State 2100]
type = PosSet
trigger1 = time = 0
y = 0

[State 2100]
type = Veladd
trigger1 = time >= 0 && AnimElemtime(8) <= 4
x = .1

[State 2100]
type = VelSet
trigger1 = AnimElemtime(8) = 5
x = 0

[State 2100,]
type = MakeDust
trigger1 = vel x < 0
spacing = 4

[State 820, 1]
type = SelfState
triggerall = Animtime = 0
trigger1 = Alive
value = 5120

[State 820, 1]
type = SelfState
triggerall = Animtime = 0
trigger1 = !Alive
value = 5150
;-------------------------------------------------------------------------------
;Hit by Benimaru Koreda
[Statedef 1320]
type = S
movetype = H
physics = S
sprpriority = 0
ctrl = 0
velset = 0,0

[State 1320, Camera]
type = ScreenBound
trigger1 = time >= 0
movecamera = 0,0

[State 1320, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 1320

[State 1310, Shock]
type = PalFX
trigger1 = time > 35 ;&& Time % 2
time = 30
add = 30,-40,-140;0,15,75
inadd = 60,60,50,10
color = 0
invertall = 1

[State 1310, Gravity]
type = PosSet
trigger1 = time = 106
y = -15

[State 1310, Gravity]
type = VelAdd
trigger1 = time >= 106
y = .13

[State 132]
type = lifeadd
triggerall = Pos Y >= 0
trigger1 = Vel Y > 0
value = -15
kill = 1
persistent = 0
ignorehitpause = 1

[State 1310, State]
type = Selfstate
triggerall = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
ctrl = 0

;----------------------
;Air Raijinken
;A Version
[Statedef 1400]
type = A
movetype = A
physics = N
anim = 1400
ctrl = 0
poweradd = 100

[State 1400, Gravity]
type = Gravity
trigger1 = time >= 0

[State 1400, Darken]
type = PalFX
trigger1 = animtime = -1
time = 1
add = -96,-96,-96
ignorehitpause = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = time = 1
value = s8, 0
channel = 0

[State 1000, SFX]
type = PlaySnd
trigger1 = animtime = -1
value = s13,3;4, 0

[State 1400, State]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1480
ctrl = 0

[State 1400, State]
type = ChangeState
trigger1 = animtime = 0
value = 1410

;Attack
[Statedef 1410]
type = A
movetype = A
physics = N
anim = 1410
sprpriority = 2
juggle = ifelse(prevstateno = 1410,0,14)

[State 1410, Gravity]
type = Gravity
trigger1 = time >= 0

[State 1410, Projectile1]
type = Explod
triggerall = !var(11)
trigger1 = time = 0
anim = 3063;1020
id = 9999
sprpriority = 3
postype = p1
pos = 45,-52
removeongethit = 1
bindtime = 15

[State 1410, Projectile1]
type = Explod
triggerall = !var(11)
trigger1 = time = 0
anim = 4135
id = 9999
sprpriority = 2
postype = p1
pos = 45,-52
removeongethit = 1
bindtime = 15

[State 1410, Projectile1]
type = Explod
triggerall = !var(11)
trigger1 = time = 15
anim = 1025
id = 9999
sprpriority = 3
postype = p1
pos = 45,-52
removeongethit = 1
bindtime = 4

[State 1410, Hit]
type = HitDef
triggerall = !var(11)
triggerall = (p2stateno != 5040)  
trigger1 = time = 2
trigger2 = time = 9
trigger3 = time = 16
id = 17000
attr = A, HP
animtype = back
sparkno = s4130;S4020
damage = 38,5
projpriority = 5
priority = 3, Hit
guard.sparkno = s50
sparkxy = 8+(random%5),-30+(random%5)
hitsound = -1;S2,2
guardsound = S2,4
getpower = 35,35
pausetime = 0,2
givepower = 16,16
hitflag = MAFP
guardflag = MA
ground.slidetime = 32;20
ground.hittime = 22;20
ground.velocity = -6
air.velocity = -4,-8
fall = ifelse(p2statetype = A,14,0)
fall.recovertime = 35
fall.yvelocity = -3.4
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .5

[State 1660]
type = Projectile
triggerall = var(11) = 1
Trigger1 = Time = 2
Trigger2 = Time = 3
projID = 1660
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = 45,-52
velocity = 1+random%2,5;Vel X,Vel Y
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,4
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
ground.hittime = 28
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.8
guard.velocity = -9
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 1660]
type = Projectile
triggerall = var(11) = 1
triggerall = prevstateno = 1450
Trigger1 = Time = 4
projID = 1660
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = -1
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
projhits = 1
getpower = 65,45
givepower = 6,6
ownpal = 1
offset = 45,-52
velocity = 4,5;Vel X,Vel Y
attr = A, SP
animtype = Hard
damage = 42,8
hitflag = MAF
guardflag = MA
hitsound = s13,12
guardsound = s2,4
pausetime = 0,4
sparkno = s4130;1650
guard.sparkno = s48;1650
sparkxy = 25,0;25
ground.type = High
ground.hittime = 28
ground.slidetime = 22
ground.velocity = -4.5,0
air.velocity = -4.8,4.8
guard.velocity = -9
air.juggle = 7
fall = ifelse(p2statetype != A,0,1)
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
yaccel = .6

[State 1410, State]
type = ChangeState
trigger1 = animtime = 0
value = 1420

[State 1410, State]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1480
ctrl = 0

;Drop
[Statedef 1420]
type = A
movetype = I
physics = N
anim = 1470

[State 1420, Gravity]
type = Gravity
trigger1 = time >= 0

[State 1420, State]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1480
ctrl = 0

;C Version
[Statedef 1450]
type = A
movetype = A
physics = N
anim = 1450
ctrl = 0
addpower = 100

[State 1450, Gravity]
type = Gravity
trigger1 = time >= 0

[State 1450, Darken]
type = PalFX
trigger1 = animtime = -1
time = 1
add = -96,-96,-96
ignorehitpause = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = time = 1
value = s8, 0
channel = 0

[State 1000, SFX]
type = PlaySnd
trigger1 = animtime = -1
value = s13,3;4, 0

[State 1450, HorizontalVar]
type = VarSet
trigger1 = animtime = 0
v = 25
value = floor(Vel X)

[State 1450, VerticalVar]
type = VarSet
trigger1 = animtime = 0
v = 26
value = floor(Vel Y)

[State 1450, State]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(var(11)=0,1460,1410)

;Attack
[Statedef 1460]
type = A
movetype = A
physics = N
anim = 1460
velset = 0,0
juggle = 14

[State 1460, Lightning Ball]
type = Explod
trigger1 = time = 0
anim = 3063;1020
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 45,-52
bindtime = 21

[State 1460, Lightning Ball]
type = Explod
trigger1 = time = 0
anim = 4135;1020
ownpal = 1
sprpriority = 2
postype = p1
removeongethit = 1
pos = 45,-52
bindtime = 21

[State 1460, 3]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
attr = S, SP
sprpriority = 0
id = 17000
animtype = High
damage = IfElse(var(10)>0,49,38),5
sparkno = s4130;S4020
guard.sparkno = s50
pausetime = 0,14
sparkxy = -15+(random%5),-55+(random%5)
hitsound = -1;S2,2
guardsound = S2,4
hitflag = MAFP
guardflag = MA
;guard.velocity = 0 0
;guard.slidetime = 20
;guard.hittime = 20
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
fall.yvelocity = -3.4
fall.recovertime = 35
yaccel = .5
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
getpower = 35,35
givepower = 16;,16

[State 1460, 4]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 6
attr = S, SP
sprpriority = 0
id = 17000
animtype = Back
pausetime = 0,2
damage = IfElse(var(10)>0,49,38),5
sparkno = S4130;4020
guard.sparkno = s50
sparkxy = -15+(random%5),-55+(random%5)
hitsound = -1;S2,2
guardsound = S2,4
getpower = 45,45
givepower = 16,16
hitflag = MAF
guardflag = MA
;guard.velocity = 0 -12
;guard.slidetime = 20
;guard.hittime = 20
ground.slidetime = 20
ground.hittime = 20
ground.velocity = ifelse(p2statetype = A,-3,-12)
air.velocity = -3,-9
fall.yvelocity = -3.4
air.fall = 1
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -12
yaccel = .5
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1460, State]
type = ChangeState
trigger1 = animtime = 0
value = 1470

;Drop
[Statedef 1470]
type = A
movetype = I
physics = N
velset = var(25),var(26)
anim = 1470

[State 1470, Gravity]
type = Gravity
trigger1 = time >= 0

[State 1470, State]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1480
ctrl = 0

;Landing
[Statedef 1480]
type = S
movetype = I
physics = S
anim = 1480
velset = 0,0

[State 1480, KillSparks]
type = RemoveExplod
trigger1 = time = 0
id = 9999

[State 1480, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 1480, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Flip kick B start
[Statedef 1600]
type = S
movetype = A
physics = S
anim = 1600
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 80
juggle = 0;4

[State 1600, Voice]
type = PlaySnd
trigger1 = time = 1
value = s5, 2
channel = 0

[State 1120]
type = NotHitBy
trigger1 = 1;time <= 5;[0,3]
value = SCA

[State 1600, State]
type = ChangeState
trigger1 = animtime = 0
value = 1610

;B Flipkick
[Statedef 1610]
type = A
movetype = A
physics = N
anim = 1610
sprpriority = 2
ctrl = 0
juggle = 8
velset = 0,-6

[State 2]
type = notHitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 4
value = SCA

[State 1600, Lightning]
type = Explod
trigger1 = time = 1;animtime = -1
anim = 1081;1620
id = 1620
ownpal = 1
sprpriority = 4
postype = p1
pos = 32,-20;56,0
bindtime = 1
removeongethit = 1

[State 1600, Lightning]
type = Explod
trigger1 = time = 2
anim = 1115
id = 1620
ownpal = 1
sprpriority = 3
postype = p1
pos = -22,-36
bindtime = 1
removeongethit = 1

[State 1610, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .5

[State 1610, SFX]
type = PlaySnd
trigger1 = time = 0
value = s13,5;4,0

[State 1610, HitDef1]
type = HitDef
trigger1 = !movecontact;AnimElem = 1
attr = A, SA
damage = 86,5
animtype = hard;Back
air.juggle = 14
id = 17000
guardflag = M
hitflag = MAF
priority = 7, miss
pausetime = 10,12
poweradd = 25,12
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = s13,3;S2,2
guardsound = S2,4
ground.type = High
ground.slidetime = 25
ground.hittime = 27
ground.velocity = -3, -9
guard.velocity = -12
air.velocity = -3,-9
yaccel = .5
fall.yvelocity = -3.4
fall = 1
fall.recovertime = 35
palfx.time = 65
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
getpower = 40,30
givepower = 16,16

[State 1610, Move]
type = PosAdd
trigger1 = animelem = 2
x = 4

[State 1610, Move]
type = Velset
trigger1 = animelem = 2, = 1
x = -.75

[State 1610, Landing]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 1140

;Flip kick D start
[Statedef 1650]
type = S
movetype = A
physics = S
anim = 1600
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = 80
juggle = 0;24

[State 1120, SgG]
type = NotHitBy
trigger1 = 1;time = [0,3]
value = SCA

[State 1650, Voice]
type = PlaySnd
trigger1 = time = 1
value = s5,2
channel = 0

[State 1650, State]
type = ChangeState
trigger1 = animtime = 0
value = 1660

;D Flipkick
[Statedef 1660]
type = A
movetype = A
physics = N
anim = 1610
sprpriority = 2
ctrl = 0
velset = 0,-9
juggle = 8

[State 2]
type = notHitBy
triggerall = fvar(23) != 0
trigger1 = Time <= 6
value = SCA

[State 1600, Lightning]
type = Explod
trigger1 = time = 1;animtime = -1
anim = 1081;1620
id = 1620
ownpal = 1
sprpriority = 4
postype = p1
pos = 56,-32;56,0
bindtime = 1
removeongethit = 1

[State 1600, Lightning]
type = Explod
trigger1 = time = 2
anim = 1115
id = 1620
ownpal = 1
sprpriority = 3
postype = p1
pos = -23,-38
bindtime = 1
removeongethit = 1

[State 1660, Gravity]
type = Gravity
trigger1 = time >= 0

[State 1660, SFX]
type = PlaySnd
trigger1 = time = 0
value = s13,5;4,0

[State 1660, HitDef1]
type = HitDef
trigger1 = !movecontact&&AnimElemtime(4) < 0
trigger2 = AnimElem = 4
attr = A, SA
damage = 86,5
animtype = up;Back
guardflag = M
hitflag = MAF
air.juggle = 14
priority = 7,miss
pausetime = 10,12
poweradd = 30,12
id = 17000
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S13,3;2,2
guardsound = S2,4
ground.type = High
ground.slidetime = 25
ground.hittime = 27
ground.velocity = -3, -10
air.velocity = -3,-10
guard.velocity = -12
yaccel = .5
fall.yvelocity = -3.4
fall = 1
fall.recovertime = 35
palfx.time = 65
;palfx.time = 20
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
getpower = 40,30
givepower = 16,16

[State 1660, Move]
type = PosAdd
trigger1 = time = 2
trigger2 = time = 4
trigger3 = time = 6
x = 9

[State 1660, Landing]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1150

;===========================================================================
;SUPER ATTACKS
;===========================================================================
;A Raikouken
[Statedef 3000]
type = S
movetype = A
physics = S
anim = 3000
sprpriority = 2
ctrl = 0
poweradd = 5
velset = 0,0
juggle = 14
facep2 = 1

[State ]
type = turn
trigger1 = !time
triggerall = p2dist x < 0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3000, SparkSound]
type = PlaySnd
;triggerall = prevstateno != 1110
;triggerall = prevstateno != 1125
;triggerall = prevstateno != 1200
;triggerall= prevstateno != 1210
;triggerall = prevstateno != 1000
;triggerall = prevstateno != 1050
trigger1 = animelem = 1, = 2
value = s3,6
channel = 1

[State 3000, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -1000
time = 28
anim = -1
p2defmul = 0
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7000
id   = 1351
pos = -28,-88
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7010
id   = 1352
pos = -28,-88
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = [0,35]
value = SCA

[State 3000, NOTHITBY]
type = Nothitby
triggerall = AnimElemtime(8) <= 1
trigger1 = enemynear,statetype =A
value = A
time = 2

[State 3000, Bolt]
type = Explod
trigger1 = AnimElem = 3, =1
anim = 4135;3030
sprpriority = 3
postype = p1
pos = -28,-88
bindtime = 60
supermove = 1

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 3, =2
anim = 3065;3020
sprpriority = 4
postype = p1
pos = -29,-89
bindtime = 60
supermove = 1
trans = add1

[State 3000, Voice]
type = PlaySnd
trigger1 = AnimElem = 3, =2
value = s8,17;5
channel = 0
supermove = 1

[State 3000, SFX]
type = PlaySnd
trigger1 = time = 35
trigger2 = time = 40
trigger3 = time = 45
value = s13,3;4, 1
supermove = 1

[State 3000, SFX]
type = PlaySnd
trigger1 = time = 35
trigger2 = time = 40
trigger3 = time = 45
value = s13,4
supermove = 1

[State 3000, Lightning Ball]
type = Explod
trigger1 = time = 34
anim = 3064;3010
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 78,-76
trans = add1
bindtime = -1

[State 3000, Lightning Ball]
type = Explod
trigger1 = time = 40
trigger2 = time = 45
anim = 4135;3010
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1

[State 1000, MoveHitReset]
type = MoveHitReset
trigger1 = movehit

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = p2stateno = [5030,5050]
triggerall = time = [69,90]
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

[State 1000, Projectile]
type = Projectile
trigger1 = AnimElem = 8
trigger2 = AnimElem = 10
trigger3 = AnimElem = 12
trigger4 = AnimElem = 14
trigger5 = AnimElem = 16
projanim = 3015
projremove = 0
projpriority = 7
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 1
offset = 78,-76
velocity = 0,0

[State 10]
type = Explod
trigger1 = movehit = 1
anim = 62
ownpal = 1
sprpriority = 4
postype = p2
pos = -13+(random%5),-75+(random%10)
bindtime = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = movehit = 1
value = s1,4
volume = -100

[State 3000, Hitdef1]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 8
trigger2 = AnimElem = 10
trigger3 = AnimElem = 12
trigger4 = AnimElem = 14
attr = S, HP
sprpriority = 2
air.juggle = 3
id = 17000
animtype = Back
pausetime = 1,15
damage = 60,5
sparkno = s(ifelse(random%2,4130,4125));4020
guard.sparkno = s50
sparkxy = -13+(random%5),-75+(random%10)
hitsound = s-1;1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 25
ground.hittime = 25
ground.velocity = -3, -9 
air.velocity = -3,-9
fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
getpower = 0,0
givepower = 15,15
guard.velocity = -12
palfx.time = 50
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3000, Hitdef2]
type = HitDef
triggerall = p2stateno != 5040 
trigger1 = AnimElem = 16
attr = S, HP
sprpriority = 2
air.juggle = 3
id = 17000
animtype = Back
pausetime = 1,4;2
damage = 60,5
sparkno = s(ifelse(random%2,4130,4125));4020
guard.sparkno = s50
sparkxy = -12+(random%5),-75+(random%10);-10,-82
hitsound = s-1;1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -4, -9 
air.velocity = -4,-9
fall = 1
fall.yvelocity = -3.4
fall.recovertime = 125;35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
getpower = 0,0
givepower = 15,15
guard.velocity = -12
palfx.time = 50
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------------------------------------
[Statedef 2001]
type = S
movetype = A
physics = S
anim = 2001
sprpriority = 2
ctrl = 0
poweradd = 10
velset = 0,0
juggle = 14
facep2 = 1

[State 1000, AssertSpecial]
type = turn
triggerall = !time
trigger1 = prevstateno = [1000,1999]
triggerall = p2dist x < 0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s3,6
channel = 1

[State 3000, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 0
movetime = 0
poweradd = -1000
time = 28
anim = -1
p2defmul = 0
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7000
id   = 1351
pos = -28,-88
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7010
id   = 1352
pos = -28,-88
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = [0,27]
value = SCA

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 6, = 0
anim = 9997
id = 2011
sprpriority = 5
removetime = -1
postype = p1
pos = -25,-118
bindtime =-1
supermove = 1
;trans = add

[State 3710, KillBolt]
type = RemoveExplod
trigger1 = AnimElem = 8
id = 2011

[State 186, Sparks]
type = Explod
trigger1 = animelemtime(8) = 0
anim = 82
sprpriority = 4
postype = p1
pos = -5,-5
bindtime = -1
scale = .85,.85
ownpal = 1

[State 186, SFX]
type = PlaySnd
trigger1 = animelemtime(8) = 4
value = s13,5

[State 186, SFX]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = s6,5

[State 2900, 1]
type = helper
trigger1 = AnimElemtime(9) = 0
id = 2022
persistent = 0
name = "mui"
pos = 0,0
postype = p2
stateno = 2022
helpertype = Player;normal
keyctrl = 0
ownpal = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = p2stateno = [5030,5050]
triggerall = time = [69,90]
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

[State 3000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------
[Statedef 2022]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 2022
sprpriority = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, Voice]
type = PlaySnd
trigger1 = !time
value = s13,6

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 1
anim = 4147
sprpriority = 5
removetime = -2
postype = p1
pos = 0,0
bindtime = 1
pausemovetime = 10
supermovetime = 10

[State 2]
type = HitDef
trigger1 = animelem = 1
attr = S, HA
animtype  = diagup
damage = 252+(enemy,lifemax*.005),30
getpower = 10,10
hitflag = MAF
guardflag = M
numhits = 1
pausetime = 10,12
guard.pausetime = 20,28
sparkno = s62
sparkxy = -12,-66
hitsound   = s13,11
guard.sparkno = s50
guardsound = s2,4
ground.type = high
ground.slidetime = 33
ground.hittime  = 28
ground.velocity = 8,-6
air.velocity = 8,-6.5
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Helper]
type = Helper
triggerall = numhelper(9910) <= 0
triggerall = parent,numhelper(9910) <= 0
trigger1 = winKo = 1 && movehit
helpertype = normal
name = "KO Flash"
Id = 9910
stateno = 9910
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[state a]
type = destroyself
trigger1 = root,animelem = 10&&root,stateno = 2001
trigger2 = root,stateno != 2001&&root,stateno != 3350
trigger3 = root,animelem = 23&&root,stateno = 3350
;------------------------------------------------
;C Raikouken
[Statedef 3050]
type = S
movetype = A
physics = S
anim = 3050
sprpriority = 2
ctrl = 0
velset = 0,0
juggle = 14
facep2 = 1

[State 1000, AssertSpecial]
type = turn
trigger1 = !time
triggerall = p2dist x < 0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7000
id   = 1351
pos = -28,-88
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7010
id   = 1352
pos = -28,-88
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3050, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, =2
value = s3,6
channel = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3050, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -1000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = [0,33]
value = SCA

[State 3000, NOTHITBY]
type = Nothitby
triggerall = AnimElemtime(8) <= 1
trigger1 = enemynear,statetype = A
value = A,AA,AP
time = 1

[State 3000, Bolt]
type = Explod
trigger1 = AnimElem = 3, =1
anim = 4135;3030
sprpriority = 3
postype = p1
pos = -28,-88
bindtime = 60
supermove = 1

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 3, =2
anim = 3065;3020
sprpriority = 4
postype = p1
pos = -29,-89
bindtime = 60
supermove = 1
trans = add1

[State 3050, Voice]
type = PlaySnd
trigger1 = AnimElem = 3, =2
value = s8, 17;5
channel = 0

[State 3000, SFX]
type = PlaySnd
trigger1 = time = 35
trigger2 = time = 40
trigger3 = time = 45
value = s13,3;4, 1
supermove = 1

[State 3000, SFX]
type = PlaySnd
trigger1 = time = 35
trigger2 = time = 40
trigger3 = time = 45
value = s13,4
supermove = 1

[State 3000, Lightning Ball]
type = Explod
trigger1 = time = 34
anim = 3064;3010
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 61,-116
trans = add1
bindtime = -1

[State 3000, Lightning Ball]
type = Explod
trigger1 = time = 40
trigger2 = time = 45
anim = 4135;3010
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 61,-116
bindtime = -1

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1

[State 1000, MoveHitReset]
type = MoveHitReset
trigger1 = movehit

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = p2stateno = [5030,5050]
triggerall = time = [69,90]
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 62
ownpal = 1
sprpriority = 4
postype = p2
pos = -12+(random%5),-75+(random%10)
bindtime = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = movehit = 1
value = s1,4
volume = -100

[State 1000, Projectile]
type = Projectile
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
trigger5 = AnimElem = 15
projanim = 3015
projremove = 0
projpriority = 7
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 1
offset = 61,-116
velocity = 0,0

[State 3000, Hitdef1]
type = HitDef
triggerall = prevstateno = [1000,1999]
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
attr = S,HP
sprpriority = 2
air.juggle = 3
id = 17000
animtype = Back
pausetime = 1,15
damage = 35,5
sparkno = s(ifelse(random%2,4130,4125));4020
guard.sparkno = s50
sparkxy = -12+(random%5),-75+(random%10);-10,-82
hitsound = s-1;1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 25
ground.hittime = 25
ground.velocity = -3, -9
air.velocity = -3,-9
fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
getpower = 0,0
givepower = 15,15
guard.velocity = -12
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3000, Hitdef1]
type = HitDef
triggerall = prevstateno != [1000,1999]
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
attr = S, HP
sprpriority = 2
air.juggle = 3
id = 17000
animtype = Back
pausetime = 1,15
damage = 60,5
sparkno =s(ifelse(random%2,4130,4125));4020
guard.sparkno = s50
sparkxy = -13+(random%5),-75+(random%10);-10,-82
hitsound = s-1;1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 25
ground.hittime = 25
ground.velocity = -3, -9
air.velocity = -3,-9
fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
getpower = 0,0
givepower = 15,15
guard.velocity = -12
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3000, Hitdef2]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HP
sprpriority = 2
air.juggle = 3
id = 17000
animtype = Back
pausetime = 1,4;2
damage = 60,5
sparkno = s(ifelse(random%2,4130,4125));4020
guard.sparkno = s50
sparkxy = -13+(random%5),-75+(random%10);-10,-82
hitsound = s-1;1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -4, -9
air.velocity = -4,-9
fall = 1
fall.yvelocity = -3.4
fall.recovertime = 125;35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
getpower = 0,0
givepower = 15,15
guard.velocity = -12
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3050, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------------------------------------
[Statedef 2002]
type = S
movetype = A
physics = S
anim = 2001
sprpriority = 2
ctrl = 0
poweradd = 10
velset = 0,0
juggle = 14
facep2 = 1

[State 1000, AssertSpecial]
type = turn
triggerall = !time
trigger1 = prevstateno = [1000,1999]
triggerall = p2dist x < 0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s3,6
channel = 1

[State 3000, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 0
movetime = 0
poweradd = -1000
time = 28
anim = -1
p2defmul = 0
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7000
id   = 1351
pos = -28,-88
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7010
id   = 1352
pos = -28,-88
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = [0,27]
value = SCA

[State 3000, Ball]
type = Explod
trigger1 = AnimElem = 6, = 0
anim = 9997
id = 2011
sprpriority = 5
removetime = -1
postype = p1
pos = -25,-118
bindtime =-1
supermove = 1

[State 3710, KillBolt]
type = RemoveExplod
trigger1 = AnimElem = 9
id = 2011

[State 186, Sparks]
type = Explod
trigger1 = animelemtime(8) = 0
anim = 82
sprpriority = 4
postype = p1
pos = -5,-5
bindtime = -1
scale = .85,.85
ownpal = 1

[State 186, SFX]
type = PlaySnd
trigger1 = animelemtime(8) = 4
value = s13,5

[State 186, SFX]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = s6,5

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = p2stateno = [5030,5050]
triggerall = time = [69,90]
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

[State 4100,1]
type = Helper
trigger1 = animelemtime(9) = 0
ID = 2003
postype = p1
pos = 30,0
sprpriority = 4
stateno = 2003
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
trans = add
size.xscale = .65
size.yscale = 1

[State 3000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------
[Statedef 2003]
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
;anim = 2253
sprpriority = 2
juggle = 14

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add
IgnoreHitPause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 1
value = s13,6

[State ]
type = ChangeAnim
trigger1 = anim != 2253
value = 2253
ignorehitpause = 1

[State ]
type = Explod
trigger1 = AnimElemtime(1) = 1
anim = 2255
pos = -20,0
sprpriority = 12
postype = p1
ontop = 0
removetime = -2
bindtime = -1
ownpal = 0
ignorehitpause = 1

[State 4100,1]
type = Helper
trigger1 = AnimElemtime(9) = 0
ID = 2003
postype = p1
pos = 45,0
sprpriority = 4
stateno = 2003
helpertype = normal
keyctrl = 0
trans = add
persistent = 0
ignorehitpause = 1

[State 240, 4]
type = NULL;Explod
triggerall = movehit
triggerall = p2movetype = H
trigger1 = AnimElem = 2,= 1
anim = 2028
postype = p2
pos = -10,-68
sprpriority = 5
ignorehitpause = 1

[State ]
type = Nothitby
trigger1 = 1
value = ,AA,AT
ignorehitpause = 1

[State ]
type = Afterimage
trigger1 = AnimElemtime(1) = 0
time = 2
length = 11
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3
trans = add
ignorehitpause = 1

[State ]
type = Afterimagetime
trigger1 = gametime%1 = 0
time = 2
trans = add
ignorehitpause = 1

[state 1000]
type = hitoverride
trigger1 = 1
attr = SCA,AP
stateno = 2253
ignorehitpause = 1

[State 2002, 2]
type = Projectile
projID = 2002
trigger1 = AnimElemtime(1) >= 5
projremove = 0
Projremovetime = 2
projhits = 1
projremanim = -1
projhitanim = -1
projpriority = 999999999
projanim = 2086
offset = 0,0
velocity = 0,0
attr = S, SP

[State 1034, 2]
type = Projectile
trigger1 = AnimElemtime(1) = 0
projID = 2003
projremove = 0
Projremovetime = 36;50
projhits = 1
;projremanim = -1
projpriority = 99
projanim = 2253
offset = 0,-2
velocity = 0,0
attr = S, HP
damage = 75,20
getpower = 0,0
givepower = 20,0
animtype = DiagUp
guardflag = M
hitflag = MAFDP
pausetime = 4,7
sparkno = S62
guard.sparkno = S50
sparkxy = -10, -76
hitsound = S1,4
guardsound = S2,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime = 15
ground.velocity = -4,-7
air.velocity = -4,-6
fall = 1
fall.recover = 0
trans = add
sprpriority = 4
ignorehitpause = 1
projscale = 0.6,1
yaccel = .5
palfx.time = 60
palfx.color = 0;64
palfx.invertall = 1
palfx.add = 30,-40,-140;1,1,1
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10;96,96,96,4
ground.cornerpush.veloff = 0

[State 1000, EnvShake]
type = EnvShake
trigger1 = AnimElemtime(1) = 0
time = 4
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 1000, Helper]
type = Helper
triggerall = numhelper(9910) <= 0
triggerall = parent,numhelper(9910) <= 0
trigger1 = winKo = 1 && movehit
helpertype = normal
name = "KO Flash"
Id = 9910
stateno = 9910
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[State 240, 4]
type = destroyself
trigger1 = animtime = 0
trigger2 = FrontEdgeBodyDist < -50
;------------------------------------
[Statedef 3101]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 0
velset   = 0,0
anim     = 3001
ctrl     = 0
sprpriority = 2

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 2
value = s3,6
channel = 1

[State 3000, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -1000
time = 28
anim = -1
p2defmul = 0
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7000
id   = 1351
pos = -28,-88
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7010
id   = 1352
pos = -28,-88
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = [0,27]
value = SCA
;--------------------------------
[State 1000, Voice]
type = PlaySnd
trigger1 = time = 1
value = s5,2

[State 1000, SFX]
type = PlaySnd
trigger1 = animelemtime(7) = 0
value = s13,4

[State 2200, 7]
type = Explod
trigger1 = animelemtime(2) = 0
id = 3060
anim = 1151
pos = -28,-88
postype = p1
sprpriority = 4
removetime = -1
supermove = 1
Pausemove = 1
bindtime = -1
ownpal = 1
ontop = 1
scale = .7,.7

[State 3710, KillBolt]
type = RemoveExplod
trigger1 = animelemtime(5) = 0
id = 3060

[State 3000]
type = Projectile
trigger1 = animelemtime(6) = 0
projID = 3051
projanim = 3051
projremove = 1
projpriority = 10
projhitanim = 3052
projremanim = 3052
;projhits = 2
projscale = 1.1,.8
projsprpriority = 5
projremovetime = 120
getpower = 0,0
ownpal = 1
offset = 72,-72
velocity = 8
attr = S,HP
animtype = Hard
damage = 286,12
hitflag = MAFP
guardflag = M
hitsound = s13,12
guardsound = s2,4
pausetime = 0,8
sparkno = s61
guard.sparkno = s50
ground.type = low
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -10,-5.6
air.juggle = 8
air.velocity = -3.7,-4.8
guard.velocity = -4
fall = 1
fall.recover = 0
air.fall = 1
palfx.time = 45
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 1000, SFX]
type = PlaySnd
trigger1 = Projhittime(3051) >= 0 && Projhittime(3051) <= 1
value = s13,11
volumescale = -10
volume = -205

[State 1000, Pause]
type = Pause
triggerall = p2movetype = H
trigger1 = Projhittime(3051) >= 0 && Projhittime(3051) <= 1
time = 1
movetime = 1
ignorehitpause = 1

[State 2100]
type = envshake
Trigger1 = Projhittime(3051) >= 0 && Projhittime(3051) <= 1
time = 10
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------
;Gen'ei Hurricane
;DM Version
[Statedef 3100]
type = S
movetype = A
physics = S
anim = 3100
sprpriority = 2
ctrl = 0
velset = 0,0
juggle = 8
facep2 = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3100, ShadowReset]
type = VarSet
trigger1 = time = 0
var(21) = 1

[State 3100, Voice]
type = PlaySnd
trigger1 = time = 0
value = s8,6
channel = 0
supermove = 1

[State 3100, SparkSound]
type = PlaySnd
trigger1 = AnimElem = 1, = 2
value = s3,6
channel = 1
supermove = 1

[State 3100, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -1000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3100, NOTHITBY]
type = Nothitby
trigger1 = animelemtime(7) <= 1;time = [0,36]
value = SCA
time = 2
IgnoreHitPause = 1

[State 3100,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7000
id   = 1351
pos = -63,-74
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3100,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7010
id = 1352
pos = -63,-74
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3100, Camera]
type = Screenbound
trigger1 = animelem = 4, >= 0
movecamera = 0,0

[State 3100, Shadow1] ; Initial Dash
type = Helper
trigger1 = animelem = 5
stateno = 3105
name = "Shadow"
id = 10
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3100, Shadow2] ;Punch #1
type = Helper
trigger1 = NumHelper(10) = 1
trigger1 = helper(10), anim = 3110 && var(21) = 2
stateno = 3115
name = "Punch #1"
id = 3115
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3100, Shadow3] ;Punch #2
type = Helper
trigger1 = var(21) = 3
stateno = 3120
name = "Punch #2"
id = 3120
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3100, Shadow4] ;Knee
type = Helper
trigger1 = var(21) = 4
stateno = 3125
name = "Knee"
id = 3125
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3100, Shadow5] ;Dash
type = Helper
trigger1 = var(21) = 5
stateno = 3130
name = "2nd Dash"
id = 3130
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3100, Shadow6] ;High Kick
type = ChangeState
trigger1 = var(21) = 6
value = 3135
persistent = 0

[State 3100, Block]
type = VarSet
triggerall = NumHelper(10) = 1
trigger1 = helper(10), moveguarded
trigger2 = helper(10), time = 14 && !(helper(10), movecontact)
v = 29
value = floor(helper(10), rootdist x)

[State 3100, Block]
type = PosAdd
triggerall = NumHelper(10) = 1
trigger1 = helper(10), moveguarded
trigger2 = helper(10), time = 14 && !(helper(10), movecontact)
x = helper(10), rootdist x * -1

[State 3100, ChangeState]
type = ChangeState
;trigger1 = anim = 3101 && animelem = 1, =1
triggerall = NumHelper(10) = 1
trigger1 = helper(10), moveguarded
trigger2 = helper(10), time = 14 && !(helper(10), movecontact)
value = 3107

[State 3100, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;====
;Initial Dash helper
;====
[Statedef 3105]
type = S
movetype = A
physics = N
anim = 3105
id = 3105

[State 3105, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3105, Vel]
type = VelSet
trigger1 = time = 2
x = 16

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = time = [0,3]
value = SCA

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, AT
stateno = 1537
time = 1
ignorehitpause = 1

[State 3100, SFX]
type = PlaySnd
trigger1 = time = 2
value = 4,2

[State 3105, Hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SP
damage = 120,10
animtype = Heavy
guardflag = M
hitflag = MA
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
guard.pausetime = 12,12
getpower = 0,0
sparkno = s62
guard.sparkno = s50
forcestand = 1
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 16
ground.velocity = 0,0
guard.velocity = 0
ground.cornerpush.veloff = 0
air.velocity = 0,0
kill = 0
getpower = 0,0
givepower = 15,15

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3105, Block]
type = ChangeAnim
trigger1 = moveguarded
trigger2 = time = 14 && !movecontact
value = 3106
persistent = 0

[State 3105, Block]
type = VelSet
trigger1 = moveguarded
trigger2 = time = 14 && !movecontact
x = 0
persistent = 0

[State 3105, Stop]
type = VelSet
triggerall = movecontact
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
x = 0
persistent = 0

[State 3105, Align]
type = PosSet
triggerall = movecontact;!MoveGuarded
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
x = 96 * (root, facing)
persistent = 0

[State 3105, Anim]
type = ChangeAnim
trigger1 = movecontact
trigger1 = time > 3 && vel x = 0
value = 3110
persistent = 0

[State 3105, DetermineDistance]
type = ParentVarSet
triggerall = !MoveGuarded
trigger1 = time > 3 && vel x = 0
v = 29
value = helper(10), floor(Abs(rootdist x))
persistent = 0

[State 3125, ShadowCount]
type = ParentVarAdd
trigger1 = pos x = 96 * (root,facing)
v = 21
value = 1
persistent = 0

[State 3105, Destroy]
type = DestroySelf
trigger1 = !MoveGuarded
trigger1 = time > 3 && vel x = 0
trigger1 = parent, stateno = 3140
trigger2 = anim = 3106
trigger2 = animtime = 0
trigger3 = parent, movetype = H
trigger4 = parent, stateno = 3107

;=======
;B Blocked
;=======
[Statedef 3107]
type = S
movetype = I
physics = S
anim = 3107
sprpriority = 2
ctrl = 0
velset = 0,0

[State 3100, Blocksprite]
type = Explod
trigger1 = numhelper(10) = 1
trigger1 = helper(10), moveguarded
anim = 3101
sprpriority = 2
postype = p1
pos = var(29),0
bindtime = 1

[State 3107, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;=======
;Punch #1 helper
;=======
[Statedef 3115]
type = S
movetype = A
physics = N
anim = 3115
id = 3115

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3115, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3100, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3115, Vel]
type = VelSet
trigger1 = time = 4
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3115, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 40,5
animtype = Heavy
guardflag = M
getpower = 0,0
givepower = 15,15
hitflag = MAF
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
sparkno = s62
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1


[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3115, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3115, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;========
;Punch #2
;========
[Statedef 3120]
type = S
movetype = A
physics = N
anim = 3120
id = 3120

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3120, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3100, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3120, Vel]
type = VelSet
trigger1 = animelem = 3
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3120, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 35,5
animtype = Heavy
guardflag = M
hitflag = MAF
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
getpower = 0,0
givepower = 15,15
sparkno = s62
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3120, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3120, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;========
;Knee
;========
[Statedef 3125]
type = S
movetype = A
physics = N
anim = 3125
id = 3125

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3125, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3125, Vel]
type = VelSet
trigger1 = animelem = 3
x = 16

[State 3100, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3125, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 30,5
animtype = Heavy
guardflag = M
hitflag = MAF
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
getpower = 0,0
givepower = 15,15
sparkno = s62
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3125, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3125, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;========
;2nd Dash
;========
[Statedef 3130]
type = S
movetype = A
physics = N
anim = 3130
id = 3130

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3130, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3100, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3130, Vel]
type = VelSet
trigger1 = animelem = 3
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3130, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 35,5
animtype = Heavy
guardflag = M
hitflag = MAF
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
getpower = 0,0
sparkno = s62
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3130, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3130, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;=========
;High Kick (Performed by P1)
;=========
[Statedef 3135]
type = S
movetype = A
physics = N
anim = 3135
ctrl = 0

[State 3135, Invincible]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3135, Vel]
type = VelSet
trigger1 = animelem = 3
x = 16

[State 3100, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3135, DistanceCountdown]
type = VarAdd
trigger1 = animelem = 3, >= 0
v = 29
value = -16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3135, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 60,5
animtype = Heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 10,10
p2stateno = 3150
p2getp1stateno = 1
getpower = 0,0
sparkno = S4130;4020
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = -5,-8
air.velocity = 0,0
fall = 1
fall.recover = 0
getpower = 0,0
givepower = 15,15

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3135, State]
type = ChangeState
;trigger1 = helper(10), rootdist x > 8
trigger1 = var(29) < -60;-12
value = 3140
persistent = 0

;Finish pose
[Statedef 3140]
type = S
movetype = I
physics = S
anim = 3140
velset = 0,0
ctrl = 0

[State 3140, State]
type = posadd
trigger1 = time = 0
x = -48

[State 3140, Invincible]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3140, Voice]
type = PlaySnd
trigger1 = time = 10
value = s8,7
channel = 0
supermove = 1

[State 3140, State]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;Hit by initial strike
[Statedef 3145]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 3145, Anim]
type = Changeanim2
trigger1 = time = 0
value = 3145

[State 3145, Align]
type = PosSet
trigger1 = time = 0
y = 0

[State 1000, SelfState]
type = SelfState
trigger1 = time = 50
value = 5000

;Hit by final strike
[Statedef 3150]
type = A
movetype = H
physics = N
ctrl = 0

[State 3150, Anim]
type = velset
trigger1 = time = 10
x = -3
y = -13

[State 3150, Anim]
type = ChangeAnim2
trigger1 = time = 10; && hitshakeover = 1
value = 3150

[State 3150, Gravity]
type = VelAdd
trigger1 = time >= 10
y = .43

[State 3150, Shock]
type = PalFX
trigger1 = 1;Time % 2
time = 10
add = 30,-40,-140;0,15,75
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 3150, State]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 5100

;-----------------------------
;ElecTrigger
;attempt
[Statedef 3200]
type = S
movetype = A
physics = S
anim = 3200
sprpriority = 2
ctrl = 0
velset = 0,0
juggle = 0
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3200, Voice]
type = PlaySnd
trigger1 = time = 0
value = s8,8
channel = 0

[State 3200, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 2
value = s3,6
channel = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3200, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -1000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3200,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7000
id   = 1351
pos = -15,-82
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3200,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7010
id   = 1352
pos = -15,-82
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3200, NOTHITBY]
type = Nothitby
trigger1 = animelemtime(4) <= 0
value = SCA
time = 2
ignorehitpause = 1

[State 3200, HitDef]
type = HitDef
triggerall = var(5) <= 0
trigger1 = time = 4 && p2statetype !=A; && p2bodydist x < 32
attr = S,HT
id = 3200
animtype = Heavy
guard = 0
hitflag = M
priority = 7,Miss
poweradd = 20,5
p1stateno = 3210
p2stateno = 3220
p2getp1stateno = 1
p2facing = 1
sparkno = -1
sparkxy = -25,-83
hitsound = -1
guardsound = S2,4
ground.type = High
air.animtype = Low
fall = 1

[State 3200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Success
[Statedef 3210]
type = S
movetype = A
physics = S
anim = 3210
sprpriority = 3
ctrl = 0
velset = 0,0

[State 3210, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3210, Color]
type = EnvColor
trigger1 = timemod = 6, 1 && time > 25 && animelem = 6 < 0
;trigger2 = time = 30
value = 255, 255, 255
time = 1

[State 3210, Move]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 16

[State 3210, Bind1]
type = TargetBind
trigger1 = animelem = 3, < 0
pos = 28,0

[State 3210, Bind2]
type = TargetBind
trigger1 = animelem = 3, >= 0 && animelem = 4, < 0
pos = 4,-20

[State 3210, Bind3]
type = TargetBind
trigger1 = animelem = 4, >= 0 && animelem = 5, < 0
pos = 0,0

[State 3210, Bind4]
type = TargetBind
trigger1 = animelem = 5, >= 0 && animelem = 6, < 0
pos = 8,0

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 6, >= 0 && animelem = 7, < 0
pos = -4,-45;2, -130

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 7, >= 0 && animelem = 8, < 0
pos = -16,-44

[State 3210, Bind6]
type = TargetBind
trigger1 = animelem = 8, = 0
pos = 31,-39

[State 3210, Bolt]
type = Explod
trigger1 = time = 24
anim = 2250;3230
id = 3230
removetime = -2
bindtime = -1
ownpal = 1
;ontop = 1
sprpriority = 8;-30

[State 3210, SFX]
type = PlaySnd
trigger1 = time = 24
value = s13,10;4,5
volume = 128

[State 3210, SFX]
type = PlaySnd
trigger1 = gametime%15 = 0 && time >= 24 && animelem = 7 < 0
value = s1,4
volume = -128

[State 3210, SFX]
type = PlaySnd
trigger1 = gametime%15 = 0 && time >= 24 && animelem = 7 < 0
value = s13,12

[State 3210, KillBolt]
type = RemoveExplod
trigger1 = time = 76
id = 3230

[State 3210, Spark]
type = Explod
trigger1 = time = 97
anim = 4140;3240
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110
[State 3210, Spark]
type = Explod
trigger1 = time = 97
anim = 4140;3240
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110
facing = -1

[State 1310, Spark]
type = Explod
trigger1 = gametime%15 = 0 && time >= 24 && animelem = 7 < 0
anim = 4130
id = 4020
postype = p1
pos = 0,-62
random = 40,65
bindtime = 1
sprpriority = 30

[State 1310, Spark]
type = Explod
trigger1 = gametime%15 = 0 && time >= 24 && animelem = 7 < 0
anim = 4125
id = 4020
postype = p1
pos = 0,-62
random = 40,65
bindtime = 1
sprpriority = 30

[State 1310, Spark]
type = Explod
trigger1 = gametime%12 = 0 && time >= 24 && animelem = 7 < 0
anim = ifelse(random%2,60,ifelse(random%2,61,62))
id = 60
postype = p1
pos = 0,-70
random = 40,50
bindtime = 1
sprpriority = 27-random%3

[State 3210, Shock]
type = PalFX
trigger1 = time >= 24 && animelem = 7 < 0&timemod = 1, 1 ;&& 
time = 1
add = 30,-40,-140;0,15,75
sinadd = 60,60,50,10
color = 0
invertall = 1
ignorehitpause = 1

[State 1310, Spark]
type = Explod
trigger1 = timemod = 3, 1 && time >= 24 && animelem = 7 < 0
anim = 4145;1340
id = 1340
postype = p1
pos = 0,-40
random = 40,80
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3210, SFX]
type = PlaySnd
trigger1 = time = 97
value = s13,9;4,6

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = timemod = 2, 1 && animelem = 5, >= 0 && animelem = 6, < 0
value = -15;21
kill = 0

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = time = 97
value = -10
kill = 1
absolute = 1

[State 3220, Spark]
type = Explod
triggerall = random <= 800 && numexplod(1340) <= 1
trigger1 = time > 97
anim = 4145;1340
id = 1340
postype = p2
pos = -10,-40
random = 70,20
bindtime = 1
sprpriority = 5

[State 3210, Move2]
type = PosAdd
trigger1 = animelem = 10
x = -14

[State 3210, Move3]
type = PosAdd
trigger1 = animelem = 11
x = -12

[State 3210, Move4]
type = PosAdd
trigger1 = animelem = 12
trigger2 = animtime = 0
x = -16

[State 3210, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Release vel of -9, -6
;Hit by ElecTrigger
[Statedef 3220]
type = S
movetype = H
physics = N
sprpriority = 0
ctrl = 0
velset = 0,0

[State 3220, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3220, Camera]
type = ScreenBound
trigger1 = time < 97
movecamera = 0,0

[State 3220, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 3220

[State 3220, Shock]
type = PalFX
trigger1 = time >= 24;timemod = 2, 1
time = 1
add = 30,-40,-140
sinadd = 60,60,50,10
mul = 256,256,256
color = 0
invertall = 1
ignorehitpause = 1

[State 3220, Anim2]
type = ChangeAnim2
trigger1 = time = 74
value = 3225

[State 3220, Anim3]
type = ChangeAnim
trigger1 = time = 97
value = 5050

[State 3220, Anim3]
type = ChangeAnim
trigger1 = selfanimexist(5060)
trigger1 = time = 102
value = 5060

[State 3220, FlyAway]
type = VelSet
trigger1 = time = 97
x = -8
y = -6

[State 3220, Gravity]
type = Gravity
trigger1 = time >= 97

[State 3220, State]
type = Selfstate
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
ctrl = 0

;===========================================================================
;SUPER DESPERATION ATTACKS (Chou Hissatsu Waza)
;===========================================================================
;SDM Raikouken
[Statedef 3500]
type = S
movetype = A
physics = S
anim = 3500
sprpriority = 2
ctrl = 0
velset = 0,0
juggle = 14
facep2 = 1

[State ]
type = turn
trigger1 = !time
triggerall = p2dist x < 0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1
;----------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3500, KillMAX]
type = VarSet
trigger1 = animelem = 3, =3
v = 10
value = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3500, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 2
value = s3,8
channel = 1
volume = -10

[State 3500, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -2000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3500,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7110
id   = 1351
pos = -28,-88
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3500,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7100
id   = 1352
pos = -28,-88
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = [0,43]
value = SCA

[State 3500, Bolt]
type = null;Explod
trigger1 = AnimElem = 3, =2
anim = 3530
sprpriority = 3
postype = p1
pos = -28,-88
bindtime = 60
supermove = 1

[State 3500, Ball]
type = Explod
trigger1 = AnimElem = 3, =3
anim = 3065;3520
sprpriority = 4
postype = p1
pos = -29,-89
bindtime = 60
trans = add1
supermove = 1

[State 3500, Ball]
type = Explod
trigger1 = AnimElem = 3, =3
anim = 4135
sprpriority = 3
postype = p1
pos = -29,-89
bindtime = 60
supermove = 1

[State 3500, Voice]
type = PlaySnd
trigger1 = AnimElem = 1, =2
value = s8, 16;5
supermove = 1
channel = 0

[State 3500, SFX]
type = PlaySnd
trigger1  = time = 41
trigger2  = time = 44
trigger3  = time = 47
trigger4  = time = 50
trigger5  = time = 53
trigger6  = time = 56
trigger7  = time = 59
trigger8  = time = 62
trigger9  = time = 65
trigger10 = time = 68
value = s13,3;4, 1
supermove = 1
volume = -64

[State 1000, Projectile]
type = Projectile
trigger1  = time = 41
trigger2  = time = 44
trigger3  = time = 47
trigger4  = time = 50
trigger5  = time = 53
trigger6  = time = 56
trigger7  = time = 59
trigger8  = time = 62
trigger9  = time = 65
trigger10 = time = 68
projanim = 3555
projremove = 0
projpriority = 8
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 1
offset = 78,-76
velocity = 0,0

[State 3500, Lightning Ball1]
type = Explod
trigger1 = time = 41
anim = 3065;3540
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 78,-76
trans = add1
bindtime = -1

[State 3500, Lightning Ball2]
type = Explod
trigger1 = time = 44
anim = 3065;3540
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
pos = 63,-96
trans = add1
bindtime = -1

[State 3500, Lightning Ball3]
type = Explod
trigger1 = time = 47
anim = 3065;3545
ownpal = 1
sprpriority = 4
postype = p1
removeongethit = 1
trans = add1
pos = 76,-56
bindtime = -1

[State 3500, Lightning Ball4]
type = Explod
trigger1 = time = 50
anim = 3065;3540
ownpal = 1
sprpriority = 4
postype = p1
trans = add1
removeongethit = 1
pos = 56,-74
bindtime = -1

[State 3500, Lightning Ball5]
type = Explod
trigger1 = time = 53
anim = 3065;3540
ownpal = 1
sprpriority = 4
postype = p1
trans = add1
removeongethit = 1
pos = 96,-88
bindtime = -1

[State 3500, Lightning Ball6]
type = Explod
trigger1 = time = 56
anim = 3065;3545
ownpal = 1
sprpriority = 4
trans = add1
postype = p1
removeongethit = 1
pos = 78,-72
bindtime = -1

[State 3500, Lightning Ball7]
type = Explod
trigger1 = time = 59
anim = 3065;3540
ownpal = 1
sprpriority = 4
postype = p1
trans = add1
removeongethit = 1
pos = 100,-56
bindtime = -1

[State 3500, Lightning Ball8]
type = Explod
trigger1 = time = 62
anim = 3065;3545
ownpal = 1
sprpriority = 4
postype = p1
trans = add1
removeongethit = 1
pos = 100,-56
bindtime = -1

[State 3500, Lightning Ball9]
type = Explod
trigger1 = time = 65
anim = 3065;3545
ownpal = 1
sprpriority = 4
postype = p1
trans = add1
removeongethit = 1
pos = 98,-76
bindtime = -1

[State 3500, Lightning Ball10]
type = Explod
trigger1 = time = 68
anim = 3065;3550
ownpal = 1
sprpriority = 4
trans = add1
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1
;---------------------------
[State 3500, Lightning Ball1]
type = Explod
trigger1 = time = 41
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1

[State 3500, Lightning Ball2]
type = Explod
trigger1 = time = 44
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 63,-96
bindtime = -1

[State 3500, Lightning Ball3]
type = Explod
trigger1 = time = 47
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 76,-56
bindtime = -1

[State 3500, Lightning Ball4]
type = Explod
trigger1 = time = 50
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 56,-74
bindtime = -1

[State 3500, Lightning Ball5]
type = Explod
trigger1 = time = 53
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 96,-88
bindtime = -1

[State 3500, Lightning Ball6]
type = Explod
trigger1 = time = 56
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 78,-72
bindtime = -1

[State 3500, Lightning Ball7]
type = Explod
trigger1 = time = 59
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 100,-56
bindtime = -1

[State 3500, Lightning Ball8]
type = Explod
trigger1 = time = 62
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 100,-56
bindtime = -1

[State 3500, Lightning Ball9]
type = Explod
trigger1 = time = 65
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 98,-76
bindtime = -1

[State 3500, Lightning Ball10]
type = Explod
trigger1 = time = 68
anim = 4135
ownpal = 1
sprpriority = 3
postype = p1
removeongethit = 1
pos = 78,-76
bindtime = -1
;--------------------------
[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1

[State 1000, MoveHitReset]
type = MoveHitReset
trigger1 = movehit

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = p2stateno = [5030,5050]
triggerall = time = [71,90]
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

[State 1]
type = Explod
trigger1 = movehit = 1
anim = 62
ownpal = 1
sprpriority = 4
postype = p2
pos = -13+(random%5),-75+(random%10)
bindtime = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = movehit = 1
value = s1,4
volume = -100

[State 3500, Hitdef1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
trigger5 = AnimElem = 15
trigger6 = AnimElem = 17
trigger7 = AnimElem = 19
trigger8 = AnimElem = 21
trigger9 = AnimElem = 23
attr = S, HP
sprpriority = 2
air.juggle = 3
id = 17000
animtype = Hard
pausetime = 2,12
damage = 55,5
sparkno = S4130;4020
guard.sparkno = s50
sparkxy = -13+(random%5),-75+(random%10);-10,-82
hitsound = s-1;1,4
guardsound = S2,4
getpower = 0,0
givepower = 15,15
hitflag = MAFP
guardflag = M
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3, -9 
air.velocity = -3,-9
fall = 1
fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
guard.velocity = -12
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3500, Hitdef2]
type = HitDef
trigger1 = AnimElem = 25
attr = S, HP
sprpriority = 2
air.juggle = 3
id = 17000
animtype = Diagup
pausetime = 4,10;6
damage = 50,5
sparkno = S4130;4020
guard.sparkno = s50
sparkxy = -13+(random%5),-75+(random%10);-10,-82
hitsound = s-1;1,4
guardsound = S2,4
getpower = 0,0
givepower = 15,15
hitflag = MAFP
guardflag = M
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -4, -9 
air.velocity = -4,-9
fall = 1
fall.yvelocity = -3.4
fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
guard.velocity = -12
palfx.time = 65
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3500, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------
;Gen'ei Hurricane
;SDM Version
[Statedef 3600]
type = S
movetype = A
physics = S
anim = 3100
sprpriority = 2
ctrl = 0
velset = 0,0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3600, KillMAX]
type = VarSet
trigger1 = animelem = 3
v = 10
value = 0

[State 3600, Voice]
type = PlaySnd
trigger1 = time = 0
value = 8,6
channel = 0
supermove = 1

[State 3600, ShadowReset]
type = VarSet
trigger1 = time = 0
v = 21
value = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3600, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 2
value = 3,8
channel = 1
volume = -10

[State 3600, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -2000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3600,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7110
id   = 1351
pos = -63,-74
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3600,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7100
id   = 1352
pos = -63,-74
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3100, NOTHITBY]
type = Nothitby
trigger1 = animelemtime(7) <= 1;time = [0,36]
value = SCA
time = 2
IgnoreHitPause = 1

[State 3600, Camera]
type = Screenbound
trigger1 = animelem = 4, >= 0
movecamera = 0,0

[State 3600, Shadow1] ; Initial Dash
type = Helper
trigger1 = animelem = 5
stateno = 3605
name = "Shadow"
id = 10
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3600, Shadow2] ;Punch #1
type = Helper
triggerall = NumHelper(10) = 1
trigger1 = helper(10), anim = 3110 && var(21) = 2
stateno = 3615
name = "Punch #1 A"
id = 3615
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3600, Shadow3] ;Punch #2
type = Helper
trigger1 = var(21) = 3
stateno = 3620
name = "Punch #2 A"
id = 3620
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3600, Shadow4] ;Punch #1 B
type = Helper
trigger1 = var(21) = 4
stateno = 3625
name = "Punch #1 B"
id = 3625
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3600, Shadow5] ;High kick
type = Helper
trigger1 = var(21) = 5
stateno = 3630
name = "High Kick"
id = 3630
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3600, Shadow6] ;Knee
type = Helper
trigger1 = var(21) = 6
stateno = 3635
name = "Knee"
id = 3635
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3600, Shadow3] ;Punch #2
type = Helper
trigger1 = var(21) = 7
stateno = 3640
name = "Punch #2 A"
id = 3640
persistent = 0
postype = p1
keyctrl = 0
pos = 0,0
ownpal = 1

[State 3600, Shadow6] ;Straight Kick
type = ChangeState
trigger1 = var(21) = 8
value = 3645
persistent = 0

[State 3600, Block]
type = VarSet
triggerall = NumHelper(10) = 1
trigger1 = helper(10), moveguarded
trigger2 = helper(10), time = 14 && !(helper(10), movecontact)
v = 29
value = floor(helper(10), rootdist x)

[State 3600, Block]
type = PosAdd
triggerall = NumHelper(10) = 1
trigger1 = helper(10), moveguarded
trigger2 = helper(10), time = 14 && !(helper(10), movecontact)
x = helper(10), rootdist x * -1

[State 3600, ChangeState]
type = ChangeState
;trigger1 = anim = 3101 && animelem = 1, =1
triggerall = NumHelper(10) = 1
trigger1 = helper(10), moveguarded
trigger2 = helper(10), time = 14 && !(helper(10), movecontact)
value = 3607

[State 3600, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;====
;Initial Dash helper
;====
[Statedef 3605]
type = S
movetype = A
physics = N
anim = 3105
id = 3605

[State 3605, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3605, Vel]
type = VelSet
trigger1 = time = 2
x = 16

[State 3600, SFX]
type = PlaySnd
trigger1 = time = 2
;trigger1 = animelem = 3
value = 4,2

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = time = [0,3]
value = SCA

[State 1000, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, AT
stateno = 1537
time = 1
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3605, Hit]
type = HitDef
trigger1 = p2stateno != [5020,5040]
trigger1 = AnimElem = 2
attr = S, SP
damage = 100,10
animtype = Heavy
guardflag = M
hitflag = MA
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
guard.pausetime = 12,12
getpower = 0,0
givepower = 15,15
sparkno = s62
guard.sparkno = s50
forcestand = 1
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 15
ground.hittime = 12
ground.velocity = 0,0
guard.velocity = -12
ground.cornerpush.veloff = 0
air.velocity = 0,0
kill = 0

[State 3605, Block]
type = ChangeAnim
trigger1 = moveguarded
trigger2 = time = 14 && !movecontact
value = 3106
persistent = 0

[State 3605, Block]
type = VelSet
trigger1 = moveguarded
trigger2 = time = 14 && !movecontact
x = 0
persistent = 0

[State 3605, Stop]
type = VelSet
triggerall = movecontact
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
x = 0
persistent = 0

[State 3605, Align]
type = PosSet
triggerall = movecontact;!MoveGuarded
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
x = 96 * (root, facing)
persistent = 0

[State 3605, Anim]
type = ChangeAnim
trigger1 = movecontact
trigger1 = time > 3 && vel x = 0
value = 3110
persistent = 0

[State 3605, DetermineDistance]
type = ParentVarSet
triggerall = !MoveGuarded
trigger1 = time > 3 && vel x = 0
v = 29
value = helper(10), floor(Abs(rootdist x))
persistent = 0

[State 3625, ShadowCount]
type = ParentVarAdd
trigger1 = pos x = 96 * (root,facing)
v = 21
value = 1
persistent = 0

[State 3605, Destroy]
type = DestroySelf
trigger1 = !MoveGuarded
trigger1 = time > 3 && vel x = 0
trigger1 = parent, stateno = 3650
trigger2 = anim = 3106
trigger2 = animtime = 0
trigger3 = parent, movetype = H
trigger4 = parent, stateno = 3607

;=======
;B Blocked
;=======
[Statedef 3607]
type = S
movetype = I
physics = S
anim = 3107
sprpriority = 2
ctrl = 0
velset = 0,0

[State 3600, Blocksprite]
type = Explod
trigger1 = numhelper(10) = 1
trigger1 = helper(10), moveguarded
anim = 3101
sprpriority = 2
postype = p1
pos = var(29),0
bindtime = 1

[State 3607, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;=======
;Punch #1 helper
;=======
[Statedef 3615]
type = S
movetype = A
physics = N
anim = 3115
id = 3615

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3615, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3600, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3615, Vel]
type = VelSet
trigger1 = time = 4
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3615, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 50,5
animtype = Heavy
guardflag = M
getpower = 0,0
hitflag = MAF
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3615, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3615, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;========
;Punch #2
;========
[Statedef 3620]
type = S
movetype = A
physics = N
anim = 3120
id = 3620

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3620, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3600, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3620, Vel]
type = VelSet
trigger1 = animelem = 3
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3620, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 50,5
animtype = Heavy
guardflag = M
hitflag = MAF
p2stateno = 3145
p2getp1stateno = 1
priority = 3, Hit
pausetime = 10,10
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1


[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3620, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3620, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;=======
;Punch #1 B helper
;=======
[Statedef 3625]
type = S
movetype = A
physics = N
anim = 3115
id = 3625

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3625, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3625, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3625, Vel]
type = VelSet
trigger1 = time = 4
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3625, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 50,5
animtype = Heavy
guardflag = M
hitflag = MAF
p2getp1stateno = 1
p2stateno = 3145
priority = 3, Hit
pausetime = 10,10
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1


[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3625, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3625, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;=======
;High Kick helper
;=======
[Statedef 3630]
type = S
movetype = A
physics = N
anim = 3135
id = 3630

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3630, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3630, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3630, Vel]
type = VelSet
trigger1 = time = 4
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3630, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 40,5
animtype = Heavy
guardflag = M
hitflag = MAF
p2getp1stateno = 1
p2stateno = 3145
priority = 3, Hit
pausetime = 10,10
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1


[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3630, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3630, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;=======
;Knee helper
;=======
[Statedef 3635]
type = S
movetype = A
physics = N
anim = 3125
id = 3635

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3635, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3635, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3635, Vel]
type = VelSet
trigger1 = time = 4
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3635, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 40,5
animtype = Heavy
guardflag = M
hitflag = MAF
p2getp1stateno = 1
p2stateno = 3145
priority = 3, Hit
pausetime = 10,10
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1


[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3635, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3635, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;=======
;Punch #2 B helper
;=======
[Statedef 3640]
type = S
movetype = A
physics = N
anim = 3120
id = 3640

[State 1000, PalFX]
type = PalFX
trigger1 = 1
time = 999
add = 220,120,10;0,0,100
mul = 256,256,256
invertall = 0
color = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3640, Camera]
type = Screenbound
trigger1 = time >= 0
movecamera = 0,0

[State 3640, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3640, Vel]
type = VelSet
trigger1 = time = 4
x = 16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0


[State 1000, Spark]
type = Explod
trigger1 = movehit = 1
anim = 4130
ownpal = 1
sprpriority = 4
postype = p2
pos = -20,-91+random%10
bindtime = 1

[State 3640, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 30,5
animtype = Heavy
guardflag = M
getpower = 0,0
givepower = 15,15
hitflag = MAF
p2getp1stateno = 1
p2stateno = 3145
priority = 3, Hit
pausetime = 10,10
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10


[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3640, ShadowCount]
type = ParentVarAdd
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
v = 21
value = 1

[State 3640, Destroy]
type = DestroySelf
trigger1 = pos x > 128 && root, facing = 1
trigger2 = pos x < -128 && root, facing = -1
trigger3 = time >= 40

;=========
;Mid Kick (Performed by P1)
;=========
[Statedef 3645]
type = S
movetype = A
physics = N
anim = 3136
ctrl = 0

[State 3645, Invincible]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3645, Vel]
type = VelSet
trigger1 = animelem = 3
x = 16

[State 3645, SFX]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 3645, DistanceCountdown]
type = VarAdd
trigger1 = animelem = 3, >= 0
v = 29
value = -16

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 3645, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 110,10
animtype = Heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 10,10
p2getp1stateno = 1
p2stateno = 3150
getpower = 0,0
givepower = 15,15
sparkno = S4130;4020
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,4
ground.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = -5,-8
air.velocity = 0,0
fall = 1
fall.recover = 0

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4130
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State -2,]
type = Explod
triggerall = Random < 200
trigger1 = movehit
anim = 4125
pos = 0,-50
postype = p2
sprpriority = 9
bindtime = 1
random = 100,100
ownpal = 1

[State 3645, State]
type = ChangeState
trigger1 = var(29) < -60
value = 3650
persistent = 0

;Finish pose
[Statedef 3650]
type = S
movetype = I
physics = S
anim = 3650
velset = 0,0
ctrl = 0

[State 3650, State]
type = posadd
trigger1 = time = 0
x = -48

[State 3650, Invincible]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3650, Voice]
type = PlaySnd
trigger1 = time = 10
value = 8,7
channel = 0
supermove = 1

[State 3650, State]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
;SDM ElecTrigger
;attempt
[Statedef 3700]
type = S
movetype = A
physics = S
anim = 3200
sprpriority = 2
ctrl = 0
velset = 0,0

;-------------------------------------------------------------------------------
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
;-------------------------------------------------------------------------------
[State 3700, Voice]
type = PlaySnd
trigger1 = time = 0
value = s8,13
channel = 0
volumescale = 150

[State 3700, KillMAX]
type = VarSet
trigger1 = time = 4
v = 10
value = 0

[State 3700, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 3
value = s3,8
channel = 1
volume = -10

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3700, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 2
value = 3,6
channel = 1

[State 3700, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 2
movetime = 28
poweradd = -2000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3700,Explod1]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7110
id   = 1351
pos = -15,-82
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3700,Explod2]
type = Explod
trigger1 = animelem = 1, = 3
anim = 7100
id   = 1352
pos = -15,-82
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3700, NOTHITBY]
type = Nothitby
trigger1 = animelemtime(4) <= 0
value = SCA
time = 2
ignorehitpause = 1

[State 3700, HitDef]
type = HitDef
triggerall = var(5) <= 0
trigger1 = time = 4 && p2statetype !=A ;&& p2bodydist x < 32
attr = S,HT
id = 3200
animtype = Heavy
guard = 0
hitflag = M
priority = 7, Miss
poweradd = 20,5
p1stateno = 3710
p2stateno = 3220
p2getp1stateno = 1
p2facing = 1
sparkno = -1
sparkxy = -25,-83
hitsound = -1
guardsound = S2,4
ground.type = High
air.animtype = Low
fall = 1

[State 3700, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Success
[Statedef 3710]
type = S
movetype = A
physics = S
anim = 3210
sprpriority = 3
ctrl = 0
velset = 0,0

[State 3710, Invincibility]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 3210, Color]
type = EnvColor
trigger1 = timemod = 6, 1 && time > 25 && animelem = 6 < 0
value = 255, 255, 255
time = 1

[State 3710, Move]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 16

[State 3710, Bind1]
type = TargetBind
trigger1 = animelem = 3, < 0
pos = 28,0

[State 3710, Bind2]
type = TargetBind
trigger1 = animelem = 3, >= 0 && animelem = 4, < 0
pos = 4,-20

[State 3710, Bind3]
type = TargetBind
trigger1 = animelem = 4, >= 0 && animelem = 5, < 0
pos = 0,0

[State 3710, Bind4]
type = TargetBind
trigger1 = animelem = 5, >= 0 && animelem = 6, < 0
pos = 8,0

[State 3710, Bind5]
type = TargetBind
trigger1 = animelem = 6, >= 0 && animelem = 7, < 0
pos = -4,-45;2, -130

[State 3710, Bind5]
type = TargetBind
trigger1 = animelem = 7, >= 0 && animelem = 8, < 0
pos = -16,-44

[State 3710, Bind6]
type = TargetBind
trigger1 = animelem = 8, = 0
pos = 31,-39

[State 3710, Bolt1]
type = null;Explod
trigger1 = time = 24
anim = 3730
id = 3730
removetime = -1
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3710, Bolt1]
type = null;Explod
trigger1 = time = 24
anim = 3735
id = 3730
removetime = -1
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3710, Bolt1]
type = Explod
trigger1 = time = 24
anim = 2251;3736
id = 3730
ownpal = 1
removetime = -1
bindtime = -1
trans = addalpha
alpha = 180,256
sprpriority = 5

[State 3210, SFX]
type = PlaySnd
trigger1 = gametime%12 = 0 && time >= 24 && animelem = 7 < 0
value = s1,4
volume = -128

[State 3210, SFX]
type = PlaySnd
trigger1 = gametime%12 = 0 && time >= 24 && animelem = 7 < 0
value = s13,12

[State 1310, Spark]
type = Explod
trigger1 = gametime%12 = 0 && time >= 24 && animelem = 7 < 0
anim = 4130
id = 4020
postype = p1
pos = 0,-75
random = 40,70
bindtime = 1
sprpriority = 30

[State 1310, Spark]
type = Explod
trigger1 = gametime%12 = 0 && time >= 24 && animelem = 7 < 0
anim = 4125
id = 4020
postype = p1
pos = 0,-75
random = 40,70
bindtime = 1
sprpriority = 30

[State 1310, Spark]
type = Explod
trigger1 = gametime%10 = 0 && time >= 24 && animelem = 7 < 0
anim = ifelse(random%2,60,ifelse(random%2,61,62))
id = 60
postype = p1
pos = 0,-60
random = 40,50
bindtime = 1
sprpriority = 27-random%3

[State 3710, SFX]
type = PlaySnd
trigger1 = time = 24
trigger2 = time = 32
value = s13,10;4,5
volume = 128

[State 3710, KillBolt]
type = RemoveExplod
trigger1 = time = 76
id = 3730

[State 3710, Bolt1]
type = Explod
trigger1 = time = 76
anim = 2252
id = 3731
ownpal = 1
removetime = -2
bindtime = -1
trans = addalpha
alpha = 180,256
sprpriority = 5

[State 3710, Spark]
type = Explod
trigger1 = time = 97
anim = 4140;3240
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110
[State 3710, Spark]
type = Explod
trigger1 = time = 97
anim = 4140;3240
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110
facing = -1

[State 3710, Spark2]
type = null;Explod
trigger1 = time = 97
anim = 4140;3245
sprpriority = 4
bindtime = -1
postype = p1
ownpal = 1
pos = 0,0

[State 3710, Shock]
type = PalFX
trigger1 = timemod = 1, 1 && time >= 24 && animelem = 7 < 0
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1
ignorehitpause = 1

[State 1310, Spark]
type = Explod
trigger1 = timemod = 3, 1 && time >= 24 && animelem = 7 < 0
anim = 4145;1340
id = 1340
postype = p1
pos = 0,-40
random = 40,80
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3710, SFX]
type = PlaySnd
trigger1 = time = 97
value = s13,9;4,6

[State 3710, Damage]
type = TargetLifeAdd
trigger1 = timemod = 2, 1 && animelem = 5, >= 0 && animelem = 6, < 0
value = -23
kill = 0

[State 3710, Damage]
type = TargetLifeAdd
trigger1 = time = 97
value = -23
absolute = 1

[State 1310, Spark]
type = Explod
trigger1 = time = 97
anim = 4145;1340
id = 1340
postype = p1
pos = -50,-71
bindtime = -1
ownpal = 1
sprpriority = 5

[State 1310, Spark]
type = Explod
trigger1 = time = 97
anim = 4145;1340
id = 1340
postype = p1
pos = 27,-74
bindtime = -1
ownpal = 1
sprpriority = 5

[State 1310, Spark]
type = Explod
trigger1 = time = 97
anim = 4145;1340
id = 1340
postype = p1
pos = -11,-79
bindtime = -1
ownpal = 1
sprpriority = 5

[State 3710, Spark]
type = Explod
triggerall = random <= 800 && numexplod(1340) <= 1
trigger1 = time > 97
anim = 4145;1340
id = 1340
postype = p2
pos = -10,-40
random = 70,20
bindtime = 1
sprpriority = 5

[State 3710, Move2]
type = PosAdd
trigger1 = animelem = 10
x = -14

[State 3710, Move3]
type = PosAdd
trigger1 = animelem = 11
x = -12

[State 3710, Move4]
type = PosAdd
trigger1 = animelem = 12
trigger2 = animtime = 0
x = -16

[State 3710, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Devastation Of Voltage
[Statedef 2500]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = -3000
velset   = 0,0
anim     = 2500
ctrl     = 0
sprpriority = 2;-1

;-------------------------------------------
[state a]
type = Helper
trigger1 = time = 0
id = 11110
name = "annte0nn"
pos = 0,0
postype = back
stateno = 11110
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
[state a]
type = Helper
trigger1 = time = 2
id = 11112
name = "annt1enn"
pos = 0,0
postype = back
stateno = 11112
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
;------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
;------------------------------------------------------
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1
;--------------------------------------------------
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7540
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;-----------------------------------------
[State 1000, HitBy]
type = HitBy
triggerall = abs(var(27)) = 0
trigger1 = Time = [60,100]
value = SA,HP,ST,HT

[State 1000, HitBy]
type = HitBy
triggerall = abs(var(27)) = 0
trigger1 = Time = [100,160]
value = SA,HP,SA,ST,HT

[State 2000, 4]
type = SuperPause
trigger1 = animelem = 1
time = 61
movetime = 61
anim = -1
sound = S11,1
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 20
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 21
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 1000, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 15
movetype = I

[State 2000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7120
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = -2

[State 2000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7125
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = 9

[State 183, Sparks]
type = null;Explod
trigger1 = animelem = 1
anim = 8005
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
supermove = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = S8,7

[State 1310, Spark]
type = Explod
triggerall = !numExplod(1530)
triggerall = time >= 2
trigger1 = animelemtime(15)<=20
anim = 1530
id = 1530
postype = p1
pos = 0,0
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1

[State 1000, Helper]
type = Helper
triggerall = !numHelper(2501)
trigger1 = animelem = 13
helpertype = Player;normal
name = "Electrical Explods"
ID = 2501
stateno = 2501
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Electrical Explods
[Statedef 2501]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
ctrl     = 0
sprpriority = 9

[State 2110, ]
type = ChangeAnim
trigger1 = anim != 2501
value = 2501
ignorehitpause = 1

[State 1000, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 1

[State -2,a]
type = ScreenBound
trigger1 = ishelper
value = 0
movecamera = 0
IgnoreHitPause = 1
[State -2,a]
type = playerpush
trigger1 = ishelper
value = 0
IgnoreHitPause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4135) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,1
anim = 4135;2501
ID = 4135
pos = 250-random%250,200-random%200
postype = left;p1
bindtime = 1
removetime = -2;100
scale = 1,1
sprpriority = 5+random%3
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4136) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 1;timemod = 3,0
anim = 4135;2501
ID = 4136
pos = 200-random%350,200-random%280
postype = left
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 10-random%8
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4137) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,0
anim = 4135;2501
id = 4137
pos = 350-random%350,280-random%280
postype = left
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 5+random%8
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4130) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 1;timemod = 3,1
anim = 4130
ID = 4130
pos = 160-random%160,120-random%240
postype = left;p1
facing = ifelse(random%2,1,-1)
vfacing = ifelse(random%2,1,-1)
bindtime = 1
removetime = -2;100
scale = 1,1
sprpriority = 5+random%3
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4131) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,0
anim = 4130
id = 4131
pos = 160+random%160,120+random%120
postype = left
facing = ifelse(random%2,1,-1)
vfacing = ifelse(random%2,1,-1)
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 10-random%7
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4132) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,0
anim = 4130
ID = 4132
pos = 350-random%350,280-random%280
postype = left
facing = ifelse(random%2,1,-1)
vfacing = ifelse(random%2,1,-1)
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 15+random%8
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4125) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,0
anim = 4125
ID = 4125
pos = 160-random%160,120-random%240
postype = left;p1
facing = ifelse(random%2,1,-1)
vfacing = ifelse(random%2,1,-1)
bindtime = 1
removetime = -2;100
scale = 1,1
sprpriority = 5+random%3
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4126) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,1
anim = 4125
ID = 4126
pos = 160+random%160,120+random%120
postype = left
facing = ifelse(random%2,1,-1)
vfacing = ifelse(random%2,1,-1)
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 10-random%7
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4127) <= 20
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,0
anim = 4125
ID = 4127
pos = 160-random%320,120-random%240
postype = left
facing = ifelse(random%2,1,-1)
vfacing = ifelse(random%2,1,-1)
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 15+random%8
ignorehitpause = 1

[State 1310, Spark]
type = Explod
triggerall = numExplod(1340) <= 30
;triggerall = movehit
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%5 = 1;timemod = 4,1
anim = 4145;1340
id = 1340
postype = p1
pos = 0,-40
random = 40,80
bindtime = -1
sprpriority = 5

[State 1000, Explod]
type = Explod
triggerall = numExplod(4147) <= 6
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 1;timemod = 3,1
anim = 4147
ID = 4147
pos = 220-random%220,210-random%220
postype = left
bindtime = 1
random = 30,30
removetime = -2
scale = 1,1
sprpriority = 1+random%10
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = numExplod(4147) <= 10
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%5 = 0;timemod = 3,1
anim = 4147
ID = 4147
pos = 240-random%120,240-random%120
postype = left
bindtime = 1
random = 30,30
removetime = -2
scale = 1,1
sprpriority = 1+random%10
ignorehitpause = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = gametime%6 = 0
value = S13,12
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = gametime%7 = 0
value = S13,14
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = gametime%6 = 2
value = S13,17
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = gametime%140 = 0
value = S13,18

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = gametime%11 = 0
value = s1,3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S13,9;4,0

[State 1000, PlaySnd]
type = PlaySnd
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 0;timemod = 3,0
value = S13,4;4,0

[State 1000, PlaySnd]
type = PlaySnd
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%4 = 1; timemod = 3,1
value = S13,3;4,0

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(1) = 20
time = 90
freq = 100
ampl = -4

[State 2325, 10]
type = EnvColor
trigger1 = MoveHit
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1

[State 2305, 7]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = root,stateno = 2500
trigger1 = enemy,stateno = [5000,5030]
anim = 62
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = 1
random = 70,70
removetime = -2
sprpriority = 9
ontop = 1
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = root,stateno = 2500
trigger1 = enemy,stateno = [120,153]
anim = 50
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = 1
random = 70,70
removetime = -2
sprpriority = 9
ontop = 1
ignorehitpause = 1

[State -3]
Type = HitOverride
trigger1 = ishelper(2501)
attr = SCA,AA,AT,AP
slot = gametime%8
stateno = 2501
IgnoreHitPause = 1

[State 1000, HitDef]
type = HitDef
triggerall = animelemtime(1) > 0
trigger1 = animelemtime(1)%3 = 0
;trigger1 = gametime%3 = 0
attr = S, HP
damage = 23+((animelemtime(1) >= 92)*(enemy,lifemax*.004)),3
animtype = up
guardflag = M
hitflag = MAFP
priority = 7, Hit
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = 6+(random%5),-60+(random%5)+(floor(p2bodydist Y));10,-65
hitsound = s2,1
guardsound = S2,4
ground.type = high
ground.slidetime = 25
ground.hittime = 25
ground.velocity = -7,-12
guard.velocity = -12
air.velocity = -7,-12
airguard.velocity = -6,-8
ground.cornerpush.veloff = 0
id = 17000
fall = 1
fall.recover = 0
yaccel = .5
getpower = 1,1
givepower = 10,10
palfx.time = 65;20
palfx.color = 0;64
palfx.invertall = 1
palfx.add = 30,-40,-140;1,1,1
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10;96,96,96,4
ground.cornerpush.veloff = 0

[State 1000, Helper]
type = Helper
triggerall = numhelper(9910) <= 0
triggerall = parent,numhelper(9910) <= 0
trigger1 = winKo = 1 && movehit
helpertype = Player;normal
name = "KO Flash"
Id = 9910
stateno = 9910
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[State 1000, Projectile]
type = Projectile
trigger1 = gametime%1 = 0
projanim = 2502
projremove = 0
projpriority = 9
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 1
offset = 0,0
velocity = 0,0

[State 1000, ChangeState]
type = ChangeState
trigger1 = animelemtime(1) >= 102
trigger2 = root,movetype = H
trigger3 = root,stateno != 2500
value = 2505
;-------------------------------------------------------------------------------
;Fin
[Statedef 2505]
type = S
ctrl = 0
velset = 0,0

[State -2,a]
type = ScreenBound
trigger1 = ishelper
value = 0
movecamera = 0
IgnoreHitPause = 1

[State -2,a]
type = playerpush
trigger1 = ishelper
value = 0
IgnoreHitPause = 1

[State 2110, ]
type = ChangeAnim
trigger1 = anim != 2503
value = 2503

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = animtime != 0
trigger1 = timemod = 3,1
anim = 4135;2503
pos = -80+(random%220),10-(random%220)
postype = p1
;random = 230,-210
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ignorehitpause = 1

[State 1000, Explod]
type = null;Explod
trigger1 = time = 0
anim = 2503
pos = -210,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 5
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = animtime != 0
trigger1 = timemod = 3,0
anim = 4130
pos = 160+random%160,120+random%120
postype = left
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 10-random%7
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = animtime != 0
trigger1 = timemod = 3,0
anim = 4130
pos = 350-random%350,280-random%280
postype = left
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 15+random%8
ignorehitpause = 1

[state 2500, destroyself]
type = destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;Electrical Kicks
[Statedef 2200]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = -2000
velset   = 0,0
anim     = 2200
ctrl     = 0
sprpriority = 4

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;-------------------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

;-------------------------------------------------

[State 170, NotHitBy]
type = NotHitBy
trigger1 = time = [0,32]
value = SCA

[State 2000, 4]
type = SuperPause
trigger1 = animelem = 2
time = 28
anim = -1
sound = s3,8
movetime = 0;-1
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 2
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 2000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7110
pos = 0,-77
postype = p1
facing = 1
vfacing = 1
bindtime = 1
ownpal = 1
removetime = -2
supermove = 1
sprpriority = 9

[State 2000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7100
pos = 0,-77
postype = p1
facing = 1
vfacing = 1
ownpal = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = -1

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State haha]
type = Turn
triggerall = animelem = 95
trigger1 = P2Dist X < 0


[State 1000, Explod]
type = null;Explod
triggerall = !numExplod(2201)
triggerall = animelemtime(4)>=0;animelem = 4
trigger1 = animelemtime(90)<=0
anim = 2201
id = 2201
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 9
removeongethit = 0
ignorehitpause = 0

[State 1000, Explod]
type = Explod
triggerall = animelemtime(4)>=0
triggerall = animelemtime(90)<=0
trigger1 = timemod = 3,1
anim = ifelse(random%4,ifelse(random%2,4125,4130),ifelse(random%2,4135,61))
pos = 80-(random%120),2-(random%32)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
ownpal = 1
scale = .6,.6
removetime = -2
sprpriority = 9
removeongethit = 0
ignorehitpause = 0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 5
trigger2 = animelem = 11
trigger3 = animelem = 17
trigger4 = animelem = 23
trigger5 = animelem = 29
trigger6 = animelem = 35
trigger7 = animelem = 41
trigger8 = animelem = 47
trigger9 = animelem = 53
trigger10 = animelem = 59
trigger11 = animelem = 65
trigger12 = animelem = 71
trigger13 = animelem = 77
trigger14 = animelem = 83
trigger15 = animelem = 89
anim = ifelse(random%2,4135,4140)
pos = 60-(random%160),2-(random%36);0,0
postype = p1
ownpal = 1
facing = 1
vfacing = 1
bindtime = 1
scale = .6,.6
removetime = -2
sprpriority = 9
removeongethit = 0
ignorehitpause = 0

[State 1000, Explod]
type = null;Explod
trigger1 = animelem = 5
trigger2 = animelem = 11
trigger3 = animelem = 17
trigger4 = animelem = 23
trigger5 = animelem = 29
trigger6 = animelem = 35
trigger7 = animelem = 41
trigger8 = animelem = 47
trigger9 = animelem = 53
trigger10 = animelem = 59
trigger11 = animelem = 65
trigger12 = animelem = 71
trigger13 = animelem = 77
trigger14 = animelem = 83
trigger15 = animelem = 89
anim = 2202
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -1
removeongethit = 0
ignorehitpause = 0

[State 7000, Flash]
type = PalFX
triggerall = animelemtime(3)>=0
trigger1 = animelemtime(95)<=0
time = 1
add = 30,-40,-140
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 183, Sparks]
type = Explod
triggerall = !numExplod(4147)
trigger1 = animelemtime(3) = 0
anim = 4147
id = 4147
sprpriority = 6
postype = p1
pos = 0,8
ontop = 1
bindtime = -1
ownpal = 1
pausemove = 1
supermove = 1

[State 1000]
type = Velset
trigger1 = AnimElem = 95
y = -7.5

[State 1000]
type = VelAdd
trigger1 = AnimElemtime(97) > 0
y = .38

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 95
statetype = A

[State 1120, Lightning]
type = null;Explod
trigger1 = animelem = 95
anim = 1160
ownpal = 1
sprpriority = 4
postype = p1
pos = 56,0
bindtime = 1
ownpal = 1
removeongethit = 1

[State 1600, Lightning]
type = Explod
trigger1 = animelem = 95
anim = 1081
id = 1620
ownpal = 1
sprpriority = 4
postype = p1
pos = 56,-32
bindtime = 1
ownpal = 1
removeongethit = 1

[State 1600, Lightning]
type = Explod
trigger1 = animelem = 95,2
anim = 1115
id = 1620
ownpal = 1
sprpriority = 3
postype = p1
pos = -23,-38
ownpal = 1
bindtime = 1
removeongethit = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,11
persistent = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 95
value = S13,5;4,0
persistent = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = S13,11
persistent = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,11
persistent = 9

[State 1200, SFX]
type = PlaySnd
trigger1 = animelem = 4
value = s4, 3
loop = 1
channel = 6
volume = 0

[State 1220, StopSnd]
type = StopSnd
trigger1 = animelemtime(95)=0
channel = 6

[State 1000, EnvColor]
type = EnvColor
triggerall = time = [0,188]
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 96 && movehit
trigger2 = animelem = 97 && movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 1000, HitDef]
type = HitDef
triggerall = time = [0,188]
trigger1 = time%10 = 0
attr = S, HA
damage = 23,7
animtype = hard
guardflag = M
hitflag = MAF
priority = 8,Hit
pausetime = 0,2
sparkno = s62
guard.sparkno = s50
sparkxy = -20, -50
hitsound = s2,1
guardsound = s2,4
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = 0,-4
air.hittime = 12
air.fall = 1
id = 17000
air.recover = 0
fall.recover = 0
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, HitDef]
type = HitDef
trigger1 = animelem = 96
attr = S, HA
damage = 50,10
animtype = hard
guardflag = M
hitflag = MAFP
priority = 8, Hit
pausetime = 10,12
sparkno = s62
guard.sparkno = s50
sparkxy = -20, -70
hitsound = s2,1
guardsound = s2,4
ground.type = hard
ground.slidetime = 18
ground.hittime  = 10
ground.velocity = -4.5,0
airguard.velocity = -1.9,-10
air.type = Low
air.velocity = -1.9,-10
air.hittime = 12
yaccel = .423
id = 17000
air.recover = 0
fall.recover = 0
air.fall = 1
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, HitDef]
type = HitDef
trigger1 = animelem = 97
attr = S, HA
damage = 50,10
animtype = up
guardflag = M
hitflag = MAFP
priority = 8, Hit
pausetime = 20,22
sparkno = s62
guard.sparkno = s50
sparkxy = -20, -70
hitsound = s2,1
guardsound = s2,4
ground.type = hard
ground.slidetime = 12
ground.hittime  = 10
ground.velocity = -4.5,-8.2
air.velocity = -4.5,-8.2
guard.velocity = -15
air.type = hard
air.hittime = 12
id = 17000
yaccel = .435
air.recover = 0
fall.recover = 0
air.fall = 1
fall = 1
getpower = 0,0
givepower = 15,15
palfx.time = 30
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 1000, Explod]
type = Explod
trigger1 = animelemtime(95)=0
anim = 3250
pos = 50,0
postype = p1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 8
ignorehitpause = 1
pausemovetime = 15
supermovetime = 15

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(95)=1
value = S13,11
persistent = 9

[State haha]
type = Turn
trigger1 = P2Dist X < 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1150
;-------------------------------------------------------------------------------
;Cancelled Grasp p1
[Statedef 5260]
type    = S
movetype= H
physics = N
velset = 0,0
facep2  = 1

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s5200,2

[State 1000, TargetState]
type = TargetState
trigger1 = time = 0
value = 5261
ctrl = 0

[State 1000, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 5255, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 1
under = 1
persistent = 0

[State 5255, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 5255, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 5255, VelSet]
type = VelSet
trigger1 = time = 1
x = -5.6

[State 5255, VelSet]
type = VelSet
trigger1 = time = 15
x = 0

[State 5255, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = SelfAnimExist(5255)
value = 5255

[State 5255, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = !SelfAnimExist(5255)
value = 5256

[State 5255]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

[State -1]
type = destroyself
trigger1 = ishelper
;-------------------------------------------------------------------------------
;Hyper Electro Spark
[Statedef 3900]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3900
ctrl     = 0
sprpriority = 4
;----------------------------------------
[state a]
type = Helper
trigger1 = time = 0
id = 11110
name = "annte0nn"
pos = 0,0
postype = back
stateno = 11110
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
[state a]
type = Helper
trigger1 = time = 2
id = 11112
name = "annt1enn"
pos = 0,0
postype = back
stateno = 11112
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
;----------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,32]
flag = nobardisplay

[State 2000]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(var(33) != 0,10,-3000)
movetime = 32
time = 32
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 2000]
type = Explod
trigger1 = time = 0
anim = 7120
pos = 0,-100
sprpriority = -1
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 0
anim = 7125
pos = 0,-100
sprpriority = 9
ownpal = 1
bindtime = 1
supermove = 1

[State 1000]
type = PlaySnd
trigger1 = time = 0
value = s11,1

[State 1000, NotHitBy]
type = NotHitBy
triggerall = !var(27)
trigger1 = time <= 20
value = SCA
time = 2
ignorehitpause = 1

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = var(27) != 0||var(33)!=0
value = SCA
time = 3
ignorehitpause = 1

[State 1000, Helper]
type = Helper
triggerall = numhelper(2000) <= 0
trigger1 = animelem = 11
helpertype = player;normal
name = "Electro Spark"
stateno = 3910
id = 2000
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, Helper]
type = Helper
triggerall = numhelper(2001) <= 0
trigger1 = animelem = 11
helpertype = player;normal
name = "Electro Spark"
stateno = 3911
id = 2001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Electro Spark 1 (Abajo)
[Statedef 3910]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
;anim     = 1530;3910
ctrl     = 0
sprpriority = 9

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 1530
value = 1530

[State 0, Spark]
type = Explod
trigger1 = !numExplod(1530)
anim = 1530
id = 1530
postype = p1
pos = 55,0
facing = -1
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1
ownpal = 1

[State 0, Spark]
type = Explod
trigger1 = !numExplod(1540)
anim = 1530
id = 1540
postype = p1
pos = 0,0
facing = 1
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1
ownpal = 1

[State 0, Spark]
type = Explod
triggerall = numExplod(4145) <= 5
trigger1 = gametime%7 = 0
anim = 4145
id = 4145
postype = p1
pos = 15+random%40,-75+random%35
random = 30,40
bindtime = 1
vel = 0,0+((random%7)/10)
sprpriority = 15-random%15

[State 0, Spark]
type = Explod
triggerall = numExplod(4126) <= 5
trigger1 = gametime%7 = 0
anim = 4125
id = 4126
postype = p1
random = 30,40
vel = 0,0+((random%7)/10)
pos = 15+random%40,-70+random%20
bindtime = 1
sprpriority = 13-random%15

[State 1000, explods]
type = Explod
triggerall = gametime%3 = 0
trigger1 = numExplod(4110) < 6
anim = 4125
id = 4110
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 8
bindtime = 1
random = 60,100
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = -30,0;40,-20
facing = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1

[State -2, HitDef]
type = HitDef
triggerall = root,var(33) = 0
trigger1 = timemod = 4,1&&animelemtime(1) > 3
attr = S,HP
getpower = 0,0
damage = 15,5
animtype = hard
guardflag = MA
hitflag = MAFP
priority = 20,Hit
pausetime = 0,0
sparkno = s62
guard.sparkno = s50
sparkxy = -15,-65+(floor(p2bodydist Y))+random%10
hitsound = s13,3;s2,2
guardsound = s2,4
ground.type = high;low
ground.slidetime = 25
ground.hittime = 20
ground.velocity = -6
ground.cornerpush.veloff = 0
guard.velocity = -5
air.velocity = -4,-7
airguard.velocity = -3,-4
fall.recover = 0
yaccel = .45
id = 17000
sprpriority = 9
palfx.time = 20
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State -2, HitDef]
type = HitDef
triggerall = root,var(33) != 0
trigger1 = timemod = 5,1&&animelemtime(1) > 3
attr = S,NA,NT,NP
getpower = 0,0
damage = 15,5
animtype = hard
guardflag = MA
hitflag = MAFP
priority = 1,Hit
pausetime = 0,1
sparkno = s62
guard.sparkno = s50
sparkxy = -15,-65+(floor(p2bodydist Y))+random%10
hitsound = s13,3;s2,2
guardsound = s2,4
ground.type = low
ground.slidetime = 25
ground.hittime = 20
ground.velocity = -6
ground.cornerpush.veloff = 0
guard.velocity = -5
air.velocity = -4,-7
airguard.velocity = -3,-4
fall.recover = 0
yaccel = .45
id = 17000
sprpriority = 9
palfx.time = 22
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 0]
type = PlaySnd
trigger1 = movehit = 1
triggerall = p2movetype = H
value = s1,4
volume = -135

[State 0, Spark]
type = Explod
trigger1 = timemod = 4,1
triggerall = p2movetype = H
trigger1 = movehit = 1
anim = 4130
id = 4130
postype = p2
pos = -15,-65+random%25
bindtime = 1
sprpriority = 3

[State 0, Spark]
type = Explod
trigger1 = timemod = 4,1
triggerall = p2movetype = H
trigger1 = movehit = 1
anim = 4125
id = 4125
postype = p2
pos = -15,-65+random%25
bindtime = 1
sprpriority = 3

[State 0, Helper]
type = Helper
triggerall = numhelper(2010) <= 0
trigger1 = movecontact = 1
helpertype = player;normal
name = "Slow Motion"
stateno = 2026
id = 2010
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(9910) <= 0
triggerall = parent,numhelper(9910) <= 0
trigger1 = winKo = 1 && movehit
helpertype = player;normal
name = "KO Flash"
Id = 9910
stateno = 9910
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[State 0,explods]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 100
trigger1 = Movehit
anim = 4145;1340
pos = 0,-50
postype = p2
sprpriority = 99
bindtime = 1
random = 120,120
ownpal = 1
supermove = 1

[State 0, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA
stateno = 3910
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
triggerall = root,var(33) = 0
trigger1 = animelemtime(1) = 0
var(22) = 0

[State 0, ParentVarAdd]
type = ParentVarAdd
triggerall = root,var(33) = 0
trigger1 = movecontact = 1
var(22) = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = root,var(33) = 0
trigger1 = root,var(22) >= 30
value = 3920

[State 0, ChangeState]
type = ChangeState
triggerall = root,var(33) != 0
triggerall = animelemtime(1) >= 30
trigger1 = roundstate >= 3
value = 3920

[State 0, ChangeState]
type = ChangeState
triggerall = root,var(33) = 0
triggerall = root,var(10) = 0
trigger1 = root,stateno = [5000,5120]
trigger2 = root,stateno = [8000,8050]
trigger3 = root,stateno = [17000,17050]
trigger4 = root,movetype = H
value = 3920
;---------------------------------------------------------------------------
;Colicion de Electro Spark
[Statedef 3911]
type     = A
movetype = A
physics  = N
juggle   = 0
ctrl     = 0
;anim     = 3912
sprpriority = 5
velset   = 0,0

[State 0, 2]
type = ChangeAnim
trigger1 = Anim != 3912
value = 3912

[State 0, ParentVarAdd]
type = ParentVarAdd
triggerall = root,var(33) = 0
trigger1 = animelemtime(1) = 0
var(22) = 1
ignorehitpause = 1
persistent = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0
facing = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 0, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA,AP
stateno = 3911
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1]
type = destroyself
triggerall = root,var(33) = 0
trigger1 = root,var(22) >= 30
ignorehitpause = 1

[State 0, ChangeState]
type = destroyself
triggerall = root,var(33) != 0
triggerall = animelemtime(1) >= 30
trigger1 = roundstate >= 3
ignorehitpause = 1

[State 1]
type = destroyself
triggerall = root,var(33) = 0
triggerall = root,var(10) = 0
trigger1 = root,stateno = [5000,5120]
trigger2 = root,stateno = [8000,8050]
trigger3 = root,stateno = [17000,17050]
trigger4 = root,movetype = H
trigger5 = !numhelper(2000)
ignorehitpause = 1
;-------------------------------------------------------------------------------
[Statedef 3920]
type = S
ctrl = 0
;anim = 4145;3911
velset = 0,0

[State 0]
type = ChangeAnim
trigger1 = Anim != 4145
value = 4145

[State 0, ParentVarSet]
type = ParentVarSet
triggerall = root,var(33) = 0
trigger1 = animelemtime(1) = 0
var(22) = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;Guarding K.O.
;-------------------------------------------------------------------------------
[Statedef 6010]
type = S
physics = S
;anim = 6010
poweradd = 0
sprpriority = 8
velset = 0,0
ctrl = 0

[State 1000, VelSet]
type = VelSet
trigger1 = time = 0
x = -7

[State 1000, VelAdd]
type = VelAdd
trigger1 = time = 10
x = .5

[State 1000, VelSet]
type = VelSet
trigger1 = time >= 15
x = 0

[State 6010, PlaySound]
type = PlaySnd
trigger1 = animelem = 3
value = s9,2

[State 6010, Explod]
type = Explod
trigger1 = animelem = 10
anim = f61
pos = 25,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -9

[State 6010, PlaySound]
type = PlaySnd
trigger1 = animelem = 10
value =s13,1
volumescale = 50

[State 6010, EnvShake]
type = EnvShake
trigger1 = animelem = 10
time = 10
freq = 110
ampl = -4

[State 6010, PalFX]
type = PalFX
trigger1 = time = 0
time = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 6010, 4]
type = ChangeAnim
trigger1 = time = 0
value = 150 + 1*(command = "holddown")

[State 6010, anim]
type = Changeanim
trigger1 = time = 30
value = 6010

[State 6010, air]
type = Changestate
trigger1 = pos Y != 0
value = 5000

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 5150

; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State -1]
type = destroyself
trigger1 = ishelper

[State 5150, 1]
type = ChangeAnim
triggerall = 1
trigger1 = Prevstateno = 6010
value = 6011

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = var(24) = 0
triggerall = Prevstateno != 6010
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = var(24) = 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
triggerall = var(24) = 0
triggerall = Prevstateno != 6010
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = var(24) = 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = var(24) != 0
triggerall = Prevstateno != 6010
triggerall = Time = 0
triggerall = SelfAnimExist(15140)
trigger1 = (anim != [15111,15119]) && (anim != [15171,15179])
trigger2 = !SelfAnimExist(15140 + (anim % 10))
value = 15140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = var(24) != 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = (anim = [15111,15119]) || (anim = [15171,15179])
trigger1 = SelfAnimExist(15140 + (anim % 10))
value = 15140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
triggerall = var(24) != 0
triggerall = Prevstateno != 6010
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [15140,15149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = var(24) != 0
triggerall = Prevstateno != 6010
trigger1 = Time = 0
trigger1 = Anim != [15140,15159]
trigger1 = Anim != [15110,15119]
value = 15110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;=======================================
;HIT override
[Statedef 1537]
type = S
movetype = H
physics = N
anim = 1537
sprpriority = 0
velset = 0,0
ctrl = 0

[State 250, 6]
type = playerpush
trigger1 = time >=0
value = 0

[State 250, 6]
type = bindtoroot
trigger1 = time >= 0
pos = 0,0

[State 280, 4]
type = ChangeState
trigger1 = time = 0
value = 1538
ctrl = 0
;============================================

;HIT override
[Statedef 1538]
type = S
movetype = A
physics = N
sprpriority = 0
velset = 0,0
anim = 1538
ctrl = 0

[State 250, 6]
type = playerpush
trigger1 = time >=0
value = 0

[State 250, 6]
type = velset
trigger1 = time = 0
y = 0
x = -.5

[State 280, High ]
type = HitDef
triggerall = animelem = 1
trigger1 = gethitvar(type) = 0
trigger2 = gethitvar(type) = 1
attr = S, NA
affectteam = F
numhits = 0
damage = gethitvar(damage)
hitflag = MAF
animtype = medium
ground.type = high
guardflag = N
sparkno = -1
hitsound = -1
guardsound = -1
pausetime = 14,14
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 11.5
air.velocity = 6,-2.5
air.juggle = 10
guard.velocity = -8.9

[State 280, low ]
type = HitDef
triggerall = animelem = 1
trigger1 = gethitvar(type) = 2
attr = S, NA
affectteam = F
numhits = 0
damage = gethitvar(damage)
hitflag = MAF
animtype = medium
ground.type = low
guardflag = N
pausetime = 14,14
sparkno = -1
hitsound = -1
guardsound = -1
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 11.5
air.velocity = 6,-2.5
air.juggle = 10
guard.velocity = -8.9

[State 280, low]
type = HitDef
triggerall = animelem = 1
trigger1 = gethitvar(type) = 3
trigger2 = gethitvar(animtype) = 3
trigger3 = gethitvar(animtype) = 4
trigger4 = gethitvar(animtype) = 5
attr = S, NA
numhits = 0
affectteam = F
damage = gethitvar(damage)
hitflag = MAF
animtype = diagup
ground.type = low
guardflag = N
pausetime = 14,14
sparkno = -1
hitsound = -1
guardsound = -1
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 4,-4
air.velocity = 6,-2.5
air.juggle = 10
guard.velocity = -8.9
fall = 1

[State 250, 6]
type = bindtoroot
trigger1 = time = [0,5]
pos = 2,0

[State 280, 4]
type = destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
[Statedef 5350]
type = S
ctrl = 0
anim = 5350

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [5070,5071]
facing = 0
pos = 0,0

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [5030,5050]
facing = 0
pos = 0,-30

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [8030,8050]
facing = 0
pos = 0,-30

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [17030,17050]
facing = 0
pos = 0,-30

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = 5100
facing = 0
pos = 0,0

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [5101,5105]
facing = 0
pos = 0,-10

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = 5055
facing = 0
pos = 0,-30

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [5110,5175]
facing = 0
pos = 0,0

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [5370,5460]
facing = 0
pos = 0,-10

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = 5250
facing = 0
pos = 0,0

[State 5350, BindToParent]
type = BindToParent
trigger1 = root,stateno = [5080,5081]
facing = 0
pos = 0,0

[State 5350, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5350, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 5350, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != [5030,5170]
trigger1 = root,stateno != [7030,7050]
trigger1 = root,stateno != [8030,8050]
trigger1 = root,stateno != [5370,5460]
trigger1 = root,stateno != [17030,17050]
trigger1 = root,stateno != 5250
trigger2 = root,life = 0
ignorehitpause = 1
persistent = 0
;================================================================
;Spark SDM
[Statedef 3800]
type = S
movetype = A
physics = S
anim = 3801
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

;SPECIAL CANCEL
[State 3900, PowerAdd]
type = null;Poweradd
triggerall = time = 0
trigger1 = prevstateno = 1110 || prevstateno = 1125
trigger2 = prevstateno = 1200 || prevstateno = 1210
value = -1000

[State 3900, PALFX]
type = null;PalFX
triggerall = timemod = 2,0 && time <= 30
trigger1 = prevstateno = 1110 || prevstateno = 1125
trigger2 = prevstateno = 1200 || prevstateno = 1210
ignorehitpause = 1
time = 1
add = 255,255,255
sinadd = -100,-100,-100, 2
ignorehitpause = 1
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3900, Voice]
type = PlaySnd
trigger1 = Animelem = 1
value = s8,9
channel = 0
volume = 40
supermove = 1

[State 3900, env]
type = EnvColor
trigger1 = animelem = 3
value = 0,0,0
time = 33
under = 1

[State 3900, 2KStyleSDM]
type = null;Bgpalfx
trigger1 = 1
invertall = 1
time = 4
mul = 120,120,120
ignorehitpause = 1

[State 3900, SparkSound]
type = PlaySnd
trigger1 = animelem = 3, = 2
value = s3,8
channel = 1
volume = -10

[State 3900, Super Pause]
type = SuperPause
trigger1 = animelem = 3, = 2
movetime = 28
poweradd = -2000
time = 28
anim = -1
p2defmul = 1
darken = -1

[State 3900,Explod1]
type = Explod
trigger1 = animelem = 3, = 3
anim = 7110
id   = 1351
pos = -9,-26
postype = p1
supermove = 1
sprpriority = 2
bindtime = 1
ontop = 1
ownpal = 1

[State 3900,Explod2]
type = Explod
trigger1 = animelem = 3, = 3
anim = 7100
id   = 1352
pos = -9,-26
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

;[State 3900, NOTHITBY]
;type = Nothitby
;trigger1 = time = 0
;value = SCA
;time = 40

[State 100, NOTHITBY]
type = Nothitby
trigger1 = animelemtime(4) <= 1
value = SCA
time = 2
IgnoreHitPause = 1

[State 3900, Sparks]
type = Explod
trigger1 = animelem = 3
anim = 3805
sprpriority = 2
postype = p1
pos = -38,28
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 3900, SFX]
type = null;PlaySnd
trigger1 = animelem = 3, = 2
value = s3,5
volume = -16

[State 3900, Shock]
type = null;PalFX
trigger1 = animelem = 3
trigger1 = prevstateno != 1110 || prevstateno != 1125
trigger1 = prevstateno != 1200 || prevstateno != 1210
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3900, Floor Spark]
type = Explod
trigger1 = animtime = 0
anim = 4140;3240
sprpriority = 2
postype = p1
pos = 10,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 3900, State]
type = ChangeState
trigger1 = animtime = 0
value = 3810
ctrl = 0
;-------------------------
;Spark Dash
[Statedef 3810]
type = A
movetype = A
physics = N
anim = 3810
sprpriority = 1
ctrl = 0
velset = 14,0
juggle = 12

[State 3910, 2KStyleSDM]
type = null;Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 3910, Floor Spark]
type = null;Explod
trigger1 = Animelem = 2
anim = 3812
sprpriority = 3
postype = p1
pos = 10,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 3910, Dash Spark]
type = Explod
trigger1 = Animelem = 2
anim = 1406;3814
sprpriority = 3
postype = p1
pos = -30,25
bindtime = -1
supermove = 1
removeongethit = 1
ownpal = 1
scale = 1.2,1.3

[State 3910, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 14
trans = add1
timegap = 2
framegap = 1
length = 5
PalBright = 0, 0, 0
PalContrast =  150,150,150
PalAdd = 0, 0, 0
PalMul = 1,1,1

[State a]
type = notHitby
trigger1 = AnimElemtime(2) <= 7
value = ,NA,SA,ST,NP
time = 1
ignorehitpause = 1

[State 3910, Hit]
type = HitDef
triggerall = p2stateno != [5020,5040]
trigger1 = AnimElem = 2
attr = S, HA
damage = 107,10
animtype = Heavy
guardflag = M
hitflag = MAF
p2stateno = 7000 + ((p2statetype=C)*10)
p2getp1stateno = 1
p1stateno = 3815
priority = 4,miss;Hit
pausetime = 10,14
guard.pausetime = 8,12
guard.sparkno = s50
getpower = 0,0
sparkno = S4130;4020
forcestand = 1
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,0
snap = 30,0
ground.velocity = 16,0
ground.type = High
ground.slidetime = 100
ground.hittime = 100
guard.slidetime = 16
guard.hittime = 32;16
ground.velocity = 0,0
air.hittime = 100
air.velocity = 0,0
kill = 0

[State 3910, Color]
type = EnvColor
trigger1 = movehit
value = 255, 255, 255
persistent = 0
ignorehitpause = 1
time = 1

[State 3910, Shock]
type = null;PalFX
trigger1 = timemod = 3,2
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3910, State]
type = playerpush
trigger1 = animelem = 2,>= 0
ignorehitpause = 1
value = 0

[State 3910, State]
type = Nothitby
trigger1 = movehit
ignorehitpause = 1
value = SCA

[State 3910, dashsound]
type = PlaySnd
trigger1 = time = 0
value = s3,2

[State 3910, State]
type = ChangeState
triggerall = movehit = 1
trigger1 = animtime = 0
value = 3820
ctrl = 0

[State 3910, State]
type = ChangeState
trigger1 = animtime = 0
value = 3816
ctrl = 0
;--------------------------
[Statedef 3816]
type = S
movetype = A
physics = S
anim = 3815
sprpriority = 2
velset = 1,0
ctrl = 0


[State turn]
Type = turn
triggerall = prevstateno = 3350
trigger1 = !time

;Posadd
[State 3815, Posadd]
type = Posadd
trigger1 = time = 0
x = 26

;Play Land sound
[State 3815, landsnd]
type = PlaySnd
trigger1 = time = 1
value = S3,1
persistent = 0

[State 3815, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------
;Spark Dash Hit
[Statedef 3815]
type = A
movetype = A
physics = N
anim = 3818
sprpriority = 1
ctrl = 0
velset = 15,0

[State 3915, 2KStyleSDM]
type = null;Bgpalfx
trigger1 = 1
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 3915, Shock]
type = null;PalFX
trigger1 = timemod = 3,2
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3915, 2KStyleSDM]
type = null;Bgpalfx
trigger1 = time >= 0
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 3915, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 5
trans = add1
timegap = 2
framegap = 1
length = 5
PalBright = 0, 0, 0
PalContrast =  150,150,150
PalAdd = 0, 0, 0
PalMul = 1,1,1

[State 3915, State]
type = playerpush
trigger1 = 1
ignorehitpause = 1
value = 0

[State 3915, State]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 3915, State]
type = ChangeState
trigger1 = animtime = 0
value = 3820
ctrl = 0
;-------------------------
;Spark Dash Stop Hit
[Statedef 3820]
type = S
movetype = A
physics = S
anim = 3920
sprpriority = 2
velset = 2,0
ctrl = 0

;Posadd
[State 3920, Posadd]
type = Posadd
trigger1 = time = 0
x = 26

[State 3920, 2KStyleSDM]
type = null;Bgpalfx
trigger1 = animelem = 3, < 0
trigger2 = animelem = 4,>= 0
invertall = 1
time = 1
mul = 120,120,120
ignorehitpause = 1

[State 3920, Voice2]
type = PlaySnd
trigger1 = Animelem = 3, = 15
value = s8,10
channel = 0
volume = 40
supermove = 1

[State 3920, SFX]
type = PlaySnd
trigger1 = Animelem = 3, = 14
trigger2 = Animelem = 3, = 39
trigger3 = Animelem = 3, = 64
value = s13,11;3, 5
supermove = 1

[State 3920, DarkBG]
type = BgPalFX
trigger1 = animelem = 3, >= 0
trigger1 = animelem = 4, < 0
time = 1
color = 64
add = 0,0,0
mul = 0,0,0

[State 3920, Projectile]
type = Projectile
trigger1 = Animelem = 3, = 15
trigger2 = Animelem = 3, = 40
trigger3 = Animelem = 3, = 65
projid = 4147
projanim = 4147
projhitanim = 4147
projremoveanim = 4147
projremovetime = -2;79
projsprpriority = 1
projhits = 3
projmisstime = 6
postype = p2;back
air.juggle = 1
offset = 35-(random%20),-(2+random%10)
getpower = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 87,15
p2stateno = 3830
p2getp1stateno = 1
pausetime = 0,31
sparkno = s62
guard.sparkno = s50
sparkxy = 0,-54
hitsound = S13,3;2,2
guardsound = S2,0
getpower = 0,0
hitflag = MAFP
guardflag = M
guard.velocity = 0
guard.slidetime = 20
guard.hittime = 40
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
yaccel = .5
fall = 1
fall.recovertime = 35
palfx.time = 65
palfx.add = 30,-40,-140;0,15,75
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0
pausemovetime = 10
supermovetime = 10

[State 3920, Bilog Spark]
type = Explod
trigger1 = animelem = 3, = 10
trigger2 = animelem = 3, = 32
trigger3 = animelem = 3, = 62
anim = 4135
sprpriority = 5
postype = p1
pos = 17,-31
bindtime = -1
supermove = 1
removetime = -2
ownpal = 1

[State 3920, Bilog Spark]
type = Explod
trigger1 = animelem = 3, = [10,11]
trigger2 = animelem = 3, = [32,33]
trigger3 = animelem = 3, = [62,63]
anim = 4135
sprpriority = 7
postype = p1
pos = 10+random%7,-41+random%7
bindtime = -1
supermove = 1
removetime = -2
ownpal = 1

[State 3920, Hit Spark]
type = Explod
trigger1 = projhit(4147) >= 1
persistent = 10
ignorehitpause
anim = 4130
sprpriority = 3
postype = p2
pos = 0,-60
random = 10,10
bindtime = 1
supermove = 1
ownpal = 1

[State 3920, Color]
type = EnvColor
trigger1 = projhit(4147) >= 1
value = 255, 255, 255
time = 1

[State 3920, NH]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 3920, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;==============================================================
[Statedef 6990]
type    = S
movetype= H
physics = N
velset = 0,0

[State 7000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 7000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 7000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 7000, 3] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 7000, 4] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 7000, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
trigger1 = pos y = 0
value = 7001 ;HITG_SLIDE

[State 7000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 7030

[State 7000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 7000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 7000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;---------------------
[Statedef 7000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 7000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 7000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 7000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 7000, Flash]
type = PalFX
trigger1 = 1;Time % 2
time = 10;1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 7000, 3] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 7000, 4] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 7000, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
trigger1 = pos y = 0
value = 7001 ;HITG_SLIDE

[State 7000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 7030

[State 7000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 7000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 7000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;-----------------------------------
;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 7001]
type    = S
movetype= H
physics = S

[State 7001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 7001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 7001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 7001, Flash]
type = PalFX
trigger1 = 1;Time % 2
time = 10;1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 7001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 7001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 7001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1

;===========================================
[Statedef 7010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 7010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 7010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 7010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 7000, Flash]
type = PalFX
trigger1 = 1;Time % 2
time = 10;1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 7010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 7010, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 7011 ;HITC_SLIDE

[State 7010, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 7030

[State 7010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 7010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 7010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;-------------------------------------
;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 7030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 7030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 7030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 7000, Flash]
type = PalFX
trigger1 = 1;Time % 2
time = 10;1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 7030, 3]
type = SelfState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 7030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 7050 ;HITA_FALL

[State 7030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 7035 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 7035]
type    = A
movetype= H
physics = N

[State 7035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 7000, Flash]
type = PalFX
trigger1 = 1;Time % 2
time = 10;1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 7035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 7035, 3]
type = SelfState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 7035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 7050 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 7050]
type    = A
movetype= H
physics = N

[State 7000, Flash]
type = PalFX
trigger1 = 1
time = 10;1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 7050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 7050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 7050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 7050, 4] ;Recover near ground
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 7050, 5]; Recover in mid air
type = SelfState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 7050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE
;-----------------------------------

;Hit by Final Lightning
[Statedef 3830]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 3830, Flash]
type = PalFX
trigger1 = 1
time = 10
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3830, Anim]
type = Changeanim2
trigger1 = time = 0
value = 3830

[State 3830, End]
type = Selfstate
trigger1 = Animtime = 0
value = 5100
ctrl = 0
;========================================================
;Spark
[Statedef 2800]
type = S
movetype = A
physics = S
anim = 3801
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

;SPECIAL CANCEL
[State 3800, PowerAdd]
type = null;Poweradd
triggerall = time = 0
trigger1 = prevstateno = 1110 || prevstateno = 1125
trigger2 = prevstateno = 1200 || prevstateno = 1210
value = -1000

[State 3800, PALFX]
type = null;PalFX
triggerall = timemod = 2,0 && time <= 40
trigger1 = prevstateno = 1110 || prevstateno = 1125
trigger2 = prevstateno = 1200 || prevstateno = 1210
ignorehitpause = 1
time = 1
add = 255,255,255
sinadd = -100,-100,-100, 2
ignorehitpause = 1

[State 3800, Voice]
type = PlaySnd
trigger1 = Animelem = 3
value = s8,9
channel = 0
volume = 40
supermove = 1

[State 3800, env]
type = EnvColor
triggerall = var(40) <= 0
trigger1 = animelem = 3
value = 0,0,0
time = 30
under = 1

[State 3800, SparkSound]
type = PlaySnd
trigger1 = animelem = 3, = 2
value = s3,6
channel = 1
volume = -10

[State 3800, Super Pause]
type = SuperPause
trigger1 = animelem = 3, = 2
movetime = 28
poweradd = -1000
time = 28
anim = -1
p2defmul = 1
darken = 1

[State 3800,Explod1]
type = Explod
trigger1 = animelem = 3, = 3
anim = 7000;1351
id   = 1351
pos = -9,-26
postype = p1
supermove = 1
sprpriority = 2
bindtime = 1
ontop = 1
ownpal = 1

[State 3800,Explod2]
type = Explod
trigger1 = animelem = 3, = 3
anim = 7010;1352
id   = 1352
pos = -9,-26
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

;[State 3800, NOTHITBY]
;type = Nothitby
;trigger1 = time = 0
;value = SCA
;time = 40

[State 100, NOTHITBY]
type = Nothitby
trigger1 = animelemtime(4) <= 1
value = SCA
time = 2
IgnoreHitPause = 1

[State 3800, Sparks]
type = Explod
trigger1 = animelem = 3,= 1
anim = 3805
sprpriority = 2
postype = p1
pos = -38,28
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 3800, Shock]
type = null;PalFX
trigger1 = animelem = 3,= 0
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3800, SFX]
type = null;PlaySnd
trigger1 = animelem = 3
value = s3,5
volume = -16

[State 3800, Floor Spark]
type = Explod
trigger1 = Animtime = 0
anim = 4140;3240
sprpriority = 2
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 3800, State]
type = ChangeState
trigger1 = animtime = 0
value = 2810
ctrl = 0

;-------------------------
;Spark Dash
[Statedef 2810]
type = A
movetype = A
physics = N
anim = 3810
sprpriority = 1
ctrl = 0
velset = 14,0
juggle = 12

[State 3810, Floor Spark]
type = null;Explod
trigger1 = Animelem = 1
anim = 3812
sprpriority = 3
postype = p1
pos = 10,0
bindtime = 1
supermove = 1
removeongethit = 1
ownpal = 1

[State 3810, Dash Spark]
type = Explod
trigger1 = Animelem = 2
anim = 1406;3814
sprpriority = 3
postype = p1
pos = -30,-5
bindtime = -1
supermove = 1
removeongethit = 1
ownpal = 1

[State 3810, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 10
trans = add1
timegap = 2
framegap = 1
length = 5
PalBright = 0, 0, 0
PalContrast =  150,150,150
PalAdd = 0, 0, 0
PalMul = 1,1,1

[State a]
type = notHitby
trigger1 = AnimElemtime(2) <= 7
value = ,NA,SA,ST,NP
time = 1
ignorehitpause = 1

[State 3810, Hit]
type = HitDef
triggerall = p2stateno != [5020,5040]
trigger1 = AnimElem = 2
attr = S, HA
damage = 47,10
animtype = Heavy
guardflag = M
hitflag = MAF
p2stateno = 7000 + ((p2statetype=C)*10)
p2getp1stateno = 1
p1stateno = 3818
priority = 4,miss; Hit
pausetime = 0,2
guard.pausetime = 0,2
getpower = 0,0
sparkno = S4130;4020
guard.sparkno = s50
forcestand = 1
sparkxy = -20,-91
hitsound = S2,1
guardsound = S2,0
snap = 30,0
ground.velocity = 15,0
ground.cornerpush.veloff = 15
air.cornerpush.veloff = 6
guard.cornerpush.veloff = 15
ground.type = High
ground.slidetime = 100
ground.hittime = 100
guard.slidetime = 12
guard.hittime = 24
air.hittime = 100
air.velocity = 0,0
kill = 0

[State 3810, Shock]
type = null;PalFX
trigger1 = timemod = 3,2
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3810, State]
type = playerpush
trigger1 = animelem = 2, > 0
ignorehitpause = 1
value = 0

[State 3810, State]
type = Nothitby
trigger1 = movehit
ignorehitpause = 1
value = SCA

[State 3810, dashsound]
type = PlaySnd
trigger1 = time = 0
value = 3,2

[State 3810, State]
type = ChangeState
triggerall = movehit = 1
trigger1 = animtime = 0
value = 3825
ctrl = 0

[State 3810, State]
type = ChangeState
trigger1 = animtime = 0
value = 3816
ctrl = 0
;-------------------------
;Spark Dash Hit
[Statedef 3818]
type = A
movetype = A
physics = N
anim = 3818
sprpriority = 1
ctrl = 0
velset = 15,0

[State 3818, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 5
trans = add1
timegap = 2
framegap = 1
length = 5
PalBright = 0, 0, 0
PalContrast =  150,150,150
PalAdd = 0, 0, 0
PalMul = 1,1,1

[State 3818, State]
type = playerpush
trigger1 = 1
ignorehitpause = 1
value = 0

[State 3818, State]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 3818, Shock]
type = null;PalFX
trigger1 = timemod = 3,1
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3818, State]
type = ChangeState
trigger1 = animtime = 0
value = 3825
ctrl = 0
;-------------------------
;Spark Dash Stop Hit
[Statedef 3825]
type = S
movetype = A
physics = S
anim = 3825
sprpriority = 2
velset = 2,0
ctrl = 0

;Posadd
[State 3825, Posadd]
type = Posadd
trigger1 = time = 0
x = 26

[State 3825, Voice2]
type = PlaySnd
trigger1 = Animelemtime(3) = 15
value = s8,10
channel = 0
volume = 40
supermove = 1

[State 3825, SFX]
type = PlaySnd
trigger1 = Animelemtime(3) = 14
value = s13,11;3, 5
supermove = 1

[State 3825, DarkBG]
type = BgPalFX
trigger1 = animelem = 3
time = 36
color = 64
add = 0,0,0
mul = 0,00,0

[State 3825, Projectile]
type = Projectile
trigger1 = Animelemtime(3) = 15
projid = 3821
projanim = 4147;3821
projhitanim = 4147;3821
projremoveanim = 3821
projremovetime = 12
projsprpriority = 1
postype = p2;back
air.juggle = 1
offset = 30,-20
getpower = 0,0
velocity = 0,0
projhits = 1
attr = S, HP
animtype = diagup
damage = 200,10
p2stateno = 3830
p2getp1stateno = 1
pausetime = 0,31
sparkno = s62
guard.sparkno = s50
sparkxy = 0,-54;ifelse(facing = 1,ceil(enemy, pos x - pos x),ceil(pos x - enemy, pos x)),-54
hitsound = S13,3;2,2
guardsound = S2,0
getpower = 0,0
hitflag = MAFP
guardflag = M
guard.velocity = 0
guard.slidetime = 20
guard.hittime = 40
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
yaccel = .5
fall = 1
fall.recovertime = 35
palfx.time = 60
palfx.add = 30,-40,-140;0,15,75
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0
pausemovetime = 10
supermovetime = 10

[State 3825, Bilog Spark]
type = Explod
trigger1 = Animelemtime(3) = 14
anim = 4135;1330
sprpriority = 3
postype = p1
pos = 17,-31
bindtime = 1
supermove = 1
removetime = -2;23
ownpal = 1

[State 3825, Bilog Spark]
type = Explod
trigger1 = Animelemtime(3) = 13
trigger2 = Animelemtime(3) = 14
trigger3 = Animelemtime(3) = 15
anim = 4135;1330
sprpriority = 3
postype = p1
pos = -10+random%5,-41+random%6
bindtime = 1
supermove = 1
removetime = -2;23
ownpal = 1

[State 3825, Hit Spark]
type = Explod
trigger1 = projhit(3821) = 1
persistent = 0
ignorehitpause
anim = 4130;4020
sprpriority = 3
postype = p2
pos = 0,-61
bindtime = 1
supermove = 1
ownpal = 1

[State 3825, NH]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 3825, Shock]
type = PalFX
trigger1 = Animelem = 3, = 12
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 3825, Color]
type = EnvColor
trigger1 = projhit(3821) >= 1
value = 255, 255, 255
time = 1

[State 3825, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;=========================================================
[Statedef 1900]
type = S
movetype = A
physics = S
anim = 1900
poweradd = 80
velset = 0
ctrl = 0
facep2 = 1

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 2
id = 1900
anim = 1085;3062;2010
pos = -42,-58;-35,-65
postype = p1
sprpriority = 2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
ontop = 1
scale = 1.2,1.2
facing = -1

[State 2200, 3]
type = null;PlaySnd
trigger1 =  AnimElemtime(2)>=1&&timemod = 6,1
value = s13,13;s4,13

[State 1302, 3]
type = ChangeState
trigger1 = command != "holda" && AnimElem = 2,>=4
trigger2 = command = "holda" && AnimTime = 0
trigger3 = var(9) = 1 && AnimElem = 2,>=12&&(var(35) = [2,3])&&(p2bodydist x >= 35||p2bodydist x < -1)
value = 1901

[Statedef 1901]
type = S
movetype = A
physics = S
anim = 1901
poweradd = 30
velset = 0
ctrl = 0

[State haha]
type = Turn
triggerall = time = 0
trigger1 = P2Dist X < 0

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 1900
[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 1901

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s3,20
channel = 0
volume = 0

[State 1300, 1]
type = PlaySnd
trigger1 = movehit && AnimElem = 7
value = s3,21
channel = 0
volume = 0

[State 1300, 1]
type = null;PlaySnd
trigger1 = AnimElem = 3
value = s5,5
[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s13,8;4,7

[State 1300, 1]
type = velset
trigger1 = AnimElem = 3
x = 15

[State 5040, 4]
type = null;StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 114, 7]
type = Explod
trigger1 = AnimElem = 3
anim = 82;1990
ID = 1990
sprpriority = 5
postype = p1
pos = 30,15;65
bindtime = -1
ignorehitpause = 1

[State 114, 7]
type = Explod
trigger1 = AnimElem = 3
anim = 1115
ID = 1990
sprpriority = 3
postype = p1
pos = -35,55
bindtime = -1
ignorehitpause = 1

[State 1300, 3]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
attr = S,SA
animtype = Hard
damage = 95,15
getpower = 100,50
givepower = 10,10
hitflag = MAFP
priority = 5, Hit
sparkno = S4130
guard.sparkno = S50
sparkxy = -15,-60
guardflag = M
pausetime = 12,12
hitsound = S13,3
guardsound = S2,4
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -4,-8
air.velocity = -4,-8
guard.hittime = 17
guard.velocity = -10
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
yaccel = .6
palfx.time = 50
palfx.add = 30,-40,-140;0,15,75
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0

[State 1302, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------
[Statedef 1800]
type = S
movetype = A
physics = S
anim = 250
poweradd = 100
velset = 0
ctrl = 0
facep2 = 1

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = prevstateno = 1210
value = -500
ignorehitpause = 1

[State 183, Bright]
type = PalFX
triggerall = !time
trigger1 = prevstateno = 1210
time = 10
add = 96,96,96
ignorehitpause = 1

[State 1401, 2]
type = PlaySnd
trigger1 = Time = 0
value = s8,2
channel = 0
volume = 0

[State 1400, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1801

[Statedef 1801]
type = A
movetype = A
physics = N
anim = 253
ctrl = 0

[State 1451, 3]
type = VelSet
trigger1 = Time = 0
x = 4.5
y = -3.6

[State 1101, 5]
type = VelAdd
trigger1 = Time > 0
y = .6

[State 200, 2]
type = PlaySnd
trigger1 = Time = 6
value = s1,0

[State 1401, 6]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1802
ctrl = 0

[Statedef 1802]
type = S
movetype = A
physics = N
anim = 1421
velset = 0,0
ctrl = 0

[State 1402, 2]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
x = 5

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 8
x = 4

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 9
x = 4

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 10
x = 2

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 11
x = 1

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 12
x = 0

[State 1402, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = Playsnd
trigger1 = Time = 0
value = s3,1

[State 114, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 42,5
getpower = 50,30
givepower = 20,20
hitflag = MAF
guardflag = M
pausetime = 10,12
hitsound = S0,2
guardsound = S2,4
sparkno = S61
guard.sparkno = S48
sparkxy = -15,-80
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.type = Low
air.velocity = -4,-8
yaccel = .6
air.fall = 1

[State 114, 4]
type = HitDef
trigger1 = AnimElem = 9
attr = S, SA
animtype = Hard
damage = 66,10
getpower = 60,20
givepower = 20,20
hitflag = MAF
guardflag = M
pausetime = 10,12
hitsound = S0,4
sparkno = S62
guard.sparkno = S50
sparkxy = -15,-60
guardsound = S2,4
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.type = Low
air.velocity = -4,-8
yaccel = .6
air.fall = 1

[State -2, 7]
type = null;Varadd
trigger1 = MoveGuarded = 1
var(5) = 40
ignorehitpause = 1
persistent = 0

[State 1400, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1130
ctrl = 0
;-------------------------
[Statedef 1820]
type = S
movetype = A
physics = S
anim = 250
poweradd = 120
velset = 0
ctrl = 0
facep2 = 1

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = prevstateno = 1210
value = -500
ignorehitpause = 1

[State 183, Bright]
type = PalFX
triggerall = !time
trigger1 = prevstateno = 1210
time = 10
add = 96,96,96
ignorehitpause = 1

[State 1401, 2]
type = PlaySnd
trigger1 = Time = 0
value = s8,2
channel = 0
volume = 0

[State 1400, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1821

[Statedef 1821]
type = A
movetype = A
physics = N
anim = 253
ctrl = 0

[State 1451, 3]
type = VelSet
trigger1 = Time = 0
x = 4.5
y = -3.6

[State 1101, 5]
type = VelAdd
trigger1 = Time > 0
y = .6

[State 200, 2]
type = PlaySnd
trigger1 = Time = 6
value = s1,0

[State 1401, 6]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1822
ctrl = 0

[Statedef 1822]
type = S
movetype = A
physics = N
anim = 1422
velset = 0,0
ctrl = 0

[State 1402, 2]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 13
trigger6 = AnimElem = 18
x = 5

[State 1402, 2]
type = PosAdd
trigger1 = AnimElem = 14
trigger2 = AnimElem = 19,=[1,2]
x = 4

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 8
x = 4

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 9
x = 4

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 10
x = 2

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 11
x = 1

[State 1401, 3]
type = posadd
trigger1 = AnimElem = 15
trigger2 = AnimElem = 20
x = 1

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 12
x = 0

[State 1402, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = Playsnd
trigger1 = Time = 0
value = s3,1

[State 114, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 32,5
getpower = 50,30
givepower = 10,10
hitflag = MAF
guardflag = M
pausetime = 10,12
hitsound = S0,2
guardsound = S2,4
sparkno = S61
guard.sparkno = S48
sparkxy = -15,-80
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.type = Low
air.velocity = -4,-8
yaccel = .6
air.fall = 1

[State 114, 4]
type = HitDef
trigger1 = AnimElem = 9
attr = S, SA
animtype = Hard
damage = 46,10
getpower = 30,40
givepower = 10,10
hitflag = MAF
guardflag = M
pausetime = 10,12
hitsound = S0,4
sparkno = S62
guard.sparkno = S50
sparkxy = -15,-60
guardsound = S2,4
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.type = Low
air.velocity = -4,-8
yaccel = .6
air.fall = 1

[State 114, 4]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = Hard
damage = 36,10
getpower = 30,30
givepower = 10,10
hitflag = MAF
guardflag = M
pausetime = 10,12
hitsound = S1,2
sparkno = S62
guard.sparkno = S50
sparkxy = -15,-60
guardsound = S2,4
ground.type = high
ground.slidetime = 32
ground.hittime = 16
ground.velocity = 0
guard.hittime = 12
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.type = high
air.velocity = -4,-8
yaccel = .6
air.fall = 1

[State 114, 4]
type = HitDef
trigger1 = AnimElem = 22
attr = S, SA
animtype = Hard
damage = 46,10
getpower = 50,50
givepower = 10,10
hitflag = MAF
guardflag = M
pausetime = 10,12
hitsound = S1,2
sparkno = S62
guard.sparkno = S50
sparkxy = -15,-60
guardsound = S2,4
ground.type = high
ground.slidetime = 32
ground.hittime = 16
ground.velocity = 0
guard.hittime = 12
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.type = high
air.velocity = -4,-8
yaccel = .6
air.fall = 1

[State 1400, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1130
ctrl = 0
;====================================================
[Statedef 1950]
type = S
movetype = A
physics = S
anim = 1900
poweradd = 60
velset = 0
ctrl = 0
facep2 = 1

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 2
id = 1900
anim = 1085;3062;2010
pos = -42,-58
postype = p1
sprpriority = 2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
ontop = 1
scale = 1.2,1.2
facing = -1

[State 2200, 3]
type = null;PlaySnd
trigger1 = AnimElemtime(2)>=1&&timemod = 6,1
value = s13,13;4,13

[State 1302, 3]
type = ChangeState
trigger1 = command != "holdb" && AnimElem = 2,>=10
trigger2 = command = "holdb" && AnimTime = 0
trigger3 = var(9) = 1 && AnimElem = 2,>=20&&(var(35) = [2,3])&&(p2bodydist x >=30||p2bodydist x < -10)
value = 1951

[Statedef 1951]
type = S
movetype = A
physics = S
anim = 1951
poweradd = 50
velset = 0
ctrl = 0

[State haha]
type = Turn
triggerall = time = 0
trigger1 = P2Dist X < 0

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 1900
[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 1901

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s8,14
channel = 0
volume = 0

[State 1300, 1]
type = null;PlaySnd
trigger1 = AnimElem = 3
value = 5,5
[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s13,8;4,7

[State 1300, 1]
type = velset
trigger1 = AnimElem = 3
trigger2 = AnimElem = 3,1
x = 15

[State 5040, 4]
type = null;StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 114, 7]
type = Explod
trigger1 = AnimElem = 3
anim = 82;1990
ID = 1990
sprpriority = 5
postype = p1
pos = 30,15;65
bindtime = -1
ignorehitpause = 1

[State 114, 7]
type = Explod
trigger1 = AnimElem = 3
anim = 1115
ID = 1990
sprpriority = 3
postype = p1
pos = -35,55
bindtime = -1
ignorehitpause = 1

[State 1300, 3]
type = HitDef
trigger1 = !movecontact
attr = S, SA
animtype = Hard
damage = 110,10
getpower = 120,50
givepower = 20,20
hitflag = MAFP
sparkno = S4130
guard.sparkno = S50
priority = 5, Hit
sparkxy = -15,-60
guardflag = M
pausetime = 10,12
hitsound = S13,3
guardsound = S2,4
ground.type = low
ground.slidetime = 32
ground.hittime = 30
ground.velocity = -10
guard.hittime = 30
guard.velocity = -10
ground.cornerpush.veloff = -19
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -19
air.type = Low
air.velocity = -4,-8
yaccel = .6
air.fall = 1
palfx.time = 30
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0

[State 3920, Projectile]
type = Projectile
triggerall = movehit
trigger1 = Animelem = 8
projid = 4157
projanim = 4147
projhitanim = 4147
projremoveanim = 4147
projremovetime = -2;79
projsprpriority = 1
projhits = 3
projmisstime = 6
postype = p2
air.juggle = 1
offset = 35-(random%20),-(2+random%10)
getpower = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 46,10
p2stateno = 3830
p2getp1stateno = 1
pausetime = 4,31
sparkno = s62
guard.sparkno = s50
sparkxy = 0,-54
hitsound = S13,3
guardsound = S2,0
getpower = 0,0
hitflag = MAFP
guardflag = M
guard.velocity = 0
guard.slidetime = 20
guard.hittime = 40
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
yaccel = .5
fall = 1
fall.recovertime = 35
palfx.time = 60
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0
pausemovetime = 10
supermovetime = 10

[State 3920, SFX]
type = PlaySnd
trigger1 = projhit(4157) = 1
value = s13,11
persistent = 0

[State 3920, Hit Spark]
type = Explod
triggerall = !numExplod(4136)
trigger1 = projhit(4157) = 1
persistent = 10
ignorehitpause
anim = 4130
id = 4136
sprpriority = 3
postype = p2
pos = 0,-60
bindtime = 1
supermove = 1
ownpal = 1

[State 3920, Color]
type = EnvColor
trigger1 = projhit(4157) = 1
value = 255, 255, 255
time = 1

[State 1302, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------
[Statedef 925]
type = S
movetype = A
physics = S
anim = 925
poweradd = 55
velset = 0
ctrl = 0

[State 106, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = s5,3

[State a]
type = Reversaldef
trigger1 = animelemtime(2) >= 0&&animelemtime(5) <= 0
reversal.attr = SCA, NA, SA,HA,NT,NP,SP,HP,AA,AP
priority = 7,miss
pausetime = 0,2
sparkno = s-1
hitsound = s-1
p1stateno = 1126
ignorehitpause = 1

[State 2100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1126]
type = S
movetype = A
physics = N
anim = 926
poweradd = 90
velset = 0
ctrl = 0
juggle = 2-(var(15) = 1&&enemy,stateno >= 420)*1

[State -1]
type = Turn
triggerall = time <= 5||animelem = 7
trigger1 = P2Dist X < 0

[State 1]
type = NotHitBy
trigger1 = time <= 10
value = SCA,HT,AP

[State 1100, Voice]
type = PlaySnd
trigger1 = animelem = 2
value = s8,1
channel = 0

[State 1100, Explod]
type = Explod
trigger1 = time = 5
anim = 1105
postype = p1
pos = 0,0
sprpriority = 4
bindtime = 1
ownpal = 1

[State 1100, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0

[State 1100, HitDef1]
type = HitDef
trigger1 = AnimElem = 4
attr = S,NA
damage = 32,5
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 7,miss
pausetime = 7,12
poweradd = 25,15
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S1,2
guardsound = S2,4
ground.type = High
air.animtype = Low
ground.velocity = ifelse(p2bodydist X < 35,-3.5,3.5)
ground.slidetime = 20
ground.hittime = 30
air.velocity = ifelse(p2bodydist X < 35,-2,3.5),-7
fall = ifelse(p2statetype = A, 1,0)
fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,30
givepower = 10,6
fall.xvelocity = -1.5
down.velocity = -2.5,0
fall.yvelocity = ifelse(p2statetype = A,-3.4,-.4)
guard.pausetime = 1,5
guard.ctrltime = 45
yaccel = .55

[State 240, Voice]
type = PlaySnd
trigger1 = animelem = 7
value = s5,2
channel = 0

[State 240, SFX]
type = PlaySnd
trigger1 = animelem = 8
value = s1,0

[State 240, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = S,SA
damage = 70,5
animtype = hard;Heavy
guardflag = M
hitflag = MAFP
air.juggle = 10-(var(15) = 1)*5
priority = 7,miss
pausetime = 11,12
sparkno = s61
sparkxy = -4,-60
guard.sparkno = s30
hitsound = S2,1
guardsound = S2,0
ground.type = High
air.animtype = Low
ground.slidetime = 25;17
ground.hittime = 25;17
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
air.fall = 1
fall.recover = 0
guard.velocity = -12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
yaccel = .526
fall.xvelocity = -2.5
down.velocity = -2.5,0
getpower = 60,40
givepower = 10,6
poweradd = 20,10

[State 2100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------
[Statedef 4500]
type = S
movetype = A
physics = S
anim = 4500
poweradd = -2000
velset = 0
ctrl = 0

[State 106, SFX]
type = PlaySnd
trigger1 = animelem = 2
value = s6,ifelse(Random%2,15,16)

[State a]
type = Reversaldef
trigger1 = 1
reversal.attr = SCA, NA, SA, HA, NT, ST, HT, NP, SP, HP, AA, AT, AP
pausetime = 0,0
sparkno = -1
hitsound = -1
p1stateno = 4501
ignorehitpause = 1

[State a]
Type = HitOverride
Triggerall = !ishelper
Trigger1 = p2bodydist X = [-30,55]
attr = SCA,AA,AT,AP
slot = 0
stateno = 4501
IgnoreHitPause = 1

[State 2100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 4501]
type = S
movetype = A
physics = S
anim = 4501
poweradd = -1000
velset = 0
ctrl = 0

[State -1]
type = Turn
triggerall = time = [0,5]
trigger1 = P2Dist X < 0
;-------------------------------------------
[state a]
type = Helper
trigger1 = time = 0
id = 11110
name = "annte0nn"
pos = 0,0
postype = back
stateno = 11110
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
[state a]
type = Helper
trigger1 = time = 2
id = 11112
name = "annt1enn"
pos = 0,0
postype = back
stateno = 11112
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
;------------------------------------
[State 2000, 4]
type = SuperPause
trigger1 = animelemtime(1) = 0
time = 46
movetime = 46
anim = -1
sound = S11,1
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelemtime(1) = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = animelemtime(1) = 0
time = 46
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 2000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7120
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = -2

[State 2000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7125
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = 9
;---------------------
[State 3000, Lightning Ball]
type = Explod
trigger1 = animelem = 1
anim = 3064
id = 30
ownpal = 1
sprpriority = 6
postype = p1
removeongethit = 1
pos = -28,-76
bindtime = -1
supermove = 1
Pausemove = 1
removetime = -1

[State 3000, Lightning Ball]
type = Explod
trigger1 = animelem = 1
anim = 4135
id = 30
ownpal = 1
sprpriority = 6
postype = p1
removeongethit = 1
pos = -28,-76
bindtime = -1
supermove = 1
Pausemove = 1
removetime = -1

[State 106, SFX]
type = PlaySnd
trigger1 = animelem = 1
value = s5,6

[State a]
type = RemoveExplod
trigger1 = animelem = 5
id = 30
IgnoreHitPause = 1

[State 1300, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S, SA
damage = 32,3
animtype = Heavy
guard = 0
guardflag = -1
hitflag = MAF
p2stateno = 5922
p2getp1stateno = 0
p2facing = 1
sparkno = s62
guard.sparkno = s50
sparkxy = -15,-63
hitsound = s2,1
guardsound = S2,4
pausetime = 0,2
ground.type = High
air.animtype = Low
ground.cornerpush.veloff = 0
ground.slidetime = 30
ground.hittime = 30
kill = 0

[State 3000, Lightning Ball]
type = Explod
trigger1 = movehit = 1
anim = 4147
ownpal = 1
sprpriority = 28
postype = p2
pos = -8,-16
bindtime = -1
removetime = -2
pausemovetime = 10
supermovetime = 10

[State 3000, Lightning Ball]
type = Explod
trigger1 = animelemtime(5) = 0
anim = 1125
ownpal = 1
sprpriority = 10
postype = p1
pos = -15,-72
scale = .5,.5
bindtime = -1
removetime = -2

[State 701, 1]
type = velset
Triggerall = AnimTime != 0
triggerall = p2stateno = 5922
trigger1 = frontedgedist <= 160
x = -4

[State 100, 1]
type = velset
Triggerall = AnimTime != 0
triggerall = p2stateno = 5922
trigger1 = backedgedist <= 70
x = 4

[State 1000]
type = TargetBind
Triggerall = Anim = 4501
Trigger1 = AnimTime != 0
trigger1 = p2stateno = 5922
pos = 70, 0

[State 701, 1]
type = velset
Trigger1 = AnimTime = 0
x = 0

[State 2100]
type = ChangeState
triggerall = p2stateno = 5922
Trigger1 = AnimTime = 0
value = 4502
ctrl = 0

[State 2100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 4502]
type = A
movetype = I
physics = N
anim = 106
velset = -10,-5.45

[State 106, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 3,3

[State 106, Slow]
type = VelAdd
trigger1 = Time > 0
y = .73

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 106, Gravity]
type = VelMul
trigger1 = Time > 2
x = .89

[State 106, State]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 4503

;Hop Back (landing)
[Statedef 4503]
type = S
movetype = I
physics = S
anim = 107
velset = 0,0

[State 107, Align]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s13,0
volumescale = 50

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 107, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 4504
ctrl = 0

[Statedef 4504]
type = S
movetype = I
physics = S
anim = 4502
poweradd = 0
velset = 0
ctrl = 0

[State 106, SFX]
type = PlaySnd
trigger1 = animelem = 5
value = s6,1
volumescale = 100

[State 1, Helper]
type = Helper
triggerall = !numhelper(5923)
trigger1 = p2stateno = 5922||(p2stateno = 6612&&enemy,time>=25)
helpertype = normal
name = "hit"
ID = 5923
stateno = 5923
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 1, Helper]
type = Helper
triggerall = !numhelper(4900)
trigger1 = animelem = 5
helpertype = normal
name = "kyo"
ID = 4900
stateno = 4900
pos = 120,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1

[State 1, Helper]
type = Helper
triggerall = !numhelper(4950)
trigger1 = animelem = 5
helpertype = normal
name = "iori"
ID = 4950
stateno = 4950
pos = -120,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1

[State 2100]
type = ChangeState
Trigger1 = p2stateno = 6612&&enemy,time>=120
value = 4505
ctrl = 0

[State 2100]
type = ChangeState
trigger1 = !numhelper(4950)&&!numhelper(4900)&&animelemtime(5) >= 100
value = 0
ctrl = 1

[Statedef 4505]
type = S
movetype = I
physics = S
anim = 4503
poweradd = 0
velset = 0
ctrl = 0

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1201, pos]
type = PosAdd
trigger1 = animelemtime(7) = 0
x = 20

[State 106, SFX]
type = PlaySnd
trigger1 = animelem = 14
value = s8,7
volumescale = 100

[State ]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------
[Statedef 4900]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 4900
ctrl     = 0
sprpriority = 1

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AT,AP

[State -1]
type = Turn
triggerall = time = 0
trigger1 = P2Dist X < 0

[state 1]
type = destroyself
trigger1 = root,movetype = H

[State 2100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 4901

[Statedef 4901]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 4901
ctrl     = 0
sprpriority = 1

[State a]
type = playerpush
trigger1 = IsHelper
value = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,0

[State 3000, hehe!]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AT,AP

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 1100, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 7110
ID = 1000
postype = p1
pos = 20,-110
bindtime = -1
sprpriority = 3
supermovetime = 30
ownpal = 1
removeongethit = 1

[State 1100, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 7100
ID = 1000
postype = p1
pos = 20,-110
bindtime = -1
sprpriority = -1
supermovetime = 30
ownpal = 1
removeongethit = 1

[State 3009, 1]
type = SuperPause
trigger1 = Animelem = 1
time = 30
anim = -1
movetime = 30
poweradd = 0
darken = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s3,8

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 6
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
triggerall = animelemtime(6) >= 0
trigger1 = gametime%2 = 0
time = 2

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = s3,9;0,4

[State 1201, pos]
type = PosAdd
trigger1 = animelemtime(6) >= 0
x = 8.5

[State 220, 2]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 20,10
animtype = medium
hitflag = MAF
guardflag = -1
sparkno = s60
guard.sparkno = s50
sparkxy = -15,-40
hitsound = S0,3
guardsound = s2,4
pausetime = 0,0
air.juggle = 0
getpower = 0
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p1stateno = 4902
p2stateno = 5922
kill = 0

[State ]
Type = ChangeState
triggerall = p2stateno = 5922||p2stateno = [6610,6611]
Trigger1 = P2Dist X <= 50
Trigger1 = P2Dist X >= -20
Value = 4902
Ctrl = 0

[state 2500, destroyself]
type = destroyself
trigger1 = root,movetype = H
trigger2 = AnimTime = 0

[Statedef 4902]
type = S
movetype = A
physics = S
anim = 4902
velset = 0
ctrl = 0

[State 3005, width]
type = width
trigger1 = 1
edge = 50

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = s12,1

[State 705, 2]
type = Explod
trigger1 = animelem = 16
anim = 4063
ID = 4063
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1

[State 705, 2]
type = Explod
trigger1 = animelem = 11
anim = 4060
ID = 4060
sprpriority = 2
postype = p1
pos = -20,40
bindtime = -1

[State 705, 2]
type = Explod
trigger1 = animelem = 22
anim = 82;4062
ID = 4062
sprpriority = 2
postype = p1
pos = 30,5;-150
scale = .8,.8
bindtime = 1

[State 705, 2]
type = Explod
trigger1 = animelem = 27;28
anim = 4064
ID = 4064
sprpriority = 2
postype = p1
pos = 40,0;-180
scale = .8,.8
bindtime = -1

[State 705, 2]
type = Explod
trigger1 = animelem = 34
anim = 82;4062
ID = 4062
sprpriority = 2
postype = p1
pos = 30,5;-150
scale = .8,.8
bindtime = -1

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 11
trigger4 = animelem = 17
trigger5 = animelem = 24
trigger6 = animelem = 28
trigger7 = animelem = 36
value = 255,255,255
time = 1
under = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 4
attr = , NA
damage = 10,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s62
guard.sparkno = s50
sparkxy = -30,-60
hitsound = S0,4
guardsound = s2,4
pausetime = 0,0
getpower = 0
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6610
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 11
trigger2 = animelem = 28
attr = , NA
damage = 12,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s62
guard.sparkno = s50
sparkxy = -30,-60
hitsound = S0,4
guardsound = s2,4
pausetime = 0,0
getpower = 0
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6610
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 7
attr = , NA
damage = 15,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s62
guard.sparkno = s50
sparkxy = -25,-83
hitsound = S0,4
guardsound = s2,4
pausetime = 0,0
ground.hittime = 17
getpower = 0
ground.type = low
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6611
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 17
trigger2 = animelem = 24
trigger3 = animelem = 36
attr = , NA
damage = 15,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s64;12
guard.sparkno = s50
sparkxy = -35,-20
hitsound = S0,3
guardsound = s2,4
pausetime = 0,0
ground.hittime = 17
ground.type = low
getpower = 0
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6611
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 41
attr = , NA
damage = 5
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = -1
guard.sparkno = s50
sparkxy = -22,-35
hitsound = -1
guardsound = -1
pausetime = 0,0
ground.hittime = 17
ground.type = low
getpower = 0
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
numhits = 0
snap = 40,0,0
p1stateno = 4903
p2stateno = 6612
kill = 0
p2facing = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 4903

[Statedef 4903]
type = S
movetype = A
physics = S
anim = 4903
velset = 0,0

[State 107, Align]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = s12,6
volume = 255
volumescale = 50

[State 1]
type = Explod
triggerall = !numExplod(2251)
trigger1 = animelem = 5
name = "huo"
ID = 2251
anim = 2251
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
sprpriority = 9
trans = addalpha
alpha = 220, 256
removetime = -1

[State 1000, EnvShake]
type = EnvShake
triggerall = animelem = 5,>1
triggerall = time <= 284
trigger1 = gametime%4 = 1
time = 4
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 285
time = 5
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State a]
type = RemoveExplod
trigger1 = time = 285
id = 2251
IgnoreHitPause = 1

[State 1]
type = Explod
triggerall = !numExplod(2252)
trigger1 = time = 285
name = "huo"
ID = 2252
anim = 2252
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
sprpriority = 9
trans = addalpha
alpha = 220, 256
removetime = -2

[State 183, SFX]
type = PlaySnd
trigger1 = time = 1
value = s13,10

[State 1]
type = Explod
triggerall = !numExplod(3250)
trigger1 = time = 285
ID = 3250
anim = 3250
pos = 20,5
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 999
removetime = -2

[State 2100]
type = ChangeState
Trigger1 = time >= 300
value = 4904

[Statedef 4904]
type = S
ctrl = 0
anim = 4904
velset = 0,0

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 4955
postype = p1
pos = -20, -210
velocity = 2, 8
removetime = 20
sprpriority = 6

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = s30,1

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 16
value = s30, 2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, Sparks]
type = Explod
trigger1 = animelem = 17
anim = 1084
sprpriority = 99
postype = p1
pos = 0,0
ontop = 1
bindtime = -1
ownpal = 1

[State 183, SFX]
type = PlaySnd
trigger1 = animelem = 17
value = s13,14

[state 1]
type = destroyself
trigger1 = AnimTime = 0
;--------------------------------------------------
[Statedef 4950]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 4950
ctrl     = 0
sprpriority = 1

[State -1]
type = Turn
triggerall = time = 0
trigger1 = P2Dist X < 0

[state 1]
type = destroyself
trigger1 = root,movetype = H

[State 2100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 4951

[Statedef 4951]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 4951
ctrl     = 0
sprpriority = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,2

[State a]
type = playerpush
trigger1 = IsHelper
value = 0

[State 3000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 1100, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 7110
ID = 1000
postype = p1
pos = 20,-110
bindtime = -1
sprpriority = 3
supermovetime = 30
ownpal = 1
removeongethit = 1

[State 1100, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 7100
ID = 1000
postype = p1
pos = 20,-110
bindtime = -1
sprpriority = -1
supermovetime = 30
ownpal = 1
removeongethit = 1

[State 3009, 1]
type = SuperPause
trigger1 = Animelem = 1
time = 28
anim = -1
movetime = 28
poweradd = 0
darken = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s3,8

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 6
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
triggerall = animelemtime(6) >= 1
trigger1 = gametime%2 = 0
time = 2

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = s3,9;0,4

[State 1201, pos]
type = PosAdd
trigger1 = animelemtime(6) >= 1
x = 8.5

[State 220, 2]
type = HitDef
trigger1 = time = 0
attr = SC,HA
damage = 10,5
animtype = dup
hitflag = MAF
guardflag = -1
sparkno = s60
guard.sparkno = s50
sparkxy = -15,-40
hitsound = S0,3
guardsound = s2,4
pausetime = 0,0
air.juggle = 0
getpower = 0
ground.hittime = 12
ground.type = low
ground.slidetime = 12
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p1stateno = 4952
p2stateno = 5924
kill = 0
p2facing = 1

[State ]
Type = ChangeState
triggerall = p2stateno = 5922||p2stateno = [6610,6611]
Trigger1 = P2Dist X <= 50
Trigger1 = P2Dist X >= -20
Value = 4952
Ctrl = 0

[state 2500, destroyself]
type = destroyself
trigger1 = root,movetype = H
trigger2 = AnimTime = 0

[Statedef 4952]
type = S
movetype = A
physics = S
anim = 4952
velset = 0
ctrl = 0

[State 3005, width]
type = width
trigger1 = 1
edge = 50

[State 912, 5]
type = PlaySnd
Trigger1 = animelem = 19
value = s12,3

[State 1]
type =  Helper
trigger1 = animelem = 30
trigger2 = animelem = 42
ID = 82
stateno = 10843
pos = 30,5
postype = p1
keyctrl = 0
ownpal = 1
scale = .8,.8
bindtime = -1
sprpriority = 2

[State 1]
type =  Helper
trigger1 = animelem = 35
ID = 4064
stateno = 10844
pos = 40,0
postype = p1
keyctrl = 0
ownpal = 1
scale = .8,.8
bindtime = -1
sprpriority = 2

[State 1000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 26
trigger5 = AnimElem = 32
trigger6 = AnimElem = 37
trigger7 = AnimElem = 44
value = 255,255,255
time = 1
under = 1

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = , NA
damage = 10,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s62
guard.sparkno = s50
sparkxy = -30,-60
hitsound = S0,4
guardsound = s2,4
pausetime = 0,0
getpower = 0
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6610
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 9
trigger2 = animelem = 17
attr = , NA
damage = 12,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s61
guard.sparkno = s50
sparkxy = -30,-60
hitsound = S0,4
guardsound = s2,4
pausetime = 0,0
getpower = 0
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6610
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 26
attr = , NA
damage = 15,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s64
guard.sparkno = s50
sparkxy = -25,-23
hitsound = S0,3
guardsound = s2,4
pausetime = 0,0
ground.hittime = 17
getpower = 0
ground.type = low
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6611
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 32
trigger2 = animelem = 37
trigger3 = animelem = 44
attr = , NA
damage = 15,2
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s64;12
guard.sparkno = s50
sparkxy = -35,-20
hitsound = S0,3
guardsound = s2,4
pausetime = 0,0
ground.hittime = 17
ground.type = low
getpower = 0
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 6611
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 48
attr = , NA
damage = 5
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = -1
guard.sparkno = s50
sparkxy = -22,-35
hitsound = -1
guardsound = -1
pausetime = 0,0
ground.hittime = 17
ground.type = low
getpower = 0
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
numhits = 0
snap = 40,0,0
p1stateno = 4953
p2stateno = 6612
kill = 0
p2facing = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 4953

[Statedef 4953]
type = S
movetype = A
physics = S
anim = 4953
velset = 0,0

[State 107, Align]
type = PosSet
trigger1 = 1
y = 0

[State 1000, PlaySnd]
type = PlaySnd
triggerall = time <= 30
trigger1 = timemod = 10,1
value = s12,4
volumescale = 5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = s12,5
volumescale = 50

[State 1, Helper]
type = Helper
triggerall = !numhelper(42015)
trigger1 = animelem = 5
helpertype = normal
name = "huo"
ID = 42015
stateno = 42015
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
bindtime = -1

[State 1]
type =  Helper
triggerall = !numhelper(3250)
trigger1 = time = 285
ID = 3250
stateno = 10842
pos = 20,5
postype = p1
keyctrl = 0
ownpal = 1
bindtime = -1
sprpriority = 998

[State 1000, EnvShake]
type = EnvShake
triggerall = animelem = 5,>1
triggerall = time <= 284
trigger1 = gametime%4 = 1
time = 4
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 285
time = 10
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 2100]
type = ChangeState
Trigger1 = time >= 300
value = 4954

[Statedef 4954]
type = S
ctrl = 0
anim = 4954
velset = 0,0

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 4955
postype = p1
pos = -20, -210
velocity = 2, 8
removetime = 20
sprpriority = 6

[State 182, 2]
type = PlaySnd
trigger1 = animelem = 6
value = s30,1

[State 182, 2]
type = PlaySnd
trigger1 = time = 111
value = s30,0

[State 1000, PosAdd]
type = PosAdd
trigger1 = animelem = 8
x = 10

[State 1000, PosAdd]
type = PosAdd
trigger1 = animelem = 9
x = 22

[State 1000, PosAdd]
type = PosAdd
trigger1 = animelem = 12
x = 5

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 183, Sparks]
type = helper
triggerall = !numhelper(10841)
trigger1 = animelemtime(17) = 0
stateno = 10841
id = 10841
sprpriority = 99
postype = p1
pos = 0,0
ontop = 1
bindtime = -1
ownpal = 1

[state 2500, destroyself]
type = destroyself
trigger1 = AnimTime = 0
;--------------------------------------------------
[Statedef 42015]
type = S
movetype = I
physics = S
anim = 2251
velset = 0,0
sprpriority = 9

[State 3305, 2]
type = PalFX
trigger1 = 1
time = 1
add = 96,48,216
mul = 166,166,166
sinadd = 64,64,64,24
color = 0

[State -2]
type = trans
trigger1 = 1
trans = addalpha
alpha = 220, 256

[State 1830]
type = ChangeAnim
Triggerall = helper(4950),time = 285
Trigger1 = helper(4950),stateno = 4953
value = 2252

[State 183, SFX]
type = PlaySnd
triggerall = anim = 2251
trigger1 = time%8 = 0
value = s13,4

[State 183, SFX]
type = PlaySnd
trigger1 = !time&anim = 2251
value = s13,10

[state 2500, destroyself]
type = destroyself
triggerall = Anim = 2252
trigger1 = AnimTime = 0
;--------------------------------------------------
[Statedef 10841]
type = S
movetype = I
physics = S
anim = 1084
velset = 0,0
sprpriority = 99

[State 183, SFX]
type = PlaySnd
trigger1 = !time
value = s13,14

[State 3305, 2]
type = PalFX
trigger1 = 1
time = 2
add = 96,48,216
mul = 166,166,166
sinadd = 64,64,64,24
color = 0

[state 2500, destroyself]
type = destroyself
trigger1 = AnimTime = 0

[Statedef 10842]
type = S
movetype = I
physics = S
anim = 3250
velset = 0,0
sprpriority = 998

[State 183, SFX]
type = PlaySnd
trigger1 = !time
value = s13,14

[State 3305, 2]
type = PalFX
trigger1 = 1
time = 2
add = 96,48,216
mul = 166,166,166
sinadd = 64,64,64,24
color = 0

[state 2500, destroyself]
type = destroyself
trigger1 = AnimTime = 0

[Statedef 10843]
type = S
movetype = I
physics = S
anim = 82
velset = 0,0
sprpriority = 2

[State 3305, 2]
type = PalFX
trigger1 = 1
time = 2
add = 96,48,216
mul = 166,166,166
sinadd = 64,64,64,24
color = 0

[state 2500, destroyself]
type = destroyself
trigger1 = AnimTime = 0

[Statedef 10844]
type = S
movetype = I
physics = S
anim = 4064
velset = 0,0
sprpriority = 2

[State 3305, 2]
type = PalFX
trigger1 = 1
time = 2
add = 96,48,216
mul = 166,166,166
sinadd = 64,64,64,24
color = 0

[state 2500, destroyself]
type = destroyself
trigger1 = AnimTime = 0
;----------------------------------------------
[Statedef 5923]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 9999
ctrl     = 0
sprpriority = 9

[State 5201, snd]
type = PlaySnd
trigger1 = timemod = 8,1
value = s2,1
volume = -100

[State 5201, snd]
type = PlaySnd
trigger1 = timemod = 6,1
value = s13,5
volume = -60

[State 5201, snd]
type = PlaySnd
trigger1 = timemod = 5,1
value = s13,6
volume = -60

[State 1000, Explod]
type = Explod
trigger1 = timemod = 12,1
anim = 62
pos = 0,-70
;postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 80,60
removetime = -2
sprpriority = 5
removeongethit = 1

[State 1000, Explod]
type = Explod
trigger1 = timemod = 6,1
anim = ifelse(random%2,4125,4130)
pos = 0,-60
;postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 70,70
removetime = -2
sprpriority = 5
removeongethit = 1

[State 1000, Explod]
type = Explod
trigger1 = timemod = 7,1
anim = ifelse(random%2,4135,4140)
pos = 0,-60
;postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 60,85
scale = .6,.6
removetime = -2
sprpriority = 5
removeongethit = 1

[state 2500, destroyself]
type = destroyself
trigger1 = root,movetype = H
trigger2 = p2stateno != 5922&&p2stateno != 6612
;===================================
[Statedef 5922]
type    = A
movetype= H
physics = N
velset = 0,0

[State , RemoveExplod0]
type = RemoveExplod
trigger1 = time = 0
trigger1 = ishelper

[state haha]
type = destroyself
trigger1 = time = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0
[State 1]
type = ScreenBound
trigger1 = !ishelper
value = 1
movecamera = 1,0

[State 52, 2]
type = PosSet
trigger1 = 1
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5922

[State 3300, Flash]
type = PalFX
trigger1 = Time >= 10
time = 10
add = 30,-40,-140
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 1830]
type = lifeadd
Triggerall = Time >= 30
Trigger1 = timemod = 6,1
value = -(2+(Time >= 70))
kill = 0

[State 1830]
type = SelfState
triggerall = p2name ="Benimaru Nikaido"
trigger1 = p2stateno != [4501,4505]
trigger1 = enemy,movetype= H
value = 0
ctrl = 1

[Statedef 5924]
type    = A
movetype= H
physics = N
velset = 0,0

[State , RemoveExplod0]
type = RemoveExplod
trigger1 = time = 0
trigger1 = ishelper

[state haha]
type = destroyself
trigger1 = time = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0
[State 1]
type = ScreenBound
trigger1 = !ishelper
value = 1
movecamera = 1,0

[State 52, 2]
type = PosSet
trigger1 = 1
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5922

[State 1830]
type = SelfState
triggerall = enemy,name ="Benimaru Nikaido"
triggerall = enemy,stateno != [4501,4505]
trigger1 = enemy,movetype= H&&Time >= 60
value = 0
ctrl = 1
;-----------------------------------------
[Statedef 6610]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
facep2 = 1

[state 2210, pos]
type = PosSet
trigger1 = 1
y = 0

[State 2210, anim]
type = ChangeAnim2
trigger1 = !time
value = 5923

[State 2210, state]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 6611]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
facep2 = 1

[state 2210, pos]
type = PosSet
trigger1 = 1
y = 0

[State 2210, anim]
type = ChangeAnim2
trigger1 = !time
value = 5924

[State 2210, state]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 6612]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
facep2 = 1
sprpriority = 0

[state 2210, pos]
type = PosSet
trigger1 = 1
y = 0

[State 2210, anim]
type = ChangeAnim2
trigger1 = !time
value = 5925

[State 1830]
type = lifeadd
Triggerall = Time >= 12
Trigger1 = timemod = 5,1
value = -(4+(Time >= 30))
kill = 0

[State 2210, state]
type = ChangeState
trigger1 = time >= 302
value = 6613

[Statedef 6613]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1227, life]
type = LifeAdd
trigger1 = time = 0
value = -floor(lifemax/5)
kill = 1
absolute = 1

[State 1227, pal]
type = PalFx
trigger1 = time = 0
time = 60
add = 80,-40,-140
mul = 256,256,256
sinadd = 100,100,100,15
invertall = 1
color = 0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -2.4
y = -14

[State 52, 2]
type = Veladd
trigger1 = time >= 2
y = .5

[State 810,]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2320

[State 1830]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;=======================================================
[Statedef 2010]
type = S
movetype = A
physics = S
anim = 2010
sprpriority = 3
ctrl = 0
velset = 0,0

[State turn]
Type = turn
triggerall = prevstateno = 2301
TriggerAll = Time = 0
Trigger1 = P2Dist X > 0

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 2001
trigger2 = prevstateno = 2002
trigger3 = prevstateno = 2301
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 2001
trigger2 = prevstateno = 2002
trigger3 = prevstateno = 2301
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 2001
trigger2 = prevstateno = 2002
trigger3 = prevstateno = 2301
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 2001
trigger2 = prevstateno = 2002
trigger3 = prevstateno = 2301
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 2001
trigger2 = prevstateno = 2002
trigger3 = prevstateno = 2301
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 2001
trigger2 = prevstateno = 2002
trigger3 = prevstateno = 2301
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 2001
trigger2 = prevstateno = 2002
trigger3 = prevstateno = 2301
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;-----------------------------------------------------------------

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0


[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3500, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s3,8
channel = 1
volume = -10

[State 3500, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 0
movetime = 0
poweradd = -2000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3500,Explod1]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7110
id   = 1351
pos = -28,-88
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3500,Explod2]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7100
id   = 1352
pos = -28,-88
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3710, SFX]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s7,4
volume = 255

[State 3710, Invincibility]
type = NotHitBy
trigger1 = 1
value = ,AP

[State 3710, Bolt1]
type = Explod
trigger1 = AnimElemtime(4) = 2
anim = 2011
id = 2011
ownpal = 1
postype = back
removetime = -2
bindtime = -1
sprpriority = 0
ontop = 0
bindtime = -1
;trans = addalpha
;alpha = 180,256

[State 3710, SFX]
type = PlaySnd
trigger1 = AnimElemtime(4) = 3
value = s11,5
volume = 100

[State 1000, Pause]
type = Pause
triggerall = AnimElemtime(5) <= 0
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

[State 2900, 1]
type = helper
trigger1 = AnimElemtime(5) = 0
id = 2222
persistent = 0
name = "muni"
pos = 0,0
postype = p1
stateno = 2222
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3710, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------
[Statedef 2222]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 2222

[State ]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[state ]
type = hitoverride
trigger1 = 1
attr = SCA,AP
stateno = 2222

[State 2]
type = HitDef
trigger1 = time = 0
trigger2 = movecontact = 5
trigger2 = hitcount <= 14
attr = ,SP,HP
animtype  = hard
damage    = 33,10
getpower = 0,0
guardflag = M
numhits = 1
pausetime = 0,1
guard.pausetime = 1,3
sparkno = s62
sparkxy = -10+random%5,floor(P2BodyDist y)-50+random%15
hitsound   = s-1,0
guard.sparkno = s50
guardsound = s2,4
ground.type = high
Air.Type = High
ground.slidetime = 15
ground.hittime  = 10
ground.velocity = ifelse(enemy,BackEdgeBodyDist <= 10,0,-8),ifelse((statetype = S||statetype = C),0,-6.2)
air.velocity = ifelse(enemy,BackEdgeBodyDist <= 10,0,-8),ifelse((statetype = S||statetype = C),0,-6.5)
fall = ifelse((statetype = S||statetype = C),0,1)
yaccel = .452
air.fall = 1
fall.recover = 0
Fall.RecoverTime = 35
nochainid = 2222

[State 2]
type = HitDef
trigger1 = hitcount = 15
attr = ,SP,HP
animtype  = diagup
damage    = 66,30
getpower = 0,0
guardflag = M
numhits = 1
pausetime = 2,4
guard.pausetime = 2,8
sparkno = s62
sparkxy = -10+random%5,floor(P2BodyDist y)-50+random%15
hitsound   = s-1,0
guard.sparkno = s50
guardsound = s2,4
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -8.5,-9.3
air.velocity = -8.5,-10.5
fall = 1
yaccel = .468
air.fall = 1
fall.recover = 0
id = 2222

[State 1000, Helper]
type = Helper
triggerall = numhelper(9910) <= 0
triggerall = parent,numhelper(9910) <= 0
trigger1 = winKo = 1 && movehit
helpertype = normal
name = "KO Flash"
Id = 9910
stateno = 9910
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[state a]
type = destroyself
trigger1 = hitcount >= 16
trigger2 = root,stateno = 2010&&root,AnimElemtime(8)>=0
trigger3 = root,stateno != 2010
;-----------------------------------------
[Statedef 390]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = -800
velset   = 0,0
anim     = 3900
ctrl     = 0
sprpriority = 4

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = prevstateno = 1210
value = -500
ignorehitpause = 1

[State 183, Bright]
type = PalFX
triggerall = !time
trigger1 = prevstateno = 1210
time = 10
add = 96,96,96
ignorehitpause = 1

[State 1000]
type = PlaySnd
trigger1 = AnimElemtime(2) = 0
value = s7,7

[State -2]
type = Pause
triggerall = p2movetype != H
trigger1 = AnimElemtime(1) = 0
time = 57
movetime = 57
ignorehitpause = 1

[State 1000]
type = varset
triggerall = p2bodydist X >= 55
trigger1 = p2stateno != [5050,5150]
fvar(7) = 22
ignorehitpause=1

[State -2]
type = Pause
triggerall = p2movetype = H
trigger1 = AnimElemtime(1) = 0
time = 67+fvar(7)
movetime = 67+fvar(7)
ignorehitpause = 1

[State 50, 0]
type = AfterImage
trigger1 = AnimElemtime(1)=0
time = 60
length = 20
palinvertall = 0
palcontrast = 256, 256, 256
palbright = 0, 0, 0
palpostbright = -25, 0, 0
paladd = 0, 0, 0
palmul = 1, 1, 1
FrameGap = 2
Trans = add
ignorehitpause = 1

[State 50, 0]
type = AfterImage
trigger1= AnimTime = 0
time = 0

[State 1000]
type = varset
trigger1 = 1
var(11) = 1
ignorehitpause=1

[State 1000]
type = PlaySnd
trigger1 = AnimElemtime(12) = 1
value = s13,11
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(12)=[0,6]
trigger1 = numExplod(4111) < 6
anim = 4140
id = 4111
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 70,100
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(12)=[0,6]
trigger1 = numExplod(4112) < 7
anim = 4130
id = 4112
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 80,120
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !numExplod(1166)
triggerall = !IsHelper
trigger1 = AnimElemtime(12)=0
anim = 1166
pos = 0,0
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 90
bindtime = -1
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
triggerall = var(9) != 0
triggerall = prevstateno = 1210&&p2movetype = H&&(p2statetype = S||p2statetype = C)
trigger1 = AnimTime = 0&&p2bodydist x >= 35
value = 100
ctrl = 0

[State 1001, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------
[Statedef 391]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = -800
velset   = 0,0
anim     = 3900
ctrl     = 0
sprpriority = 4

[State 1000, Voice]
type = poweradd
triggerall = !time
trigger1 = prevstateno = 1210
value = -500
ignorehitpause = 1

[State 183, Bright]
type = PalFX
triggerall = !time
trigger1 = prevstateno = 1210
time = 10
add = 96,96,96
ignorehitpause = 1

[State 1000]
type = PlaySnd
trigger1 = AnimElemtime(2) = 0
value = s7,7

[State -2]
type = Pause
triggerall = p2movetype != H
trigger1 = AnimElemtime(1)=0
time = 57
movetime = 57
ignorehitpause = 1

[State 1000]
type = varset
triggerall = p2bodydist X >= 55
trigger1 = p2stateno!=[5050,5150]
fvar(7) = 22
ignorehitpause=1

[State -2]
type = Pause
triggerall = p2movetype = H
trigger1 = AnimElemtime(1)=0
time = 67+fvar(7)
movetime = 67+fvar(7)
ignorehitpause = 1

[State 50, 0]
type = AfterImage
trigger1=AnimElemtime(1)=0
time = 60
length = 20
palinvertall = 0
palcontrast = 256, 256, 256
palbright = 0, 0, 0
palpostbright = -25, 0, 0
paladd = 0, 0, 0
palmul = 1, 1, 1
FrameGap = 2
Trans = add
ignorehitpause = 1

[State 50, 0]
type = AfterImage
trigger1= AnimTime = 0
time = 0

[State 1000]
type = varset
trigger1 = 1
var(11) = 0
ignorehitpause=1

[State 1000]
type = PlaySnd
trigger1 = AnimElemtime(12) = 1
value = s13,12
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(12)=[0,6]
trigger1 = numExplod(4110) < 6
anim = 4145
id = 4111
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 60,100
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(12)=[0,6]
trigger1 = numExplod(4113) < 6
anim = 4125
id = 4113
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 70,120
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
trigger1 = AnimElemtime(12)=0
anim = 1530
pos = 0,0
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 90
bindtime = -1
ownpal = 1
pausemovetime = 999
ignorehitpause = 1


[State 1000, ChangeState]
type = ChangeState
triggerall = var(9) != 0
triggerall = prevstateno = 1210&&p2movetype = H&&(p2statetype = S||p2statetype = C)
trigger1 = AnimTime = 0&&p2bodydist x >= 35
value = 100
ctrl = 0

[State 1001, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;========================================
[Statedef 376]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 375
ctrl     = 0
sprpriority = 2

[State -2]
type = RemoveExplod
trigger1 = !time
id = -1

[State 1]
type = palfx
trigger1 = !time
time = 1

[State 1]
type = posset
trigger1 = 1
y = 0

[State 1000]
type = PlaySnd
trigger1 = AnimElemtime(2) = 0
value = s7,7

[State 50, 0]
type = AfterImage
trigger1 = AnimElemtime(1) = 0
time = 60
length = 20
palinvertall = 0
palcontrast = 256, 256, 256
palbright = 0, 0, 0
palpostbright = -25, 0, 0
paladd = 0, 0, 0
palmul = 1, 1, 1
FrameGap = 2
Trans = add
ignorehitpause = 1

[State -2]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AT,AP
time = 15
ignorehitpause = 1

[State 50, 0]
type = AfterImage
trigger1= AnimTime = 0
time = 0

[State 1000]
type = PlaySnd
trigger1 = AnimElemtime(12) = 1
value = s13,11
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(12)=[0,6]
trigger1 = numExplod(4111) < 6
anim = 4140
id = 4111
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 70,100
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = AnimElemtime(12)=[0,6]
trigger1 = numExplod(4112) < 7
anim = 4130
id = 4112
pos = 0,-60
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 99
bindtime = 1
random = 80,120
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, explods]
type = Explod
triggerall = !IsHelper
trigger1 = AnimElemtime(12)=0
anim = 1166
pos = 0,0
facing = ifelse(random%2,-1,1)
postype = p1
sprpriority = 90
bindtime = -1
ownpal = 1
pausemovetime = 999
ignorehitpause = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElemtime(7) = 2
value = s13,10

[State 3000, Projectile]
type = Projectile
trigger1 = AnimElemtime(7) = 1
projID = 2253
projanim = 2253
projremove = 0
projpriority = 4
projsprpriority = 4
projremovetime = 36
projhits = 9
postype = p1
offset = -2,-2
getpower = 15,4
velocity = 0
attr = A, HA
animtype = diagup
damage = 12,5
hitflag = MAFP
guardflag = M
hitsound = s1,4
guardsound = s2,4
pausetime = 1,5
sparkno = s4130
guard.sparkno = s50
sparkxy = -15+random%30,floor(-(75+random%30)+(enemynear, pos y))
ground.type = High
ground.slidetime = 12
ground.hittime = 8
ground.velocity = -2,-9
envshake.time = 15
envshake.ampl = 5
envshake.freq = 120
envshake.phase = 120
air.animtype = Diagup
air.velocity = -2,-9
fall.recover = 0
fall = 1
yaccel = .5
ownpal = 1
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
ground.cornerpush.veloff = 0
trans = addalpha
alpha = 100, 256

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
[Statedef 377]
type = A
movetype = A
physics = N
anim = 1130
sprpriority = 2
ctrl = 0
juggle = 1
velset = -2,-6

[State -2]
type = RemoveExplod
trigger1 = !time

[State 1]
type = palfx
trigger1 = !time
time = 1

[State -2]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AT,AP
time = 30
ignorehitpause = 1

[State 1600, Lightning]
type = Explod
trigger1 = time = 1;animtime = -1
anim = 1081;1620
id = 1620
ownpal = 1
sprpriority = 4
postype = p1
pos = 32,-20;56,0
bindtime = 1
removeongethit = 1

[State 1600, Lightning]
type = Explod
trigger1 = time = 2
anim = 1115
id = 1620
ownpal = 1
sprpriority = 3
postype = p1
pos = -22,-36
bindtime = 1
removeongethit = 1

[State 1130, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .5

[State 1130, SFX]
type = PlaySnd
trigger1 = time = 0
value = s13,5

[State 1135, HitDef1]
type = HitDef
triggerall = ifelse(p2movetype = H, (p2stateno != [3300,3315]),1)
trigger1 = AnimElem = 1
attr = A, SA
damage = 86,10
animtype = Back
guardflag = M
hitflag = MAFP
air.juggle = 14
priority = 3, Hit
pausetime = 10,12
poweradd = 30,20
p2getp1stateno = 1
p2stateno = 3300
sparkno = s62
guard.sparkno = s50
sparkxy = -20,-92
hitsound = S13,3;2,2
guardsound = S2,4
ground.type = High
ground.slidetime = 25
ground.hittime = 27
ground.velocity = -13, -3
air.velocity = -13,-3
fall.yvelocity = -3.4
yaccel = .45
fall = 1
fall.recovertime = 35
palfx.time = 65
palfx.color = 0;64
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
getpower = 36,36
givepower = 16,16

[State 1130, Move]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = 4

[State 1000, p2GCRUSH]
type = targetstate
triggerall = moveguarded
trigger1 = p2statetype != A
persistent = 0
ignorehitpause = 1
value = 5255
ctrl = 0

[State 1130, Landing]
type = ChangeState
triggerall = vel y > 0
trigger1 = pos y >= 0
value = 1140
;==========================================
;-----------------------------------------
[Statedef 2300]
type = S
movetype = A
physics = S
anim = 1900
poweradd = 10
velset = 0
ctrl = 0
facep2 = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 3000, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s3,6
channel = 1

[State 3000, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 0
movetime = 28
poweradd = -1000
time = 28
anim = -1
p2defmul = 0
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 1, = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = animelem = 1, = 0
time = 30
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3000,Explod1]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7000
id   = 1351
pos = -8,-65
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3000,Explod2]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7010
id   = 1352
pos = -8,-65
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 2000]
type = NotHitBy
Trigger1 = Time = 0
value = SCA,AA,AT,AP
time = 31

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 2
id = 1900
anim = 9997
pos = -42,-58
postype = p1
sprpriority = 2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
ontop = 1

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 2
id = 1900
anim = 315
pos = 2,2
postype = p1
sprpriority = -2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,6

[State 1300]
type = ChangeState
triggerall = var(9) != 0 
trigger1 = AnimElemtime(2) >= 26&&((var(35) = [2,3])||(((p2movetype = H||enemynear,movetype = H)&&P2statetype != L)||prevstateno = [1000,1210]))
trigger2 = AnimTime = 0
value = 2301

[State 1302]
type = ChangeState
triggerall = var(9) = 0 || (var(9)!= 0&&(AnimTime = 0||fvar(30)||fvar(10)||var(35)))
trigger1 = command != "holda" && AnimElemtime(2) >= 25 
trigger2 = command = "holda" && AnimTime = 0
value = 2301

[Statedef 2301]
type = S
movetype = A
physics = S
anim = 2300
poweradd = 0
velset = 0
ctrl = 0
juggle = 8
facep2 = 1

[State 855, Turn]
type = Turn
triggerall = !time
trigger1 = p2dist x < 0

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 1
id = 99
anim = 316
pos = 2,2
postype = p1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 1900

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 2,>=0 || MoveGuarded
Value = 0

[State 2100]
type = Width
Trigger1 = (animelem = 3,>=0 && animelem = 4,<0)
edge = 10,0

[State 2100]
type = VelSet
Trigger1 = animelem = 3,>=0 && animelem = 4,<0
x = 15

[State 2100]
type = VelAdd
Trigger1 = animelem = 4,>=0
x = -1

[State 2100]
type = VelSet
Trigger1 = Vel X <= 0
x = 0

[State 2100]
type = PlayerPush
Trigger1 = (animelem = 3,>0 && animelem = 4,<0)
value = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 48
length = 20;11;7
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 4
Trans = add1

[State 3910, Dash Spark]
type = Explod
trigger1 = Animelemtime(3) = 0
anim = 2303
id = 2303
sprpriority = 2
postype = p1
pos = -10,10
bindtime = -1
supermove = 1
removetime = -1
removeongethit = 1
ownpal = 1
ontop = 1
scale = 1.2,1.3

[State 2200, 7]
type = Explod
trigger1 = AnimElemtime(3) = 0
anim = 1125
pos = -12,-80
postype = p1
sprpriority = 3
removetime = -2
;supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
scale = 1.1,1.1

[State 2100]
type = Explod
Trigger1 = MoveHit
anim = 4147
sprpriority = 5
postype = p2
pos = 0,-50
vel = 0,-.5
bindtime = 1
supermove = 1
under = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
pausemovetime = 10
supermovetime = 10

[State 2100]
type = PlaySnd
Trigger1 = MoveHit
value = s1,3
volume = 0
ignorehitpause = 1
persistent = 0

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s8,14
volume = 0

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 4
ID = 2303

[State 2100]
type = HitDef
Trigger1 = !MoveContact
attr = S, HA
animtype  = up
air.animtype  = up
damage    = 250,10
hitflag = MAFP
guardflag = MA
getpower = 0,0
givepower = 20,0
pausetime = 0,0
guard.pausetime = 0,0
sparkno = s62
guard.sparkno = S50
sparkxy = -25,-50
hitsound   = s1,4
guardsound = s2,4
ground.type = High
ground.slidetime = 18
ground.hittime  = 5
ground.velocity = -3,-13.2
air.velocity = -3,-13.2
airguard.velocity = -3,-5
guard.slidetime = 22
guard.hittime  = 12
guard.velocity = -9.4
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.54
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0

[State 2100]
type = envshake
Trigger1 = MoveHit = 1
ampl = 12
time = 16

[State -1]
type = ChangeState
value = 2010
triggerall = movehit
trigger1 = power >= 2000 && command = "RaikoukenX"

[State 1302, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------
[Statedef 2400]
type = S
movetype = A
physics = S
anim = 1900
poweradd = 10
velset = 0
ctrl = 0
facep2 = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
flag = nojugglecheck


[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 2301
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;-----------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
;=========================================

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3500, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s3,8
channel = 1
volume = -10

[State 3500, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 0
movetime = 32
poweradd = -2000
time = 32
anim = -1
p2defmul = 1
darken = 0

[State 3500,Explod1]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7110
id   = 1351
pos = -8,-65
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3500,Explod2]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7100
id   = 1352
pos = -8,-65
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 2000]
type = NotHitBy
Trigger1 = Time = 0
value = SCA;,AA,AT,AP
time = 30

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 2
id = 1900
anim = 9997
pos = -42,-58
postype = p1
sprpriority = 2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
ontop = 1
;scale = 1.2,1.2
;facing = -1

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 2
id = 1900
anim = 315
pos = 2,2
postype = p1
sprpriority = -2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,6

[State 1302, 3]
type = ChangeState
trigger1 = command != "holdc" && AnimElem = 2,>=35 && ((!var(9))||(var(9)!=0&&prevstateno != [1000,1210]))
trigger2 = command = "holdc" && AnimTime = 0 && ((!var(9))||(var(9)!=0&&prevstateno != [1000,1210]))
trigger3 = var(9) = 1 && AnimElem = 2,>=50&&((var(35) = [2,3])||(p2movetype = H&&P2statetype != a)||(movehit&&prevstateno = [1000,1210]))
value = 2401

[Statedef 2401]
type = S
movetype = A
physics = S
anim = 2301
poweradd = 0
velset = 0
ctrl = 0
juggle = 8
facep2 = 1

[State -2]
type = Pause
triggerall = AnimElemtime(3) <= 1
triggerall = p2movetype = H
trigger1 = timemod = 5,1
time = 1
movetime = 1
ignorehitpause = 1

[State 855, Turn]
type = Turn
triggerall = !time
trigger1 = p2dist x < 0

[State 1000, Explod]
type = Explod
trigger1 = animelemtime(1)=0
anim = 3251
pos = -10,2
postype = p1
bindtime = 1
removetime = -2
scale = 1,1
ownpal = 1
ontop = 1
sprpriority = 8
ignorehitpause = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(1)=1
value = S13,11
persistent = 9

[State 3910, Dash Spark]
type = Explod
trigger1 = Animelemtime(4) = 0
anim = 2303
id = 2303
sprpriority = 2
postype = p1
pos = -10,10
bindtime = -1
supermove = 1
removetime = -1
removeongethit = 1
ownpal = 1
ontop = 1
scale = 1.2,1.3

[State 3000]
type = Projectile
trigger1 = animelemtime(1)=2
projID = 3200
projanim = 3252
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 42
getpower = 0
ownpal = 1
offset = -10, 2
velocity = 0, 0
attr = S, HP
animtype = Hard
damage = 40,5
hitflag = MA
guardflag = MA
hitsound = s1,4
guardsound = s2,4
pausetime = 0,2
sparkno = s62
guard.sparkno = s50
sparkxy = (floor(p2bodydist X)),-65 + (floor(p2bodydist Y))
ground.type = High
ground.hittime = 36
ground.slidetime = 30
ground.velocity = -12
air.velocity = -3, -5
air.juggle = 0
yaccel = .35
air.fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 114, 7]
type = Explod
trigger1 = AnimElem = 2
anim = 2015
ID = 90
sprpriority = 3
removetime = -1
postype = p1
pos = -10,-10
ontop = 1
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 1000]
type = Helper
trigger1 = AnimElemtime(1) = 5
trigger2 = AnimElemtime(1) = 10
trigger3 = AnimElemtime(1) = 15
trigger4 = AnimElemtime(1) = 25
trigger5 = AnimElemtime(1) = 35
trigger6 = AnimElemtime(3) = 5
stateno = 2402
ID = 2402
helpertype = Player
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 0
ignorehitpause = 1

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 2
id = 99
anim = 316
pos = 2,2
postype = p1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1

[State 9000, 1]
type = PalFX
trigger1 = AnimElemtime(6) <= 2
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 1,20
ID = 1900

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 5,5
ID = 90

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 5
ID = 2303

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 3,>=0 || MoveGuarded
Value = 0

[State 2100]
type = VelSet
Trigger1 = animelem = 4,>=0 && animelem = 5,<0
x = 12

[State 2100]
type = VelAdd
Trigger1 = animelem = 5,>=0
x = -1

[State 2100]
type = VelSet
Trigger1 = Vel X <= 0
x = 0

[State 2100]
type = PlayerPush
Trigger1 = (animelem = 4,>0 && animelem = 5,<0)
value = 0

[State 2100]
type = AfterImage
Trigger1 = animelem = 2
time = 48
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2200, 7]
type = Explod
trigger1 = AnimElemtime(4) = 0
anim = 1125
pos = -12,-80
postype = p1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 1.1,1.1

[State 2100]
type = Explod
Trigger1 = MoveHit
anim = 4147
sprpriority = 5
postype = p2
pos = 0,-50
vel = 0,-.5
bindtime = 1
supermove = 1
under = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
pausemovetime = 10
supermovetime = 10

[State 2100]
type = PlaySnd
Trigger1 = MoveHit
value = s1,3
volume = 0
ignorehitpause = 1
persistent = 0

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = s8,14
volume = 0

[State 2100]
type = HitDef
Trigger1 = AnimElem = 4
attr = S, HA
animtype  = up
air.animtype  = up
damage    = 120,30
hitflag = MAFP
guardflag = M
getpower = 0,0
givepower = 10,0
pausetime = 2,4
guard.pausetime = 5,12
sparkno = s62
guard.sparkno = S50
sparkxy = -25,-50
hitsound   = s1,4
guardsound = s2,4
ground.type = High
ground.slidetime = 38
ground.hittime  = 25
ground.velocity = -3,-11
air.velocity = -3,-11
airguard.velocity = -3,-5
guard.velocity = -9.4
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.35
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0
p2stateno = 9000

[State 2100]
type = envshake
Trigger1 = MoveHit = 1
ampl = 12
time = 16

[State 1302, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------
[Statedef 2402]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2302
ctrl     = 0
facep2 = 1
sprpriority = 0

[State 114, 7]
type = Explod
trigger1 = AnimElem = 1
anim = 2015
sprpriority = 3
removetime = -2
postype = p1
pos = -10,-10
ontop = 1
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 3910, Dash Spark]
type = Explod
trigger1 = Animelemtime(2) = 0
anim = 2303
id = 232
sprpriority = 2
postype = p1
pos = -10,10
bindtime = -1
supermove = 1
removetime = -1
removeongethit = 1
ownpal = 1
ontop = 1
scale = 1.2,1.3

[State -2, 0]
type = RemoveExplod
trigger1 = AnimElem = 3
ID = 232

[State 9000, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 2100]
type = envshake
Trigger1 = MoveHit = 1
ampl = 12
time = 16

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 2,>=0 || MoveGuarded
Value = 0

[State 2200, 7]
type = null;Explod
trigger1 = AnimElemtime(2) = 0
anim = 1125
pos = -12,-80
postype = p1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 1.1,1.1

[State 2100]
type = AfterImage
Trigger1 = animelem = 1
time = 48
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 1
id = 99
anim = 316
pos = 2,2
postype = p1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1

[State 170]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2100]
type = VelSet
Trigger1 = animelem = 2,>=0 && animelem = 3,<0
x = 12

[State 2100]
type = VelAdd
Trigger1 = animelem = 3,>=0
x = -1

[State 2100]
type = VelSet
Trigger1 = Vel X <= 0
x = 0

[State 2100]
type = PlayerPush
Trigger1 = (animelem = 2,>0 && animelem = 3,<0)
value = 0

[State 1000, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
damage = 62,7
animtype = hard
guardflag = M
hitflag = MAF
priority = 8, Hit
pausetime = 8,12
guard.pausetime = 12,16
sparkno = s62
guard.sparkno = S50
sparkxy = -25,-70
hitsound   = s1,4
guardsound = s2,4
ground.type = low
ground.slidetime = 28
ground.hittime  = 22
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = 0,-4
air.hittime = 12
air.fall = 1
air.recover = 0
fall.recover = 0
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
p2stateno = 9000

[State 2100]
type = Explod
Trigger1 = MoveHit
anim = 4147
sprpriority = 5
postype = p2
pos = 0+random%8,-50+random%18
vel = 0,-.5
bindtime = 1
supermove = 1
under = 0
ownpal = 1
scale = .85,.85
ignorehitpause = 1
persistent = 0
pausemovetime = 10
supermovetime = 10

[State 2100]
type = PlaySnd
Trigger1 = MoveHit
value = s1,3
volume = 0
ignorehitpause = 1
persistent = 0

[State -2,]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 150
trigger1 = movehit
anim = 4130
pos = -20,-40
postype = p2
sprpriority = 6
bindtime = 1
random = 80,60
ownpal = 1

[State 1001]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent,stateno != 2401
;--------------------------------------------
[Statedef 9000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 9000, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9000, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 9000, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 9000, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 9000, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 9000, 6]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 9000, 7]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 9001

[State 9000, 8]
type = ChangeState
trigger1 = HitShakeOver
value = 9030

[State 9000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 9000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 9000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[Statedef 9001]
type    = S
movetype= H
physics = S

[State 9001, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9001, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 9001, 3]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 9001, 4]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 9001, 5]
type = VelSet
trigger1 = HitOver
x = 0

[State 9001, 6]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 9001, 7]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1

[Statedef 9010]
type    = C
movetype= H
physics = N
velset = 0,0


[State 9010, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9010, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 9010, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 9010, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 9010, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 9010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 9011

[State 9010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 9030

[State 9010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 9010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 9010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[Statedef 9011]
type    = C
movetype= H
physics = C


[State 9011, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9011, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 9011, 3]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 9011, 4]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 9011, 5]
type = VelSet
trigger1 = HitOver
x = 0

[State 9011, 6]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 9011, 7]
type = SelfState
trigger1 = HitOver
value = 11
ctrl = 1

[Statedef 9020]
type    = A
movetype= H
physics = N
velset = 0,0


[State 9020, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9020, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 9020, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 9020, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype)

[State 9020, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 9020, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 9030

[State 9020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 9020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 9020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[Statedef 9030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 9030, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 9030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 9030, 4]
type = SelfState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 5040

[State 9030, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 9050

[State 9030, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 9035

[Statedef 9035]
type    = A
movetype= H
physics = N

[State 9035, 1]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9035, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059]
trigger1 = Anim != 5090
value = 5035

[State 9035, 3]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 9035, 4]
type = SelfState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = Time = 0
trigger4 = Anim != 5035
value = 5040

[State 9035, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = Time = 0
trigger4 = Anim != 5035.
value = 9050

[Statedef 9050]
type    = A
movetype= H
physics = N

[State 9050]
type = PalFX
trigger1 = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1

[State 9050, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090
value = 5050

[State 9050, 3]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 9050, 4]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 9050, 5]
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200

[State 9050, 6]
type = SelfState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210

[State 9050, 7]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 29000
;--------------------------------------------------------------
[Statedef 29000]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 15110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 15101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 15101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 15110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 15110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 11] ;If just died
type = ChangeState
triggerall = alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 15120

[State a]
type = null;ChangeState
triggerall = alive
trigger1 = AnimTime = 0
trigger1 = anim = [5120,5122]
value = 15120

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[Statedef 15120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 29020
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 29020]
type = S
movetype = I
physics = S

[State a]
type = Turn
Triggerall = 1
trigger1 = (enemynear,Pos X - Pos X) * facing < 0

[State a]
type = ChangeAnim
trigger1 = Time = 0
value = 5300

[State a]
type = HitFallSet
trigger1 = Time = 0
value = 0
xvel = 0
yvel = 0

[State a]
type = SelfState
trigger1 = Time = 220
value = 0
ctrl = 1
;======================================================
[Statedef 3350]
type    = S
movetype= A
physics = N
juggle  = 2
poweradd= -2000
velset = 0,0
anim = 3350
ctrl = 0
sprpriority = 3

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
flag = nojugglecheck

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;------------------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3500, SparkSound]
type = PlaySnd
trigger1 = animelem = 1, = 0
value = s3,8
channel = 1
volume = -10

[State 3500, Super Pause]
type = SuperPause
trigger1 = animelem = 1, = 0
movetime = 28
poweradd = -2000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3500,Explod1]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7110
id   = 1351
pos = -22,-65
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3500,Explod2]
type = Explod
trigger1 = animelem = 1, = 0
anim = 7100
id   = 1352
pos = -22,-65
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = 0
value = SCA
time = 32

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s8,9
volume = 255

[State 2100]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
trigger5 = AnimElem = 13
x = 23

[State 2100]
type = VelAdd
trigger1 = animelem = 6
trigger2 = animelem = 8
trigger3 = animelem = 10
trigger4 = animelem = 12
trigger5 = animelem = 14,1
x = -1

[State 2100]
type = VelSet
trigger1 = animelem = 14,3
x = 0

[State -2]
type = playerpush
trigger1 = animelem = 15,<= 0
value = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 2
length = 20;11;7
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 3000, fterimagetime]
type = Afterimagetime
triggerall = animelemtime(1) >= 1
trigger1 = gametime%2 = 0
time = 2

[State 2100]
type = envshake
trigger1 = AnimElem = 6
trigger2 = AnimElem = 8
trigger3 = AnimElem = 10
trigger4 = AnimElem = 12
time = 4
ampl = 10;12
ampl = -5
time = 14;16

[State turn]
Type = turn
trigger1 = animelem = 6
trigger2 = animelem = 8
trigger3 = animelem = 10
trigger4 = animelem = 12

[State 1000, explods]
type = Explod
triggerall = !IsHelper
triggerall = p2movetype = H
triggerall = timemod = 8, 1
trigger1 = movehit
anim = 4130
pos = 0,-36
facing = ifelse(random%2,1,-1)
postype = p2
sprpriority = 99
bindtime = 1
random = 50,62
ownpal = 1
ignorehitpause = 1

[State 3000, Hitdef1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
attr = S, HA
sprpriority = 2
air.juggle = 3
animtype =hard
pausetime = 0,2
damage = 46,5
sparkno = s62
guard.sparkno = s50
sparkxy = -16,-65+(random%5)
hitsound = S1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 22
ground.hittime = 20
fall = 1
;fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
getpower = 0,0
givepower = 15,15
p2facing = 1
p2stateno = 5610
guard.velocity = -12
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3000, Hitdef1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 11
attr = S, HA
sprpriority = 2
air.juggle = 3
animtype = hard
pausetime = 0,2
damage = 62,10
sparkno = s62
guard.sparkno = s50
sparkxy = -16,-65+(random%5)
hitsound = S1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 22
ground.hittime = 20
fall = 1
;fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
getpower = 0,0
p2facing = 1
givepower = 15,15
p2stateno = 5611
guard.velocity = -12
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3000, Hitdef2]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
sprpriority = 2
air.juggle = 3
animtype = hard
pausetime = 1,5
damage = 70,15
sparkno = s62
guard.sparkno = s50
sparkxy = -16,-57+(random%2)
hitsound = S1,4
guardsound = S2,4
hitflag = MAFP
guardflag = M
ground.slidetime = 22
ground.hittime = 18
fall = 1
;fall.recovertime = 35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5
p2facing = 1
getpower = 20,10
p2stateno = 5610
givepower = 15,15
guard.velocity = -12
palfx.time = 60
palfx.color = 0
palfx.invertall = 1
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10

[State 3300, CS]
type = ChangeState
triggerall = !movehit
triggerall = AnimElem = 13
trigger1 = AnimElem = 15,<=1
value = 3816
ctrl = 0

[State 2900, 1]
type = helper
trigger1 = AnimElemtime(22) = 1
id = 2022
persistent = 0
name = "mui"
pos = 0,0
postype = p2
stateno = 2022
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3300, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;;;;;;;;;;;
[Statedef 5610]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
facep2 = 1

[state 2210, pos]
type = PosSet
trigger1 = 1
y = 0

[State 2210, anim]
type = ChangeAnim2
trigger1 = !time
value = 5823

[State 2210, state]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 5611]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
facep2 = 1

[state 2210, pos]
type = PosSet
trigger1 = 1
y = 0

[State 2210, anim]
type = ChangeAnim2
trigger1 = !time
value = 5824

[State 2210, state]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1
;=========================================
[Statedef 3660]
type    = S
movetype= A
physics = N
juggle  = 2
poweradd= -2000
velset = 0,0
anim = 3600
ctrl = 0
sprpriority = 3

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = p2movetype = H
time = 1
movetime = 1
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 3000||prevstateno = 3101
trigger2 = prevstateno = 3050
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 3101
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 3101
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 3101
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 3101
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 3101
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000||prevstateno = 3101
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 3500, SparkSound]
type = PlaySnd
trigger1 = animelem = 2, = 0
value = s3,8
channel = 1
volume = -10

[State 3500, Super Pause]
type = SuperPause
trigger1 = animelem = 2, = 0
movetime = 28
poweradd = -2000
time = 28
anim = -1
p2defmul = 1
darken = 0

[State 3500,Explod1]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7110
id   = 1351
pos = -28,-75
postype = p1
supermove = 1
sprpriority = 1
bindtime = 1
ontop = 1
ownpal = 1

[State 3500,Explod2]
type = Explod
trigger1 = animelem = 2, = 0
anim = 7100
id   = 1352
pos = -28,-75
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
ontop = 0
ownpal = 1

[State 3000, NOTHITBY]
type = Nothitby
trigger1 = time = 0
value = SCA
time = 32

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s8,9
volume = 255

[State 2100]
type = VelSet
trigger1 = animelem = 5
x = 12

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 5
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
triggerall = animelemtime(5) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 1201, pos]
type = PosAdd
trigger1 = animelemtime(5) >= 0
x = 8.9

[State a]
type = notHitby
trigger1 = AnimElemtime(5) <= 18
value = ,NA,SA,NP,SP
time = 1
ignorehitpause = 1

[State 220, 2]
type = HitDef
trigger1 = time = 0
attr = S,HA
damage = 0,10
animtype = medium
hitflag = MAFL
guardflag = M
sparkno = s60
guard.sparkno = s50
sparkxy = -15,-40
hitsound = S1,1
guardsound = s2,4
pausetime = 0,2
air.juggle = 0
getpower = 0
ground.hittime = 14
ground.type = low
ground.slidetime = 14
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p1stateno = 3661
p2stateno = 5610
kill = 0

[State 3810, State]
type = ChangeState
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3816
ctrl = 0

[Statedef 3661]
type = S
movetype = A
physics = S
anim = 3601
velset = 0
ctrl = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 4
length = 14;7
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 3000, fterimagetime]
type = Afterimagetime
triggerall = animelemtime(1) >= 1
trigger1 = gametime%2 = 0
time = 2

[State 3005, width]
type = width
trigger1 = 1
edge = 50

[State 200, 1]
type = null;PlaySnd
trigger1 = AnimElem = 7
value = s12,1

[State 220, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 10
attr = ,NA
damage = 16,2
animtype = medium
hitflag = MAF
guardflag = M
sparkno = s62
guard.sparkno = s50
sparkxy = -30,-60
hitsound = S1,1
guardsound = s2,4
pausetime = 0,0
getpower = 0
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 5610
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 6
trigger2 = animelem = 14
trigger3 = animelem = 19
trigger4 = animelem = 32
attr = ,SA
damage = 26,10
animtype = medium
hitflag = MAF
guardflag = M
sparkno = s62
guard.sparkno = s50
sparkxy = -30,-60
hitsound = S1,2
guardsound = s2,4
pausetime = 0,0
getpower = 0
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 5610
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 25
trigger2 = animelem = 37
attr = ,NA
damage = 22,10
animtype = medium
hitflag = MAF
guardflag = M
sparkno = s62
guard.sparkno = s50
sparkxy = -25,-83
hitsound = S1,4
guardsound = s2,4
pausetime = 0,0
ground.hittime = 17
getpower = 0
ground.type = high
ground.slidetime = 17
ground.velocity = 0
air.velocity = -3,-4
snap = 40,0,0
p2stateno = 5611
kill = 0
p2facing = 1

[State 220, 2]
type = HitDef
trigger1 = animelem = 46
attr = ,NA
damage = 48
animtype = medium
hitflag = MAF
guardflag = M
sparkno = s62
guard.sparkno = s50
sparkxy = -12,-65
hitsound = s1,3
guardsound = s2,4
pausetime = 2,5
ground.hittime = 26
ground.type = high
getpower = 0
ground.slidetime = 26
ground.velocity = -6
air.velocity = -7
snap = 40,0,0
p1stateno = 3662
p2stateno = 5610
kill = 0
p2facing = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------
[Statedef 3662]
type = S
ctrl = 0
anim = 3602

[State 13]
type = TargetBind
trigger1 = animelemtime(1) = 1
pos = 65, 0

[State 13]
type = TargetBind
trigger1 = animelemtime(1) = 2
pos = 75, 0

[State 13]
type = TargetBind
trigger1 = animelemtime(1) = 3
pos = 85, 0

[State 13]
type = TargetBind
trigger1 = animelemtime(1) = 5
pos = 95, 0

[State 3818, State]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3663
ctrl = 0
;-------------------------
;Spark Dash Stop Hit
[Statedef 3663]
type = S
movetype = A
physics = S
anim = 3825
sprpriority = 2
velset = 2,0
ctrl = 0
juggle = 0

[State -2]
type = trans
trigger1 = animelem = 1
trans = add

[State 3818, AfterImage]
type = null;AfterImage
trigger1 = time = 0
time = 10
trans = add1
timegap = 2
framegap = 1
length = 2;5
PalBright = 0, 0, 0
PalContrast =  150,150,150
PalAdd = 0, 0, 0
PalMul = 1,1,1

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add
length = 20;7
PalBright = 0,0,0
PalContrast = 256,256,256
PalAdd = 0,0,0
PalMul = 1,1,1
FrameGap = 3

[State 3818, State]
type = playerpush
trigger1 = Animelem = 3, <= 0
ignorehitpause = 1
value = 0

[State 3825, Posadd]
type = veladd
trigger1 = animelem = 1
x = 39
y = 0

[State 3825, Posadd]
type = velset
trigger1 = animelem = 2
x = 0
y = 0

[State 3825, Voice2]
type = PlaySnd
trigger1 = Animelem = 3, = 15
value = s8,10
channel = 0
volume = 40
supermove = 1

[State 3825, SFX]
type = PlaySnd
trigger1 = Animelem = 3, = 14
value = s13,11;3, 5
supermove = 1

[State 3825, DarkBG]
type = BgPalFX
trigger1 = animelem = 3
time = 36
color = 64
add = 0,0,0
mul = 0,00,0

[State 3825, Projectile]
type = Projectile
trigger1 = Animelem = 3, = 15
projid = 3821
projanim = 4147;3821
projhitanim = 4147;3821
projremoveanim = 3821
projremovetime = 12
projsprpriority = 1
postype = p2
;air.juggle = 1
offset = 30,-20
getpower = 0,0
velocity = 0,0
projhits = 1
attr = S, HP
animtype = hard
damage = 180,25
p2stateno = 3830
p2getp1stateno = 1
pausetime = 0,31
sparkno = s4130
guard.sparkno = 40
sparkxy = 0,-54
hitsound = S13,3
guardsound = S2,0
getpower = 0,0
hitflag = MAFP
guardflag = MA
guard.velocity = 0
guard.slidetime = 20
guard.hittime = 40
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
yaccel = .5
fall = 1
fall.recovertime = 35
pausemovetime = 10
supermovetime = 10

[State 3825, Bilog Spark]
type = Explod
trigger1 = Animelem = 3, = 14
anim = 4135
sprpriority = 3
postype = p1
pos = 17,-31
bindtime = 1
supermove = 1
removetime = -2;23
ownpal = 1

[State 3825, Bilog Spark]
type = Explod
trigger1 = Animelem = 3, = [13,17]
anim = 4125
sprpriority = 3
postype = p1
random = 20,20
pos = 17,-31
bindtime = 1
supermove = 1
removetime = -2;23
ownpal = 1

[State 3825, Hit Spark]
type = Explod
trigger1 = projhit(3821) >= 1
persistent = 0
ignorehitpause
anim = 4130;4020
sprpriority = 3
postype = p2
pos = 0,-61
bindtime = 1
supermove = 1
ownpal = 1

[State 3825, NH]
type = Nothitby
trigger1 = 1
ignorehitpause = 1
value = SCA

[State 3825, Color]
type = EnvColor
trigger1 = projhit(3821) >= 1
value = 255, 255, 255
time = 1

[State 3825, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;======================================================
;================================================
[Statedef 3740]
type = S
movetype = A
physics = S
anim = 1301
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = -1500
juggle = 0

[State ]
type = turn
trigger1 = !time
triggerall = p2dist x < 0
;----------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

;---------------------------------------------
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;-----------------------------------------
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7540
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1
;-------------------------------------------
[State 3200, Voice]
type = PlaySnd
trigger1 = time = 2
value = s5,1
channel = 0

[State 3200, NOTHITBY]
type = Nothitby
trigger1 = animelemtime(4) <= 0
value = SCA
time = 2
ignorehitpause = 1

[State 3200, HitDef]
type = HitDef
triggerall = var(5) <= 0
triggerall = p2statetype != A;&& p2bodydist x < 32
trigger1 = prevstateno != 3000
trigger2 = prevstateno != 3050
trigger3 = prevstateno != 3500
attr = S,NT,ST,HT,AT
animtype = hard
guard = 0
hitflag = M
priority = 3, Miss
poweradd = 20,5
p1stateno = 3745
p2stateno = 3227
p2getp1stateno = 1
p2facing = 1
sparkno = -1
sparkxy = -25,-83
hitsound = -1
guardsound = S2,4
ground.type = High
air.animtype = Low
fall = 1

[State 3200, HitDef]
type = HitDef
triggerall = var(5) <= 0
;triggerall = time = 1
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
trigger3 = prevstateno = 3500
attr = S,NT,ST,HT,AT
animtype = hard
guard = 0
hitflag = MAF
priority = 3, Miss
poweradd = 20,5
p1stateno = 3745
p2stateno = 3227
p2getp1stateno = 1
p2facing = 1
sparkno = -1
sparkxy = -25,-83
hitsound = -1
guardsound = S2,4
ground.type = High
air.animtype = Low
fall = 1

[State 3200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3745]
type = S
movetype = A
physics = S
anim = 3230
sprpriority = 3
ctrl = 0
velset = 0,0
;------------------------------------------
[state a]
type = Helper
trigger1 = animelem = 3
id = 11110
name = "annte0nn"
pos = 0,0
postype = back
stateno = 11110
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
[state a]
type = Helper
trigger1 = animelem = 3
id = 11112
name = "annt1enn"
pos = 0,0
postype = back
stateno = 11112
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 3200, Voice]
type = PlaySnd
trigger1 = animelemtime(3) = 1
value = s7,3
channel = -1
;----------------------------------------
[State 2000, Explod]
type = Explod
trigger1 = animelemtime(3) = 0
anim = 7120
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
ownpal = 1
supermove = 1
sprpriority = -2
[State 2000, Explod]
type = Explod
trigger1 = animelemtime(3) = 0
anim = 7125
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
ownpal = 1
sprpriority = 9
[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 40
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256
[State 3200, Super Pause]
type = SuperPause
trigger1 = animelemtime(3) = 0
movetime = 12
poweradd = -1500
time = 46
anim = -1
sound = s11,1
p2defmul = 1
darken = 0
;----------------------------------------
[State 3210, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State a]
type = Reversaldef
triggerall = numtarget > 0
trigger1 = animelemtime(7) < 0
reversal.attr = SCA,AA,AT,AP
pausetime = 10,10
sparkno = s-1
hitsound = s-1
ignorehitpause = 1

[State a]
type = targetstate
Triggerall = numtarget > 0
triggerall = p2stateno != 3227 
triggerall = movetype = H
trigger1 = animelemtime(7) < 0
value = 3227
ignorehitpause = 1

[State a]
type = targetstate
Triggerall = numtarget > 0
triggerall = p2stateno != 2320 
triggerall = movetype = H
trigger1 = animelemtime(8) = [0,1]
value = 2320
ignorehitpause = 1

[State 3210, Color]
type = EnvColor
trigger1 = gametime%10 = 0 && time > 25 && animelem = 6 < 0
value = 255, 255, 255
time = 1

[State 3210, Move]
type = PosAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 16

[State 3210, Bind1]
type = TargetBind
trigger1 = animelem = 3, < 0
pos = 28,0

[State 3210, Bind2]
type = TargetBind
trigger1 = animelem = 3, >= 0 && animelem = 4, < 0
pos = 4,-20

[State 3210, Bind3]
type = TargetBind
trigger1 = animelem = 4, >= 0 && animelem = 5, < 0
pos = 0,0

[State 3210, Bind4]
type = TargetBind
trigger1 = animelem = 5, >= 0 && animelem = 6, < 0
pos = 8,0

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 6, >= 0 && animelem = 7, < 0
pos = -4,-45;2, -130

[State 3210, Bind5]
type = TargetBind
trigger1 = animelem = 7, >= 0 && animelem = 8, < 0
pos = -16,-44

[State 3210, Bind6]
type = TargetBind
trigger1 = animelem = 8, = 0
pos = 31,-39

[State 2200, 7]
type = Explod
trigger1 = AnimElem = 3
id = 3240
anim = 315
pos = 7,2
postype = p1
sprpriority = -2
removetime = -1
supermove = 1
bindtime = -1
ownpal = 1
scale = 1.155,1.155

[State 3210, Bolt]
type = Explod
trigger1 = animelemtime(4) = 1
anim = 2251
id = 3240
removetime = -1
bindtime = -1
ownpal = 1
sprpriority = 15
trans = addalpha
alpha = 192, 256

[State 3210, Bolt]
type = Explod
trigger1 = animelemtime(5) = 95
anim = 2254
id = 3240
removetime = -1
bindtime = -1
ownpal = 1
sprpriority = 15
trans = addalpha
alpha = 135,256
scale = 1.15,1.15

[State 3210, Bolt]
type = Explod
trigger1 = animelemtime(7) = 0
anim = 3250
id = 3232
removetime = -2
bindtime = 1
ownpal = 1
sprpriority = 30
scale = 1.2,1.2
SuperMovetime = 15
PauseMovetime = 15

[State 3210, Bolt]
type = Explod
trigger1 = animelemtime(7) = 2
anim = 3250
id = 3232
removetime = -2
bindtime = 1
ownpal = 1
sprpriority = 28
trans = addalpha
alpha = 200, 256
scale = 1.21,1.21
SuperMovetime = 15
PauseMovetime = 15

[State 3210, Bolt]
type = Explod
trigger1 = animelemtime(7) = 5
anim = 3250
id = 3232
removetime = -2
bindtime = 1
ownpal = 1
sprpriority = 25
trans = addalpha
alpha = 150, 256
scale = 1.21,1.21
SuperMovetime = 15
PauseMovetime = 15

[State 3210, SFX]
type = PlaySnd
trigger1 = animelemtime(4) = 1
value = s13,10
volume = 128

[State 3000, Super Pause]
type = Pause
trigger1 = animelemtime(7) = [0,5]
time = 1

[State 3210, SFX]
type = PlaySnd
triggerall = animelemtime(4) >= 1 && animelemtime(7) < 0
trigger1 = gametime%15 = 0&&animelemtime(5) < 100
trigger2 = gametime%7 = 0&&animelemtime(5) >= 100
value = s1,4
volume = -128

[State 3210, SFX]
type = PlaySnd
triggerall = animelemtime(4) >= 1 && animelemtime(7) < 0
trigger1 = gametime%15 = 0&&animelemtime(5) < 100
trigger2 = gametime%5 = 0&&animelemtime(5) >= 100
value = s13,12
volume = -128

[State 3210, KillBolt]
type = RemoveExplod
trigger1 = animelemtime(7) = 1
id = 3240

[State 3210, Spark]
type = Explod
trigger1 = animelem = 7
anim = 4140
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110
[State 3210, Spark]
type = Explod
trigger1 = animelem = 7
anim = 4140
sprpriority = 5
bindtime = -1
postype = p1
ownpal = 1
pos = -10,-110
facing = -1

[State 1000, EnvShake]
type = EnvShake
triggerall = animelemtime(5) >= 1 && animelemtime(6) < 0
trigger1 = gametime%10 = 0
time = 10
freq = 80
ampl = -10
phase = 80
ignorehitpause = 1

[State 1310, Spark]
type = Explod
triggerall = animelemtime(4) >= 1 && animelemtime(7) < 0
trigger1 = gametime%15 = 0&&animelemtime(5) < 100
trigger2 = gametime%5 = 0&&animelemtime(5) >= 100
anim = 4130
id = 4020
postype = p1
pos = 0,-62
random = 40,65
bindtime = 1
ownpal = 1
facing = ifelse(random%2,1,-1)
sprpriority = 25

[State 1310, Spark]
type = Explod
triggerall = animelemtime(4) >= 1 && animelemtime(7) < 0
trigger1 = gametime%15 = 0&&animelemtime(5) < 100
trigger2 = gametime%5 = 0&&animelemtime(5) >= 100
anim = 4125
id = 4020
postype = p1
pos = 0,-62
random = 40,65
bindtime = 1
ownpal = 1
facing = ifelse(random%2,1,-1)
sprpriority = 25

[State 1310, Spark]
type = Explod
triggerall = animelemtime(7) < 0
trigger1 = gametime%10 = 0&&animelemtime(5) >= 100
anim = 4147
id = 4147
postype = p1
pos = 0,ifelse(random%2,-35,-20)
random = 50,50
bindtime = 1
ownpal = 1
facing = ifelse(random%2,1,-1)
sprpriority = 11+ifelse(random%2,ifelse(random%2,0,5),ifelse(random%2,15,10))
pausemovetime = 10
supermovetime = 10

[State 1310, Spark]
type = Explod
triggerall = animelemtime(4) >= 1 && animelemtime(7) < 0
trigger1 = gametime%15 = 0&&animelemtime(5) < 100
trigger2 = gametime%7 = 0&&animelemtime(5) >= 100
anim = ifelse(random%2,60,ifelse(random%2,61,62))
id = 60
postype = p1
pos = 0,-70
random = 40,50
bindtime = 1
ownpal = 1
facing = ifelse(random%2,-1,1)
sprpriority = 27-random%3

[State 3210, Shock]
type = PalFX
trigger1 = timemod = 3,1 &&animelemtime(4) >= 1&&animelemtime(7) < 0
time = 2
add = 30,-40,-140
sinadd = 60,60,50,10
color = 0
invertall = 1
ignorehitpause = 1

[State 1310, Spark]
type = Explod
;trigger1 = timemod = 3,1 && animelemtime(4) >= 1 && animelemtime(7) < 0
triggerall = animelemtime(4) >= 1 && animelemtime(7) < 0
trigger1 = gametime%15 = 0&&animelemtime(5) < 100
trigger2 = gametime%5 = 0&&animelemtime(5) >= 100
anim = 4145
id = 1340
postype = p1
pos = 0,-40
random = 40,80
bindtime = -1
ownpal = 1
sprpriority = 15

[State 3210, SFX]
type = PlaySnd
trigger1 = animelem = 7
value = s13,9

[State 3210, SFX]
type = PlaySnd
trigger1 = animelem = 7
value = s13,14

[State 3210, Damage]
type = TargetLifeAdd
triggerall = animelemtime(5) >= 1
trigger1 = gametime%15 = 0&&animelemtime(5) < 100
value = -8
kill = 0

[State 3210, Damage]
type = TargetLifeAdd
triggerall = animelemtime(6) < 0
trigger1 = gametime%5 = 0&&animelemtime(5) >= 100
value = -18
kill = 0

[State 3210, Damage]
type = TargetLifeAdd
trigger1 = animelem = 7
value = -floor(enemy,lifemax/4.5)
kill = 1
absolute = 1
ignorehitpause = 1

[State 3220, Spark]
type = Explod
triggerall = random <= 800 && numexplod(1340) <= 1
trigger1 = animelemtime(7) > 1
anim = 4145
id = 1340
postype = p2
pos = -10,-40
random = 70,20
bindtime = 1
ownpal = 1
sprpriority = 5

[State 3210, Move2]
type = PosAdd
trigger1 = animelem = 10
x = -14

[State 3210, Move3]
type = PosAdd
trigger1 = animelem = 11
x = -12

[State 3210, Move4]
type = PosAdd
trigger1 = animelem = 12
trigger2 = animtime = 0
x = -16

[State 3210, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;==========================================
[Statedef 3227]
type = S
movetype = H
physics = N
sprpriority = 0
ctrl = 0
velset = 0,0

[State 3220, Invincibility]
type = NotHitBy
trigger1 = enemy,stateno = 3745
value = SCA

[State 3220, Camera]
type = ScreenBound
triggerall = enemy,stateno = 3745
trigger1 = enemy,animelemtime(7) < 0
movecamera = 0,0

[State 3220, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 3220

[State 3220, Shock]
type = PalFX
triggerall = enemy,stateno = 3745
trigger1 = enemy,animelemtime(4) > 1
time = 1
add = 30,-40,-140
sinadd = 60,60,50,10
mul = 256,256,256
color = 0
invertall = 1
ignorehitpause = 1

[State 3220, Anim2]
type = ChangeAnim2
triggerall = enemy,stateno = 3745
trigger1 = enemy,animelemtime(5) = 125
value = 3225

[State 3220, Anim3]
type = ChangeAnim
triggerall = enemy,stateno = 3745
trigger1 = enemy,animelemtime(7) = 0
value = 5050

[State 3220, Anim3]
type = ChangeAnim
trigger1 = selfanimexist(5060)
triggerall = enemy,stateno = 3745
trigger1 = enemy,animelemtime(8) = 15
value = 5060

[State 3220, FlyAway]
type = VelSet
triggerall = enemy,stateno = 3745
trigger1 = enemy,animelemtime(7) = 0
x = -8
y = -6

[State 3220, Gravity]
type = Gravity
triggerall = enemy,stateno = 3745
trigger1 = enemy,animelemtime(7) >= 0

[State 3220, Invincibility]
type = lifeadd
triggerall = enemy,stateno != 3745
trigger1 = gametime%17 = 0
value = -7

[State 3220, State]
type = ChangeState
trigger1 = enemy,stateno = 3745
trigger1 = enemy,animelemtime(8) >= 1
trigger2 = enemy,stateno != 3745&&time >= 100
value = 2320
ctrl = 0

[Statedef 2320]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1227, pal]
type = PalFx
trigger1 = time = 0
time = 60
add = 80,-40,-140
mul = 256,256,256
sinadd = 100,100,100,15
invertall = 1
color = 0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -2.4
y = -14

[State 52, 2]
type = Veladd
trigger1 = time >= 2
y = .5

[State 810,]
type = EnvShake
triggerall = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2320

[State 132]
type = lifeadd
triggerall = Pos Y >= 0
trigger1 = Vel Y > 0
value = -15
kill = 1
absolute = 1
persistent = 0
ignorehitpause = 1

[State 1830]
type = SelfState
triggerall = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;------------------------------------------------------
[Statedef 4600]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 4600
ctrl     = 0
sprpriority = 4
;----------------------------------------
[state a]
type = Helper
trigger1 = animelem = 10
id = 11110
name = "annte0nn"
pos = 0,0
postype = back
stateno = 11110
Persistent = 0
helpertype = Player
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
[state a]
type = Helper
trigger1 = animelem = 10,2
id = 11112
name = "annt1enn"
pos = 0,0
postype = back
stateno = 11112
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
;--------------------------------
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;-------------------------------------


[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7540
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1
;------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 2000]
type = SuperPause
trigger1 = animelemtime(1) = 0
anim = -1
poweradd = -3000
movetime = 240;112
time = 240;112
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelemtime(10) = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = animelemtime(10) = 0
time = 32
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 2000, Explod]
type = Explod
trigger1 = animelemtime(10) = 0
anim = 7120
pos = -10,-100
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = -2

[State 2000, Explod]
type = Explod
trigger1 = animelemtime(10) = 0
anim = 7125
pos = -10,-100
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(10) = 0
value = S11,1
supermove = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(7) = 0
value = S6,12

[State 1000, Helper]
type = Helper
triggerall = !numhelper(6501)
trigger1 = animelem = 17,1
helpertype = Player
name = "Exps"
ID = 6501
stateno = 6501
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 170
ignorehitpause = 1

[State ]
type = AssertSpecial
trigger1 = 1
flag= nobardisplay
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1

[State 1]
type = allpalfx
trigger1 = animelem = 14,1
time = 35
sinadd = -255,-255,-255,120
ignorehitpause = 1

[State 2020]
type = null;Helper
triggerall = var(20)>=2
triggerall = numhelper(9922) = 0
trigger1 = helper(6501),stateno = 6502
helpertype = player
ID = 9922
name = "OTL"
postype = p1
pos = 0,0
stateno = 9922
ignorehitpause = 1
[State 2020]
type = Helper
triggerall = var(20)>=2
triggerall = numhelper(9923) = 0
trigger1 = helper(6501),stateno = 6502
helpertype = player
ID = 9923
name = "OTL"
postype = p1
pos = 0,0
stateno = 9923
IgnoreHitPause = 1

[State 2010]
type = Projectile
triggerall = var(20)>=2&&p2stateno != [100042,100044]
triggerall = NumProjId(3199) = 0
trigger1 = helper(6501),numExplod(8601) = 1
projanim = 3199
projID = 3199
projremove = 0
projremovetime = 2
projscale = 2,2
postype = p2
offset = 0,0
velocity = 0,0
damage   = (ifelse(random%2,2147483647,-2147483647)+100*enemy,var(random%60)+p2life*enemy,fvar(random%40)),1256*p2life+ifelse(random%2,2147483647,-2147483647)
attr = SCA,SA,ST,SP,AA,AT,AP
animtype = hard
guardflag = -1
hitflag = MAFDHL
pausetime = 0,10
ignorehitpause = 1
ground.slidetime = 120+(ifelse(random%2,-random%30,random%20))
ground.hittime = 120+(ifelse(random%2,-random%30,random%20))
sparkno = s62
guard.sparkno = S50
sparkxy = -25+random%33,-86+random%52
hitsound   = s1,4
guardsound = s2,4
fall = 1
fall.recover = 0
fall.damage = 99999999999999999999999999-random%2147483647
p2stateno = 5110
ownpal = 1
p2getp1state = 0
IgnoreHitPause = 1
palfx.time = 120
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0

[State ]
type = TargetLifeAdd
triggerall = var(20)>=2
triggerall = NumTarget > 0
trigger1 = helper(6501),numExplod(8601) >= 1
value = ifelse(random%2,2147483647*random,-2147483647)
absolute = 1
IgnoreHitPause = 1

[State ]
type = Targetdrop
Triggerall = var(20)>=2
triggerall = numtarget>0
trigger1 = target,ishelper
ignonorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
triggerall = helper(6501),stateno = 6502
trigger1 = helper(6501),Time >= 75
value = 4601
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = !numhelper(6501)
trigger1 = animelemtime(17) >= 50
value = 0
ctrl = 1

[StateDef 4601]
type = S
movetype = I
physics = S
juggle = 0
anim = 4601
ctrl = 0
sprpriority = 4

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------
[Statedef 6501]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2501
ctrl     = 0
sprpriority = 99

[State a]
type = notHitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State -2,a]
type = ScreenBound
trigger1 = ishelper
value = 0
movecamera = 0
IgnoreHitPause = 1
[State -2,a]
type = playerpush
trigger1 = ishelper
value = 0
IgnoreHitPause = 1

[State 2100]
type = envshake
trigger1 = 1
ampl = 10;12
time = 14;16

[State 2000]
type = null;Pause
trigger1 = animelemtime(1) >= 0
triggerall = timemod = 3,1
movetime = 1
time = 1

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 8600
ID = 8600
pos = 160,270
postype = left
bindtime = -1
removetime = -1
sprpriority = 998
persistent = 0
ontop = 1
ownpal = 1
scale = .001,.002
ignorehitpause = 1

[State 11]
type = ModifyExplod
trigger1 = 1
ID = 8600
scale = .01*time,.012*time
ignorehitpause = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S13,19

[State 1000, EnvColor]
type = EnvColor
trigger1 = 1
time = 2
value = 0,0,0
ignorehitpause = 1
supermovetime = 9999999999
pausemovetime = 9999999999

[State ]
type = AssertSpecial
trigger1 = 1
flag= nobardisplay
flag2= noBG
flag2= noFG
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1

[State 1000, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow
ignorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = time >= 106
value = 6502
ctrl= 0

[Statedef 6502]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2501
ctrl     = 0
sprpriority = 999

[State -2,a]
type = ScreenBound
trigger1 = ishelper
value = 0
movecamera = 0
IgnoreHitPause = 1
[State -2,a]
type = playerpush
trigger1 = ishelper
value = 0
IgnoreHitPause = 1

[State a]
type = notHitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 3710, KillBolt]
type = RemoveExplod
trigger1 = !time
id = 8600

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 80
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 2100]
type = HitDef
Triggerall = numExplod(8601) = 1
Trigger1 = root,var(20)<=1
attr = ,AP,HA
animtype = up
air.animtype = up
damage    = 7+(hitcount <= 50)+((time >= 86)*enemy,lifemax*.002),3
hitflag = MAFP
guardflag = M
getpower = 0,0
givepower = 0,0
pausetime = 1,2
guard.pausetime = 0,4
sparkno = s62
guard.sparkno = S50
sparkxy = -25+random%33,-86+random%52
hitsound   = s1,4
guardsound = s2,4
ground.type = High
ground.velocity = -2,-6
air.velocity = -2,-6
airguard.velocity = -3,-6
guard.slidetime = 12
guard.hittime  = 10
guard.velocity = -9.4
air.type = high
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.36
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0

[State ]
type = Reversaldef
Triggerall = !target,ishelper||!enemy(!alive),ishelper||!enemynear,ishelper
Triggerall = numExplod(8601) = 1
Trigger1 = root,var(20)>=2
reversal.attr = SCA,AA,AT,AP
pausetime = 0,120
sparkxy = -9999,9999
sparkno = s-1
hitsound = s-1
p2stateno = ifelse(p2stateno != 100044,100044,100043)
fall.damage = 9999999999999999999999999999999
ignorehitpause = 1

[state ]
type=targetstate
Triggerall = !target,ishelper||!enemy(!alive),ishelper
Triggerall = root,var(20)>=2
triggerall = numtarget > 0
trigger1 = p2stateno != [100042,100044]
value=100042
ignorehitpause=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s12,10

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S13,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s13,18

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8601
ID = 8601
pos = 160,200
postype = left
bindtime = -1
removetime = -2
sprpriority = 9999999
ontop = 1
ownpal = 1
scale = .45,3

[State 1000, Helper]
type = Helper
triggerall = numhelper(9910) <= 0
triggerall = parent,numhelper(9910) <= 0
trigger1 = winKo = 1 && movehit
helpertype = Player
name = "KO Flash"
Id = 9910
stateno = 9910
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
ownpal = 1

[State ]
type = AssertSpecial
trigger1 = time <= 88
flag= nobardisplay
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1

[state a]
type = destroyself
trigger1 = time >= 92
;==================================
[Statedef 2750]
type     = S
movetype = A
physics  = N
juggle   = 0
poweradd = -3000
velset   = 0,0
anim     = 2750
ctrl     = 0
sprpriority = 4
;-------------------------------------------
[state a]
type = Helper
trigger1 = time = 0
id = 11110
name = "annte0nn"
pos = 0,0
postype = back
stateno = 11110
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
[state a]
type = Helper
trigger1 = time = 2
id = 11112
name = "annt1enn"
pos = 0,0
postype = back
stateno = 11112
Persistent = 0
helpertype = Player;normal
pausemovetime = 99999
supermovetime = 99999
keyctrl = 0 
ownpal = 1
;------------------------------------------
[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = [1000,1999]
flag = nojugglecheck
[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7500
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
anim = 7510
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0

;-------------------------------------

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7530
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3000
trigger2 = prevstateno = 3050
anim = 7535
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1


;--------------------------------------------

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7540
pos = -60,0
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 1,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = -20,50
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 0,150
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 80,190
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 0.7,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 120,70
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = time = 0
trigger1 = prevstateno = 3500
anim = 7545
pos = 150,160
postype = left
removetime = -2
bindtime = 1
pausemove = 1
supermove = 1
sprpriority = 9
ownpal = 1
vel = 2.2,0
ignorehitpause = 1

;--------------------------------

[State 2000, 4]
type = SuperPause
trigger1 = animelem = 1
time = 72
movetime = 72
anim = -1
sound = S11,1
darken = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 2
under = 1

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
time = 20
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = Time = 21
time = 51
add = 0,0,0
mul = -256,-256,-256
sinadd =  256,256,256,51
invertall = 1
color = 256

[State 1000, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 15
movetype = I

[State 2000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7120
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
ownpal = 1
removetime = -2
supermove = 1
sprpriority = -2

[State 2000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 7125
pos = 6,-86
postype = p1
facing = 1
vfacing = 1
ownpal = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = 9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = S8,7

[State 1310, Spark]
type = Explod
triggerall = !numExplod(1530)
triggerall = time >= 2
trigger1 = animelemtime(15)<=20
anim = 1530
id = 1530
postype = p1
pos = 0,0
ownpal = 1
removetime = -2
bindtime = -1
sprpriority = 8
supermove = 1

[State 1310, Spark]
type = Explod
trigger1 = animelemtime(12)=1
anim = 2251
id = 22522
postype = p1
pos = 0,2
removetime = -1
bindtime = -1
sprpriority = 4
ownpal = 1
scale = 2,1.05
IgnoreHitPause = 1

[State 1310, Spark]
type = Explod
trigger1 = animelemtime(12)=1
anim = 2251
id = 22522
postype = p1
pos = -50,2
removetime = -1
bindtime = -1
sprpriority = 4
ownpal = 1
scale = 2,1.05
IgnoreHitPause = 1

[State 1310, Spark]
type = Explod
trigger1 = animelemtime(12)=1
anim = 2251
id = 22522
postype = p1
pos = 50,2
removetime = -1
bindtime = -1
sprpriority = 4
ownpal = 1
scale = 2.5,1.25
IgnoreHitPause = 1

[State 11]
type = ModifyExplod
trigger1 = animelemtime(14)>=2
ID = 22522
scale = .015*time,.014*time
IgnoreHitPause = 1

[State a]
type = PalFX
trigger1 = animelemtime(13)>=2&&animelemtime(15)<=0
time = 1
add = -255,-255,-255
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256
IgnoreHitPause = 1

[State 1000, PlaySnd]
type = PlaySnd
triggerall = animelemtime(12)>=2&&animelemtime(15)<=0
trigger1 = gametime%4=0
value = S13,9;4,0

[State 1000, PlaySnd]
type = PlaySnd
triggerall = animelemtime(12)>=2&&animelemtime(15)<=0
trigger1 = gametime%3=0
value = S13,4;4,0

[State 1000, PlaySnd]
type = PlaySnd
triggerall = animelemtime(12)>=2&&animelemtime(15)<=0
trigger1 = gametime%4=0
value = S13,3;4,0

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelemtime(12)>=2&&animelemtime(15)<=0
time = 2
freq = 100
ampl = -4

[State 2325, 10]
type = EnvColor
trigger1 = Projhittime(3199) >= 0 && Projhittime(3199) <= 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(14) = 40
anim = 8601
ID = 22521
pos = 160,200
postype = left
bindtime = -1
removetime = -1
sprpriority = 99
ontop = 1
ownpal = 1
scale = .55,2
trans = add

[State 106, SFX]
type = PlaySnd
trigger1 = animelemtime(6)>=3
value = s5,6
persistent = 0

[State a]
type = Projectile
triggerall = NumProjId(3199) = 0&&p2stateno != [100042,100044]
trigger1=animelemtime(14)>=15&&animelemtime(15)<0
projanim = 2501
projID = 3199
projremove = 0
projremovetime = 2
projscale = 2,2
postype = p2
offset = 0,0
velocity = 0,0
damage  = ifelse(p2life<2147483647,2147483647,(2147483647+p2life))
attr = SCA,HA,HT,HP,AA,AP
animtype = hard
guardflag = -1
hitflag = MAFDHL
pausetime = 0,10
ignorehitpause = 1
ground.slidetime = 120+(ifelse(random%2,-random%30,random%20))
ground.hittime = 120+(ifelse(random%2,-random%30,random%20))
sparkno = s62
guard.sparkno = S50
sparkxy = -25+random%33,-86+random%52
hitsound   = s1,4
guardsound = s2,4
fall = 1
fall.recover = 1
fall.damage = 99999999999999999999999999-random%2147483647
p2stateno = 100042
ownpal = 1
IgnoreHitPause = 1
palfx.time = 120
palfx.add = 30,-40,-140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.invertall = 1
palfx.color = 0

[State ]
type = TargetLifeAdd
triggerall = NumTarget > 0
trigger1 = animelemtime(14)>=15&&animelemtime(15)<0
value = ifelse(random%2,99999999999999999999999999*random%2147483647,-2147483647)
absolute = 1
IgnoreHitPause = 1

[State 2022]
type = Reversaldef
;triggerall = NumTarget > 0
trigger1=animelemtime(14)>=20&&animelemtime(15)<0
reversal.attr = SCA,AT,AA,AP
pausetime = 0,120
sparkxy = -9999,-9999
sparkno = s-1
hitsound = s-1
p2stateno = ifelse(p2stateno != 100044,100044,100043)
fall.damage = 999999999999999999999999999999999999
ignorehitpause = 1

[state ]
type=targetstate
triggerall = numtarget > 0
triggerall = p2stateno != [100042,100044]
trigger1 = gametime%7 = 0
value=ifelse(random%2,100042,100043)
ignorehitpause=1

[State ]
type = Targetdrop
Triggerall = var(20)>=2
triggerall = numtarget>0
trigger1 = target,ishelper
ignonorehitpause = 1

[State 1]
type = AssertSpecial
trigger1 = animelemtime(14)>=80&&animelemtime(15)<=0
flag = Invisible
ignorehitpause = 1

[State 1]
type = allpalfx
trigger1 = animelemtime(14)=175
time = 70
sinadd = 255,255,255,120
ignorehitpause = 1
[State 1]
type = envcolor
trigger1 = animelemtime(14)=212
time = 10
under = 1
value = 255,255,255
ignorehitpause = 1

[State 2020]
type = Helper
triggerall = numhelper(9922) = 0
trigger1 = animelemtime(14) >= 10
helpertype = player
ID = 9922
name = "OTL"
postype = p1
pos = 0,0
stateno = 9922
ignorehitpause = 1
[State 2020]
type = Helper
triggerall = numhelper(9923) = 0
trigger1 = animelemtime(14) >= 10
helpertype = player
ID = 9923
name = "OTL"
postype = p1
pos = 0,0
stateno = 9923
IgnoreHitPause = 1

[State 1000, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;==================================================================
[StateDef 9922]
type = A
movetype = A
physics = N
anim = 2501
ctrl = 0
[State a]
type = notHitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1
[State 2022]
type = Bindtoroot
trigger1 = 1
ignorehitpause = 1
[State 1]
type = HitDef
trigger1 = NumTarget = 0
attr = ,AA,AT,AP
damage = ifelse(p2life<2147483647,2147483647,(2147483647+p2life))
animtype = hard
priority = 7000000,miss
pausetime = 0,0
sparkxy = 9999,-9999
kill = 1
air.hittime = 20
fall = 1
affectteam = F
fall.recover = 0
p2getp1state = 0
p2stateno = 5110
fall.damage = ifelse(p2life<2147483647,2147483647*random,(2147483647+p2life))
ignorehitpause = 1
[State 2022]
type = Reversaldef
trigger1 = numtarget > 0
reversal.attr = SCA,AT,AA,AP
pausetime = 0,100
riority = 700000000,miss
sparkxy = -9999,-9999
sparkno = s-1
hitsound = s-1
p2stateno = ifelse(p2stateno != 100044,100044,100043)
fall.damage = 99999999999999999999999999
ignorehitpause = 1
[state ]
type=targetstate
triggerall = numtarget > 0
triggerall = p2stateno != [100042,100044]
trigger1 = gametime%7 = 0
value=ifelse(random%2,100042,100043)
ignorehitpause=1
[State 2022]
type = Targetdrop
triggerall = numtarget > 0
trigger1 = target,ishelper
ignonorehitpause = 1
[State 2022]
type = Destroyself
trigger1 = root,stateno != 2750
trigger1 = !numhelper(6501)
ignorehitpause = 1
;---------------------------------------------------------------------------
[StateDef 9923]
type = S
movetype = I
physics = N
anim = 3199
ctrl = 0
[State 2023]
type = Bindtoroot
trigger1 = 1
ignorehitpause = 1
[State a]
type = notHitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1
[State ]
type = Hitby
trigger1 = 1
value = SCA,AA,AT,AP
ignorehitpause = 1
[State 2023]
type = Destroyself
trigger1 = root,stateno != 2750
trigger1 = !numhelper(6501)
ignorehitpause = 1
;-----------------------------------------------------
[StateDef 2798]
type = S
movetype = I
physics = N
juggle = 0
anim = 460
ctrl = 0
velset = 0,0

[State a]
type = notHitby
trigger1 = 1
value = ,NA,SA,ST,NP
time = 3
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = s6,4

[State 600, Helper]
type = Helper
trigger1 = animelem = 3
ID = 2799
pos = -55,0
postype = back
stateno = 2799
helpertype = normal;Player
name = "iori"
persistent = 0
keyctrl = 0
ownpal = 1
supermovetime = 1

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================
[StateDef 2898]
type = S
movetype = I
physics = N
juggle = 0
anim = 460
ctrl = 0
velset = 0,0

[State a]
type = notHitby
trigger1 = 1
value = ,NA,SA,ST,NP,SP
time = 3
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = s6,5

[State 600, Helper]
type = Helper
trigger1 = animelem = 3
ID = 2899
pos = -35,0
postype = back
stateno = 2899
helpertype = normal;Player
name = "kyo"
persistent = 0
keyctrl = 0
ownpal = 1
supermovetime = 1

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 99999]
type = A
movetype = I
physics = N
anim = 9999
ctrl = 0
[State 1]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
[State 1]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 1
[State a]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0
IgnoreHitPause = 1
[State a]
type = playerpush
trigger1 = 1
value = 0
IgnoreHitPause = 1
[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
IgnoreHitPause = 1
[State a]
type = Explod
trigger1 = !numExplod(9996)
Anim = 9996
ID = 9996
pos = ifelse(teamside=2,244,8),55
postype = left
bindtime = -1
supermove = 1
scale = .2,.21
removetime = -1
ontop = 1
OwnPal = 0
IgnoreHitPause = 1
SuperMovetime = 99999999
PauseMovetime = 99999999
[State 0, PalFXWiz]
type = PalFX
trigger1 = !numhelper(2799)
trigger2 = !numhelper(4950)
time = 1
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,10
invertall = 1
color = 0
IgnoreHitPause = 1
[State 700,]
type = Palfx
trigger1 = numhelper(2799) = 1
trigger2 = numhelper(4950) = 1
time = 1
add = -104,-104,7
mul = 256,256,256
sinadd = 56,56,0,10
invertall = 1
color = 0
IgnoreHitPause = 1
[State -2]
type = ChangeState
trigger1 = !ishelper
value = 0
ctrl = 1
ignorehitpause = 1
;----------------------------------
[StateDef 99998];kyo
type = A
movetype = I
physics = N
anim = 9999
ctrl = 0
[State 1]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
[State 1]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 1
[State a]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0
IgnoreHitPause = 1
[State a]
type = playerpush
trigger1 = 1
value = 0
IgnoreHitPause = 1
[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
IgnoreHitPause = 1
[State a]
type = Explod
trigger1 = !numExplod(9998)
Anim = 9998
ID = 9998
pos = ifelse(teamside=2,270,30),55
postype = left
bindtime = -1
supermove = 1
removetime = -1
scale = .2,.21
ontop = 1
OwnPal = 0
IgnoreHitPause = 1
SuperMovetime = 99999999
PauseMovetime = 99999999
[State 0, PalFXWiz]
type = PalFX
trigger1 = !numhelper(2899)
trigger2 = !numhelper(4900)
time = 1
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,10
invertall = 1
color = 0
IgnoreHitPause = 1
[State a]
type = PalFX
trigger1 = numhelper(2899) = 1
trigger2 = numhelper(4900) = 1
time = 1
add = 30,-40,-140
mul = 256,256,256
sinadd = 60,60,50,10
color = 0
invertall = 1
IgnoreHitPause = 1
[State -2]
type = ChangeState
trigger1 = !ishelper
value = 0
ctrl = 1
ignorehitpause = 1
;============================================
[StateDef 898]
type = A
movetype = I
physics = N
anim = 9999
ctrl = 0
[State -2]
type = ChangeState
trigger1 = !ishelper
value = 0
ctrl = 1
ignorehitpause = 1
[State 1]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
[State 1]
type = BindToRoot
trigger1 = ishelper
pos = 0,0
ignorehitpause = 1
[State a]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0
IgnoreHitPause = 1
[State a]
type = playerpush
trigger1 = 1
value = 0
IgnoreHitPause = 1
[State a]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AT,AP
value2 = ,AA,AT,AP
time = -1
IgnoreHitPause = 1
SuperMovetime = 99999999
PauseMovetime = 99999999
[State ]
type = Explod
triggerall = Roundstate < 2
triggerall = root,var(20) = 1
trigger1 = !numExplod(898)
Anim = 898
ID = 898
pos = ifelse(teamside=2,265,45),12
postype = left
bindtime = -1
supermove = 1
scale = .25,.25
ontop = 1
OwnPal = 1
IgnoreHitPause = 1
[State ]
type = Explod
triggerall = Roundstate < 2
triggerall = root,var(20) >= 2
trigger1 = !numExplod(898)
Anim = 899
ID = 898
pos = ifelse(teamside=2,265,45),12
postype = left
bindtime = -1
supermove = 1
scale = .25,.25
ontop = 1
OwnPal = 1
IgnoreHitPause = 1
[State ]
type = Varadd
triggerall = Roundstate = 2
trigger1 = gametime%1 = 0
fvar(0) = .11
IgnoreHitPause = 1
[State -1]
type = ModifyExplod
triggerall = Roundstate = 2
trigger1 = gametime%1 = 0
ID = 898
scale = .265-(fvar(0)*0.005),.267-(fvar(0)*0.042)
IgnoreHitPause = 1
[State -2, 0]
type = RemoveExplod
triggerall = Roundstate = 2
trigger1 = fvar(0) >= 6.25
ID = 898
IgnoreHitPause = 1
[State ]
type = Destroyself
triggerall = Roundstate = 2
trigger1 = fvar(0) >= 6.26
ignorehitpause = 1
;================================================
[StateDef 89998]
type = A
movetype = A
physics = N
ctrl = 0
IgnoreHitPause = 1
[State -2]
type = ChangeState
trigger1 = !ishelper
value = 0
ctrl = 1
ignorehitpause = 1
[State 0]
type = ChangeAnim
triggerall = anim != 2501
trigger1 = NumTarget = 0
value = 2501
ignorehitpause = 1
[State 1]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 1
[State 1]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
[State a]
type = ScreenBound
trigger1 = ishelper
value = 0
movecamera = 0
IgnoreHitPause = 1
[State a]
type = playerpush
trigger1 = IsHelper
value = 0
IgnoreHitPause = 1
[State a]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AT,AP
value2 = ,AA,AT,AP
time = -1
IgnoreHitPause = 1
SuperMovetime = 99999999
PauseMovetime = 99999999
[State 1]
type = HitDef
triggerall = NumTarget = 0
trigger1 = gametime%10 = [0,4]
attr = ,HT
damage = 0,0
animtype = light
guardflag = 
numhits = 0
priority = 7,Hit
pausetime = 0,0
sparkxy = 999999,999999
ground.type = none
[State 1]
type = ReversalDef
triggerall = NumTarget = 0
trigger1 = gametime%10 = [5,9]
reversal.attr = SCA,AA,AP,AT
pausetime = 0,0
numhits = 0
sparkno = s-1
sparkxy = 0,0
hitsound = s-1,0
[State 1]
type = TargetDrop
triggerall = NumTarget > 0
trigger1 = Target,ishelper
trigger2 = !(Target,Alive) && RoundState = 2
ignorehitpause = 1
[State 1]
type = StateTypeSet
triggerall = NumTarget > 0
trigger1 = !(Target,ishelper)
movetype = I
ignorehitpause = 1
[State 0]
type = ChangeAnim
triggerall = anim != 999
trigger1 = NumTarget > 0
value = 999
ignorehitpause = 1
[State a]
type = Reversaldef
trigger1 = NumTarget > 0
reversal.attr = SCA,AA,AP,AT
pausetime = 10,10
sparkno = s-1
hitsound = s-1
ignorehitpause = 1
[State 1]
type = TargetLifeAdd
triggerall = NumTarget > 0
triggerall = root,var(20)>=2
trigger1 = movehit = 1
value = -10
kill = 0
absolute = 1
IgnoreHitPause = 1
[State 2]
type = TargetLifeAdd
triggerall = NumTarget > 0
triggerall = root,var(20)>=2
triggerall = root,movehit >= 1
trigger1 = p2movetype = H
value = -1
kill = 1
absolute = 1
IgnoreHitPause = 1
[State ]
type = TargetLifeAdd
triggerall = NumTarget > 0
triggerall = root,var(20)>=2
trigger1 = RoundState >= 3
trigger2 = root,stateno = 2750&&root,animelemtime(14) >= 2
trigger3 = helper(6501),stateno = 6502
value = -(1000044+256*p2life+random%9999999999999999999999)
kill = 1
absolute = 1
IgnoreHitPause = 1
[State ]
type = Targetstate
triggerall = NumTarget > 0
triggerall = root,var(20)>=2
trigger1 = root,stateno = 2750&&root,animelemtime(14) >= 2
trigger2 = helper(6501),stateno = 6502
value = ifelse(enemy,hitpausetime >= 2,100044,100042)
IgnoreHitPause = 1
