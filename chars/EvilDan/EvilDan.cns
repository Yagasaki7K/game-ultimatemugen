[Data]
life = 1100
attack = 70
defence = 110
fall.defence_up = 70
liedown.time = 15
airjuggle = 25
sparkno = 0
guard.sparkno = S9300
KO.echo = 0
volume = 255
IntPersistIndex = 30

[Size]
xscale = 1
yscale = 1
ground.back = 20
ground.front = 20
air.back = 18
air.front = 18
z.width = 3
height = 50
attack.width = 4,4
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 7,-78
mid.pos = -1,-47

[Velocity]
walk.fwd  = 3.00
walk.back = -2.00
run.fwd  = 5.50, 0
run.back = -4.80, 0
jump.neu = 0,-9.2
jump.fwd = 3.00
jump.back = -3.50

[Movement]
airjump.num = 0
yaccel = .43
stand.friction = .85
crouch.friction = .82

; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 4
v = 34
value = 0

[State 210, 1]
type = AfterImageTime
trigger1 = prevstateno = [13000,14000]
Time = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown" && var(30) != 59
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback" && var(30) != 59
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown" && var(30) != 59
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback" && var(30) != 59
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback" && var(30) != 59
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback" && var(30) != 59
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && var(30) != 59
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && var(30) != 59
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && var(30) != 59
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && var(30) != 59
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && var(30) != 59
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && var(30) != 59
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && var(30) != 59
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && var(30) != 59
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback" && var(30) != 59
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52
;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10

[State 1520, 3]
type = VarSet
trigger1 = time = 4
v = 34
value = 0

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 4
v = 34
value = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 1520, 3]
type = VarSet
trigger1 = time = 4
v = 34
value = 0

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 4
v = 34
value = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Win States Selection
;---------------------------------------------------------------------------
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,3

[State 180, StompFit]
type = ChangeState
trigger1 = Var(1) = 0
value = 181

[State 180, Teleport]
type = ChangeState
trigger1 = Var(1) = 1
value = 182

[State 180, Teleport]
type = ChangeState
trigger1 = Var(1) = 2
value = 183

[State 180, FabtasmaRitratto]
type = ChangeState
trigger1 = Var(1) = 3
value = 184

;---------------------------------------------------------------------------
;teleport win pose
[Statedef 183]
type = S
ctrl = 0
anim = 185
velset = 0,0,0

[State 1700, s]
type = playsnd
trigger1 = time = 1
value = 185,0

[State 1010, 112]
type = assertspecial
trigger1 = time = [0,30]
flag = intro

;===========================================================================
;teleport win pose
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 1700, s]
type = playsnd
trigger1 = animelem = 4
value = 13001,0

[State 1010, 112]
type = assertspecial
trigger1 = time = [0,26]
flag = intro


;---------------------------------------------------------------------------
; Stomp Fit Win pose
[Statedef 181]
type = S
ctrl = 0
anim = 181182
velset = 0,0,0

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "clonew"
pos = -50,0
postype = p1
stateno =9181
ownpal = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "clonew"
pos = 50,0
postype = p1
stateno =9181
ownpal = 1

[State 191, 4]
type = Changeanim
trigger1 = time = 6
value = 181181

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 3

[State 181, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 9181]
type = S
ctrl = 0
anim = 281182
velset = 0,0,0

[State 191, 4]
type = Changeanim
trigger1 = time = 6
value = 281181

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2
channel = 0
volume = 200

[State 191, 4]
type = PlaySnd
trigger1 = Time = 2
value = 55, 3

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
ignorehitpause = 1

;-----------------------------------------------------------------------------
; Fantasma ritratto WinPose
[Statedef 184]
type = S
ctrl = 0
anim = 51103
velset = 0,0,0

[State 1010, 112]
type = AssertSpecial
trigger1 = time = [0,370]
flag = roundnotover

[State 1700, hadouken hit helper]
type = Helper
trigger1 = frontedgedist > backedgedist
trigger1 = time = 55
helpertype = normal
name = "clonew"
pos = 150,0
postype = p1
stateno =9184
ownpal = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = frontedgedist <= backedgedist
trigger1 = time = 55
helpertype = normal
name = "clonew"
pos = -90,0
postype = p1
stateno =9185
ownpal = 1

[State 191, 4]
type = turn
trigger1 = frontedgedist <= backedgedist
trigger1 = time = 0
value = 1

[State 191, 4]
type = Changeanim
trigger1 = time = 85
value = 51104

[State 191, 4]
type = Playsnd
trigger1 = time = 95
value = 1100, 8

[State 191, 4]
type = Playsnd
trigger1 = time = 95
value = 1100, 8

[State 191, 4]
type = Playsnd
trigger1 = time = 95
value = 1100, 8

[State 191, 4]
type = ChangeAnim
trigger1 = time = 145
value = 10900

[State 191, 4]
type = turn
trigger1 = time = 145
value = 1

[State 191, 4]
type = posadd
trigger1 = time = 145
x = 7

[State 191, 4]
type = Playsnd
trigger1 = time = 150
value = 1100, 11


[State 191, 4]
type = ChangeAnim
trigger1 = time = 160
value = 51101

[State 191, 4]
type = veladd
trigger1 = time = [160,180]
x = -.05
y = -.05

[State 191, 4]
type = velset
triggerall = time > 160
trigger1 = animtime = 0
x = 0
y = 0

[State 191, 4]
type = ChangeAnim
triggerall = time > 160
trigger1 = animtime = 0
value = 777 ; void


[Statedef 9184]
type = S
ctrl = 0
anim = 281182
velset = 0,0,0

[State 191, 4]
type = turn
trigger1 = time = 0
value = 1

[State 191, 4]
type = Changeanim
trigger1 = time = 6
value = 281181

[State 191, 4]
type = Changeanim
trigger1 = time = 60
value = 51100

[State 191, 4]
type = PlaySnd
trigger1 = animelem = 6
value = 1100, 9
persistent = 0

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2
volume = 200

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
ignorehitpause = 1

[State 800, Pound]
type = Helper
trigger1 = animelemtime(6) = 25
stateno = 7184
name = "MakeParticle"
id = 4
pos = 50, -23
ignorehitpause = 1
helpertype = normal
keyctrl = 0
ownpal = 0

[State 800, X]
type = Playsnd
trigger1 = animelemtime(6) = 20
value = 1100,10
[State 800, X]
type = Playsnd
trigger1 = animelemtime(6) = 20
value = 1100,10
[State 800, X]
type = Playsnd
trigger1 = animelemtime(6) = 20
value = 1100,10

[State 191, 4]
type = ChangeState
trigger1 = parent, anim = 777
value = 7185

[Statedef 7185]
type = A
movetype = A
physics = N
anim = 51102

[State 800, X]
type = Playsnd
trigger1 = time = 15
value = 1100,12

[State 800, Pound]
type = Explod
trigger1 = Time = 15
anim = 7185
name = "Blink"
id = 4
pos = 59, -83
ignorehitpause = 1
helpertype = normal
sprpriority = 11
keyctrl = 0
ownpal = 0
under = 1

[State 52, Land SOund]
type = ChangeAnim
trigger1 = animtime = 0
value = 555

[State 52, Land SOund]
type = Turn
trigger1 = anim = 555
value = 1
persistent = 0

[State 52, Land SOund]
type = ChangeState
triggerall = anim = 555
trigger1 = animelem = 3
value = 4960


;maker
[Statedef 7184]
type = A
movetype = A
physics = N
anim = 777

[State 800, X]
type = VarRandom
trigger1 = 1
v = 0
range = 100, 120

[State 800, Y]
type = VarRandom
trigger1 = 1
v = 1
range = 0, 100


[State 800, Pound]
type = Helper
trigger1 = Time > 0
trigger1 = TimeMod = 2,0
stateno = 4
name = "Particle"
id = 4
pos = Var(0), -Var(1)
ignorehitpause = 1
helpertype = normal
sprpriority = 10
keyctrl = 0
ownpal = 0
under = 1

; Particles
[Statedef 4]
type = A
movetype = A
physics = N
sprpriority = 10
anim = 4

[State 4, 0]
type = Width
trigger1 = 1
value = -40,-50

[State 4, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4, 2]
type = VelAdd
triggerall = Vel X < 5
trigger1 = parentDist X > 5
x = .5

[State 4, 2]
type = VelAdd
triggerall = Vel X > -5
trigger1 = parentDist X < -5
x = -.5

[State 4, 2]
type = VelAdd
triggerall = Vel Y < 2
trigger1 = parentDist Y > 60
y = .5

[State 4, 2]
type = VelAdd
triggerall = Vel Y > -2
trigger1 = parentDist Y < 60
y = -.5

[State 4, 3]
type = TargetBind
trigger1 = 1
pos = 0, 0
time = 2

[State 4, Destroy]
type = DestroySelf
trigger1 = parentDist X < 10
trigger1 = parentDist X > -10
trigger2 = root, anim = 777

;fantasma B
[Statedef 9185]
type = S
ctrl = 0
anim = 281182
velset = 0,0,0

[State 191, 4]
type = Changeanim
trigger1 = time = 6
value = 281181

[State 191, 4]
type = Changeanim
trigger1 = time = 60
value = 51100

[State 191, 4]
type = PlaySnd
trigger1 = animelem = 6
value = 1100, 9
persistent = 0

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2
volume = 200

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
ignorehitpause = 1

[State 800, Pound]
type = Helper
trigger1 = animelemtime(6) = 25
stateno = 7184
name = "MakeParticle"
id = 4
pos = 50, -23
ignorehitpause = 1
helpertype = normal
keyctrl = 0
ownpal = 0

[State 800, X]
type = Playsnd
trigger1 = animelemtime(6) = 20
value = 1100,10
[State 800, X]
type = Playsnd
trigger1 = animelemtime(6) = 20
value = 1100,10
[State 800, X]
type = Playsnd
trigger1 = animelemtime(6) = 20
value = 1100,10

[State 191, 4]
type = ChangeState
trigger1 = parent, anim = 777
value = 7185

;-----------------------------------------------------------------------------
; Intro Selection 
;-----------------------------------------------------------------------------

[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,2

[State 190, SuperStomp]
type = ChangeState
trigger1 = Var(1) = 0
value = 191

[State 190, Transformation]
type = ChangeState
trigger1 = var(1) = 1
value = 193

[State 190, Hurricane!]
type = ChangeState
trigger1 = var(1) = 2
value = 194

;-------------------------------------------------------------------------------
[Statedef 194]
type = S
ctrl = 0
anim = 3334
velset = 0,0,0

[State 194, 0]
type = varrandom
trigger1 = time = 0
v = 47
range = 0,1

[State 1010, 112]
type = playsnd
triggerall = var(47) = 0
trigger1 = time = 10
value = 300, 3

[State 1010, 112]
type = playsnd
triggerall = var(47) = 0
trigger1 = time = 10
value = 300, 3

[State 1010, 112]
type = playsnd
triggerall = var(47) = 1
trigger1 = time = 10
value = 300, 4

[State 1010, 112]
type = playsnd
triggerall = var(47) = 1
trigger1 = time = 10
value = 300, 4

[State 196, 0]
type = VarSet
trigger1 = !time
fvar(0) = Pos X

[State 194, 0]
type = screenbound
trigger1 = time >= 0
value = 0

[State 194, 0]
type = posadd
trigger1 = time = 0
x = -(240-abs(fvar(0)))

[State 1010, 112]
type = velset
trigger1 = time >= 0
x = (206.5-abs(fvar(0)))/45.25
y = -5*(sin(0.075*time))

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "typhoon"
pos = 0,0
postype = p1
stateno = 3333
ownpal = 1

[State 1010, 112]
type = assertspecial
trigger1 = time = [0,900]
flag = intro

[State 1010, 112]
type = changestate
trigger1 = time = 200
value = 3334

[Statedef 3334]
type = S
ctrl = 0
anim = 50619
velset = 0,0,0

[State 196, 0]
type = VarSet
trigger1 = !time
fvar(0) = Pos X

[State 194, 0]
type = screenbound
trigger1 = time >= 0
value = 0

[State 1010, 112]
type = velset
trigger1 = time = 0
x = -(769.5-abs(fvar(0)))/45.25
y = -8

[State 1010, 112]
type = gravity
trigger1 = 1

;[State 1010, 112]
type = veladd
trigger1 = time >= 0
y = .3

[State 1010, 112]
type = assertspecial
trigger1 = time = [0,900]
flag = intro

[State 1010, 112]
type = changeanim
trigger1 = pos y >= 0
value = 5110

[State 197, 0]
type = EnvShake
trigger1 = anim = 5110
time = 20
ampl = -7
persistent = 0

[State 197, 0]
type = PosSet
trigger1 = anim = 5110
y = 0
persistent = 0

[State 1010, 112]
type = velset
trigger1 = anim = 5110
x = 0
y = 0

[State 1010, 112]
type = playsnd
trigger1 = anim = 5110
value = 300, 0
persistent = 0

[State 1700, hadouken hit helper]
type = Explod
trigger1 = anim = 5110
helpertype = normal
name = "typhoon"
pos = 0,0
postype = p1
anim = 9005
ownpal = 1
persistent = 0

[State 1010, 112]
type = varrandom
trigger1 = time = 0
v = 47
range = 0,1

[State 1010, 112]
type = playsnd
triggerall = var(47) = 0
trigger1 = time = 80
value = 300, 2

[State 1010, 112]
type = playsnd
trigger1 = time = 15
value = 300, 1

[State 1010, 112]
type = playsnd
trigger1 = time = 15
value = 300, 1

[State 1010, 112]
type = playsnd
triggerall = var(47) = 0
trigger1 = time = 80
value = 300, 2

[State 1010, 112]
type = playsnd
triggerall = var(47) = 1
trigger1 = time = 80
value = 300, 6

[State 1010, 112]
type = playsnd
triggerall = var(47) = 1
trigger1 = time = 80
value = 300, 6

[State 1010, 112]
type = ChangeState
trigger1 = time = 200
value = 51209

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 51209]
type    = L
movetype= I
physics = N

[State 51209, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 51209, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 51209, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 51209, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 51209, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 51209, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 51209, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 51209, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

[Statedef 3333]
type = S
ctrl = 0
anim = 3333
velset = 0,0,0
sprpriority = 3

[State 196, 0]
type = VarSet
trigger1 = !time
fvar(0) = Pos X

[State 1010, 112]
type = veladd
trigger1 = time = 0
x = -(109.5-abs(fvar(0)))/45.25
y = 0

[State 1010, 112]
type = playsnd
trigger1 = time = 0
value = 556, 555

[State 1010, 112]
type = changeanim
trigger1 = time = 200
value = 3044

[State 1010, 112]
type = destroyself
triggerall = anim = 3044
trigger1 = animelem = 9

[Statedef 191]
type = S
ctrl = 0
anim = 9002
velset = 0,0,0

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "clonei"
pos = -60,0
postype = p1
stateno = 9191
ownpal = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "clonei"
pos = 60,0
postype = p1
stateno = 9191
ownpal = 1

;[State 191,1]
type = ChangeAnim
trigger1 = Time = 0
value = 9002

;[State 191, 2 Explod]
type = Explod
trigger1 = AnimElemTime(4) >= 0
anim = 9005
postype = p1
pos = -18, 0
sprpriority = 0
ownpal = 1

[State 191,AssertSpecial]
type = AssertSpecial
trigger1 = AnimElemTime(2) < 110
flag = Intro

[State 191, 1] ;Intro not yet over
type = VarSet
trigger1 = Time = 100
v = 1
value = 1

[State 191, 2] ;Intro over, set v9 to 0
type = VarSet
trigger1 = Time = 156
v = 1
value = 0

[State 191,2]
type = ChangeAnim
trigger1 = Time = 90
value = 19500

[State 191, 4]
type = PlaySnd
trigger1 = Time = 105
value = 1, 100

[State 191, 4]
type = PlaySnd
trigger1 = Time = 110
value = 55, 0

[State 3450, groundshockwave] 
type = explod
trigger1 = time = 105
anim = 10050
pos = -52,4
sprpriority = -1
postype = p1
supermove = 1
bindtime = 1
ownpal = 1
[State 195, 5]
type = EnvShake
Trigger1 = time = 105
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State 191, 5]
type = ChangeState
trigger1 = time = 185
value = 0

[Statedef 9191]
type = S
ctrl = 0
anim = 90021
velset = 0,0,0

;[State 191,1]
type = ChangeAnim
trigger1 = Time = 0
value = 90021

;[State 191, 2 Explod]
type = Explod
trigger1 = AnimElemTime(4) >= 0
anim = 9005
postype = p1
pos = -18, 0
sprpriority = 0
ownpal = 1

[State 9191,2]
type = ChangeAnim
trigger1 = Time = 90
value = 19501

;[State 191, 4]
;type = PlaySnd
;trigger1 = Time = 105
;value = 1, 100

;[State 191, 4]
;type = PlaySnd
;trigger1 = Time = 110
;value = 55, 0
;volume = 200

[State 191, 4]
type = PlaySnd
trigger1 = Time = 106
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 105
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
ignorehitpause = 1

[State 3450, groundshockwave] 
type = explod
trigger1 = time = 105
anim = 10050
pos = -52,4
sprpriority = -1
postype = p1
supermove = 1
bindtime = 1
ownpal = 1
[State 195, 5]
type = EnvShake
Trigger1 = time = 105
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State 191, 5]
type = destroyself
trigger1 = time = 110
value = 1

;-------------------------------------------------------------------------------
[Statedef 193] ; Transform
type = S
ctrl = 0
anim = 0
velset = 0,0,0

[State 193, 1] ;Intro not yet over
type = AssertSpecial
trigger1 = AnimElemTime(2) < 110
flag = Intro

[State 193, 1] ;Intro not yet over
type = VarSet
trigger1 = Time = 100
v = 1
value = 1

[State 193, 2] ;Intro over, set v9 to 0
type = VarSet
trigger1 = Time = 100
v = 1
value = 0

[State 193,1]
type = ChangeAnim
trigger1 = Time = 0
value = 9004

[State 193, 2]
type = PlaySnd
trigger1 = Time = 10
trigger2 = time = 80
trigger3 = time = 140
trigger4 = time = 210
trigger5 = time = 285
value = 0, 15

[State 193, 2]
type = PlaySnd
trigger1 = Time = 290
value = 10, 2

[State 193, 4]
type = EnvShake
Trigger1 = Time = 12
persistent = 0
time = 10
ampl = -9
freq = 190
phase = 14

[State 193, 4]
type = EnvShake
Trigger1 = Time = 82
persistent = 0
time = 10
ampl = -9
freq = 190
phase = 14

[State 193, 4]
type = EnvShake
Trigger1 = Time = 142
persistent = 0
time = 10
ampl = -9
freq = 190
phase = 14

[State 193, 4]
type = EnvShake
Trigger1 = Time = 212
persistent = 0
time = 10
ampl = -9
freq = 180
phase = 14

[State 193, 4]
type = EnvShake
Trigger1 = Time = 290
persistent = 0
time = 30
ampl = -12
freq = 40
phase = 17

[State 193, 3 Explod]
type = Explod
trigger1 = time = 12
trigger2 = time = 80
trigger3 = time = 140
trigger4 = time = 210
trigger5 = time = 285
anim = 9005
postype = p1
pos = 0, 0
sprpriority = 0
ownpal = 1

[State 193, 3 Explod]
type = Explod
trigger1 = time = 12
trigger2 = time = 80
trigger3 = time = 140
trigger4 = time = 210
trigger5 = time = 285
anim = 9006
postype = p1
pos = 0, 0
sprpriority = 2
ownpal = 1

[State 193, 3 Explod]
type = Explod
trigger1 = time = 0
anim = 9007
postype = p1
pos = 0, 0
sprpriority = 1
ownpal = 1
removetime = 290

[State 193, 3 Explod]
type = Explod
trigger1 = time = 290
anim = 9001
postype = p1
pos = 0, 0
sprpriority = 1
ownpal = 1

[State 193, 3]
type = PlaySnd
trigger1 = Time = 290
value = 0, 15

[State 193, 5]
type = ChangeState
trigger1 = time = 300
value = 0
;---------------------------------------------------------------------------
; Dashing
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;Dash
[Statedef 100]
type    = A   ;Running is on the ground
physics = N   ;We'll define our own physics
anim = 40               
ctrl = 0      ;No control for duration of dash

[State 100, 2]
type = Changestate
trigger1 = Time = 0
value = 101
;---------------------------------------------------------------------------
[Statedef 101]
type = A
physics = N
anim = 100
velset = 7.5,-2
ctrl = 0

[State 101, Up we go]
type = PosAdd
trigger1 = animelem = 2
y = -5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[state 101, SprPriority]
type = sprpriority
trigger1 = 1
value = 1

[State 101, Down we go more!]
type = veladd
trigger1 = 1
y = 0.3

[State 101, 9]
type = ChangeState
trigger1 = (vel y > 0) && (pos y >= -5)
value = 102

;----------------------------------------------------------------------------
;Dash Landing
[Statedef 102]
type = S
physics = N
anim = 101
ctrl = 0

[State 731, Screen Bound OFF]
type = Screenbound
triggerall = Prevstateno = 810
trigger1 = 1
value = 0

[State 102, 1]
type = Velset
trigger1 = Time = 0
x = 0.5
y = 0

[State 102, 1]
type = VelAdd
trigger1 = 1
x = .2
y = 0

[State 102, 1]
type = Posset
trigger1 = Time = 0
y = 0

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 102, 1]
type = Velset
trigger1 = Time = 0
y = 0

[state 102, dust]
type = MakeDust
trigger1 = Time >= 0
pos = -10, -2
spacing = 5

[State 107, Land SOund]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[state 102, Slide Sound]
type = playsnd
trigger1 = animelem = 1
value = 0, 11
volume = -50

[State 102, 1]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Dash Back
[Statedef 105]
type    = A   ;Running is on the ground
physics = N   ;We'll define our own physics
anim = 40   ;Anim action 100
ctrl = 0      ;No control for duration of dash

[State 100, 2]
type = Changestate
trigger1 = Time = 0
value = 106
;---------------------------------------------------------------------------
[Statedef 106]
type = A
physics = N
anim = 105
velset = -7.5,-2
ctrl = 0

[State 106, Up we go]
type = PosAdd
trigger1 = animelem = 2
y = -5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[state 106, SprPriority]
type = sprpriority
trigger1 = 1
value = 1

[State 106, Down we go more!]
type = veladd
trigger1 = 1
y = 0.3

[State 106, 9]
type = ChangeState
trigger1 = (vel y > 0) && (pos y >= -5)
value = 107
;----------------------------------------------------------------------------
;Dash Back Landing
[Statedef 107]
type = S
physics = N
anim = 106
ctrl = 0

[State 106, Dust]
type = MakeDust
trigger1 = Time >= 0
pos = -25, -2
spacing = 5

[State 107, Land SOund]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 107, SlideSound]
type = PlaySnd
trigger1 = time = 0
value = 0, 11
volume = -50

[State 731, Screen Bound OFF]
type = Screenbound
triggerall = Prevstateno = 810
trigger1 = 1
value = 0

[State 107, 1]
type = Velset
trigger1 = Time = 0
x = -0.5
y = 0

[State 107, 1]
type = VelAdd
trigger1 = 1
x = -0.2
y = 0

[State 107, 1]
type = Posset
trigger1 = Time = 0
y = 0

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 107, 1]
type = Velset
trigger1 = Time = 0
y = 0

[State 107, 1]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;Begin normal attacks
;---------------------------------------------------------------------------
; STAND_A
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 4
sprpriority = 2
poweradd= 20
ctrl = 0
anim = 200
velset = 0

[State 200, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage    = 20/(1+var(1)/7.0)
animtype = Light
getpower=   (Var(10)=0)*  30,15
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 5, Hit
pausetime = 8,8
sparkno = 0
sparkxy = -10,-25
guard.sparkno = S9100
hitsound = S6,2
guardsound = S0,100
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.velocity = -1,-3
down.velocity = -1,-3
ground.cornerpush.veloff = -3

[State 201, 2]
type = PlaySnd
trigger1 = animelem = 1, =1
value = 0, 2

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, 5]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;STAND_B
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
sprpriority = 2
ctrl = 0
anim = 210
velset = 0,0

[State 210, WhiffSound]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3

[State 210, 4]
type = VelMul
trigger1 = AnimElem = 8, >= 0
trigger2 = Vel X < -2
x = .85

[State 210, 5] ;ARRR1 tweaked
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
getpower=   (Var(10)=0)*  20,15
givepower = 15,8
damage    = 45/(1+var(1)/7.0)
hitflag = MAFD
guardflag = MA
priority = 4, Hit
pausetime = 10,10
sparkno = 1
guard.sparkno = S9100
sparkxy = 0,-50
hitsound   = S6,4
guardsound = S0,100
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -3
guard.velocity = -6
air.velocity = -2,-3.5
air.hittime = 15
down.velocity = -2,-3
ground.cornerpush.veloff = -3

[State 210, 6] 
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage    = 20/(1+var(1)/7.0)
animtype = Medium
getpower=   (Var(10)=0)*  30,15
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10,10
sparkno = 1
guard.sparkno = S9100
sparkxy = 0,-75
hitsound = S6,4
guardsound = S0,100
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3
guard.velocity = -6
air.type = Low
air.velocity = -2,-3.5
air.hittime = 15
down.velocity = -2,-3
ground.cornerpush.veloff = -3

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 6]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;STAND_C
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 70
ctrl = 0
anim = 220
sprpriority = 2
velset = 0,0

[State 220, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 4

[State 220, 1]
type = PosAdd
trigger1 = AnimElem = 3
x = 7

[State 220, 1]
type = PosAdd
trigger1 = AnimElem = 9
x = -5

[State 220, 1]
type = PosAdd
trigger1 = AnimElem = 3, =2
;trigger2 = AnimElem = 4, =1
x = 5

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Heavy
getpower=   (Var(10)=0)*  60,30
givepower = 40,20
damage    = 80/(1+var(1)/7.0)
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = S9100
sparkxy = 5,-50
hitsound   = S6,6
guardsound = S0,100
ground.type = Low
ground.slidetime = 20
ground.hittime  = 25
ground.velocity = -5
guard.velocity = -6
air.velocity = -3,-4
down.velocity = -5,-3
ground.cornerpush.veloff = -6

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 220, 6]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;STAND_X
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 15
sprpriority = 2
ctrl = 0
anim = 230
velset = 0

[State 230, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 20/(1+var(1)/7.0)
animtype = Light
getpower=   (Var(10)=0)*  20,10
givepower = 15,8
guardflag = HA
hitflag = HAFD
priority = 5, Hit
pausetime = 8,8
sparkno = 0
guard.sparkno = S9100
sparkxy = 5,-75
hitsound = S6,1
guardsound = S0,100
guard.velocity = -4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.type = Low
air.velocity = -1,-3
air.hittime = 10
down.velocity = -1,-3
ground.cornerpush.veloff = -3

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 230, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;STAND_Y
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 70
ctrl = 0
anim = 240
velset = 0,0
sprpriority = 2

[State 240, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 30/(1+var(1)/7.0)
animtype = Medium
getpower=   (Var(10)=0)*  60,30
givepower = 30,20
guardflag = MA
hitflag = HAFD
priority = 4, Hit
pausetime = 10,10
sparkno = 1
guard.sparkno = S9100
sparkxy = 0,-65
hitsound = S6,3
guardsound = S0,100
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-4
air.hittime = 15
down.velocity = -2,-3
ground.cornerpush.veloff = -3

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 240, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;STAND_Z
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 10
sprpriority = 2
poweradd= 80
velset = 0,0
ctrl = 0
anim = 250

[State 225, Fierce]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 11
channel = 0
[State 225, WhiffSound]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4

[State 250, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 80/(1+var(1)/7.0)
animtype = Heavy
getpower=   (Var(10)=0)*  40,20
givepower = 30,15
guardflag = MA
hitflag = HAFD
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = S9100
sparkxy = 0,-75
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5
guard.velocity = -6
air.type = Low
air.velocity = -3,-4
down.velocity = -3,-3
ground.cornerpush.veloff = -5

[State 250, 3]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = movecontact = 0
attr = S, NA
damage    = 90/(1+var(1)/7.0)
animtype = Heavy
getpower=   (Var(10)=0)*  40,20
givepower = 30,15
guardflag = MA
hitflag = HAFD
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = S9100
sparkxy = 0,-75
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5
guard.velocity = -6
air.type = Low
air.velocity = -3,-4
down.velocity = -3,-3
ground.cornerpush.veloff = -5

[State 250, 3]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = movecontact = 0
attr = S, NA
damage    = 90/(1+var(1)/7.0)
animtype = Heavy
getpower=   (Var(10)=0)*  40,20
givepower = 30,15
guardflag = MA
hitflag = HAFD
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = S9100
sparkxy = 0,-75
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5
guard.velocity = -6
air.type = Low
air.velocity = -3,-4
down.velocity = -3,-3
ground.cornerpush.veloff = -5

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 250, 6]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
; CROUCH_A
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 20 
ctrl = 0
anim = 400
sprpriority = 2
velset = 0,0

[State 400, WhiffSound]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 20/(1+var(1)/7.0)
animtype = Light
getpower=   (Var(10)=0)*  20,10
givepower = 15,8
guardflag = L
hitflag = MFD
priority = 5, Hit
pausetime =8,8
sparkno = 0
guard.sparkno = S9100
sparkxy = 0,-5
hitsound = S6,2
guardsound = S0,100
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
down.velocity = -1,-3

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 400, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
; CROUCH_B
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 60
ctrl = 0
anim = 410
velset = 0,0
sprpriority = 2


[State 410, Whiff]
type = PlaySnd
trigger1 = Time = 3
value = 0, 3

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 45/(1+var(1)/7.0)
animtype = Medium
getpower=   (Var(10)=0)*  30,15
givepower = 15,8
guardflag = L
hitflag = MFD
priority = 4, Hit
pausetime = 10,10
sparkno = 1
guard.sparkno = S9100
sparkxy = 0,-5
hitsound = S6,4
guardsound = S0,100
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3
down.velocity = 0,-3


[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 410, 5]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;CROUCH_C
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 90
ctrl = 0
sprpriority = 2
anim = 420
velset = 0,0

[State 420, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 80/(1+var(1)/7.0)
getpower=  (Var(10)=0)* 40,20
givepower = 30,15
hitflag = MFD
guardflag = L
priority = 3, Hit
pausetime = 12,12
sparkxy = 0,-10
sparkno = 2
guard.sparkno = S9100
hitsound   = S6,6
guardsound = S0,100
ground.type = Trip
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,-2
air.velocity = 0, -2
guard.velocity = -2
fall = 1
down.velocity = -2,-2

[State 420, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 420, 7]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
; CROUCH_X
[Statedef 430]
type    = C
movetype= A
physics = C
sprpriority = 2
juggle  = 1
poweradd= 15
ctrl = 0
anim = 430

[State 405, whiffsound]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1


[State 430, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 20/(1+var(1)/7.0)
animtype = Light
getpower=   (Var(10)=0)*  20,10
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 5, Hit
pausetime = 8,8
sparkno = 0
guard.sparkno = S9100
sparkxy = 0,-48
hitsound = S6,1
guardsound = S0,100
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3
air.hittime = 10
down.velocity = -2,-3


[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 430, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
; CROUCH_Y
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 40
sprpriority = 2
ctrl = 0
anim = 440

[State 415, Whiff]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 440, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 45/(1+var(1)/7.0)
animtype = Medium
getpower=   (Var(10)=0)*  30,15
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10,10
sparkno = 1
guard.sparkno = S9100
sparkxy = 0,-50
hitsound = S6,3
guardsound = S0,100
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-3.5
air.hittime = 15
down.velocity = -2,-3

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 440, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
; CROUCH_Z
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 80
sprpriority = 2
ctrl = 0
anim = 450

[State 425, Whiff]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 4

[State 450, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3 
trigger2 = !movecontact
attr = C, NA
damage    = 50/(1+var(1)/7.0)
animtype = Up
getpower=   (Var(10)=0)*  50,25
givepower = 30,15
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = S9100
sparkxy = 0,-60
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,-11
air.type = High
air.velocity = -0,-10
fall.recover = 0
air.fall = 0
fall = 0
air.recover = 0
air.juggle = 4
down.velocity = 0,-12


[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 450, 5]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;JUMP_A
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 4
sprpriority =2
poweradd= 15
ctrl = 0
anim = 600

[State 600, Whiff]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage    = 20/(1+var(1)/7.0)
getpower=  (Var(10)=0)* 10
givepower = 10
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 8,8
sparkno = 0	
guard.sparkno = S9100
sparkxy = 0,-40
hitsound   = S6,2
guardsound = S0,100
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -4
air.type = low
air.velocity = -2,-3
air.hittime = 10
air.juggle = 4

[State 600, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 600, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;JUMP_B
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
sprpriority = 2
poweradd= 40
ctrl = 0
anim = 610

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 610, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 65/(1+var(1)/7.0)
getpower=  (Var(10)=0)* 50
givepower = 25
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkxy = 0,-51
sparkno = 1
guard.sparkno = S9100
hitsound   = S6,4
guardsound = S0,100
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -4
air.type = low
air.velocity = -3,-3.5
air.hittime = 15
air.juggle = 4
fall.recovertime = 20

[State 610, 2]
type = Width
trigger1 = AnimElemNo(0) = 3
value = 20,-5

[State 610, 2]
type = Width
trigger1 = !(AnimElemNo(0) & 1)
value = 10,-2

[State 610, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 610, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------

;JUMP_C
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 80
sprpriority = 2
ctrl = 0
anim = 620

[State 620, Whiff]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 620, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 80/(1+var(1)/7.0)
getpower=  (Var(10)=0)* 30
givepower = 40
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 14,14
sparkxy = 0,-50
sparkno = 2
guard.sparkno = S9100
hitsound   = S6,6
guardsound = S0,100
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -7,3
air.type = Low
airguard.velocity = -4,-4
air.fall = 1
fall.xvelocity = -3
fall.damage = 10/(1+var(1)/7.0)
air.juggle = 4

[State 620, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

[State 620, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;JUMP_X
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 4
sprpriority = 2
poweradd= 15
ctrl = 0
anim = 630

[State 605, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 630, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 20/(1+var(1)/7.0)
getpower=  (Var(10)=0)* 10
givepower = 10
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 8,8
sparkxy = 0,-50
sparkno = 0
guard.sparkno = S9100
hitsound   = S6,1
guardsound = S0,100
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -4
air.type = low
air.velocity = -2,-3
air.hittime = 10
air.juggle = 4
fall.recovertime = 20

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 630, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;JUMP_Y
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
sprpriority = 2
poweradd= 50
ctrl = 0
anim = 640

[State 615, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 640, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 55/(1+var(1)/7.0)
getpower=  (Var(10)=0)* 40
givepower = 25
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkxy = 0,-60
sparkno = 1
guard.sparkno = S9100
hitsound   = S6,3
guardsound = S0,100
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -4
air.type = low
air.velocity = -3,-3.5
air.juggle = 4
fall.recovertime = 20

[State 640, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 640, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;---------------------------------------------------------------------------
;JUMP_Z
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 80
sprpriority = 2
ctrl = 0
anim = 650

[State 625, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 650, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 80/(1+var(1)/7.0)
getpower=  (Var(10)=0)* 30
givepower = 40
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 14,14
sparkxy = 0,-60
sparkno = 2
guard.sparkno = S9100
hitsound   = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -7.5,5
airguard.velocity = -4,-4
air.type = low
air.fall = 1
fall.xvelocity = -5
fall.damage = 10/(1+var(1)/7.0)
air.juggle = 4

[State 650, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 650, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

;-----------
; Taunt here.

[Statedef 195]
type = S
movetype = I
physics = S
anim = 195
velset = 0
ctrl = 0
poweradd=  (Var(10)=0)* 200


[State 195, 5]
type = PlaySnd
trigger1 = Time = 13
value = 1,100
[State 195, 5, voce]
type = PlaySnd
trigger1 = Time = 15
value = 10,100
[State 3450, groundshockwave] 
type = explod
trigger1 = time = 16
anim = 10050
pos = -52,4
sprpriority = -1
postype = p1
supermove = 1
bindtime = 1
ownpal = 1
[State 195, 5]
type = EnvShake
Trigger1 = time = 16
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10
[State 210, var(44) Defense up!]
type = varset
trigger1 = animtime = 0
v = 44
value = 1
[State 195, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Specialz
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Tenma Kuujin Kyaku A (Diving Kick)
[Statedef 1860]
type = A
movetype = A
poweradd=  (Var(10)=0)* 120
anim = 750
ctrl = 0
sprpriority = 2
[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,10
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 5
y = 8
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 10
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 8,8
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 5
value = 1864

[Statedef 1864]
type = C
movetype = I
physics = C
Anim = 13034
ctrl = 0

[State 1820, 1]
type = afterimagetime
trigger1 = 1
time = 0

[State 1820, 1]
type = posadd
trigger1 = time = 0
x = 20
[State 1820, 1]
type = posset
trigger1 = time = 0
y = 0
[State 1820, 1]
type = turn
trigger1 = p2bodydist X <= 0 && time = 4
[State 1820, 1]
type = velset
trigger1 = time = 0
y = 0
[State 52, Land SOund]
type = PlaySnd
trigger1 = Time = 0
value = 0,0
[State 1820, 1]
type = changestate
trigger1 = time = 4
value = 12
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1861]
type = A
movetype = A
poweradd=  (Var(10)=0)* 120
anim = 750
ctrl = 0
sprpriority = 2
[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,10
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 5.5
y = 7.5
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
triggerall = Var(10) = 0
trigger1 = AnimElem = 3
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 7]
type = HitDef
triggerall = Var(10) > 1
trigger1 = AnimElem = 3
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = HAFD
guardflag = HA
pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Light
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, -6
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 5
value = 1864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 1863

[Statedef 1863]
type = A
movetype = I
Physics = N
anim = 13007
ctrl = 0
sprpriority = 2
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 0
y = .30
[State 1852, 6]
type = Velset
trigger1 = Time = 0
x = 5.2
y = -7
[State 2001, 8]
type = turn
trigger1 = animelem = 6
persistent = 0
[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 0
value = 1803
[Statedef 1803]
type = A
movetype = A
physics = A

[State 1820, 1]
type = varset
trigger1 = 1
v = 28
value = 0

[State 1820, 1]
type = changeanim
trigger1 = time = 0
value = 44
[Statedef 1862]
type = A
movetype = A
poweradd=  (Var(10)=0)* 120
anim = 750
ctrl = 0
sprpriority = 2
[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,10
channel = 0
volume = 255
[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 10
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno =1060
ownpal = 1
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 6
y = 7
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
trigger1 = time > 0
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
[State 1710, FireB]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1852, 8]
type = ChangeAnim
trigger1 = MoveContact
persistent = 0
value = 13006
[State 1852, 8]
type = ctrlset
trigger1 = MoveContact
value = 1
[State 1852, 8]
type = ChangeState
triggerall = movecontact = 0
trigger1 = pos y >= 5
value = 1864
[State 1852, 8]
type = ChangeState
triggerall = MoveContact
trigger1 = pos y >= 5
value = 1803

[Statedef 1864]
type = C
movetype = I
physics = C
Anim = 13034
ctrl = 0
[State 1820, 1]
type = posadd
trigger1 = time = 0
x = 20
[State 1820, 1]
type = posset
trigger1 = time = 0
y = 0
[State 1820, 1]
type = turn
trigger1 = p2bodydist X <= 0 && time = 4
[State 1820, 1]
type = velset
trigger1 = time = 0
y = 0
[State 52, Land SOund]
type = PlaySnd
trigger1 = Time = 0
value = 0,0
[State 1820, 1]
type = changestate
trigger1 = time = 4
value = 12
ctrl = 1

[Statedef 1060]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 12222
velset = 0,0
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 1000, FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = 50,-20
random = 10,10
bindtime = 1
sprpriority = 5
ownpal = 1
vel = -1,-1
[State 1000, FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = 50,-20
random = 10,10
bindtime = 1
sprpriority = 5
ownpal = 1
vel = -1,-1
[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 218,168,245
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = parent,pos y >= 5
trigger2 = parent,stateno != 1862
trigger2 = parent,stateno != 4055

[Statedef 91060]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 12223
velset = 0,0
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 218,168,245
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = time > 12
;trigger1 = parent,anim = 1020
;trigger1 = parent,animelem != 10

[Statedef 910600]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 12224
velset = 0,0
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 218,168,245
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = time > 12
;trigger1 = parent,anim = 1020
;trigger1 = parent,animelem != 10

[Statedef 9106001]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 12325
velset = 0,0
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 218,168,245
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = time > 12
;trigger1 = parent,anim = 1020
;trigger1 = parent,animelem != 10

[Statedef 9106000]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 12324
velset = 0,0
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 218,168,245
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = time > 12
;trigger1 = parent,anim = 1020
;trigger1 = parent,animelem != 10

[Statedef 910601]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 12234
velset = 0,0
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 218,168,245
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = time > 12
;trigger1 = parent,anim = 1020
;trigger1 = parent,animelem != 10

;============================================================================
[Statedef 1862]
type = A
movetype = A
poweradd=  (Var(10)=0)* 120
anim = 750
ctrl = 0
sprpriority = 2
[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,10
channel = 0
volume = 255
[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 10
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 1060
ownpal = 1
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 6
y = 7
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
trigger1 = time > 0
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
[State 1710, FireB]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1852, 8]
type = ChangeAnim
trigger1 = MoveContact
persistent = 0
value = 13006
[State 1852, 8]
type = ctrlset
trigger1 = MoveContact
value = 1
[State 1852, 8]
type = ChangeState
triggerall = movecontact = 0
trigger1 = pos y >= 5
value = 1864
[State 1852, 8]
type = ChangeState
triggerall = MoveContact
trigger1 = pos y >= 5
value = 1803

;============================================================================
Shin Premium Weak
[Statedef 1788] ;colpito
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 777 ;null
sprpriority = 2

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 1
X = -4
Y = 8

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
value = 971488

[Statedef 971488] ;vien fuori
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9714
sprpriority = 2

[State 3450, Shadows]
type = Afterimage
trigger1 = Time = 0
time = 2000
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add

[State 1100, 1] ; disable guarding
type = ScreenBound
trigger1 = time >= 25
;movecamera
value = 1

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.04

[State 191, 4]
type = veladd
triggerall = pos Y < 0
trigger1 = time >= 16
y = .07

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y >= 0
y = 0
persistent = 1

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 9
value = 65168

[State 191, 4]
type = changeanim
trigger1 = time = 110
value = 6031

[State 191, 4]
type = changeanim
trigger1 = time = 440
value = 6035

[State 191, 4]
type = changestate
trigger1 = time = 2300
value = 1255

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

[State 1100, 1]
type = helper
trigger1 = time = 500
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -3, -94
postype = p1
stateno = 6036
keyctrl = 0
ownpal = 1
name = "Goccia"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 500
helpertype = normal
size.xscale = .5
size.yscale = .5
id = 51100
pos = 28, -105
postype = p1
stateno = 6037
keyctrl = 0
ownpal = 1
name = "Gocciona"
size.shadowoffset = 0

[State 191, 4]
type = changeanim
trigger1 = time = 615
value = 6516

[State 191, 4]
type = playsnd
trigger1 = time = 615
value = 2100,4

[State 191, 4]
type = changestate
trigger1 = time = 635
value = 1255

[Statedef 6036] ;goccia
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 6036
sprpriority = 3

[State 11001, HitOverride]
type = VelSet
trigger1 = time = 20
Y = .09
persistent = 0

[State 11001, HitOverride]
type = VelSet
trigger1 = time = 70
Y = 0
persistent = 0

[State 11001, HitOverride]
type = Destroyself
trigger1 = time = 106
value = 1


[Statedef 6037] ;gocciona
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 6037
sprpriority = 3

[State 11001, HitOverride]
type = ChangeAnim
trigger1 = time = 100
value = 6038

[State 11001, HitOverride]
type = Destroyself
trigger1 = time = 106
value = 1


[Statedef 71388] ;"proiettile" colpito
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 54444
sprpriority = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
value = 61388

[State 1100, 2]
type = BindToParent
trigger1 = time = 0
time = 0
value = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = 0, 0
postype = p1
stateno = 64844
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

[Statedef 64844]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 812
sprpriority = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 25
value = 1

[State 1100, 2]
type = BindToParent
trigger1 = time >= 0
time = -1
value = 1
persistent = 1
ignorehitpause = 1

[Statedef 54844]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 912
sprpriority = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 1000
value = 1

[State 1100, 2]
type = BindToParent
trigger1 = time >= 0
time = -1
value = 1
persistent = 1
ignorehitpause = 1

[State 11001, HitOverride]
type = DestroySelf
triggerall = time > 30
trigger1 = root, stateno != 971488
value = 1

[Statedef 61388]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444
sprpriority = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = 0, 0
postype = p1
stateno = 54844
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

[State 1100, 1]
type = helper
triggerall = time > 30
trigger1 = root, stateno != 971488
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[State 11001, HitOverride]
type = DestroySelf
triggerall = time > 30
trigger1 = root, stateno != 971488
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 9871488
keyctrl = 0
ownpal = 1
name = "Fantasma Kouryu"
size.shadowoffset = 0

[Statedef 9871488] ;fantasma Kouryu
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 2

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 16
value = 1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.055

[State 191, 4]
type = veladd
triggerall = pos Y < 0
trigger1 = time >= 16
y = .07

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y >= 0
y = 0
persistent = 1

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 87168

[State 191, 4]
type = changeanim
trigger1 = time = 110
value = 8716

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 110
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, 4]
type = PlaySnd
trigger1 = Time = 111
value = 55, 2
channel = 0
volume = 255



[State 182, 2]
type = Playsnd
triggerall = time > 115
triggerall = time <= 155
trigger1 = (GameTime%50) = 0
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 156
triggerall = time <= 195
trigger1 = (GameTime%40) = 0
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 196
triggerall = time <= 235
trigger1 = (GameTime%30) = 0
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 236
triggerall = time <= 275
trigger1 = (GameTime%20) = 0
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 275
trigger1 = (GameTime%10) = 0
value = 250,0
[State 182, Explod1]
type = Explod
triggerall = time > 115
triggerall = time <= 155
trigger1 = (GameTime%50) = 0
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod2]
type = Explod
triggerall = time > 156
triggerall = time <= 195
trigger1 = (GameTime%40) = 0
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod3]
type = Explod
triggerall = time > 196
triggerall = time <= 235
trigger1 = (GameTime%30) = 0
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod4]
type = Explod
triggerall = time > 236
triggerall = time <= 275
trigger1 = (GameTime%20) = 0
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod5]
type = Explod
triggerall = time > 275
trigger1 = (GameTime%10) = 0
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod1]
type = Explod
triggerall = time > 115
triggerall = time <= 155
trigger1 = (GameTime%50) = 0
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod2]
type = Explod
triggerall = time > 156
triggerall = time <= 195
trigger1 = (GameTime%40) = 0
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod3]
type = Explod
triggerall = time > 196
triggerall = time <= 235
trigger1 = (GameTime%30) = 0
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod4]
type = Explod
triggerall = time > 236
triggerall = time <= 275
trigger1 = (GameTime%20) = 0
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod5]
type = Explod
triggerall = time > 275
trigger1 = (GameTime%10) = 0
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State 1002, charge sound]
type = playsnd
trigger1 = time = 110
value = 7,4
volume = -50

[State 1002, charge sound]
type = playsnd
trigger1 = time = 110
value = 1,3
volume = 255

[State 181, Randomizer1]
type = VarRandom
trigger1 = 1
v = 51
range = -2,-4
[State 181, Randomizer2]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 35
range = -2,-4
[State 181, Randomizer3]
type = VarRandom
trigger1 = 1
v = 36
range = -3, -9
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = 2,10
[State 1700, Remove Flaming Aura]
type = RemoveExplod
trigger1 = time > 440
id = 1006

[State 191, 4]
type = EnvShake
trigger1 = time = 250
time = 50
freq = 30
[State 191, 4]
type = EnvShake
trigger1 = time = 300
time = 140

[State 1002, charge sound]
type = playsnd
trigger1 = time = 250
value = 999,2
volume = 255
[State 1002, charge sound]
type = playsnd
trigger1 = time = 250
value = 999,2
volume = 255
[State 1002, charge sound]
type = playsnd
trigger1 = time = 250
value = 999,2
volume = 255

[State 191, 4]
type = changeanim
trigger1 = time = 215
value = 87168

[State 191, 4]
type = changeanim
trigger1 = time = 315
value = 6033

[State 191, 4]
type = changeanim
trigger1 = time = 390
value = 6034

[State 1100, 2]
type = DestroySelf
trigger1 = time = 441
value = 1

[State 182, Explod5]
type = Helper
trigger1 = time = 115
stateno = 77778
ID = 1006
postype = P1
pos = 0,-15
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
ignorehitpause = 1

[Statedef 77778]
type = A
movetype = I
Physics = N
anim = 7210
ctrl = 0
sprpriority = 3

[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 15
volume = 255
persistent = 1

[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 19
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 19
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 19
value = 0, 15
volume = 255
persistent = 1

[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 35
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 35
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 35
value = 0, 15
volume = 255
persistent = 1

;[State 191, Energy 1 Explod]
;type = bindtoparent
;trigger1 = 1
;value = 1

[State 191, Energy 1 Explod]
type = destroyself
trigger1 = time = 325

;----------------------------------------------------------------------------
;SHin Premium Strong

[Statedef 178] ;colpito
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 777 ;null
sprpriority = 2

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 1
X = -4
Y = 8

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
value = 97148

[Statedef 97148];esce
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9714
sprpriority = 2

[State 3450, Shadows]
type = Afterimage
trigger1 = Time = 0
time = 1000
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 1100, 1] ; disable guarding
type = ScreenBound
trigger1 = time >= 25
;movecamera
value = 1

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.04

[State 191, 4]
type = veladd
triggerall = pos Y < 0
trigger1 = time >= 16
y = .07

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y >= 0
y = 0
persistent = 1

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 9
value = 65168

[State 191, 4]
type = changeanim
trigger1 = time = 230
value = 6516

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 230
value = 2100,4
volume = 255

[State 191, 4]
type = changestate
trigger1 = time = 300
value = 12558

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

;finale Kouryuuken start
[Statedef 12558]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0 
anim = 19
juggle = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1070, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1070, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1070, 1]
type = NotHitBy
trigger1 = anim = 19
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1070, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 325718

[State 1070, 5]
type = PlaySnd
trigger1 = animelem = 2, =-1
volume = 255
value = 2100,3  ; Kouryuuken
;channel = 0
;[State 1070, 5]
;type = PlaySnd
;trigger1 = animelem = 2, =-1
;volume = 255
;value = 10,100  ; Kouryuuken
;channel = 0

[State 1070, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1080, 2]
type = HitDef
trigger1 = AnimElem = 22
attr = S, SA
animtype = back 
damage = 77/(1+var(1)/7.0),10
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10, -60
hitsound = S6,5
guardsound = S0,100
guard.sparkno = S9200
ground.velocity = -3, -7
ground.hittime = 20
air.velocity = -3, -6.5
fall = 1
fall.recovertime = 46
fall.damage = 12/(1+var(1)/7.0)


; finale kouryuuken (going up)
[Statedef 325718]
type = A
movetype = A
movehitpersist = 1
velset = 2, -14
juggle = 0

[State 1071, 1]
type = NotHitBy
trigger1 = anim = 19
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1071, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1071, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1081, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 1081, 1]
type = HitDef
triggerall = var(28) < 2
trigger1 = AnimElem = 3
trigger1 = movehit = 0
attr = A, SA
damage = 5700/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 60, 65
sparkxy = 0, -80
sparkno = S9420
guard.sparkno = S9200
hitsound = S10000,0
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -11
;air.velocity = -5, -11
air.velocity = 0, -11
air.juggle = 10
fall = 1
fall.recover = 0

[State 1081, 1]
type = HitDef
triggerall = var(28) = 2
trigger1 = AnimElem = 3
trigger1 = movehit = 0
attr = A, SA
damage = 2700/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 60, 65
sparkxy = 0, -80
sparkno = S9420
guard.sparkno = S9200
hitsound = S10000,0
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -11
;air.velocity = -5, -11
air.velocity = 0, -11
air.juggle = 10
fall = 1
fall.recover = 0

[State 1081, 1]
type = HitDef
triggerall = var(28) >= 3
trigger1 = AnimElem = 3
trigger1 = movehit = 0
attr = A, SA
damage = 700/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 60, 65
sparkxy = 0, -80
sparkno = S9420
guard.sparkno = S9200
hitsound = S10000,0
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -11
;air.velocity = -5, -11
air.velocity = 0, -11
air.juggle = 10
fall = 1
fall.recover = 0

[Statedef 7138] ;"proiettile" colpito
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 54444
sprpriority = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
value = 6138

[State 1100, 2]
type = BindToParent
trigger1 = time = 0
time = 0
value = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = 0, 0
postype = p1
stateno = 64444
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

[Statedef 544448];vuoto impression
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 912
sprpriority = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 1000
value = 1

[State 1100, 2]
type = BindToParent
trigger1 = time >= 0
time = -1
value = 1
persistent = 1
ignorehitpause = 1

[State 11001, HitOverride]
type = DestroySelf
triggerall = time > 30
trigger1 = root, stateno != 97148
value = 1

[Statedef 6138];make ghosts
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444
sprpriority = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = 0, 0
postype = p1
stateno = 544448
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

[State 1100, 1]
type = helper
triggerall = time > 30
trigger1 = root, stateno != 97148
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[State 11001, HitOverride]
type = DestroySelf
triggerall = time > 30
trigger1 = root, stateno != 97148
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 987148
keyctrl = 0
ownpal = 1
name = "Fantasma Kouryu"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 987158
keyctrl = 0
ownpal = 1
name = "Fantasma Dakku Destra"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 987168
keyctrl = 0
ownpal = 1
name = "Fantasma Dakku Sinistra"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 987178
keyctrl = 0
ownpal = 1
name = "Fantasma Diving Sinistra"
size.shadowoffset = 0


[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 987188
keyctrl = 0
ownpal = 1
name = "Fantasma Diving Destra"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 999
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[Statedef 987148] ;fantasma Kouryu
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 2

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 16
value = 1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.055

[State 191, 4]
type = veladd
triggerall = pos Y < 0
trigger1 = time >= 16
y = .07

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y >= 0
y = 0
persistent = 1

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 87168

[State 191, 4]
type = changeanim
trigger1 = time = 230
value = 8716

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 231
value = 2100,4
volume = 255

[State 191, 4]
type = changestate
trigger1 = time = 300
value = 12557

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

;finale Kouryuuken fantasma start
[Statedef 12557]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0 
anim = 19878
juggle = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1070, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1070, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1070, 1]
type = NotHitBy
trigger1 = anim = 19
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1070, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 325717

[State 1070, 5]
type = PlaySnd
trigger1 = animelem = 3
volume = 255
value = 2100,3  ; Kouryuuken
persistent = 0
;channel = 0
;[State 1070, 5]
;type = PlaySnd
;trigger1 = animelem = 2, =-1
;volume = 255
;value = 10,100  ; Kouryuuken
;channel = 0

[State 1070, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1080, 2]
type = HitDef
trigger1 = AnimElem = 22
attr = S, SA
animtype = back 
damage = 77/(1+var(1)/7.0),10
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10, -60
hitsound = S6,5
guardsound = S0,100
guard.sparkno = S9200
ground.velocity = -3, -7
ground.hittime = 20
air.velocity = -3, -6.5
fall = 1
fall.recovertime = 46
fall.damage = 12/(1+var(1)/7.0)


; finale kouryuuken fantasma (going up)
[Statedef 325717]
type = A
movetype = A
movehitpersist = 1
velset = 2, -14
juggle = 0

[State 1071, 1]
type = NotHitBy
trigger1 = anim = 19
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1071, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1071, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1071, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 31062

[State 1081, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = movehit = 0
attr = A, SA
damage = 87/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 60, 65
sparkxy = 0, -80
sparkno = S9420
guard.sparkno = S9200
hitsound = S10000,0
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -11
;air.velocity = -5, -11
air.velocity = 0, -11
air.juggle = 10
fall = 1
fall.recover = 0

[Statedef 987158] ;fantasma Dakku destra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 16
value = 1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.055

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y < -10
y = .07

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y >= -10
y = .01

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9716

[State 191, 4]
type = changestate
trigger1 = time = 90
value = 311028

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

[Statedef 987168] ;fantasma Dakku sinistra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.04

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y < -10
y = .07

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y >= -10
y = .01

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9716


[State 191, 4]
type = changestate
trigger1 = time = 130
value = 311028


;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

[Statedef 311028]
type    = A
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 311008
ctrl = 0

[State 1007, L]
type = velset
trigger1 = time = 0
;x = 4
y = -1.5

[State 1007, L]
type = veladd
trigger1 = time > 0
trigger1 = time <= 6
y = -.09

[State 1007, L]
type = veladd
trigger1 = time > 6
trigger1 = time <= 90
y = .05

[State 1007, L]
type = veladd
trigger1 = time > 96
y = .2

[State 1007, da] ; "Da da"
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
value = 1100,3

[State 1007, woosh]
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
value = 0,4
channel = 2

[State 1007, siya]
type = playsnd
trigger1 = animelem = 23
value = 1100,7

[State 1007, 0]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
p2stateno = 918
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 61/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 6,100
sparkxy = -10,-70
hitsound = S6, 6
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -2.5
fall = 1
fall.recover = 0

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = animelem = 22
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 22
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910600
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 1007, 1]
type = HitDef
trigger1 = animelem = 23
attr = A, HA
animtype  = Hard
damage    = 103/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
p2stateno = 918
pausetime = 12,100
sparkxy = -10,-70
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1710, FireB]
type = Explod
trigger1 = (MoveHit) && (AnimElem = 23)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = (MoveHit) && (AnimElem = 23)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1051, 2] 
type = ChangeState
trigger1 = pos y > -5
trigger1 = time > 87
value = 71002

[Statedef 987178] ;fantasma Diving sinistra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.04

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
y = -.017
;y = -.012

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9717

[State 191, 4]
type = changestate
trigger1 = time = 110
value = 1862998

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

[Statedef 987188] ;fantasma Diving destra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 16
value = 1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.055

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
y = -.017
;y = -.012

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9717

[State 191, 4]
type = changestate
trigger1 = time = 150
value = 1862998

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

[Statedef 1862998];fantasma diving
type = A
movetype = A
physics = N
anim = 750998
velset = 0,0
ctrl = 0

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 90078
ownpal = 1
persistent = 0

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 90078
ownpal = 1
persistent = 0

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 90078
ownpal = 1
persistent = 0

[State 1500, 0]
type = Changestate
trigger1 = time = 70
value = 1862988

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "clone1"
pos = 0,0
postype = p1
stateno = 106198
ownpal = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "clone2"
pos = 0,0
postype = p1
stateno = 106197
ownpal = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "clone3"
pos = 0,0
postype = p1
stateno = 106196
ownpal = 1

[Statedef 1862988]
type = A
movetype = A
physics = N
anim = 750988
velset = 6,9
ctrl = 0
sprpriority = 2

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 0
value = 1100, 7
volume = 255

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time >= 0 && NumHelper(14) < 3
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 106199
ownpal = 1
[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 1
value = 6,9
volume = 255

[State 1852, 6]
type = Velmul
trigger1 = Time = [0,10]
x = 0.83
y = 0.83
;[State 1852, 6]
type = Velset
trigger1 = animelem = 1
x = 6
y = 9
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 10
y = .30

[State 1852, 7]
type = HitDef
trigger1 = time > 0
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
p2stateno = 918
pausetime = 48,100
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall = 1
fall.recover = 0
down.velocity = 0,0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
;envshake.time = 48

[State 1710, FireB]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 5
value = 81864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 81963

;[State 1852, 8]
;type = ChangeAnim
;trigger1 = MoveContact
;persistent = 0
;value = 13006

;[State 1852, 8]
;type = ChangeState
;triggerall = movecontact = 0
;trigger1 = pos y >= 5
;value = 1864

;[State 1852, 8]
;type = ChangeState
;triggerall = MoveContact
;trigger1 = pos y >= 5
;value = 1803

;============================================================================
;Shin Premium Sign Normal
[Statedef 14]
type = S
movetype = A
;physics = N
velset = 0,0
ctrl = 0
anim = 14
poweradd = -1000
sprpriority = 2

;[State 181, Randomizer]
;type = Varset
;trigger1 = time = 3
;v = 28
;value = 0


[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100
[State 1500, 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0
[State 1500, 0]
type = VarSet
trigger1 = time = 0
v = 21
value = 0

;[State 3450, NotHitBy]
;type = NotHitBy
;trigger1 = Time = [0,30]
;value = SCA
;time = 1

[State 3450, Ikuze]
type = PlaySnd
trigger1 = AnimElem = 5
value = 14,0
volume = 255
channel = 0

[State 3450, Push]
type = playerpush
trigger1 = time >= 0
value = 1
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 6
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,340
time           = 80
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 6
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 80
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 6
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 80
ignorehitpause = 1
invertall = 1
[State 3450, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = AnimELem = 6
anim = -1
pos = 13, -45
time = 80
sprpriority = 3
movetime = 2
[State 3450, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = AnimELem = 6
anim = -1
pos = 13, -45
time = 80
sprpriority = 3
movetime = 2
[State 3450, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 6
anim = 10060
pos = 62, -80
sprpriority = 4
postype = p1
supermove = 1
;bindtime = 53
ownpal = 1
pausemovetime = 9999
[State 3450, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 6
anim = 10061
pos = 62, -80
sprpriority = 4
postype = p1
supermove = 1
;bindtime = 53
ownpal = 1
pausemovetime = 9999
[State 3450, Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 6
anim = 9402
scale = 0.7,0.7
pos = 0,0
sprpriority = 0
postype = p1
supermove = 1
;bindtime = 18
ownpal = 1
pausemovetime = 9999
[State 3450, X-Ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 6
value = 7,3
volume = 200
[State 3450, The kamek sample]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 6
value = 0,12
volume = 200
[State 1500, 0]
type = Varadd
trigger1 = time = 0
v = 28
value = 1

[State 3450, Shadows]
type = Afterimage
triggerall = var(46) > 10
trigger1 = AnimElem = 6
trigger1 = Time = 0 && var(29) = 0
time = 83
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 3450, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
trigger1 = AnimElem = 6
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
trigger2 = AnimElem = 6
time = 143
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3885, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
triggerall = var(46) <= 10
trigger1 = AnimElem = 6
trigger1 = var(28) < 3
time = 83
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add


[State 1100, 1] ; disable guarding
type = posadd
trigger1 = AnimElemtime(6) = 1
x = 58
y = -81
persistent = 0

[State 1100, 1] ; disable guarding
type = velset
trigger1 = time = 19
x = 2
persistent = 0

[State 1100, 1] ; disable guarding
type = veladd
trigger1 = time > 19
trigger1 = vel X > 2
x = -.02

[State 1100, 1] ; disable guarding
type = veladd
trigger1 = time > 19
trigger1 = vel X < 2
x = .02

[State 1100, 1] ; disable guarding
type = veladd
trigger1 = time > 19
trigger1 = vel Y > 0
y = -.02

[State 1100, 1] ; disable guarding
type = veladd
trigger1 = time > 19
trigger1 = vel Y < 0
y = .02


[State 1520, 9]
type = VelSet
persistent = 1
trigger1 = time > 19
trigger1 = pos y > -15
Y = 0

[State 1100, 1] ; disable guarding
type = veladd
triggerall = var(30) != 59
trigger1 = time > 19
trigger1 = vel X < 10
trigger1 = command = "holdfwd"
x = .2


[State 1100, 1] ; disable guarding
type = veladd
triggerall = var(30) != 59
trigger1 = time > 19
trigger1 = vel X > -10
trigger1 = command = "holdback"
x = -.2


[State 1100, 1] ; disable guarding
type = veladd
triggerall = var(30) != 59
trigger1 = time > 19
trigger1 = vel Y > -10
trigger1 = command = "holdup"
y = -.2


[State 1100, 1] ; disable guarding
type = veladd
triggerall = var(30) != 59
trigger1 = time > 19
trigger1 = vel Y < 10
trigger1 = pos y <= -15
trigger1 = command = "holddown"
y = .2


[State 1100, 1] ; AI
type = veladd
triggerall = var(30) = 59
trigger1 = time > 19
trigger1 = vel X < 10
trigger1 = p2bodydist X > 0
x = .2
persistent = 1


[State 1100, 1] ; AI
type = veladd
triggerall = var(30) = 59
trigger1 = time > 19
trigger1 = vel X > -10
trigger1 = p2bodydist X < 0
x = -.2
persistent = 1


[State 1100, 1] ; AI
type = veladd
triggerall = var(30) = 59
trigger1 = time > 19
trigger1 = vel Y > -10
trigger1 = p2bodydist Y < 55
y = -.2
persistent = 1


[State 1100, 1] ; AI
type = veladd
triggerall = var(30) = 59
trigger1 = time > 19
trigger1 = vel Y < 10
trigger1 = pos y <= -15
trigger1 = p2bodydist Y > 55
y = .2
persistent = 1


[State 1100, 1] ; disable guarding
type = Changeanim
trigger1 = AnimElemtime(6) = 1
value = 888 ;null
ignorehitpause = 1

[State 1000, 5]
type = Hitdef
triggerall = var(46) >= 90 || var(28) >= 3
trigger1 = time >= 21
attr = S, SP
damage    = 15/(1+var(1)/7.0),10
hitsound = S1100,0
sparkno = 10
p1stateno = 178
p2stateno = 917
guard.pausetime = 0,9
animtype  = light
guardflag = MA
getpower=  (parent,Var(10)=0)* 10
pausetime = 0,150
guard.sparkno = S9200
guardsound = S0,100
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2
air.type = Low
air.velocity = -2,-2
forcestand = 1
fall.recover = 0
air.recover = 0
;air.juggle = 10
;juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1000, 5]
type = Hitdef
triggerall = var(46) < 90 && var(28) < 3 && var(46) > 10
trigger1 = time >= 21
attr = S, SP
damage    = 15/(1+var(1)/7.0),10
hitsound = S1100,0
sparkno = 10
p1stateno = 17
p2stateno = 917
guard.pausetime = 0,9
animtype  = light
guardflag = MA
getpower=  (parent,Var(10)=0)* 10
pausetime = 0,150
guard.sparkno = S9200
guardsound = S0,100
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2
air.type = Low
air.velocity = -2,-2
forcestand = 1
fall.recover = 0
air.recover = 0
;air.juggle = 10
;juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1000, 5]
type = Hitdef
triggerall = var(46) <= 10 && var(28) < 3
trigger1 = time >= 21
attr = S, SP
damage    = 15/(1+var(1)/7.0),10
hitsound = S1100,0
sparkno = 10
p1stateno = 1788
p2stateno = 917
guard.pausetime = 0,9
animtype  = light
guardflag = MA
getpower=  (parent,Var(10)=0)* 10
pausetime = 0,1000
guard.sparkno = S9200
guardsound = S0,100
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2
air.type = Low
air.velocity = -2,-2
forcestand = 1
fall.recover = 0
air.recover = 0
;air.juggle = 10
;juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1100, 1] ; disable guarding
type = ChangeState
trigger1 = MoveGuarded
trigger2 = numhelper(22) >= 1
value = 6030

[State 1100, 1] ; disable guarding
type = ScreenBound
trigger1 = time >= 0
;movecamera
value = 0

[State 1100, 1]
type = helper
trigger1 = animelem = 6
helpertype = normal
id = 14
pos = 0, 0
postype = p1
stateno = 714
keyctrl = 0
ownpal = 1
name = "Dan Enter"
size.shadowoffset = 0
pausemovetime = 9999



[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
id = 31100
pos = -1, -96
postype = p1
stateno = 7914
keyctrl = 0
ownpal = 1
name = "Dan's autograph Death"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = animelem = 6
helpertype = normal
bindtime = 1
id = 31100
pos = 58, -81
postype = p1
stateno = 13
keyctrl = 0
ownpal = 1
name = "Dan's autograph Void"
size.shadowoffset = 0
pausemovetime = 9999

[Statedef 7914]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 777

[State 1010, 112]
type = ChangeState
trigger1 = parent, movetype = H
value = 915

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 30
trigger2 = parent, animelem = 6
value = 1

[Statedef 6030] ;parato
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
anim = 6030

[State 1100, 1] ; disable guarding
type = ScreenBound
trigger1 = time >= 16
;movecamera
value = 1

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist X < -20
value = 1
persistent = 0

[State 2105, 0]
type = velset
trigger1 = time > 31
X = -3.5
Y = -8.8
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = 13
Y = 12

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1
[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 2105, 0]
type = Gravity
trigger1 = time > 31

[State 2105, 1]
type = PlaySnd
trigger1 = life > 0
trigger1 = time = 20
value = 2100, 1    ; Oyaji!
channel = 0


[State 2105, 2]
type = ChangeAnim
trigger1 = Vel Y > -.5
trigger1 = animelem = 9
persistent = 0
value = 5061

;[State 2105, 2]
;type = PosAdd
;trigger1 = Vel Y > -.5
;y = 40
;persistent = 0

[State 2105, 3]
type = LifeAdd
trigger1 = !time
value = -10

[State 2105, 3]
type = LifeAdd
trigger1 = Pos Y > 0
trigger1 = Vel Y > 0
value = -10

[State 2105, 3]
type = ChangeState
trigger1 = Pos Y > 0
trigger1 = Vel Y > 0
value = 5100

[Statedef 917] ;avversario colpito
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
anim = 777

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , AP
ignorehitpause = 1
persistent = 1

[State 1100, 1] ; disable guarding
type = posadd
trigger1 = time = 0
Y = -10

[State 1100, 1] ; disable guarding
type = Changeanim
trigger1 = time >= 0
value = 5010
persistent = 1
ignorehitpause = 1

[State 1100, 1] ; disable guarding
type = SelfState
trigger1 = p2movetype = H
value = 5020
persistent = 1
ignorehitpause = 1

[Statedef 918] ;avversario colpito 2
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
anim = 777

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , AP
ignorehitpause = 1
persistent = 1

[State 1100, 1] ; disable guarding
type = SelfState
trigger1 = p2movetype = H
value = 5020
persistent = 1
ignorehitpause = 1

[State 1100, 1] ; disable guarding
type = Changeanim
trigger1 = time = 0
value = 5011
persistent = 1
ignorehitpause = 1

[State 1100, 1] ; disable guarding
type = Changeanim
trigger1 = time = 12
value = 5015
persistent = 1
ignorehitpause = 1

[Statedef 17] ;colpito
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 777 ;null
sprpriority = 2

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 1
X = -4
Y = 8

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
value = 9714

[Statedef 714]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 714
sprpriority = 2

[State 1106, 1] ; disable guarding
type = sprpriority
trigger1 = time = 16
value = 4

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1
[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = .054
y = -.07

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 1100, 2]
type = DestroySelf
trigger1 = time = 75
value = 1

[Statedef 13]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 13
sprpriority = 3

[State 1100, 2]
type = BindToParent
trigger1 = time = 75
time = -1
value = 1

[State 1100, 2]
type = ChangeAnim
trigger1 = time = 75
value = 713

[State 1100, 2]
type = ChangeAnim
trigger1 = time > 80
value = 614
persistent = 0

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 81
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1


[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 0
stateno = 724
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1100, 2] ;weak
type = ChangeState
trigger1 = parent, stateno = 1788
value = 71388

[State 1100, 2] ;strong
type = ChangeState
trigger1 = parent, stateno = 178
value = 7138

[State 1100, 2] ;normal
type = ChangeState
trigger1 = parent, stateno = 17
value = 713


[State 1100, 2]
type = ChangeState
trigger1 = parent, stateno = 6030
value = 723

[Statedef 724] ;proiettile parato in volo
type = A
physics = N
velset = 0, 0
ctrl = 0
anim = 777
sprpriority = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 22
pos = 0, 0
postype = p1
stateno = 723
keyctrl = 0
ownpal = 1
name = "proiettile colpito"
size.shadowoffset = 0

[State 1100, 1]
type = destroyself
trigger1 = time = 1
value = 1


[Statedef 723] ;proiettile parato
type = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444
sprpriority = 1

[State 1100, 2]
type = BindToParent
trigger1 = time = 0
time = 0
value = 0

[State 1100, 1]
type = helper
trigger1 = time = 40
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 40
value = 1

[Statedef 713]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 54444
sprpriority = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
value = 613

[State 1100, 2]
type = BindToParent
trigger1 = time = 0
time = 0
value = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = 0, 0
postype = p1
stateno = 64444
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

[Statedef 64444]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 812
sprpriority = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 25
value = 1

[State 1100, 2]
type = BindToParent
trigger1 = time >= 0
time = -1
value = 1
persistent = 1
ignorehitpause = 1

[Statedef 54444]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 912
sprpriority = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 1000
value = 1

[State 1100, 2]
type = BindToParent
trigger1 = time >= 0
time = -1
value = 1
persistent = 1
ignorehitpause = 1

[State 11001, HitOverride]
type = DestroySelf
triggerall = time > 30
trigger1 = root, stateno != 9714
value = 1

[Statedef 613]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444
sprpriority = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = 0, 0
postype = p1
stateno = 54444
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

[State 1100, 1]
type = helper
triggerall = time > 30
trigger1 = root, stateno != 9714
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[State 11001, HitOverride]
type = DestroySelf
triggerall = time > 30
trigger1 = root, stateno != 9714
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 98714
keyctrl = 0
ownpal = 1
name = "Fantasma Kouryu"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 98715
keyctrl = 0
ownpal = 1
name = "Fantasma Dakku Destra"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 98716
keyctrl = 0
ownpal = 1
name = "Fantasma Dakku Sinistra"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 98717
keyctrl = 0
ownpal = 1
name = "Fantasma Diving Sinistra"
size.shadowoffset = 0


[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
;size.xscale = .5
;size.yscale = .5
id = 51100
pos = -5, 8
postype = p1
stateno = 98718
keyctrl = 0
ownpal = 1
name = "Fantasma Diving Destra"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 999
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[Statedef 9714]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9714
sprpriority = 2

[State 3450, Shadows]
type = Afterimage
trigger1 = Time = 0
time = 1000
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 1100, 1] ; disable guarding
type = ScreenBound
trigger1 = time >= 25
;movecamera
value = 1

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 1
volume = -50
value = 250,0

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.04

[State 191, 4]
type = veladd
triggerall = pos Y < 0
trigger1 = time >= 16
y = .07

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y >= 0
y = 0
persistent = 1

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 9
value = 6516

[State 191, 4]
type = changestate
trigger1 = time = 230
value = 1255

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

;finale Kouryuuken start
[Statedef 1255]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0 
anim = 19
juggle = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1070, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1070, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1070, 1]
type = NotHitBy
trigger1 = anim = 19
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1070, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 32571

[State 1070, 5]
type = PlaySnd
trigger1 = animelem = 2, =-1
volume = 255
value = 2100,3  ; Kouryuuken
;channel = 0
;[State 1070, 5]
;type = PlaySnd
;trigger1 = animelem = 2, =-1
;volume = 255
;value = 10,100  ; Kouryuuken
;channel = 0

[State 1070, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1080, 2]
type = HitDef
trigger1 = AnimElem = 22
attr = S, SA
animtype = back 
damage = 77/(1+var(1)/7.0),10
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10, -60
hitsound = S6,5
guardsound = S0,100
guard.sparkno = S9200
ground.velocity = -3, -7
ground.hittime = 20
air.velocity = -3, -6.5
fall = 1
fall.recovertime = 46
fall.damage = 12/(1+var(1)/7.0)


; finale kouryuuken (going up)
[Statedef 32571]
type = A
movetype = A
movehitpersist = 1
velset = 2, -12
juggle = 0

[State 1071, 1]
type = NotHitBy
trigger1 = anim = 19
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1071, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1071, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1081, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 1081, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = movehit = 0
attr = A, SA
damage = 87/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 15
sparkxy = 0, -80
sparkno = 3
guard.sparkno = S9200
hitsound = S2100,2
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5, -11
;air.velocity = -5, -11
air.velocity = -2, -11
air.juggle = 10
fall = 1
fall.recover = 0

[Statedef 98714] ;fantasma Kouryu
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 2

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 16
value = 1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.055

[State 191, 4]
type = veladd
triggerall = pos Y < 0
trigger1 = time >= 16
y = .07

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y >= 0
y = 0
persistent = 1

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 8716

[State 191, 4]
type = changestate
trigger1 = time = 130
value = 1215

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

;fantasma Kouryuuken start
[Statedef 1215]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0 
anim = 30600
juggle = 0
sprpriority = 2

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1070, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1070, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1070, 1]
type = NotHitBy
trigger1 = anim = 10600
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1070, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 32071

[State 1070, 5]
type = PlaySnd
trigger1 = animelem = 2, =-1
value = 1100,2  ; Kouryuuken
channel = 0

[State 1070, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1070, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 35/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 100
p2stateno = 918
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
;air.juggle = 10
fall = 1
fall.recover = 0


; med kouryuuken (going up)
[Statedef 32071]
type = A
movetype = A
movehitpersist = 1
velset = 2, -8
juggle = 0
sprpriority = 2

[State 1071, 1]
type = NotHitBy
trigger1 = anim = 30600
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1071, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1071, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1071, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 31062

[State 1071, 2]
type = HitDef
trigger1 = time = 0
trigger1 = MoveHit = 0
attr = S, SA
damage = 35/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 100
p2stateno = 918
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
;air.juggle = 10
fall = 1
fall.recover = 0


[Statedef 98715] ;fantasma Dakku destra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 16
value = 1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.055

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y < -10
y = .07

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y >= -10
y = .01

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9716

[State 191, 4]
type = changestate
trigger1 = time = 170
value = 72115

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

[Statedef 98716] ;fantasma Dakku sinistra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.04

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y < -10
y = .07

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
trigger1 = pos Y >= -10
y = .01

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9716


[State 191, 4]
type = changestate
trigger1 = time = 110
value = 72115


;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

; hard Dan Kuu Kyaku (start)
[Statedef 72115]
movetype = A
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 71020
juggle = 0
sprpriority = 3

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1400]
type = PosAdd
trigger1 = time = 0 
X = -7
Y = 7

[State 1020, 0]
type = ChangeState
trigger1 = AnimElem = 1, =4
value = 72021

[State 1020, 1]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[Statedef 72021]
type = A
movetype = A
sprpriority = 3
velset = .4, -4.5

[State 1021, 1]
type = VelAdd
trigger1 = Time >= 0
y = 0.17

[State 1021, 2]
triggerall = time > 40
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 71002

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
value = 1100, 3

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1100, 7

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
value = 0, 4

[State 1021, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage   = 13/(1+var(1)/7.0),10 
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,100
p2stateno = 918
sparkxy =  -5,-60
sparkno = 2
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -5.7,-2
airguard.velocity = -3.4,-2.6
air.fall = 1
fall = 1
fall.recover = 0

;[State 1007, 0]
;type = TargetBind
;trigger1 = MoveHit 
;persistent = 0
;pos = 35, -35

[State 1021, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage   = 16/(1+var(1)/7.0),10 
animtype = Hard
air.animtype = DiagUp
guardflag = HA
pausetime = 12,100
p2stateno = 918
sparkxy =  -10,-43
sparkno = 2
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -5.7,-2
airguard.velocity = -3.4,-2.6
air.fall = 1
fall = 1
fall.recover = 0

[State 1021, 6]
type = HitDef
trigger1 = AnimElem = 10
animtype = DiagUp
attr = A, SA
damage   = 21/(1+var(1)/7.0),10 
guardflag = HA
pausetime = 12,100
p2stateno = 918
sparkno = 2
sparkxy =  -12,-50
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0

[Statedef 98717] ;fantasma Diving sinistra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.04

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
y = -.017
;y = -.012

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9717

[State 191, 4]
type = changestate
trigger1 = time = 150
value = 82861

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

[Statedef 98718] ;fantasma Diving destra
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 9715
sprpriority = 3

[State 1100, 1] ; disable guarding
type = Turn
trigger1 = time = 16
value = 1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 15
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 16
value = 1100,1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 36
x = -.055

[State 191, 4]
type = velset
trigger1 = time >= 16
trigger1 = pos Y = -10
y = 0
persistent = 1

[State 191, 4]
type = veladd
trigger1 = time >= 16 && time <= 41
y = -.017
;y = -.012

[State 191, 4]
type = velset
trigger1 = time = 75
x = 0
y = 0

[State 191, 4]
type = changeanim
trigger1 = animelem = 10
value = 9717

[State 191, 4]
type = changestate
trigger1 = time = 90
value = 82861

;[State 1100, 2]
;type = DestroySelf
;trigger1 = time = 75
;value = 1

;mid diving kick
[Statedef 82861]
type = A
movetype = A
anim = 8750
ctrl = 0
sprpriority = 3
juggle = 0
[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,7
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 5.5
y = 8.5
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
triggerall = Var(10) = 0
trigger1 = AnimElem = 3
attr = A, SA
damage = 28/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
p2stateno = 918
pausetime = 8,100
guard.pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 7]
type = HitDef
triggerall = Var(10) > 1
trigger1 = AnimElem = 3
attr = A, SA
damage = 28/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = HAFD
guardflag = HA
pausetime = 8,100
p2stateno = 918
guard.pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Light
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, -6
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 5
value = 81864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 82863

[Statedef 82863]
type = A
movetype = I
Physics = N
anim = 813007
ctrl = 0
sprpriority = 3
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 0
y = .30
[State 1852, 6]
type = Velset
trigger1 = Time = 0
x = 5.2
y = -7
[State 2001, 8]
type = turn
trigger1 = animelem = 6
persistent = 0

[State 1852, 8]
type = ChangeState
trigger1 = animelem = 7
value = 82862

[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 0
value = 81803

[Statedef 82862]
type = A
movetype = A
anim = 8750
ctrl = 0
sprpriority = 3
juggle = 0

[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,7
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 5.5
y = 8.5
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
triggerall = Var(10) = 0
trigger1 = AnimElem = 3
attr = A, SA
damage = 28/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 8,100
p2stateno = 918
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 7]
type = HitDef
triggerall = Var(10) > 1
trigger1 = AnimElem = 3
attr = A, SA
damage = 28/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = HAFD
guardflag = HA
pausetime = 8,100
p2stateno = 918
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Light
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, -6
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 5
value = 81864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 81963

[Statedef 914]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 777

[State 1010, 112]
type = ChangeState
trigger1 = parent, movetype = H
value = 915

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 30
value = 1

[Statedef 915]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 777
sprpriority = 3

[State 1010, 112]
type = Posadd
trigger1 = time = 0
y = 30

[State 1010, 112]
type = ChangeAnim
trigger1 = time = 1
value = 61205

[State 1010, 112]
type = velset
trigger1 = time = 1
y = 1;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 51
value = 1

;============================================================================
; light Premium Sign
[Statedef 1100]
type = S
movetype = A
physics = S
ctrl = 0
anim = 61100
poweradd = 60
juggle = 0

[State 1100, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1100, 1] ;Poke - ARRR1, added
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
animtype = light
damage = 4
priority = 8
hitflag = MAF
guardflag = HA
pausetime = 0,10
sparkxy = -5, -85
hitsound = S6, 2
guardsound = S0,100
ground.velocity = -10, 0
ground.hittime = 10
air.velocity = -4, -3
guard.dist = 90
ground.slidetime = 10

[State 1100, 1] ; disable guarding
type = AttackDist
trigger1 = AnimElem = 7
trigger2 = AnimElem = 10
value = 0

[State 1100, 2] ;Poke2
type = HitDef
trigger1 = AnimElem = 9
attr = A, SA
animtype = light
damage = 4
priority = 8
hitflag = MAF
guardflag = HA
pausetime = 2,2
sparkxy = -5, -85
hitsound = S6, 2
guardsound = S0,100
ground.velocity = 1, -4
ground.hittime = 10
air.velocity = 1, -3
guard.dist = 40

[State 1100, 1]
type = helper
trigger1 = AnimElem = 10
helpertype = normal
id = 31100
pos = -1, -66
postype = p1
stateno = 1105
keyctrl = 0
ownpal = 1
name = "Dan's autograph Accompagna"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = AnimElem = 12
helpertype = normal
id = 1100
pos = 78, -51
postype = p1
stateno = 1109
keyctrl = 0
ownpal = 1
name = "Dan's autograph"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
id = 31100
pos = -1, -96
postype = p1
stateno = 1107
keyctrl = 0
ownpal = 1
name = "Dan's autograph Death"
size.shadowoffset = 0

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 5  
value = 1100, 4    ; dou da?
channel = 0

[State 1100, 3]
type = PlaySnd
trigger1 = AnimElem = 10, =5
value = 1100, 3    ; daiji ni shiro yo!
channel = 0

[State 1100, 5]
type = width
trigger1 = AnimElem = 11, > 0
value = 20   ; wider in front

; Autografo Accompagna MOvimento
[Statedef 1105]
type = A
movetype = A
physics = N
velset = 0, 0
anim = 61101

[State 1100, 1] ; disable guarding
type = ChangeAnim
trigger1 = animtime = 0
value = 61102

[State 1100, 1] ; disable guarding
type = DestroySelf
trigger1 = parent, animelem = 12
value = 1

[State 1100, 1] ; disable guarding
type = ChangeState
trigger1 = parent, movetype = H
value = 1106


;scompare2
[Statedef 1107]
type = A
movetype = A
physics = N
velset = 0, 0
anim = 777 ;nulla

[State 1010, 112]
type = ChangeState
trigger1 = parent, movetype = H
value = 1108

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = parent, animelem = 10
value = 1

[Statedef 1108]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 61104

[State 1010, 112]
type = velset
trigger1 = time = 0
x = .2
y = 2;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

[Statedef 1110]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 61104


[State 1010, 112]
type = velset
trigger1 = time = 0
x = .2
y = 1;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

;scompare
[Statedef 1106]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 61103

[State 1010, 112]
type = velset
trigger1 = time >= 0
x = .2
y = 2;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

;proiettile
[Statedef 1109]
type = A
movetype = A
physics = N
velset = 0, 0
anim = 71128
juggle = 0

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1108
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1010, 112]
type = velset
trigger1 = time = 0
x = 2
;y = 2;*(sin(0.075*time))

[State 1010, 112]
type = veladd
trigger1 = p2bodydist X < 0
trigger1 = (GameTime%12) = 0
x = -.2
persistent = 1
;y = 2;*(sin(0.075*time))

[State 1010, 112]
type = veladd
trigger1 = p2bodydist X > 0
trigger1 = (GameTime%12) = 0
x = .2
persistent = 1
;y = 2;*(sin(0.075*time))

[State 1010, 112]
type = ChangeSTate
trigger1 = MoveGuarded
value = 1110

[State 1010, 112]
type = ChangeSTate
triggerall = Var(30) != 59
triggerall = parent, Var(30) != 59
trigger1 = parent, command = "abc"
value = 11127

[State 1000, 5]
type = Hitdef
trigger1 = time >= 0
attr = S, SP
damage    = 15/(1+var(1)/7.0),10
hitsound = S1100,0
sparkno = 10
p1stateno = 1111
guard.pausetime = 0,9
animtype  = light
guardflag = MA
getpower=  (parent,Var(10)=0)* 10
pausetime = 0,100
guard.sparkno = S9200
guardsound = S0,100
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2
air.type = Low
air.velocity = -2,-2
forcestand = 1
fall.recover = 0
air.recover = 0
;air.juggle = 10
;juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0


;colpisce
[Statedef 1111]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 71129

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

;[State 11001, HitOverride]
;type = ChangeAnim
;triggerall = time > 1
;trigger1 = p2bodydist X > -30
;trigger2 = p2bodydist X < -50
;;trigger3 = p2bodydist Y < 40
;;persistent = 1
;value = 71139


;[State 11001, HitOverride]
;type = ChangeState
;triggerall = time = 25
;trigger1 = p2bodydist X > -30
;trigger2 = p2bodydist X < -50
;value = 1112

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
;trigger1 = p2bodydist X <= -30
;trigger2 = p2bodydist X >= -50
value = 81112

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
id = 51100
pos = 0, 0
postype = p1
stateno = 54445
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

[Statedef 54445] ;pieno in sfondo
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444
sprpriority = 0

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 77
value = 1

;[State 1100, 2]
;type = BindToParent
;trigger1 = time >= 0
;time = -1
;value = 1
;persistent = 1
;ignorehitpause = 1

;svuota ABC
[Statedef 11127]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444

[State 11001, HitOverride]
type = turn
trigger1 = p2bodydist X < -5
value = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .5
size.yscale = .5
id = 51100
pos = 1, 9
postype = p1
stateno = 1113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

;svuota
[Statedef 1112]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .5
size.yscale = .5
id = 51100
pos = 1, 9
postype = p1
stateno = 1113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[Statedef 11129]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 777

[State 1010, 112]
type = ChangeANim
trigger1 = time = 1
value = 61205

[State 1010, 112]
type = velset
trigger1 = time = 1
y = 1;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 51
value = 1

;svuota
[Statedef 81112]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44445

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .5
size.yscale = .5
id = 51100
pos = 1, 9
postype = p1
stateno = 1113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

;fantasma
[Statedef 1113]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 73139

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 2
volume = -50
value = 250,0

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 2
volume = -50
value = 250,0

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 20
Y = .6
X = -.5

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 20
value = 1100,1
[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 20
value = 1100,1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 20
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = Destroyself
trigger1 = animtime = 0
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = 1
size.yscale = 1
id = 51100
postype = p1
stateno = 1114
keyctrl = 0
ownpal = 1
name = "Fantasma2"
size.shadowoffset = 0

;fantasma2
[Statedef 1114]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 777

[State 11001, HitOverride]
type = ChangeAnim
trigger1 = time = 52
value = 73129

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 0
Y = .6
X = -.5

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 71
Y = -.6
X = .5

[State 11001, HitOverride]
type = ChangeState
trigger1 = animtime = 0
value = 1115

;fantasma Kouryuuken start
[Statedef 1115]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0 
anim = 30600
juggle = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1070, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1070, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1070, 1]
type = NotHitBy
trigger1 = anim = 10600
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1070, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 31071

[State 1070, 5]
type = PlaySnd
trigger1 = animelem = 2, =-1
value = 1100,2  ; Kouryuuken
channel = 0

[State 1070, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1070, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 110/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 13
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
;air.juggle = 10
fall = 1
fall.recover = 0


; med kouryuuken (going up)
[Statedef 31071]
type = A
movetype = A
movehitpersist = 1
velset = 2, -8
juggle = 0

[State 1071, 1]
type = NotHitBy
trigger1 = anim = 30600
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1071, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1071, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1071, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 31062

[State 1071, 2]
type = HitDef
trigger1 = time = 0
trigger1 = MoveHit = 0
attr = S, SA
damage = 110/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 13
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
;air.juggle = 10
fall = 1
fall.recover = 0

; all kouryuukens (coming down)
[Statedef 31062]
type = A
velset = 0
anim = 30601

[State 1500, 0]
type = Varset
trigger1 = vel y > 0 && pos y >= 0
v = 28
value = 0

[State 91062, 1]
type = ChangeState
trigger1 = Pos Y >= -5
value = 31063

[State 1062, 3] ; gravity
type = Gravity
trigger1 = Pos Y < -5

[State 1062, 4]
type = VelSet
trigger1 = Pos Y >= -5
y = 0
x = 0

[State 1062, 5]
type = PosSet
trigger1 = Pos Y >= -5
y = 0

; kouryuuken land
[Statedef 31063]
type = S
physics = S
ctrl = 0
anim = 30602

[State 1500, 0]
type = Varset
trigger1 = vel y > 0 && pos y >= 0
v = 28
value = 0

[State 1063, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 1063, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1
[State 52, Land SOund]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 180, 1]
type = VarRandom
triggerall = win = 0
trigger1 = Time = 0
v = 9
range = 0,1

[State 1520, 9]
type = ChangeState
trigger1 = time = 3
trigger1 = Var(9) = 0
value = 31064

[State 1520, 9]
type = ChangeState
trigger1 = time = 3
trigger1 = Var(9) = 1
value = 31065

;Fantasma Taunt
[Statedef 31064]
type = S
physics = S
ctrl = 0
anim = 30603

[State 1520, 9]
type = PosSet
persistent = 0
trigger1 = time = 0
;trigger1 = pos y > 0
Y = 0

[State 52, Land SOund]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist X < 0
value = 1

[State 52, Land SOund]
type = PlaySnd
trigger1 = Animelem = 2
value = 1100,5
persistent = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = Animelem = 2
value = 1100,5
persistent = 0

[State 52, Land SOund]
type = ChangeAnim
trigger1 = time = 70
value = 555

[State 52, Land SOund]
type = Turn
trigger1 = time = 70
value = 1

[State 52, Land SOund]
type = ChangeState
trigger1 = time = 77
value = 4960

;Fantasma Taunt2
[Statedef 31065]
type = S
physics = S
ctrl = 0
anim = 30604

[State 1520, 9]
type = PosSet
persistent = 0
trigger1 = time = 0
;trigger1 = pos y > 0
Y = 0

[State 52, Land SOund]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist X < 0
value = 1

[State 52, Land SOund]
type = PlaySnd
trigger1 = Animelem = 2
value = 1100,6
persistent = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = Animelem = 2
value = 1100,6
persistent = 0

[State 52, Land SOund]
type = ChangeAnim
trigger1 = time = 70
value = 555

[State 52, Land SOund]
type = Turn
trigger1 = time = 70
value = 1

[State 52, Land SOund]
type = ChangeSTate
trigger1 = time = 77
value = 4960

[Statedef 4960]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 4960
velset = 0,0,0
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 4,5
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 3450, Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = Time = 0
time = 300
length = 21
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = add1
[State 4110, 6]
type = Velset
trigger1 = time = 0
x = 3
[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = -3
[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 4961
[Statedef 4961]
type    = S
movetype= I
physics = N
juggle  = 0
ctrl = 0
anim = 4961
velset = 9,0,0
[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0
[State 1531, 5]
type = PlaySnd
trigger1 = time = 0
value = 2,4
volume = 255
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6
;[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 3962
[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1
[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0
;[State 182, 2]
;type = Velmul
;trigger1 = Time >= 25
;trigger1 = Vel X > 0
;x = .92
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
;[State 210, 3]
;type = Velset
;trigger1 = Time = 45
;trigger2 = frontedgedist = 10
;x = 0
;[State 210, 3]
;type = Turn
;trigger1 = Time = 45
;trigger1 = anim = 3962
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
Time = 0
[State 4110, 6]
type = Sprpriority
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0

[State 210, 3]
type = DestroySelf
trigger1 = Time = 450
trigger2 = frontedgedist = -100
value = 1

;[State 210, 3]
;type = Turn
;trigger1 = frontedgedist = 10
;trigger1 = anim = 3962
;[State 210, 3]
;type = ChangeState
;trigger1 = backedgedist = 0
;trigger1 = time > 4
;value = 3962
;ctrl = 0


;============================================================================

;middle premium sign
[Statedef 71100]
type = S
movetype = A
physics = S
ctrl = 0
anim = 761100
poweradd = 60
juggle = 0

[State 1100, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1100, 1] ;Poke - ARRR1, added
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
animtype = light
damage = 4
priority = 8
hitflag = MAF
guardflag = HA
pausetime = 0,10
sparkxy = -5, -85
hitsound = S6, 2
guardsound = S0,100
ground.velocity = -10, 0
ground.hittime = 10
air.velocity = -4, -3
guard.dist = 90
ground.slidetime = 10

[State 1100, 1] ; disable guarding
type = AttackDist
trigger1 = AnimElem = 7
trigger2 = AnimElem = 10
value = 0

[State 1100, 2] ;Poke2
type = HitDef
trigger1 = AnimElem = 9
attr = A, SA
animtype = light
damage = 4
priority = 8
hitflag = MAF
guardflag = HA
pausetime = 2,2
sparkxy = -5, -85
hitsound = S6, 2
guardsound = S0,100
ground.velocity = 1, -4
ground.hittime = 10
air.velocity = 1, -3
guard.dist = 40

[State 1100, 1]
type = helper
trigger1 = AnimElem = 10
helpertype = normal
id = 31100
pos = -1, -66
postype = p1
stateno = 71105
keyctrl = 0
ownpal = 1
name = "Dan's autograph Accompagna"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = AnimElem = 12
helpertype = normal
id = 1100
pos = 78, -71
postype = p1
stateno = 71109
keyctrl = 0
ownpal = 1
name = "Dan's autograph"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
id = 31100
pos = -1, -96
postype = p1
stateno = 71107
keyctrl = 0
ownpal = 1
name = "Dan's autograph Death"
size.shadowoffset = 0

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 5  
value = 1100, 4    ; dou da?
channel = 0

[State 1100, 3]
type = PlaySnd
trigger1 = AnimElem = 10, =5
value = 1100, 3    ; daiji ni shiro yo!
channel = 0

[State 1100, 5]
type = width
trigger1 = AnimElem = 11, > 0
value = 20   ; wider in front


; Autografo Accompagna MOvimento
[Statedef 71105]
type = A
movetype = A
physics = N
velset = 0, 0
anim = 761101

[State 1100, 1] ; disable guarding
type = ChangeAnim
trigger1 = animtime = 0
value = 761102

[State 1100, 1] ; disable guarding
type = DestroySelf
trigger1 = parent, animelem = 12
value = 1

[State 1100, 1] ; disable guarding
type = ChangeState
trigger1 = parent, movetype = H
value = 71106


;scompare2
[Statedef 71107]
type = A
movetype = A
physics = N
velset = 0, 0
anim = 777 ;nulla

[State 1010, 112]
type = ChangeState
trigger1 = parent, movetype = H
value = 71108

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = parent, animelem = 10
value = 1

[Statedef 71108]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 761104

[State 1010, 112]
type = velset
trigger1 = time = 0
x = .2
y = 2;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

[Statedef 71110]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 761104


[State 1010, 112]
type = velset
trigger1 = time = 0
x = .2
y = 1;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

;scompare
[Statedef 71106]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 761103

[State 1010, 112]
type = velset
trigger1 = time >= 0
x = .2
y = 2;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

;proiettile
[Statedef 71109]
type = A
movetype = A
physics = N
velset = 0, 0, 0
anim = 61128
juggle = 0

[State 1010, 112]
type = velset
trigger1 = time >= 0
;x = .8
y = -3*(sin(0.075*time))

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 71108
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1010, 112]
type = velset
trigger1 = time = 0
x = 2
;y = -2*(sin(0.075*time))


[State 1010, 112]
type = veladd
trigger1 = p2bodydist X < 0
trigger1 = (GameTime%12) = 0
x = -.2
persistent = 1
;y = 2;*(sin(0.075*time))

[State 1010, 112]
type = veladd
trigger1 = p2bodydist X > 0
trigger1 = (GameTime%12) = 0
x = .2
persistent = 1
;y = 2;*(sin(0.075*time))

[State 1010, 112]
type = ChangeSTate
trigger1 = MoveGuarded
value = 71110

[State 1010, 112]
type = ChangeSTate
triggerall = Var(30) != 59
triggerall = parent, Var(30) != 59
trigger1 = parent, command = "abc"
value = 711127

[State 1000, 5]
type = Hitdef
trigger1 = time >= 0
attr = S, SP
damage    = 15/(1+var(1)/7.0),10
hitsound = S1100,0
sparkno = 10
p1stateno = 71111
guard.pausetime = 0,9
animtype  = light
guardflag = MA
getpower=  (parent,Var(10)=0)* 10
pausetime = 0,100
guard.sparkno = S9200
guardsound = S0,100
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2
air.type = Low
air.velocity = -2,-2
forcestand = 1
fall.recover = 0
air.recover = 0
;air.juggle = 10
;juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0


;colpisce
[Statedef 71111]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 771129

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0


[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
;trigger1 = p2bodydist X <= -30
;trigger2 = p2bodydist X >= -50
value = 781112

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
id = 51100
pos = 0, 0
postype = p1
stateno = 54445
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

;svuota ABC
[Statedef 711127]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444

[State 11001, HitOverride]
type = turn
trigger1 = p2bodydist X < -5
value = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .6
size.yscale = .6
id = 51100
pos = 1, 30
postype = p1
stateno = 71113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

;svuota
[Statedef 71112]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .6
size.yscale = .6
id = 51100
pos = 1, 30
postype = p1
stateno = 71113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[Statedef 11129]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 777

[State 1010, 112]
type = ChangeANim
trigger1 = time = 1
value = 61205

[State 1010, 112]
type = velset
trigger1 = time = 1
y = 1;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 51
value = 1

;svuota
[Statedef 781112]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 744445

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .6
size.yscale = .6
id = 51100
pos = 1, 30
postype = p1
stateno = 71113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

;fantasma
[Statedef 71113]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 773139

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 2
volume = -50
value = 250,0

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 2
volume = -50
value = 250,0

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 20
Y = .8
X = -.5

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 20
value = 1100,1
[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 20
value = 1100,1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 20
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = Destroyself
trigger1 = animtime = 0
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = 1
size.yscale = 1
id = 51100
postype = p1
pos = 5, 9
stateno = 71114
keyctrl = 0
ownpal = 1
name = "Fantasma2"
size.shadowoffset = 0

;fantasma2
[Statedef 71114]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 777

[State 11001, HitOverride]
type = ChangeAnim
trigger1 = time = 36
value = 773129

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 0
Y = .8
X = -.5

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 71
Y = -.8
X = .5

[State 11001, HitOverride]
type = ChangeState
trigger1 = animtime = 0
value = 71115

; hard Dan Kuu Kyaku (start)
[Statedef 71115]
movetype = A
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 71020
juggle = 0
sprpriority = 2

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1400]
type = PosAdd
trigger1 = time = 0 
X = -7
Y = 7

[State 1020, 0]
type = ChangeState
trigger1 = AnimElem = 1, =4
value = 71021

[State 1020, 1]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[Statedef 71021]
type = A
movetype = A
sprpriority = 2
velset = 4, -4

[State 1021, 1]
type = VelAdd
trigger1 = Time >= 0
y = 0.17

[State 1021, 1]
type = VelSet
trigger1 = frontedgedist <= 20
x = -4
persistent = 1

[State 1021, 1]
type = VelSet
trigger1 = vel x < 4
trigger1 = frontedgedist > 20
x = 4
persistent = 1

[State 1021, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 71002

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
value = 1100, 3

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1100, 7

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
value = 0, 4

[State 1021, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage   = 40/(1+var(1)/7.0),10 
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -5,-60
hitsound = S6,6
sparkno = 2
guardsound = S0,100
guard.sparkno = S9200
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -5.7,-2
airguard.velocity = -3.4,-2.6
air.fall = 1
fall = 1
fall.recover = 0

;[State 1007, 0]
;type = TargetBind
;trigger1 = MoveHit 
;persistent = 0
;pos = 35, -35

[State 1021, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage   = 50/(1+var(1)/7.0),10 
animtype = Hard
air.animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -10,-43
hitsound = S6,6
guardsound = S0,100
sparkno = 2
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -5.7,-2
airguard.velocity = -3.4,-2.6
air.fall = 1
fall = 1
fall.recover = 0

[State 1021, 6]
type = HitDef
trigger1 = AnimElem = 10
animtype = DiagUp
attr = A, SA
damage   = 65/(1+var(1)/7.0),10 
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-50
hitsound = S6,6
sparkno = 2
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0


; Dan Kuu Kyaku (land)
[Statedef 71002]
type = S
movetype = I
velset = 0, 0 
anim = 10

;[State 1002, 0]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 11

[State 1002, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1002, 2]
type = PlaySnd
trigger1 = time = 0
value = 0,0


[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 9
range = 0,1

[State 1520, 9]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Var(9) = 0
value = 31064

[State 1520, 9]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Var(9) = 1
value = 31065

;============================================================================

;middle premium sign
[Statedef 81100]
type = S
movetype = A
physics = S
ctrl = 0
anim = 861100
poweradd = 60
juggle = 0

[State 1100, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1100, 1] ;Poke - ARRR1, added
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
animtype = light
damage = 4
priority = 8
hitflag = MAF
guardflag = HA
pausetime = 0,10
sparkxy = -5, -85
hitsound = S6, 2
guardsound = S0,100
ground.velocity = -10, 0
ground.hittime = 10
air.velocity = -4, -3
guard.dist = 90
ground.slidetime = 10

[State 1100, 1] ; disable guarding
type = AttackDist
trigger1 = AnimElem = 7
trigger2 = AnimElem = 10
value = 0

[State 1100, 2] ;Poke2
type = HitDef
trigger1 = AnimElem = 9
attr = A, SA
animtype = light
damage = 4
priority = 8
hitflag = MAF
guardflag = HA
pausetime = 2,2
sparkxy = -5, -85
hitsound = S6, 2
guardsound = S0,100
ground.velocity = 1, -4
ground.hittime = 10
air.velocity = 1, -3
guard.dist = 40

[State 1100, 1]
type = helper
trigger1 = AnimElem = 10
helpertype = normal
id = 31100
pos = -1, -66
postype = p1
stateno = 81105
keyctrl = 0
ownpal = 1
name = "Dan's autograph Accompagna"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = AnimElem = 12
helpertype = normal
id = 1100
pos = 78, -71
postype = p1
stateno = 81109
keyctrl = 0
ownpal = 1
name = "Dan's autograph"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
id = 31100
pos = -1, -96
postype = p1
stateno = 81107
keyctrl = 0
ownpal = 1
name = "Dan's autograph Death"
size.shadowoffset = 0

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 5  
value = 1100, 4    ; dou da?
channel = 0

[State 1100, 3]
type = PlaySnd
trigger1 = AnimElem = 10, =5
value = 1100, 3    ; daiji ni shiro yo!
channel = 0

[State 1100, 5]
type = width
trigger1 = AnimElem = 11, > 0
value = 20   ; wider in front


; Autografo Accompagna MOvimento
[Statedef 81105]
type = A
movetype = A
physics = N
velset = 0, 0
anim = 861101

[State 1100, 1] ; disable guarding
type = ChangeAnim
trigger1 = animtime = 0
value = 861102

[State 1100, 1] ; disable guarding
type = DestroySelf
trigger1 = parent, animelem = 12
value = 1

[State 1100, 1] ; disable guarding
type = ChangeState
trigger1 = parent, movetype = H
value = 81106


;scompare2
[Statedef 81107]
type = A
movetype = A
physics = N
velset = 0, 0
anim = 777 ;nulla

[State 1010, 112]
type = ChangeState
trigger1 = parent, movetype = H
value = 81108

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = parent, animelem = 10
value = 1

[Statedef 81108]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 861104

[State 1010, 112]
type = velset
trigger1 = time = 0
x = .2
y = 2;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

[Statedef 81110]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 861104


[State 1010, 112]
type = velset
trigger1 = time = 0
x = .2
y = 1;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

;scompare
[Statedef 81106]
type = A
movetype = A
physics = N
velset = 0, 0
sprpriority = 2
anim = 861103

[State 1010, 112]
type = velset
trigger1 = time >= 0
x = .2
y = 2;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 50
value = 1

;proiettile
[Statedef 81109]
type = A
movetype = A
physics = N
velset = 0, 0, 0
anim = 81128
juggle = 0

[State 1010, 112]
type = velset
trigger1 = time = 0
;x = .8
y = -3;*(sin(0.075*time)

[State 1010, 112]
type = velset
trigger1 = time >= 40
;x = .8
y = -3*(sin(0.075*time))

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 81108
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1010, 112]
type = velset
trigger1 = time = 0
x = 1.5
;y = -2*(sin(0.075*time))


[State 1010, 112]
type = veladd
trigger1 = p2bodydist X < 0
trigger1 = (GameTime%12) = 0
x = -.2
persistent = 1
;y = 2;*(sin(0.075*time))

[State 1010, 112]
type = veladd
trigger1 = p2bodydist X > 0
trigger1 = (GameTime%12) = 0
x = .2
persistent = 1
;y = 2;*(sin(0.075*time))

[State 1010, 112]
type = ChangeSTate
trigger1 = MoveGuarded
value = 81110

[State 1010, 112]
type = ChangeSTate
triggerall = Var(30) != 59
triggerall = parent, Var(30) != 59
trigger1 = parent, command = "abc"
value = 8711127

[State 1010, 112]
type = ChangeSTate
triggerall = parent, Var(30) = 59
trigger1 = p2bodydist X = [-45,-40]
value = 8711127

[State 1000, 5]
type = Hitdef
trigger1 = time >= 0
attr = S, SP
damage    = 15/(1+var(1)/7.0),10
hitsound = S1100,0
sparkno = 10
p1stateno = 81111
guard.pausetime = 0,9
animtype  = light
guardflag = MA
getpower=  (parent,Var(10)=0)* 10
pausetime = 0,100
guard.sparkno = S9200
guardsound = S0,100
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2
air.type = Low
air.velocity = -2,-2
forcestand = 1
fall.recover = 0
air.recover = 0
;air.juggle = 10
;juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0


;colpisce
[Statedef 81111]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 871129

[State 11001, HitOverride]
type = POsAdd
trigger1 = time = 0
X = p2bodydist X
persistent = 0

[State 11001, HitOverride]
type = POsAdd
trigger1 = time <= 4
trigger1 = p2bodydist X >= -5
X = 30
persistent = 0

[State 11001, HitOverride]
type = ChangeState
trigger1 = time = 25
value = 881112

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
id = 51100
pos = 0, 0
postype = p1
stateno = 54445
keyctrl = 0
ownpal = 1
name = "AUTOGR"
size.shadowoffset = 0

;svuota ABC
[Statedef 8711127]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444

[State 11001, HitOverride]
type = turn
trigger1 = p2bodydist X < -5
value = 1

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .5
size.yscale = .5
id = 51100
pos = 4, 22
postype = p1
stateno = 81113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

;svuota
[Statedef 91112]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 44444

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .5
size.yscale = .5
id = 51100
pos = 4, 22
postype = p1
stateno = 81113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[Statedef 11129]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 777

[State 1010, 112]
type = ChangeANim
trigger1 = time = 1
value = 61205

[State 1010, 112]
type = velset
trigger1 = time = 1
y = 1;*(sin(0.075*time))

[State 1106, 1] ; disable guarding
type = DestroySelf
trigger1 = time = 51
value = 1

;svuota
[Statedef 881112]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 844445

[State 11001, HitOverride]
type = DestroySelf
trigger1 = time = 52
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 51
helpertype = normal
id = 31100
pos = 0, 0
postype = p1
stateno = 11129
keyctrl = 0
ownpal = 1
name = "scompari"
size.shadowoffset = 0

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = .5
size.yscale = .5
id = 51100
pos = 4, 22
postype = p1
stateno = 81113
keyctrl = 0
ownpal = 1
name = "Fantasma"
size.shadowoffset = 0

;fantasma
[Statedef 81113]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 873139

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 2
volume = -50
value = 250,0

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 2
volume = -50
value = 250,0

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 20
Y = -.8
X = -.5

[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 20
value = 1100,1
[State 1106, 1] ; disable guarding
type = PlaySnd
trigger1 = time = 20
value = 1100,1

[State 11001, HitOverride]
type = PalFx
trigger1 = time = 0
time = 20
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 1106, 1] ; disable guarding
type = Destroyself
trigger1 = animtime = 0
value = 1

[State 1100, 1]
type = helper
trigger1 = time = 0
helpertype = normal
size.xscale = 1
size.yscale = 1
id = 51100
postype = p1
pos = 6, 39
stateno = 81114
keyctrl = 0
ownpal = 1
name = "Fantasma2"
size.shadowoffset = 0

;fantasma2
[Statedef 81114]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 777

[State 11001, HitOverride]
type = ChangeAnim
trigger1 = time = 36
value = 873129

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 0
Y = -.8
X = -.5

[State 11001, HitOverride]
type = VelAdd
trigger1 = time = 71
Y = .8
X = .5

[State 11001, HitOverride]
type = ChangeState
trigger1 = animtime = 0
value = 81861

;mid diving kick
[Statedef 81861]
type = A
movetype = A
poweradd=  (Var(10)=0)* 120
anim = 8750
ctrl = 0
sprpriority = 2
juggle = 0
[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,7
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 5.5
y = 8.5
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
triggerall = Var(10) = 0
trigger1 = AnimElem = 3
attr = A, SA
damage = 85/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 8,50
guard.pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 7]
type = HitDef
triggerall = Var(10) > 1
trigger1 = AnimElem = 3
attr = A, SA
damage = 85/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = HAFD
guardflag = HA
pausetime = 8,50
guard.pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Light
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, -6
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 5
value = 81864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 81863

[Statedef 81864]
type = C
movetype = I
physics = C
Anim = 813034
ctrl = 0
[State 1820, 1]
type = posadd
trigger1 = time = 0
x = 20
[State 1820, 1]
type = posset
trigger1 = time = 0
y = 0
[State 1820, 1]
type = turn
trigger1 = p2bodydist X <= 0 && time = 4
[State 1820, 1]
type = velset
trigger1 = time = 0
y = 0
[State 52, Land SOund]
type = PlaySnd
trigger1 = Time = 0
value = 0,0
;[State 1820, 1]
;type = changestate
;trigger1 = time = 4
;value = 12
;ctrl = 1

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 9
range = 0,1

[State 1520, 9]
type = ChangeState
;trigger1 = time > 0
trigger1 = time = 4
trigger1 = Var(9) = 0
value = 31064

[State 1520, 9]
type = ChangeState
;trigger1 = time > 0
trigger1 = time = 4
trigger1 = Var(9) = 1
value = 31065

[Statedef 81863]
type = A
movetype = I
Physics = N
anim = 813007
ctrl = 0
sprpriority = 2
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 0
y = .30
[State 1852, 6]
type = Velset
trigger1 = Time = 0
x = 5.2
y = -7
[State 2001, 8]
type = turn
trigger1 = animelem = 6
persistent = 0

[State 1852, 8]
type = ChangeState
trigger1 = animelem = 8
value = 81862

[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 0
value = 81803

[Statedef 81963]
type = A
movetype = I
Physics = N
anim = 813007
ctrl = 0
sprpriority = 2
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 0
y = .30
[State 1852, 6]
type = Velset
trigger1 = Time = 0
x = 5.2
y = -7
[State 2001, 8]
type = turn
trigger1 = animelem = 6
persistent = 0

[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 0
value = 81803

[Statedef 81862]
type = A
movetype = A
poweradd=  (Var(10)=0)* 120
anim = 8750
ctrl = 0
sprpriority = 2
juggle = 0

[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,7
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4
[State 1852, 6]
type = Velmul
trigger1 = Time = [0,9]
x = 0.83
y = 0.83
[State 1852, 6]
type = Velset
trigger1 = Animelem = 2
x = 5.5
y = 8.5
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 9
y = .30
[State 1852, 7]
type = HitDef
triggerall = Var(10) = 0
trigger1 = AnimElem = 3
attr = A, SA
damage = 85/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 7]
type = HitDef
triggerall = Var(10) > 1
trigger1 = AnimElem = 3
attr = A, SA
damage = 85/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = HAFD
guardflag = HA
pausetime = 8,10
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Light
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, -6
air.recover = 0
fall.recover = 0
down.velocity = 0,0
[State 1852, 8]
type = ChangeState
trigger1 = pos y >= 5
value = 81864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 81963

[Statedef 81803]
type = A
movetype = A
physics = A

[State 1820, 1]
type = changeanim
trigger1 = time = 0
value = 844

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 9
range = 0,1

[State 1520, 9]
type = VelSet
;trigger1 = time > 0
trigger1 = pos y >= 0
Y = 0
X = 0


[State 1520, 9]
type = ChangeState
;trigger1 = time > 0
trigger1 = pos y >= 0
trigger1 = Var(9) = 0
value = 31064

[State 1520, 9]
type = ChangeState
;trigger1 = time > 0
trigger1 = pos y >= 0
trigger1 = Var(9) = 1
value = 31065

;============================================================================
; light Gadouken

[Statedef 1030]
type = S
physics = S
movetype = A
velset = 0,0
poweradd = 100
sprpriority = 2
ctrl = 0
anim = 1030

[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5

[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1000, Hadoken!]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 3
channel = 0
volume = 255

[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 38,-96
postype = p1
sprpriority = -4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999


[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 39,-97
postype = p1
sprpriority = 3
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 95, -76
postype = p1
stateno =10060
ownpal = 1
;size.xscale = 1.1
;size.yscale = 1.1

[State 1710, FireB]
type = Explod
triggerall = (enemyNear, StateNo = [5000,5999])
triggerall = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = (enemyNear, StateNo = [5000,5999])
triggerall = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0,7
volume = 50
[State 1000, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;medium Gadouken
[Statedef 1040]
type    = S
movetype= A
physics = S
poweradd=  (Var(10)=0)* 100
ctrl = 0
anim = 1040
velset = 0,0
sprpriority = 2

[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1001, HadokenVoice]
type = PlaySnd
trigger1 = Time = 2
value = 4, 3
channel = 0
volume = 255

[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 38,-96
postype = p1
sprpriority = -4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 39,-97
postype = p1
sprpriority = 3
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 95, -76
postype = p1
stateno =10070
ownpal = 1
;size.xscale = 1.1
;size.yscale = 1.1
[State 1710, FireB]
type = Explod
triggerall = (enemyNear, StateNo = [5000,5999])
triggerall = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = (enemyNear, StateNo = [5000,5999])
triggerall = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1001, HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0,7
volume = 50
[State 1001, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; strong Gadouken
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd=  (Var(10)=0)* 100
ctrl = 0
anim = 1050
velset = 0,0
sprpriority = 2

[State 1000, Hadoken!]
type = PlaySnd
trigger1     = time = 0 && var(28) > 0
value = 0,12
volume = 255
freqmul = 1.5
[State 2100, 1]
type = Pause
trigger1     = time = 0 && var(28) > 0
time = 5
movetime = 5
[state 6005, skin fadeout]
type           = PalFx
trigger1     = time = 0 && var(28) > 0
time = 24
add = 155,55,55 
sinadd = -155,-55,-55,100
[State 3880, 1]
type = envcolor
trigger1     = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
Time = 0
[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0
[State 1002, HadokenVoice]
type = PlaySnd
trigger1 = Time = 2
value = 4, 3
channel = 0
volume = 255
[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 38,-96
postype = p1
sprpriority = -4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 39,-97
postype = p1
sprpriority = 3
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 95, -76
postype = p1
stateno =10080
ownpal = 1
;size.xscale = 1.1
;size.yscale = 1.1
[State 1710, FireB]
type = Explod
triggerall = (enemyNear, StateNo = [5000,5999])
triggerall = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = (enemyNear, StateNo = [5000,5999])
triggerall = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1002, HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0,7
volume = 50
[State 1002, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------
; light kouryuuken (start)
[Statedef 10600]
type = S
physics = S
movetype = A
ctrl = 0
poweradd = 100
velset = 0,0 
anim = 1060
juggle = 20

[State 91063, 0]
type = VarSet
trigger1 = time = 0
v = 34
value = 0


[State 1060, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1060, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1060, 1]
type = NotHitBy
trigger1 = anim = 1060
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1060, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 1061

[State 1060, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-1
value = 10,100  ; Kouryuuken
channel = 0

[State 1060, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-1
value = 0, 220 

[State 1060, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 100/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 13, 13
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
air.juggle = 5
fall = 1

; light kouryuuken (going up)
[Statedef 1061]
type = A
movetype = A
physics = A
velset = 0, -6
movehitpersist = 1

[State 1061, 1]
type = NotHitBy
trigger1 = anim = 1060
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1061, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 1062

[State 1061, 2]
type = HitDef
trigger1 = time = 0
trigger1 = MoveContact = 0
attr = S, SA
damage = 100/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 13, 13
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
air.juggle = 5
fall = 1


; all kouryuukens (coming down)
[Statedef 1062]
type = A
velset = 0
anim = 1061

[State 1062, 1]
type = ChangeState
trigger1 = Pos Y >= -5
value = 1063

[State 1062, 3] ; gravity
type = Gravity
trigger1 = Pos Y < -5

[State 1062, 4]
type = VelSet
trigger1 = Pos Y >= -5
y = 0
x = 0

[State 1062, 5]
type = PosSet
trigger1 = Pos Y >= -5
y = 0

; kouryuuken land
[Statedef 1063]
type = S
physics = S
ctrl = 0
anim = 1062

[State 91063, 0]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State 1063, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 1063, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1063, 2]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 1063, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; med kouryuuken (start)
[Statedef 1070]
type = S
physics = S
movetype = A
ctrl = 0
poweradd = 110
velset = 0,0 
anim = 1060
juggle = 20

[State 91063, 0]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State 1070, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1070, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1070, 1]
type = NotHitBy
trigger1 = anim = 1060
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1070, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 1071

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-1
value = 10,100  ; Doryaa!
channel = 0

[State 1070, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 130/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -11
air.velocity = -4, -11
air.juggle = 5
fall = 1
fall.recover = 0

; med kouryuuken (going up)
[Statedef 1071]
type = A
movetype = A
movehitpersist = 1
velset = 2, -8

[State 1071, 1]
type = NotHitBy
trigger1 = anim = 1060
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1071, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1071, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1071, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 1062

[State 1071, 2]
type = HitDef
trigger1 = time = 0
trigger1 = MoveHit = 0
attr = S, SA
damage = 130/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -11
air.velocity = -4, -11
air.juggle = 5
fall = 1
fall.recover = 0

; heavy kouryuuken (start)
[Statedef 1080]
type = S
movetype = A
physics = S
ctrl = 0
poweradd = 60
velset = 0,0 
anim = 1060
juggle = 1

[State 91063, 0]
type = VarSet
trigger1 = time = 0
v = 34
value = 0


[State 1080, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1080, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1080, 1]
type = NotHitBy
trigger1 = AnimElem = 2, >= 0
trigger1 = anim = 1060
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1080, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 1081

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-1
value = 10,100  ; Doryaa!
channel = 0

[State 1080, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype = back 
damage = 77/(1+var(1)/7.0),10
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10, -60
hitsound = S6,5
guardsound = S0,100
guard.sparkno = S9200
ground.velocity = -3, -7
ground.hittime = 20
air.velocity = -3, -6.5
fall = 1
fall.recovertime = 46
fall.damage = 12/(1+var(1)/7.0)

; heavy kouryuuken (going up)
[Statedef 1081]
type = A
movetype = A
velset = 4, -10
juggle = 20

[State 1081, 1]
type = NotHitBy
trigger1 = anim = 1060
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1081, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1081, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1081, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 1062

[State 1081, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage = 87/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 12
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5, -11
air.velocity = -5, -11
air.juggle = 10
fall = 1
fall.recover = 0


; light Dan Kuu Kyaku (start)
[Statedef 1000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 1000
juggle = 3

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1000, 0]
type = ChangeState
trigger1 = AnimElem = 2, =3
value = 1001

[State 1000, 1]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; light Dan Kuu Kyaku (in air)
[Statedef 1001]
type = A
movetype = A
velset = 3, -9.5
poweradd = 50

[State 1001, 1]
type = VelAdd
trigger1 = Time >= 0
y = 0.75

[State 1001, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -7
type = ChangeState
value = 1002

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 11; whoosh

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 4; whoosh

[State 1001, 4]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage   = 40/(1+var(1)/7.0),10
guardflag = HA
animtype = DiagUp
pausetime = 12,12
sparkno = 2
sparkxy =  -5,-60
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2.5,-5
air.velocity = -2.5,-5
airguard.velocity = -3.4,-2.6
fall = 1
fall.recover = 0


; Dan Kuu Kyaku (land)
[Statedef 1002]
type = S
movetype = I
velset = 0, 0 
anim = 10

[State 1002, 0]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 11

[State 1002, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1002, 2]
type = PlaySnd
trigger1 = time = 0
value = 0,0

; air Dan Kuu Kyaku (going forward/backward)
[Statedef 1005]
type = A
movetype = A
physics = N
anim = 1005
poweradd = 40
ctrl = 0
juggle = 2   ; this is evil

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1005, 0]
type = VelSet
trigger1 = time = 0
trigger1 = Vel X < 0
x = -3.1

[State 1005, 1]
type = VelSet
trigger1 = time = 0
trigger1 = Vel X > 0
x = 3.1

[State 1005, 0]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 4

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 11

[State 1005, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
sparkno = 2
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0


[State 1005, 3]
type = VelSet
trigger1 = time = 0
y = -4

[State 1005, 4]
type = VelAdd
trigger1 = Time > 0
y = 0.75

[State 1005, 5]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[State 1006, 6]
type = Width
trigger1 = animelemno(0) = 3
value = 20,-10

; air Dan Kuu Kyaku (neutral)
[Statedef 1006]
type = A
movetype = A
physics = N
anim = 1005
velset = 1,-4
poweradd = 40
ctrl = 0
juggle = 2

[State 1006, 0]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1006, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 4

[State 1006, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 11

[State 1006, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
sparkno = 2
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0


[State 1006, 4]
type = VelAdd
trigger1 = Time > 0
y = 0.75

[State 1006, 5]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[State 1006, 6]
type = Width
trigger1 = animelemno(0) = 3
value = 20,-10

; "Command buffer" light Dan Kuu Kyaku
[Statedef 1007]
type = S
movetype = A
physics = N
velset = 0, 0
poweradd = 40
anim = 1000
juggle = 3

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1007, 0]
type = PosSet
trigger1 = time = 0
y = 0

[State 1007, 1]
type = ChangeState
trigger1 = AnimElem = 2, =3
value = 1008

[State 1007, 2]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[Statedef 1008]
type = A
movetype = A
velset = -3, -6.5

[State 1008, 1]
type = VelAdd
trigger1 = Time >= 0
y = 0.75

[State 1008, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -7
type = ChangeState
value = 1002

[State 1008, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 11; whoosh

[State 1008, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 4; whoosh

[State 1008, 4]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
sparkno = 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2.5,-5
air.velocity = -2.5,-5
airguard.velocity = -3.4,-2.6
fall = 1
fall.recover = 0


; medium Dan Kuu Kyaku (start)
[Statedef 1010]
type = S
ctrl = 0
velset = 0,0,0
anim = 1010
juggle = 4

[State 1010, 0]
type = ChangeState
trigger1 = AnimElem = 2, = 3
value = 1011

[State 1010, 1]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[Statedef 1011]
type = A
movetype = A
velset = 4, -7.2
poweradd = 55

[State 1011, 1]
type = VelAdd
trigger1 = Time >= 0
trigger1 = AnimElem = 7, < 0
y = 0.5

[State 1011, 1]
type = VelAdd
trigger1 = AnimElem = 7, >= 0
y = 0.57

[State 1011, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1011, 0]
type = PlaySnd
trigger1 = time = 0
trigger2 = AnimElem = 6
value = 1, 11

[State 1011, 0]
type = PlaySnd
trigger1 = time = 0
trigger2 = AnimElem = 6
value = 0, 4

[State 1011, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage   = 40/(1+var(1)/7.0),10 
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -5,-60
hitsound = S6,6
guardsound = S0,100
sparkno = 2
guard.sparkno = S9200
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-3.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0


[State 1011, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage   = 55/(1+var(1)/7.0),10
animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -10,-43
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
sparkno = 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0


; air medium Dan Kuu Kyaku (forward/backward)
[Statedef 1015]
type = A
movetype = A
physics = N
anim = 1015
juggle = 4
poweradd = 45
ctrl = 0

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1015, 0]
type = VelSet
trigger1 = time = 0
y = -3

[State 1015, 0]
type = VelSet
trigger1 = time = 0
trigger1 = Vel X < 0
x = -3.1

[State 1015, 0]
type = VelSet
trigger1 = time = 0
trigger1 = Vel X > 0
x = 3.1

[State 1015, 0]
type = VelAdd
trigger1 = Time > 0
trigger1 = AnimElem = 7, < 0
y = 0.25

[State 1015, 1]
type = VelAdd
trigger1 = AnimElem = 7, >= 0
y = .5

[State 1015, 1]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1015, 2]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 1, 11

[State 1015, 2]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 0, 4

[State 1015, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
sparkno = 2
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-3.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1015, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage   = 55/(1+var(1)/7.0),10
animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-63;-10,-43
hitsound = S6,6
sparkno = 2
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0


[State 1015, 6] 
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; air medium Dan Kuu Kyaku (neutral)
[Statedef 1016]
type = A
movetype = A
physics = N
anim = 1015
velset = 1.5, -3
juggle = 4
poweradd = 45
ctrl = 0

[State 1016, 0]
type = VelAdd
trigger1 = AnimElem = 6, < 0
y = 0.25

[State 1016, 1]
type = VelAdd
trigger1 = AnimElem = 6, >= 0
y = .5

[State 1016, 1]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1016, 2]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 1, 11

[State 1016, 2]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 0, 4

[State 1016, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
hitsound = S6,6
guardsound = S0,100
sparkno = 2
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-3.5
airguard.velocity = -3.4,-2.6
air.fall =1
fall.recover = 0

[State 1016, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage   = 55/(1+var(1)/7.0),10 
animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-63;-10,-43
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
sparkno = 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0


[State 1016, 6]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; "command buffer" medium Dan Kuu Kyaku (start)
[Statedef 1017]
type = S
ctrl = 0
velset = 0,0
poweradd = 45
anim = 1010
juggle = 4

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1017, 0]
type = ChangeState
trigger1 = AnimElem = 2, = 3
value = 1018

[State 1017, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1017, 2]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[Statedef 1018]
type = A
movetype = A
velset = -4, -5.6

[State 1018, 1]
type = VelAdd
trigger1 = Time >= 0
trigger1 = AnimElem = 7, < 0
y = 0.5

[State 1018, 1]
type = VelAdd
trigger1 = AnimElem = 7, >= 0
y = 0.57

[State 1018, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1018, 0]
type = PlaySnd
trigger1 = time = 0
trigger2 = AnimElem = 6
value = 1, 11

[State 1018, 0]
type = PlaySnd
trigger1 = time = 0
trigger2 = AnimElem = 6
value = 0, 4

[State 1018, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
sparkno = 2
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-3.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1018, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage   = 55/(1+var(1)/7.0),10 
animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-63;-10,-43
hitsound = S6,6
guardsound = S0,100
sparkno = 2
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3, -5.5
air.velocity = -3, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0


; hard Dan Kuu Kyaku (start)
[Statedef 1020]
movetype = A
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 1020
juggle = 5
sprpriority = 2

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1020, 0]
type = ChangeState
trigger1 = AnimElem = 2, =4
value = 1021

[State 1020, 1]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[Statedef 1021]
type = A
movetype = A
poweradd = 100
sprpriority = 2
velset = 4, -4

[State 1021, 1]
type = VelAdd
trigger1 = Time >= 0
y = 0.17

[State 1021, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
value = 1, 11

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1, 10

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
value = 0, 4

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = animelem = 11
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 91060
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 1021, 4]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage   = 40/(1+var(1)/7.0),10 
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -5,-60
hitsound = S6,6
guardsound = S0,100
sparkno = 2
guard.sparkno = S9200
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-2.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1021, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage   = 50/(1+var(1)/7.0),10 
animtype = Hard
air.animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -10,-43
hitsound = S6,6
sparkno = 2
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-2.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1021, 6]
type = HitDef
trigger1 = AnimElem = 11
animtype = DiagUp
attr = A, SA
damage   = 65/(1+var(1)/7.0),10 
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-50
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
;ground.velocity = -3, -5.5
;air.velocity = -3, -5
ground.velocity = -2, -5.5
air.velocity = -2, -5
airguard.velocity = -3.4,-3
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6


[State 1710, FireB]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

; air Dan Kuu Kyaku (hard) (forward/backward)
[Statedef 1025]
type = A
movetype = A
physics = N
anim = 1025
juggle = 5
poweradd = 50
ctrl = 0

[State 1025, 0]
type = VelSet
trigger1 = time = 0
y = -4 

[State 1025, 0]
type = VelSet
trigger1 = time = 0
trigger1 = Vel X < 0
x = -4 

[State 1025, 0]
type = VelSet
trigger1 = time = 0
trigger1 = Vel X > 0
x = 4 

[State 1025, 1]
type = VelAdd
trigger1 = Time > 0
trigger1 = AnimElem = 11, < 0
y = 0.17

[State 1025, 1]
type = VelAdd
trigger1 = AnimElem = 11, >= 0
y = 0.25

[State 1025, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = 1, 11

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1, 10

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
value = 0, 4

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = animelem = 10
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910600
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1


[State 1025, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
sparkno = 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-2.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1025, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage   = 50/(1+var(1)/7.0),10 
animtype = Hard
air.animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-63;-10,-43
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
sparkno = 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-2.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1025, 6]
type = HitDef
trigger1 = AnimElem = 10
animtype = DiagUp
attr = A, SA
damage   = 65/(1+var(1)/7.0),10 
guardflag = HA
pausetime = 12,12
sparkxy =  -15,-70;-12,-50
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.5, -5.5
air.velocity = -1.5, -5
airguard.velocity = -3.4,-3
fall = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0


[State 1710, FireB]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1025, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; air Dan Kuu Kyaku (hard) (neutral)
[Statedef 1026]
type = A
movetype = A
physics = N
anim = 1025
velset = 2, -4
juggle = 5
poweradd = 50
ctrl = 0


[State 1026, 1]
type = posadd
trigger1 = prevstateno = 2210
y = 15
persistent = 0


[State 1026, 1]
type = VelAdd
trigger1 = Time > 0
trigger1 = AnimElem = 11, < 0
y = 0.17

[State 1026, 1]
type = VelAdd
trigger1 = AnimElem = 11, >= 0
y = 0.25

[State 1026, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = 1, 11

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1, 10

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
value = 0, 4

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = animelem = 10
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910600
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1


[State 1026, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage   = 40/(1+var(1)/7.0),10 
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
hitsound = S6,6
guardsound = S0,100
sparkno = 2
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-2.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1026, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage   = 50/(1+var(1)/7.0),10 
animtype = Hard
air.animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-63;-10,-43
sparkno = 2
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-2.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1026, 6]
type = HitDef
trigger1 = AnimElem = 10
animtype = DiagUp
attr = A, SA
damage   = 65/(1+var(1)/7.0),10
guardflag = HA
pausetime = 12,12
sparkxy =  -15,-70;-12,-50
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.5, -5.5
air.velocity = -1.5, -5
airguard.velocity = -3.4,-3
fall = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0


[State 1710, FireB]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1026, 7]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; "command buffer" hard Dan Kuu Kyaku (start)
[Statedef 1027]
movetype = A
type = S
;physics = S
ctrl = 0
velset = 0,0
anim = 1020
poweradd = 50
juggle = 5

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 1027, 0]
type = ChangeState
trigger1 = AnimElem = 2, =4
value = 1028

[State 1027, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1027, 2]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

[Statedef 1028]
type = A
movetype = A
velset = -4, -4

[State 1028, 1]
type = VelAdd
trigger1 = Time >= 0
y = 0.25

[State 1028, 2]
trigger1 = Vel Y > 0
trigger1 = Pos Y > -2
type = ChangeState
value = 1002

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
value = 1, 11

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1, 10

[State 1021, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
value = 0, 4

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = animelem = 11
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910600
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1


[State 1028, 4]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage   =  40/(1+var(1)/7.0),10
guardflag = HA
animtype = Hard
air.animtype = DiagUp
pausetime = 12,12
sparkxy =  -7,-70;-5,-60
hitsound = S6,6
sparkno = 2
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-3.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1028, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage   =  50/(1+var(1)/7.0),10
animtype = Hard
air.animtype = DiagUp
guardflag = HA
pausetime = 12,12
sparkxy =  -12,-63;-10,-43
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
sparkno = 2
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.5
air.velocity = -2.7,-3.5
airguard.velocity = -3.4,-2.6
air.fall = 1
fall.recover = 0

[State 1028, 6]
type = HitDef
trigger1 = AnimElem = 11
animtype = DiagUp
attr = A, SA
damage   = 65/(1+var(1)/7.0),10
guardflag = HA
pausetime = 12,12
sparkxy =  -15,-70;-12,-50
hitsound = S6,6
guardsound = S0,100
guard.sparkno = S9200
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1.5, -5.5
air.velocity = -1.5, -5
airguard.velocity = -3.4,-3
fall = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0


[State 1710, FireB]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = AnimElem = 12
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

;-------------------------------------
;---------------------------------------------------------------------------
; ASURA SENKUU FORWARD XYZ (START)
[Statedef 960]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 100
ctrl = 0
anim = 960
velset = 0,0,0


[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 4110, 6]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 4
length = 15
Trans = add1
palbright   =   0,  0,  0
palcontrast = 128,128,128
paladd      =   0,  0,  0
palmul      =  1,1,1

[State 4110, 6]
type = Velset
trigger1 = time = 0
x = 3

[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = -3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 961

;---------------------------------------------------------------------------
; ASURA SENKUU FORWARD XYZ (MOVE)
[Statedef 961]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 961
velset = 9,0,0

[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0

[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6

[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 962

[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1

[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 182, 2]
type = Velmul
trigger1 = Time >= 25
trigger1 = Vel X > 0
x = .92

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 210, 3]
type = Velset
trigger1 = Time = 45
trigger2 = frontedgedist = 10
x = 0

[State 210, 3]
type = Turn
trigger1 = Time = 45
trigger1 = anim = 962

[State 210, 1]
type = AfterImageTime
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
Time = 0

[State 4110, 6]
type = Sprpriority
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0

[State 210, 3]
type = ChangeState
trigger1 = Time = 45
trigger2 = frontedgedist = 10
value = 0
ctrl = 1

[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 962

[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ASURA SENKUU FORWARD ABC (START)
[Statedef 970]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 10
ctrl = 0
anim = 960
velset = 0,0,0

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 4110, 6]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 4
length = 15
Trans = add1
palbright   =   0,  0,  0
palcontrast = 128,128,128
paladd      =   0,  0,  0
palmul      =  1,1,1

[State 4110, 6]
type = Velset
trigger1 = time = 0
x = 3

[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = -3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 971

;---------------------------------------------------------------------------
; ASURA SENKUU FORWARD ABC (MOVE)
[Statedef 971]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 961
velset = 6.5,0,0

[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0

[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6

[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 962

[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1

[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 182, 2]
type = Velmul
trigger1 = Time >= 15
trigger1 = Vel X > 0
x = .92

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 210, 3]
type = Velset
trigger1 = Time = 25
trigger2 = frontedgedist = 10
x = 0

[State 210, 3]
type = Turn
trigger1 = Time = 25
trigger1 = anim = 962

[State 210, 1]
type = AfterImageTime
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
Time = 0

[State 4110, 6]
type = Sprpriority
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0

[State 210, 3]
type = ChangeState
trigger1 = Time = 25
trigger2 = frontedgedist = 10
value = 0
ctrl = 1

[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 962

[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ASURA SENKUU BACKWARD XYZ (START)
[Statedef 980]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 10
ctrl = 0
anim = 960
velset = 0,0,0

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 4110, 6]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 4
length = 15
Trans = add1
palbright   =   0,  0,  0
palcontrast = 128,128,128
paladd      =   0,  0,  0
palmul      =  1,1,1

[State 4110, 6]
type = Velset
trigger1 = time = 0
x = -3

[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 981

;---------------------------------------------------------------------------
; ASURA SENKUU BACKWARD XYZ (MOVE)
[Statedef 981]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 961
velset = -9,0,0

[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0

[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6

[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 962

[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1

[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 182, 2]
type = Velmul
trigger1 = Time >= 25
trigger1 = Vel X < 0
x = .92

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 210, 3]
type = Velset
trigger1 = Time = 45
trigger2 = frontedgedist = 10
x = 0

[State 210, 3]
type = Turn
trigger1 = Time = 45
trigger1 = anim = 962

[State 210, 1]
type = AfterImageTime
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
Time = 0

[State 4110, 6]
type = Sprpriority
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0

[State 210, 3]
type = ChangeState
trigger1 = Time = 45
trigger2 = frontedgedist = 10
value = 0
ctrl = 1

[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 962

[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ASURA SENKUU BACKWARD ABC (START)
[Statedef 990]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 10
ctrl = 0
anim = 960
velset = 0,0,0

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 4110, 6]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 4
length = 15
Trans = add1
palbright   =   0,  0,  0
palcontrast = 128,128,128
paladd      =   0,  0,  0
palmul      =  1,1,1

[State 4110, 6]
type = Velset
trigger1 = time = 0
x = -3

[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 991

;---------------------------------------------------------------------------
; ASURA SENKUU BACKWARD ABC (MOVE)
[Statedef 991]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 961
velset = -6.5,0,0

[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0

[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6

[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 962

[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1

[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 182, 2]
type = Velmul
trigger1 = Time >= 15
trigger1 = Vel X < 0
x = .92

[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 210, 3]
type = Velset
trigger1 = Time = 25
trigger2 = frontedgedist = 10
x = 0

[State 210, 3]
type = Turn
trigger1 = Time = 25
trigger1 = anim = 962

[State 210, 1]
type = AfterImageTime
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
Time = 0

[State 4110, 6]
type = Sprpriority
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0

[State 210, 3]
type = ChangeState
trigger1 = Time = 25
trigger2 = frontedgedist = 10
value = 0
ctrl = 1

[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 962

[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 0
ctrl = 1

;----------
;throws
; Seoi nage attempt
[Statedef 900]
type = S
physics = S
movetype = A
velset = 0,0
poweradd = 10
ctrl = 0
anim = 900
juggle = 0

[State 905, grabmiss]
type = playsnd
trigger1 = animelem = 4
value = 91, 10
persistent = 0

[State 900, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 900, 3]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 10
attr = S, NT
id = 900
getpower  = 40
givepower = 30
hitflag = H-
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
sparkxy = -25, -70
sparkno = -1
p2facing = 0
p1facing = ifelse(command = "holdback",-1,1)
p1stateno = 905
p2stateno = 910
hitsound = S0,8
fall = 1
fall.damage = 15/(1+var(1)/7.0)

[State 900, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; Back Seoi nage attempt
[Statedef 901]
type = S
physics = S
movetype = A
velset = 0.0
poweradd = 10
id = 900
ctrl = 0
anim = 900
juggle = 0

[State 901, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 905, grabmiss]
type = playsnd
trigger1 = animelem = 4
value = 91, 10
persistent = 0


[State 901, 3]
type = HitDef
Trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 10
attr = S, NT
getpower  = 40
givepower = 30
id = 900
hitflag = M-
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
sparkxy = -25, -70
sparkno = -1
p2facing = 0
p1facing = ifelse(command = "holdback",-1,1)
p1stateno = 905
p2stateno = 910
hitsound = 6,0
fall = 1
fall.damage = 15/(1+var(1)/7.0)

[State 901, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; Air Seoi nage attempt
[Statedef 902]
type = A
physics = A 
movetype = A
juggle  = 4
poweradd=  (Var(10)=0)* 0
ctrl = 0
anim = 902

[State 905, grabmiss]
type = playsnd
trigger1 = animelem = 4
value = 91, 10
persistent = 0

[State 902, 3]
type = HitDef
triggerall = prevstateno != 450 || prevstateno != [600,650]
Trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 30
attr = A, NT
getpower  = 40
givepower = 30
id = 900
hitflag = AF
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
;snap = 20, 0, 0
sparkxy = -25, -70
sparkno = -1
p2facing = 0
p1facing = ifelse(command = "holdback",-1,1)
p1stateno = 906
p2stateno = 910
p2getp1state = 1
hitsound = S0,8
fall = 1
fall.damage = 15/(1+var(1)/7.0)

[State 902, 3]
type = HitDef
triggerall = prevstateno = 450 || prevstateno = [600,650]
Trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 30
attr = A, NT
getpower  = 40
givepower = 30
id = 900
hitflag = AF
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
;snap = 20, 0, 0
sparkxy = -25, -70
sparkno = -1
p2facing = 0
p1stateno = 906
p2stateno = 9910
p2getp1state = 1
hitsound = S0,8
fall = 1
fall.damage = 15/(1+var(1)/7.0)

[State 902, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; Air Seoi nage back attempt
[Statedef 903]
type = A
physics = A 
movetype = A
juggle  = 4
poweradd=  (Var(10)=0)* 0
ctrl = 0
anim = 902

[State 905, grabmiss]
type = playsnd
trigger1 = animelem = 4
value = 91, 10
persistent = 0


[State 903, 0]
type = CtrlSet
trigger1 = time = 0
value = 0

[State 903, 3]
type = HitDef
triggerall = prevstateno != 450 || prevstateno != [600,650]
trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 10
attr = A, NT
getpower  = 40
givepower = 30
hitflag = AF
id = 900
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
;snap = 20, 0, 0
sparkxy = -25, -70
sparkno = -1
p2facing = 0
p1facing = ifelse(command = "holdback",-1,1)
p1stateno = 906
p2stateno = 910
p2getp1state = 1
hitsound = S0,8
fall.damage = 15/(1+var(1)/7.0)
fall = 1

[State 903, 3]
type = HitDef
triggerall = prevstateno = 450 || prevstateno = [600,650]
trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 10
attr = A, NT
getpower  = 40
givepower = 30
hitflag = AF
id = 900
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
;snap = 20, 0, 0
sparkxy = -25, -70
sparkno = -1
p1facing = -1
p2facing = 0
p1stateno = 906
p2stateno = 9910
p2getp1state = 1
hitsound = S0,8
fall.damage = 15/(1+var(1)/7.0)
fall = 1

[State 903, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; Seoi Nage success
[Statedef 905]
type    = S
movetype= A
physics = S
poweradd = 70
anim = 905

[State 905, 0]
type = TargetDrop
trigger1 = !time
excludeID = 900
keepone = 1

[State 905, 0]
type = PosAdd
trigger1 = AnimElem = 3
x = 15   ; 17

[State 905, 0]
type = PosAdd
trigger1 = AnimElem = 4
x = 16   ; 18

[State 905, 0]
type = PosAdd
trigger1 = AnimElem = 5
x = 4   ; 4

[State 905, 0]
type = TargetBind
trigger1 = AnimElem = 2, < 0 
pos = -20, -1

[State 905, 0]
type = TargetBind
trigger1 = AnimElem = 2, >= 0 
trigger1 = AnimElem = 3, < 0
pos = -27, -90

[State 905, 0]
type = TargetBind
trigger1 = AnimElem = 3, >= 0 
trigger1 = AnimElem = 4, < 0
pos = -7, -91

[State 905, 0]
type = TargetBind
trigger1 = AnimElem = 4, >= 0 
trigger1 = AnimElem = 5, < 0 
pos = 24, -76

[State 905, 0]
type = TargetBind
trigger1 = AnimElem = 5
pos = 20,-45

[State 905, 0]
type = PlaySnd
trigger1 = time = 4
value = 905, 0   ; got you!
channel = 0

[State 905, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 10   ; hiyah!
channel = 0

;[State 905, 2]
;type = HitBy
;Trigger1 = Time >= 0
;value = SCA
;time = 1

[State 905, 1]
type = VelSet
Trigger1 = Time = 0
x = 0

[State 905, 8]
type = PosAdd
trigger1 = animtime = 0
x = -21

[State 905, 9]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Air Seoi Nage success
[Statedef 906]
type    = A
movetype= A
physics = N
poweradd = 70
anim = 906

[State 906, 0]
type = TargetBind
trigger1 = AnimElem = 2, < 0 
pos = -20, -1

[State 906, 0]
type = TargetBind
trigger1 = AnimElem = 2, >= 0 
trigger1 = AnimElem = 3, < 0
pos = -27, -90

[State 906, 0]
type = TargetBind
trigger1 = AnimElem = 3, >= 0 
trigger1 = AnimElem = 4, < 0
pos = -7, -91

[State 906, 0]
type = TargetBind
trigger1 = AnimElem = 4, >= 0 
trigger1 = AnimElem = 5, < 0 
pos = 24, -76

[State 906, 0]
type = TargetBind
trigger1 = AnimElem = 5
pos = 20,-45

[State 906, 0]
type = PlaySnd
trigger1 = time = 4
value = 905, 0   ; got you!
channel = 0

[State 906, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 10   ; hiyah!
channel = 0

[State 906, 2]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 906, 2]
type = PosFreeze
trigger1 = AnimElem = 5, < 0
time = 1

[State 906, 3]
type = ChangeState
trigger1 = AnimElem = 5
value = 907

[Statedef 907]
type = A
movetype = A
physics = A

[State 907, 0]
type = null
trigger1 = time = 0

; Thrown by Seoi Nage
[Statedef 910]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0
facep2 = 1
velset = 0,0

[State 910, 0]
type = ScreenBound
trigger1 = 1
value = 0

[State 910, 1]
type = HitBy
Trigger1 = 1
value = SCA
time = 1

[State 910, 2]
type = HitFallSet
Trigger1 = Time = 0
value = 1

[State 910, 2]
type = LifeAdd
trigger1 = AnimElem = 4
value = -120
persistent = 0

[State 910, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 910

;[State 910, 0]
;type = ChangeState
;trigger1 = time < 3
;trigger1 = command = "recovery"
;value = 912

[State 910, 8]
type = PowerAdd
Trigger1 = AnimElem = 4
value = 60

[State 910, 10]
type = ChangeState
Trigger1 = AnimElem = 5
value = 911

[Statedef 911]
type    = A
movetype= H ;Get hit
physics = N
velset = 3.8,-4.8 

[State 911, 4] ;Acceleration
type = Gravity;VelAdd
trigger1 = 1;Time >= 0
;y = .45

[State 911, 5] ;If yvelocity > 0
type = SelfState
trigger1 = Vel Y >= 4.8
trigger1 = Pos Y > 0
value = 5100

[State 911, 7] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > -1
triggerall = Vel Y < 40 ;4
triggerall = alive = 1
triggerall = CanRecover = 1
trigger1 = command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

; Tech hit in Seoi Nage
[Statedef 912]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 912, 0]
type = PalFX
trigger1 = time < 3
time = 2
add = -32,64,-32

[State 912, 0]
type = ScreenBound
trigger1 = 1
value = 0

[State 912, 1]
type = HitBy
Trigger1 = 1
value = SCA
time = 1

[State 912, 2]
type = HitFallSet
Trigger1 = Time = 0
value = 1

[State 912, 2]
type = LifeAdd
trigger1 = AnimElem = 4
value = -90

[State 912, 8]
type = PowerAdd
Trigger1 = AnimElem = 4
value = 60

[State 912, 10]
type = ChangeState
Trigger1 = AnimElem = 5
value = 913

[Statedef 913]
type    = A
movetype= H ;Get hit
physics = N
velset = 3.8,-4.8 

[State 913, 4] ;Acceleration
type = Gravity
trigger1 = 1

[State 913, 5] ;If yvelocity > 0
type = SelfState
trigger1 = Vel Y >= 0
value = 5210 ; recover

; Thrown by Seoi Nage
[Statedef 9910]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0
facep2 = 1
velset = 0,0

[State 910, 0]
type = ScreenBound
trigger1 = 1
value = 0

[State 910, 1]
type = HitBy
Trigger1 = 1
value = SCA
time = 1

[State 910, 2]
type = HitFallSet
Trigger1 = Time = 0
value = 1

[State 910, 2]
type = LifeAdd
trigger1 = AnimElem = 4
value = -50
persistent = 0

[State 910, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 910

;[State 910, 0]
;type = ChangeState
;trigger1 = time < 3
;trigger1 = command = "recovery"
;value = 9912

[State 910, 8]
type = PowerAdd
Trigger1 = AnimElem = 4
value = 60

[State 910, 10]
type = ChangeState
Trigger1 = AnimElem = 5
value = 911

[Statedef 911]
type    = A
movetype= H ;Get hit
physics = N
velset = 3.8,-4.8 

[State 911, 4] ;Acceleration
type = Gravity;VelAdd
trigger1 = 1;Time >= 0
;y = .45

[State 911, 5] ;If yvelocity > 0
type = SelfState
trigger1 = Vel Y >= 4.8
trigger1 = Pos Y > 0
value = 5100

[State 911, 7] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > -1
triggerall = Vel Y < 40 ;4
triggerall = alive = 1
triggerall = CanRecover = 1
trigger1 = command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

; Tech hit in Seoi Nage
[Statedef 9912]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 912, 0]
type = PalFX
trigger1 = time < 3
time = 2
add = -32,64,-32

[State 912, 0]
type = ScreenBound
trigger1 = 1
value = 0

[State 912, 1]
type = HitBy
Trigger1 = 1
value = SCA
time = 1

[State 912, 2]
type = HitFallSet
Trigger1 = Time = 0
value = 1

[State 912, 2]
type = LifeAdd
trigger1 = AnimElem = 4
value = -20

[State 912, 8]
type = PowerAdd
Trigger1 = AnimElem = 4
value = 60

[State 912, 10]
type = ChangeState
Trigger1 = AnimElem = 5
value = 913

[Statedef 913]
type    = A
movetype= H ;Get hit
physics = N
velset = 3.8,-4.8 

[State 913, 4] ;Acceleration
type = Gravity
trigger1 = 1

[State 913, 5] ;If yvelocity > 0
type = SelfState
trigger1 = Vel Y >= 0
value = 5210 ; recover

;-----------------------------------------------------------------------------
;Super Jump
;-----------------------------------------------------------------------------

[Statedef 1400]
type    = A
physics = N
anim = 40
ctrl = 0
sprpriority = 1
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 1300, Super D]
type = Afterimage
triggerall = var(10) = 0 && var(30) != 59
trigger1 = Time = 0
time = 15
length = 8
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
Trans = Add1
[State 40, 4]
type = VelSet
trigger1 = Time = 0 && var(30) != 59
y = -16
[State 40, 4]
type = VelSet
trigger1 = Time = 0 && var(30) = 59
y = -15
[State 40, 4]
type = veladd
trigger1 = Time >= 0
y = 2.4
[State 40, 4]
type = VelSet
trigger1 = command = "holdfwd"
trigger2 = var(30) = 59
x = 6
[State 40, 4]
type = VelSet
trigger1 = command = "holdback" && var(30) != 59
x = -5.5
[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 42]
type    = A
physics = N
anim = 40
ctrl = 0
sprpriority = 1
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 1300, Super D]
type = Afterimage
triggerall = var(10) = 0 && var(30) != 59
trigger1 = Time = 0
time = 15
length = 8
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
Trans = Add1
[State 40, 4]
type = VelSet
trigger1 = Time = 0 && var(30) != 59
y = -16
[State 40, 4]
type = VelSet
trigger1 = Time = 0 && var(30) = 59
y = -15
[State 40, 4]
type = veladd
trigger1 = Time >= 0
y = 2.4
[State 40, 4]
type = VelSet
trigger1 = command = "holdfwd2"
x = 6
[State 40, 4]
type = VelSet
trigger1 = command = "holdback2" && var(30) != 59
trigger2 = var(30) = 59
x = -5.5
[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 41]
type    = A
physics = N
anim = 40
ctrl = 0
sprpriority = 1
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 1300, Super D]
type = Afterimage
triggerall = var(10) = 0 && var(30) != 59
trigger1 = Time = 0
time = 15
length = 8
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
Trans = Add1
[State 40, 4]
type = VelSet
trigger1 = Time = 0 && var(30) != 59
y = -16
[State 40, 4]
type = VelSet
trigger1 = Time = 0 && var(30) = 59
y = -15
[State 40, 4]
type = veladd
trigger1 = Time >= 0
y = 2.4
[State 40, 4]
type = VelSet
trigger1 = command = "holdfwd2"
trigger2 = var(30) = 59
x = 6
[State 40, 4]
type = VelSet
trigger1 = command = "holdback2" && var(30) != 59
x = -5.5
[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;========================================================= 
[Statedef 3960]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd=  (Var(10)=0)* 100
ctrl = 0
anim = 3960
velset = 0,0,0
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 4,5
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 3450, Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = Time = 0
time = 300
length = 21
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = add1
[State 4110, 6]
type = Velset
trigger1 = time = 0
x = 3
[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = -3
[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3961
[Statedef 3961]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd=  (Var(10)=0)* 0
ctrl = 0
anim = 3961
velset = 9,0,0
[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0
[State 1531, 5]
type = PlaySnd
trigger1 = time = 0
value = 2,4
volume = 255
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6
[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 3962
[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1
[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 182, 2]
type = Velmul
trigger1 = Time >= 25
trigger1 = Vel X > 0
x = .92
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 210, 3]
type = Velset
trigger1 = Time = 45
trigger2 = frontedgedist = 10
x = 0
[State 210, 3]
type = Turn
trigger1 = Time = 45
trigger1 = anim = 3962
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
Time = 0
[State 4110, 6]
type = Sprpriority
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0
[State 210, 3]
type = ChangeState
trigger1 = Time = 45
trigger2 = frontedgedist = 10
value = 3962
ctrl = 0
[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 3962
[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 3962
ctrl = 0
[Statedef 3962]
type    = S
physics = S
movetype = A
ctrl = 0
anim = 47
[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0
[State 52, 3]
type = PosSet
trigger1 = Time = 0
y = 0
[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1
[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 3970]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd=  (Var(10)=0)* 100
ctrl = 0
anim = 3960
velset = 0,0,0
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 4,5
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 3450, Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = Time = 0
time = 999
length = 21
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 4110, 6]
type = Velset
trigger1 = time = 0
x = 3
[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = -3
[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3971
[Statedef 3971]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd=  (Var(10)=0)* 0
ctrl = 0
anim = 3961
velset = 6.5,0,0
[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0
[State 1531, 5]
type = PlaySnd
trigger1 = time = 0
value = 2,4
volume = 255
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6
[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 3962
[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1
[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 182, 2]
type = Velmul
trigger1 = Time >= 15
trigger1 = Vel X > 0
x = .92
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 210, 3]
type = Velset
trigger1 = Time = 25
trigger2 = frontedgedist = 10
x = 0
[State 210, 3]
type = Turn
trigger1 = Time = 25
trigger1 = anim = 3962
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
Time = 0
[State 4110, 6]
type = Sprpriority
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0
[State 210, 3]
type = ChangeState
trigger1 = Time = 25
trigger2 = frontedgedist = 10
value = 3962
ctrl = 0
[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 3962
[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 3962
ctrl = 0
[Statedef 3980]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd=  (Var(10)=0)* 100
ctrl = 0
anim = 3960
velset = 0,0,0
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 4,5
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 3450, Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = Time = 0
time = 999
length = 21
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 4110, 6]
type = Velset
trigger1 = time = 0
x = -3
[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = 3
[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3981
[Statedef 3981]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd=  (Var(10)=0)* 0
ctrl = 0
anim = 3961
velset = -9,0,0
[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6
[State 1531, 5]
type = PlaySnd
trigger1 = time = 0
value = 2,4
volume = 255
[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 3962
[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1
[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 182, 2]
type = Velmul
trigger1 = Time >= 25
trigger1 = Vel X < 0
x = .92
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 210, 3]
type = Velset
trigger1 = Time = 45
trigger2 = frontedgedist = 10
x = 0
[State 210, 3]
type = Turn
trigger1 = Time = 45
trigger1 = anim = 3962
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
Time = 0
[State 4110, 6]
type = Sprpriority
trigger1 = time = 33
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0
[State 210, 3]
type = ChangeState
trigger1 = Time = 45
trigger2 = frontedgedist = 10
value = 3962
ctrl = 0
[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 3962
[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 3962
ctrl = 0
[Statedef 3990]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd=  (Var(10)=0)* 100
ctrl = 0
anim = 3960
velset = 0,0,0
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 4,5
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 3450, Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = Time = 0
time = 999
length = 21
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 4110, 6]
type = Velset
trigger1 = time = 0
x = -3
[State 4110, 6]
type = Velset
trigger1 = AnimElem = 5
x = 3
[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3991
[Statedef 3991]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd=  (Var(10)=0)* 0
ctrl = 0
anim = 3961
velset = -6.5,0,0
[State 182, 2]
type = Width
trigger1 = Time >= 0
value = 10,0
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 21,6
[State 182, 2]
type = Changeanim
trigger1 = p2bodydist x < -30
value = 3962
[State 4110, 6]
type = Sprpriority
trigger1 = time >= 0
value = 1
[State 1531, 5]
type = PlaySnd
trigger1 = time = 0
value = 2,4
volume = 255
[State 182, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 182, 2]
type = Velmul
trigger1 = Time >= 15
trigger1 = Vel X < 0
x = .92
[State 182, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 210, 3]
type = Velset
trigger1 = Time = 25
trigger2 = frontedgedist = 10
x = 0
[State 210, 3]
type = Turn
trigger1 = Time = 25
trigger1 = anim = 3962
[State 210, 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
Time = 0
[State 4110, 6]
type = Sprpriority
trigger1 = time = 13
trigger2 = frontedgedist = 10
trigger3 = backedgedist = 0
trigger3 = time > 4
value = 0
[State 210, 3]
type = ChangeState
trigger1 = Time = 25
trigger2 = frontedgedist = 10
value = 3962
ctrl = 0
[State 210, 3]
type = Turn
trigger1 = frontedgedist = 10
trigger1 = anim = 3962
[State 210, 3]
type = ChangeState
trigger1 = backedgedist = 0
trigger1 = time > 4
value = 3962
ctrl = 0

[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0
[State 52, 3]
type = PosSet
trigger1 = Time = 0
y = 0
[State 52, Land SOund]
type = PlaySnd
trigger1 = Time = 1
value = 0,0
[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1
[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;================================================================================
[Statedef 10060]
type    = S
movetype= A
physics = S
poweradd=  (parent,Var(10)=0)* 10
ctrl = 0
anim = 1035
velset = 2,0
sprpriority = 5
juggle = 10
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = -1,0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = -1,0
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
triggerall = (enemyNear, StateNo = [5000,5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 2
[State 1000, 5]
type = Hitdef
trigger1 = time >= 0
attr = S, SP
damage    = 95/(1+var(1)/7.0),10
animtype  = light
guardflag = MA
getpower=  (parent,Var(10)=0)* 10
pausetime = 0,9
guard.sparkno = S9200
guardsound = S0,100
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2
air.type = Low
air.velocity = -2,-2
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 10
juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = -21,-61,-21
sinadd = 48,48,40,120
[State 1500, 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50
;[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 10,10,10
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = MoveContact
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012

[Statedef 1012]
type    = S
movetype= A
physics = S
poweradd=  (Var(10)=0)* 10
ctrl = 0
anim = 1036
velset = 2,0
sprpriority = 5
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = -9, 9
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 53
range = -9, 9
[State 1000, FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(53))
scale = 0.2,1.5
accel = 1/2*(var(52)),1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999
[State 1000, FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(53))
scale = 0.2,1.5
accel = 1/2*(var(52)),1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999
[State 1000, FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(53),(var(52))
scale = 0.2,1.5
accel = 1/2*(var(53)),1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999
[State 1000, FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10,-13
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(53),(var(52))
scale = 0.2,1.5
accel = 1/2*(var(53)),1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999
[State 3700, dissipate]
type = destroyself
trigger1 = time = 18
;====================================================================================
[Statedef 10070]
type    = S
movetype= A
physics = S
poweradd=  (parent,Var(10)=0)* 10
ctrl = 0
anim = 1035
velset = 2,0
sprpriority = 5
juggle = 10
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
v = 55
value = 1
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, 5]
type = velset
trigger1 = 1
x = 3
[State 1000, 5]
type = Hitdef
trigger1 = time >= 0 && var(55) < 3
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
getpower=  (parent,Var(10)=0)* 10
air.velocity = -2,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
air.juggle = 10
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1000, 5]
type = Hitdef
trigger1 = time >= 0 && var(55) >= 3
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
getpower=  (parent,Var(10)=0)* 10
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6,-5
air.type = Low
air.velocity = -6,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
air.juggle = 10
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
;[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 258,48,18
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
 
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(55) >= 3
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(55) < 3 && MoveContact
value = 1990
[Statedef 1990]
type    = S
movetype= A
physics = N
poweradd=  (parent,Var(10)=0)* 10
ctrl = 0
anim = 1035
sprpriority = 5
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
v = 55
value = 1
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, 5]
type = velset
trigger1 = 1
x = 3
[State 1000, 5]
type = Hitdef
trigger1 = time >= 0 && var(55) < 2
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,5
guard.sparkno = S9200
getpower=  (parent,Var(10)=0)* 10
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
air.juggle = 10
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1000, 5]
type = Hitdef
trigger1 = time >= 0 && var(55) >= 2
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,5
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
getpower=  (parent,Var(10)=0)* 10
ground.velocity = -6,-5
air.type = Low
air.velocity = -6,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
air.juggle = 10
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
;[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 258,48,18
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
 
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(55) >= 3
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(55) < 3 && MoveContact
value = 1990
;===============================================
[Statedef 10080]
type    = S
movetype= A
physics = S
poweradd=  (parent,Var(10)=0)* 10
ctrl = 0
anim = 1035
velset = 3,0
sprpriority = 5
juggle = 10
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, 5]
type = velset
trigger1 = 1
x = 4
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 4
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
getpower=  (parent,Var(10)=0)* 10
air.velocity = -2,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 4
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
getpower=  (parent,Var(10)=0)* 10
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6,-5
air.type = Low
air.velocity = -6,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
;[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 258,48,18
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
 
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 4
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 4 && MoveContact
value = 1991

[Statedef 1991]
type    = S
movetype= A
physics = S
poweradd=  (parent,Var(10)=0)* 10
ctrl = 0
anim = 1035
sprpriority = 5
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, 5]
type = velset
trigger1 = 1
x = 4
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 3
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
getpower=  (parent,Var(10)=0)* 10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 3
attr = S, SP
damage    = 55/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,7
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
getpower=  (parent,Var(10)=0)* 10
ground.velocity = -6,-5
air.type = Low
air.velocity = -6,-5
forcestand = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
;[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 258,48,18
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
 
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 4
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 4 && MoveContact
value = 1991

;=================================================================================================0
[Statedef 9991060]
type = S
physics = S
movetype = A
ctrl = 0
poweradd = 100
velset = 0,0 
anim = 10600
juggle = 4

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1060, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1060, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1060, 1]
type = NotHitBy
trigger1 = anim = 10600
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1


[State 1060, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 91061

[State 1060, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-1
value = 1060,0  ; Kouryuuken
channel = 0

[State 1060, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-1
value = 0, 220 

[State 1060, 2]
type = HitDef
trigger1 = AnimElem = 2
damage = 100/(1+var(1)/7.0),10
attr = S, SA
animtype = Diagup
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 12
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3, -8
air.velocity = -3, -8
air.juggle = 4
fall = 1
fall.recover = 0

; light kouryuuken (going up)
[Statedef 91061]
type = A
movetype = A
physics = A
velset = 0, -6
movehitpersist = 1

[State 1061, 1]
type = NotHitBy
trigger1 = anim = 10600
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1061, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 1061, 2]
type = HitDef
trigger1 = time = 0
trigger1 = MoveContact = 0
damage = 100/(1+var(1)/7.0),10
animtype = Diagup
attr = S, SA
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 12
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3, -8
air.velocity = -3, -8
air.juggle = 4
fall = 1
fall.recover = 0

; all kouryuukens (coming down)
[Statedef 91062]
type = A
velset = 0
anim = 10601

[State 1500, 0]
type = Varset
trigger1 = vel y > 0 && pos y >= 0
v = 28
value = 0

[State 91062, 1]
type = ChangeState
trigger1 = Pos Y >= -5
value = 91063

[State 1062, 3] ; gravity
type = Gravity
trigger1 = Pos Y < -5

[State 1062, 4]
type = VelSet
trigger1 = Pos Y >= -5
y = 0
x = 0

[State 1062, 5]
type = PosSet
trigger1 = Pos Y >= -5
y = 0

; kouryuuken land
[Statedef 91063]
type = S
physics = S
ctrl = 0
anim = 10602

[State 1500, 0]
type = Varset
trigger1 = vel y > 0 && pos y >= 0
v = 28
value = 0

[State 1500, 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 1063, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 1063, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1
[State 52, Land SOund]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 210, 1]
type = AfterImageTime
trigger1 = time = 3
Time = 0

[State 1520, 9]
type = ChangeState
trigger1 = Time = 3
value = 0
ctrl = 1


; med kouryuuken (start)
[Statedef 9991070]
type = S
physics = S
movetype = A
ctrl = 0
poweradd = 110
velset = 0,0 
anim = 10600
juggle = 4

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1070, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1070, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1070, 1]
type = NotHitBy
trigger1 = anim = 10600
trigger1 = AnimElem = 2, >= 0
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1070, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 91071

[State 1070, 5]
type = PlaySnd
trigger1 = animelem = 2, =-1
value = 1060,0  ; Kouryuuken
channel = 0

[State 1070, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1070, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 130/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 13
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
air.juggle = 10
fall = 1


; med kouryuuken (going up)
[Statedef 91071]
type = A
movetype = A
movehitpersist = 1
velset = 2, -8

[State 1071, 1]
type = NotHitBy
trigger1 = anim = 10600
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1071, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1071, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1071, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 1071, 2]
type = HitDef
trigger1 = time = 0
trigger1 = MoveHit = 0
attr = S, SA
damage = 130/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 13
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
air.juggle = 10
fall = 1


; heavy kouryuuken (start)
[Statedef 9991080]
type = S
movetype = A
physics = S
ctrl = 0
poweradd = 120
velset = 0,0 
anim = 10600
juggle = 4

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 999106000
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 1

[State 1080, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1080, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1080, 1]
type = NotHitBy
trigger1 = AnimElem = 2, >= 0
trigger1 = anim = 10600
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1080, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 91081

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-1
value = 1060,0  ; Doryaa!
channel = 0

[State 1080, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype = back 
damage = 77/(1+var(1)/7.0),10
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10, -60
hitsound = S6,5
guardsound = S0,100
guard.sparkno = S9200
ground.velocity = -3, -7
ground.hittime = 20
air.velocity = -3, -6.5
fall = 1
fall.recovertime = 46
fall.damage = 12/(1+var(1)/7.0)
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1710, FireB]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

; heavy kouryuuken (going up)
[Statedef 91081]
type = A
movetype = A
velset = 4, -10

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 99910600
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 1081, 1]
type = NotHitBy
trigger1 = anim = 10600
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1081, 3]
type = Gravity
trigger1 = Pos Y < -5

[State 1081, 4]
type = VelMul
trigger1 = time >= 0
x = .93

[State 1081, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 1081, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage = 87/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 12
sparkxy = 0, -80
sparkno = 2
guard.sparkno = S9200
hitsound = S6,5
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5, -11
air.velocity = -5, -11
air.juggle = 10
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1710, FireB]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1


;palla
[Statedef 99910600]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 10841
velset = 4,-10
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = parent,vel y >= 1
trigger2 = parent,movetype = H
trigger3 = parent,stateno != [91062,91081]

;palla2
[Statedef 999106000]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 910820
velset = 4,-10
sprpriority = 3
[State 1000, bind]
type = Playsnd
trigger1 = time = 0
value = 99, 1
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3700, dissipate]
type = Destroyself
trigger1 = parent,anim = 10600
trigger1 = parent,animelem = 3
trigger2 = parent,movetype = H
trigger3 = parent,stateno != 9991080

[Statedef 99910601]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 108411
;velset = 4,-10
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = parent,anim = 1500
trigger1 = parent,animelem = 5
trigger2 = parent,movetype = H
trigger3 = parent,stateno != 3450

[Statedef 99910602]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7090
;velset = 4,-10
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = ChangeAnim
trigger1 = parent,anim != 1500
trigger2 = parent,movetype = H
trigger3 = parent,stateno != [3450,3451]
value = 70919
persistent = 0

[State 3700, dissipate]
type = DestroySelf
trigger1 = anim = 70919
trigger1 = animelem = 6

[Statedef 999106022]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7090
;velset = 4,-10
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 1000, bind]
type = Playsnd
trigger1 = time = 0
value = 555, 555
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = ChangeAnim
trigger1 = parent,anim != 93452
trigger2 = parent,movetype = H
trigger3 = parent,stateno != 93451
value = 70919
persistent = 0

[State 3700, dissipate]
type = DestroySelf
trigger1 = anim = 70919
trigger1 = animelem = 6

[Statedef 54321]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 3043
;velset = 4,-10
sprpriority = 3

[State 0, 2]
type = bindtoparent
triggerall = anim = 3043
trigger1 = parent, stateno = 93451
value = 1

;[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 1000, bind]
type = Playsnd
trigger1 = time = 0
value = 556, 555
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120

[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 10
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 11
time = 10
length = 3
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 22
time = 10
length = 2
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 33
time = 10
length = 1
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add

[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 75
add = 92,24,153
sinadd = -500,-500,-500,120

;[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 80
add = 255,0,0
sinadd = -500,-500,-500,150
;[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 1
[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 47,0,149
time = 1
;[State 1531, 5]
type = EnvColor
trigger1 = time = 79
value = 47,0,149
time = 1
;[State 1531, 5]
type = EnvColor
trigger1 = time = 79
value = 255,255,255
time = 1


[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = ChangeAnim
trigger1 = parent,anim = 93452
trigger2 = parent,movetype = H
trigger3 = parent,stateno != 93451
value = 3044
persistent = 0

[State 3700, dissipate]
type = DestroySelf
trigger1 = anim = 3044
trigger1 = animelem = 9

;palla2
[Statedef 999106002]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7092
;velset = 4,-10
sprpriority = 3
[State 1000, bind]
type = Playsnd
trigger1 = time = 0
value = 555, 555
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3700, dissipate]
type = Destroyself
trigger1 = parent,anim = 1500
trigger1 = parent,animelem = 10
trigger2 = parent,movetype = H
trigger3 = parent,stateno != 3450

;palla2
[Statedef 999106001]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 910820
;velset = 4,-10
sprpriority = 3
[State 1000, bind]
type = Playsnd
trigger1 = time = 0
value = 99, 1
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
;PalBright   =   0,  0,  0
;PalContrast = 218,168,245
;PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 3700, dissipate]
type = Destroyself
trigger1 = parent,anim = 1500
trigger1 = parent,animelem = 4
trigger2 = parent,movetype = H
trigger3 = parent,stateno != 3450

;====================================================================================
;presa
[Statedef 9905]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 900
sprpriority = 2
[State 905, 2]
type = HitDef
trigger1 = time < 1
trigger1 = P2BodyDist X <= 20
attr = S, NT   
p2facing = 1
p1facing = ifelse(command = "holdback",-1,1)
hitflag = M-
priority = 2, Miss
sparkno = -1
hitsound = S0,8
p1stateno = 930
p2stateno = 935
p2getp1state = 1
fall = 1
[State 905, grabmiss]
type = playsnd
trigger1 = animelem = 4
value = 91, 10
persistent = 0
[State 905, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 930]
type = S
movetype = A
physics = S
anim = 930
velset = 0,0
sprpriority = 2
[State 930, TimeCountVar]
type = VarSet
trigger1 = time = 0 && var(3) = 0
v = 3
value = 0
[State 930, TimeCount]
type = VarAdd
trigger1 = 1
v = 3
value = 1
[State 932, TimeCount]
type = VarAdd
trigger1 = target, command = "a" || target, command = "b" || target, command = "c"
trigger2 = target, command = "x" || target, command = "y" || target, command = "z"
v = 3
value = 8
[State 930, 1]
type = NotHitBy
trigger1 = 1
value = SCA
[State 930, ChangeState]
type = ChangeState
trigger1 = command = "a" || command = "b" || command = "c"
trigger1 = animelemtime(2) < 0
trigger2 = Var(30) = 59 && p2life > 0
trigger2 = animelemtime(2) < 0
value = 932
[State 930, Edge]
type = Width
trigger1 = animelemtime(1) >= 0
edge = 65,0
[State 930, T1]
type = TargetBind
trigger1 = animelemtime(2) < 0
pos = 42, 0
[State 930, T2]
type = TargetBind
trigger1 = animelemtime(2) >= 0 && animelemtime(3) < 0
pos = 42, 0
[State 930, T3]
type = targetbind
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
pos = 42, 0
[State 930, FierceVoice]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 110
channel = 0
[State 930, T4]
type = targetbind
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0
pos = 42, 0
[State 930, HitSound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 6,5
[State 930, LifeMinus]
type = targetlifeadd
trigger1 = AnimElem = 4
value = -30
[State 930, HitCountAdd]
type = HitAdd
trigger1 = animelem = 4 && var(3) > 30
value = 1
[State 930, HitSpark]
type = Explod
trigger1 = AnimElem = 4
id = 930
anim = F2
pos = 48,-73
postype = p1
removetime = -2
sprpriority = 3
ownpal = 1
[STate 930, T5]
type = targetbind
trigger1 = animelemtime(5) >= 0 && animelemtime(6) < 0
pos = 47, 0
[State 930, T6]
type = TargetBind
trigger1 = animelem = 6, >= 0
pos = 42, 0
[State 930, TargetState]
type = TargetState
trigger1 = animtime = 0 && var(3) >= 160
value = 936
[State 930, 9]
type = ChangeState
trigger1 = animtime = 0 && var(3) >= 160
value = 931

[Statedef 932]
type = S
movetype = A
physics = S
anim = 932
velset = 0,0
sprpriority = 2
[State 932, TargetStateChange]
type = Targetstate
trigger1 = time = 0
value = 937
[State 932, TimeCount]
type = VarAdd
trigger1 = 1
v = 3
value = 1
[State 932, TimeCount]
type = VarAdd
trigger1 = target, command = "a" || target, command = "b" || target, command = "c"
trigger2 = target, command = "x" || target, command = "y" || target, command = "z"
v = 3
value = 8
[State 932, 1]
type = NotHitBy
trigger1 = 1
value = SCA
[State 932, FlashingFX]
type = PalFx
trigger1 = timemod = 3,0
add = 48,48,48
time = 2
[State 932, Edge]
type = Width
trigger1 = animelemtime(1) >= 0
edge = 65,0
[State 932, T1]
type = TargetBind
trigger1 = animelemtime(2) < 0
pos = 42, 0
[State 932, T2]
type = TargetBind
trigger1 = animelemtime(2) >= 0 && animelemtime(3) < 0
pos = 42, 0
[State 932, T3]
type = targetbind
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
pos = 42, 0
[State 932, FierceVoice]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 110
channel = 0
[State 932, T4]
type = targetbind
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0
pos = 42, 0
[State 932, HitSound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 6,5
[State 932, LifeMinus]
type = targetlifeadd
trigger1 = AnimElem = 4
value = -30
[State 932, HitCountAdd]
type = HitAdd
trigger1 = animelem = 4 && var(3) > 30
value = 1
[State 932, HitSpark]
type = Explod
trigger1 = AnimElem = 4
id = 930
anim = F2
pos = 48,-73
postype = p1
removetime = -2
sprpriority = 3
ownpal = 1
[STate 932, T5]
type = targetbind
trigger1 = animelemtime(5) >= 0 && animelemtime(6) < 0
pos = 47, 0
[State 932, T6]
type = TargetBind
trigger1 = animelem = 6, >= 0
pos = 42, 0
[State 932, TargetState]
type = TargetState
trigger1 = animtime = 0
value = ifelse(var(3)>= 160, 936,935)
[State 932, 9]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(var(3)>= 160, 931,930)

[Statedef 931]
type = S
movetype = I
physics = S
anim = 250
velset = 0,0
sprpriority = 2
[State 931, 0]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
[State 931, ResetVar(3)]
type = VarSet
trigger1 = time = 0
v = 3
value = 0
[State 931, HitSpark]
type = Explod
trigger1 = AnimElem = 2
id = 930
anim = F2
pos = 60,-55
postype = p1
removetime = -2
sprpriority = 3
ownpal = 1
[State 930, HitSound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 6,5
[State 931, FRoundhouse]
type = PlaySNd
trigger1 = time = 2
value = 1,10
channel = 0
[State 931, 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 935]
type = A
movetype = H
physics = N
[State 932, FlashingFX]
type = PalFx
triggerall = timemod = 3,0
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "x" || command = "y" || command = "z"
add = 48,48,48
time = 2
[State 935, 0]
type = sprpriority
trigger1 = time = 0
value = -1
[State 935, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 935

[Statedef 937]
type = A
movetype = H
physics = N
[State 932, FlashingFX]
type = PalFx
triggerall = timemod = 3,0
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "x" || command = "y" || command = "z"
add = 48,48,48
time = 2
[State 937, 0]
type = sprpriority
trigger1 = time = 0
value = -1
[State 937, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 937

[Statedef 936]
type = A
movetype = H
physics = N
[State 936, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 936
[State 936, 1]
type = PosAdd
trigger1 = time = 7
y = -60
x = -20
[State 936, 2]
type = VelSet
trigger1 = time = 6
x = -8
y = 1
[State 936, 5]
type = PosAdd
trigger1 = time = 12
y = 50
[State 936, 6]
type = SelfState
trigger1 = time = 12
value = 5050

; Saikyou Jigoku Otoshi
[Statedef 998000]
type = A
movetype = A
physics = A
poweradd=  (Var(10)=0)* 0
anim = 902
ctrl = 0
juggle = 4

[State 9980, 1]
type = VarSet
trigger1 = !time
var(11) = (command = "holdback") && (command = "ab" || command = "bc")
 
[State 9980, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 9980, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 91, 10   ; throw miss
channel = 0

[State 9980, 3]
type = HitDef
triggerall = prevstateno != 450 || prevstateno != [600,650]
trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 30
attr = A, NT
id = 998000
getpower  = 40
givepower = 30
hitflag = AF
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
sparkxy = -25, -70
sparkno = -1
p2facing = ifelse(var(11),-1,1)
p1stateno = 9985
p2stateno = 9990
p2getp1state = 1
hitsound = S0,8
fall = 1
fall.recovertime = 4

[State 9980, 3]
type = HitDef
triggerall = prevstateno = 450 || prevstateno = [600,650]
trigger1 = AnimElem = 2
trigger1 = P2BodyDist X <= 20
trigger1 = P2BodyDist Y <= 30
attr = A, NT
id = 998000
getpower  = 40
givepower = 30
hitflag = AF
priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
sparkxy = -25, -70
sparkno = -1
p2facing = ifelse(var(11),-1,1)
p1stateno = 9985
p2stateno = 99990
p2getp1state = 1
hitsound = S0,8
fall = 1
fall.recovertime = 4

[State 9980, 4]
type = VarAdd
trigger1 = time = 0
v = 4
value = 1

; Saikyou Jigoku Otoshi success
[Statedef 9985]
type = A
movetype = A
physics = N
anim = 985

[State 985, 0]
type = TargetDrop
trigger1 = !time
excludeID = 998000
keepone = 1

[State 985, 0]
type = Turn
triggerall = !time
trigger1 = var(11)

[State 985, 3]
type = PlaySnd
trigger1 = AnimElem = 1, = 2
value = 1, 11   ; hah!

[State 985, 0]
type = PosFreeze
trigger1 = AnimElem = 4, < 0

[State 985, 1]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = -30, -86

[State 985, 1]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = -15, -83

[State 985, 1]
type = TargetBind
trigger1 = AnimElemNo(0) = 3
pos = 2, -75

[State 985, 1]
type = TargetBind
trigger1 = AnimElemNo(0) = 4
time = 1
pos = 28, -64

[State 985, 0]
type = Width
trigger1 = AnimElemNo(0) = 4
edge = 18

[State 985, 1]
type = VelSet
trigger1 = AnimElem = 4
y = ifelse(Vel Y > 0, 0, Vel Y)

[State 985, 2]
type = Gravity
trigger1 = AnimElemNo(0) = 4

[State 985, 2]
type = ChangeState
trigger1 = Pos Y > 0
value = 9986

[Statedef 9986]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 20
anim = 986

[State 986, 0]
type = Width
trigger1 = 1
edge = 13

[State 986, 0]
type = TargetBind
trigger1 = !time
pos = 28, -5

[State 986, 0]
type = PosSet
trigger1 = !time
y = 0

[State 986, 1]
type = TargetState
trigger1 = !time
value = target(998000),stateno+1

[State 986, 2]
type = EnvShake
trigger1 = !time
time = 20
ampl = -5

[State 991, 4]
type = PlaySnd
trigger1 = !time
value = 1, 10

[State 991, 4]
type = PlaySnd
trigger1 = !time
value = 1, 100

[State 986, 3]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

; Saikyou Jigoku Otosareta (air)
[Statedef 9990]
type = A
movetype = H
physics = N

[State 990, 0]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 990, 0]
type = ChangeAnim2
trigger1 = !time
value = 990

;[State 990, 0]
;type = ChangeState
;trigger1 = command = "recovery"
;trigger1 = time < 3
;value = 9993

; Saikyou Jigoku Otosareta (ground)
[Statedef 9991]
type = L
movetype = H
physics = N

[State 991, 1]
type = ChangeAnim2
trigger1 = !time
value = 991

[State 991, 4]
type = PlaySnd
trigger1 = !time
value = F7, 2

[State 991, 5]
type = Explod
trigger1 = !time
anim = F62
pos = 0,0
postype = p1
removetime = -2
ownpal = 1
sprpriority = 3

[State 991, 0]
type = LifeAdd
trigger1 = !time
value = -135

[State 991, 3]
type = ChangeState
trigger1 = time = 20
value = 9992

; Saikyou Jigoku Otosareta (bounce)
[Statedef 9992]
type    = A
movetype= H
physics = N
anim = ifelse(SelfAnimExist(5052),5052,5050)
;velset = 0,-4
velset = -2,-4

[State 5050, 1] 
type = ChangeAnim
trigger1 = AnimTime = 0
trigger2 = Time = 0     
trigger2 = Anim != 5035
value = 5050
[State 5050, 3]
type = VelAdd
trigger1 = Time >= 0
y = .35
[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE
;[State 5050, 6]
;type = ChangeState
;trigger1 = time = 0
;value = 95020
;[State 5050, 6]
;type = ChangeState
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 25
;value = 95020

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 95020]
type    = A
movetype= H
physics = N
velset = -2,-4

[State 95020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 95020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 95020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 95020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 95020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 95030

[State 95020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 95020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 95020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 95030]
type    = A
movetype= H
physics = N
ctrl = 0
velset = -2,-4

[State 95030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 95030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 95030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 95040 ;HITA_RECOV

[State 95030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 95050 ;HITA_FALL

[State 95030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 95035 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 95035]
type    = A
movetype= H
physics = N
velset = -2,-4

[State 95035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 95035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 95035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 95040 ;HITA_RECOV

[State 95035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 95050 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 95040]
type    = A
movetype= H
physics = N
velset = -2,-4

[State 95040, 1]
type = SelfState
trigger1 = !Alive
value = 5050

[State 95040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 95040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 95040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 95040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 95040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 95050]
type    = A
movetype= H
physics = N
velset = -2,-4

[State 95050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 95050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 95050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

;[State 95050, 4] ;Recover near ground
;type = ChangeState
;triggerall = Vel Y > 0
;triggerall = Pos Y >= -20
;triggerall = alive
;triggerall = CanRecover
;trigger1 = Command = "recovery"
;value = 5200 ;HITFALL_RECOVER

;[State 95050, 5]; Recover in mid air
;type = ChangeState
;triggerall = Vel Y > -1
;triggerall = alive
;triggerall = CanRecover
;trigger1 = Command = "recovery"
;value = 5210 ;HITFALL_AIRRECOVER

[State 95050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE
;____________________________________________________________
;[Statedef 9992]
;type = A
;movetype = H
;physics = A
;velset = -2.2, -4.5
;anim = ifelse(SelfAnimExist(5052),5052,5050)

;[State 991, 3]
;type = SelfState
;trigger1 = Vel Y > 0
;triggerall = life >= 1
;trigger1 = Pos Y >= -3.5
;value = 5050

;[State 991, 3]
;type = SelfState
;trigger1 = Vel Y > 0
;triggerall = life < 1
;value = 5050

; Saikyou Jigoku Otosareta (air, after tech hit)
[Statedef 9993]
type = A
movetype = H
physics = N

[State 990, 0]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 993, 0]
type = PalFX
trigger1 = time < 3
time = 2
add = -32,64,-32

; Saikyou Jigoku Otosareta (ground, after tech hit)
[Statedef 9994]
type = L
movetype = H
physics = N

[State 994, 1]
type = ChangeAnim2
trigger1 = !time
value = 991

[State 994, 4]
type = PlaySnd
trigger1 = !time
value = F7, 2

[State 994, 5]
type = Explod
trigger1 = !time
anim = F62
pos = 0,0
postype = p1
removetime = -2
ownpal = 1
sprpriority = 3

[State 994, 0]
type = LifeAdd
trigger1 = !time
value = -100

[State 994, 3]
type = ChangeState
trigger1 = time = 20
value = 9995

[Statedef 9995]
type = A
movetype = H
physics = A
velset = -3.6, -5.5
anim = ifelse(SelfAnimExist(5052),5052,5050)

[State 991, 3]
type = SelfState
trigger1 = time = 4
value = 5040

; Saikyou Jigoku Otosareta (air)
[Statedef 99990]
type = A
movetype = H
physics = N

[State 990, 0]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 990, 0]
type = ChangeAnim2
trigger1 = !time
value = 990

;[State 990, 0]
;type = ChangeState
;trigger1 = command = "recovery"
;trigger1 = time < 3
;value = 99993

; Saikyou Jigoku Otosareta (ground)
[Statedef 99991]
type = L
movetype = H
physics = N

[State 991, 1]
type = ChangeAnim2
trigger1 = !time
value = 991

[State 991, 4]
type = PlaySnd
trigger1 = !time
value = F7, 2

[State 991, 5]
type = Explod
trigger1 = !time
anim = F62
pos = 0,0
postype = p1
removetime = -2
ownpal = 1
sprpriority = 3

[State 991, 0]
type = LifeAdd
trigger1 = !time
value = -45

[State 991, 3]
type = ChangeState
trigger1 = time = 20
value = 99992

; Saikyou Jigoku Otosareta (bounce)
[Statedef 99992]
type    = A
movetype= H
physics = N
anim = ifelse(SelfAnimExist(5052),5052,5050)
;velset = 0,-4
velset = -2,-4

[State 5050, 1] 
type = ChangeAnim
trigger1 = AnimTime = 0
trigger2 = Time = 0     
trigger2 = Anim != 5035
value = 5050
[State 5050, 3]
type = VelAdd
trigger1 = Time >= 0
y = .35
[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

; Saikyou Jigoku Otosareta (air, after tech hit)
[Statedef 99993]
type = A
movetype = H
physics = N

[State 990, 0]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 993, 0]
type = PalFX
trigger1 = time < 3
time = 2
add = -32,64,-32

; Saikyou Jigoku Otosareta (ground, after tech hit)
[Statedef 99994]
type = L
movetype = H
physics = N

[State 994, 1]
type = ChangeAnim2
trigger1 = !time
value = 991

[State 994, 4]
type = PlaySnd
trigger1 = !time
value = F7, 2

[State 994, 5]
type = Explod
trigger1 = !time
anim = F62
pos = 0,0
postype = p1
removetime = -2
ownpal = 1
sprpriority = 3

[State 994, 0]
type = LifeAdd
trigger1 = !time
value = -25

[State 994, 3]
type = ChangeState
trigger1 = time = 20
value = 99995

[Statedef 99995]
type = A
movetype = H
physics = A
velset = -3.6, -5.5
anim = ifelse(SelfAnimExist(5052),5052,5050)

[State 991, 3]
type = SelfState
trigger1 = time = 4
value = 5040

;================================================================================================
;SHINKUU GADOKEN!!
[Statedef 3885]
type    = S
movetype= A
physics = S
poweradd=  (Var(10)=0)* -1000
juggle = 0
ctrl = 0
anim = 3905
velset = 0,0
sprpriority = 2
[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0
[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100
[State 3885, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,30]
value = SCA
time = 1
[State 3700, flame charge]
type = PlaySnd
trigger1 = AnimElem = 1,=4
value = 3,1
supermove = 1
[State 3885, Shadows]
type = Afterimage
trigger1 = Time = 0 && var(29) = 0
time = 29
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3885, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 29
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3885, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
triggerall = var(46) <= 10
trigger1 = var(28) < 3
time = 29
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 1
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,390
time           = 80
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 1
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 32
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 1
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 32
ignorehitpause = 1
invertall = 1
[State 3885, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = AnimELem = 1
anim = -1
time = 80
pos = -29, -63
movetime = 4
sprpriority = 3
[State 3885, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = AnimELem = 1
anim = -1
time = 32
pos = -29, -63
movetime = 4
sprpriority = 3
[State 3450, Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 9402
scale = 0.7,0.7
pos = 0,0
sprpriority = 0
postype = p1
supermove = 1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 38,-96
postype = p1
sprpriority = -4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State 3885, SuperLight] 
type = Explod
trigger1 = Animelem = 3
anim = 4803
pos = 39,-97
postype = p1
sprpriority = 3
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State 3885, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 4800
pos = 5,0
postype = p1
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999
[State 3885, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 4804
pos = 5,0
postype = p1
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999
[State 3885, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 4804
pos = 6,1
postype = p1
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999
[State 3885, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 4800
pos = 6,1
postype = p1
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10086
;pos = -29,-63
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 65
ownpal = 1
scale = 0.5,0.5
shadow = 100,50,0
pausemovetime = 9999
id = 112
[State 1599,6]
type = ModifyExplod
trigger1 = 1
ID = 112
scale = 0.6 - (.08*time), 0.6 - (.08*time)
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10810
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.52,0.52
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10811
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.50,0.50
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10812
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.48,0.48
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10813
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.46,0.46
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10814
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.44,0.44
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10815
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.42,0.42
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10816
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.4,0.4
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10817
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.38,0.38
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10818
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.36,0.36
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10819
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.34,0.34
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10820
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.32,0.32
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10821
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.3,0.3
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10822
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.28,0.28
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10823
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.26,0.26
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10824
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.24,0.24
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10825
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
ownpal = 1
scale = 0.2,0.2
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10826
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 20
removetime = 81
ownpal = 1
scale = 0.18,0.18
shadow = 0,50,100
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10830
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.2,0.2
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10831
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.25,0.25
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10832
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.3,0.3
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10833
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.35,0.35
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10834
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.4,0.4
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10835
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.45,0.45
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10836
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.5,0.5
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10837
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.55,0.55
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10838
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.6,0.6
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10839
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.65,0.65
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 10840
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
ownpal = 1
shadow = 0,50,100
scale = 0.7,0.7
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = AnimElem = 1
anim = 80841
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 10
removetime = 81
ownpal = 1
shadow = 0,50,100
scale = 0.75,0.75
pausemovetime = 9999
[State 3700, SuperLight charge for hadouken] 
type = Explod
triggerall = var(28) > 0
trigger1 = time = 0
anim = 10087
pos = -35, -90
sprpriority = 4
postype = p1
supermove = 1
bindtime = 65
ownpal = 1
scale = 0.5,0.5
shadow = 100,50,0
pausemovetime = 9999
[State 3885, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 10060
pos = -35, -90
postype = p1
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3885, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 10061
pos = -35, -90
postype = p1
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3885, A-ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 1
value = 7,3
volume = 255
[State 3885, A-ism]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 1
value = 0,12
volume = 255
[State 3865, chiargesound]
type = PlaySnd
trigger1 = time = 0
value = 2,2
channel = 0
[State 1500, 0]
type = Varadd
trigger1 = AnimElem = 1
v = 28
value = 1
[State 3700, Shadows]
type = Afterimage
triggerall = Animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 29
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3885, HadokenVoice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4,3
channel = 0
volume = 0
[State 1700, hadouken hit helper]
type = Helper
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = var(46) > 10
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno =1009
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2
[State 1710, FireB]
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = helper(3), MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1700, hadouken hit helper]
type = Helper
triggerall = animelem = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 91009
ownpal = 1
size.xscale = 1
size.yscale = 1.2

[State 1700, hadouken hit helper]
type = Helper
triggerall = animelem = 4
triggerall = var(46) <= 10
trigger1 = var(28) < 3
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 10099
ownpal = 1
;size.xscale = 1
;size.yscale = 1.2

[State 3885, HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0,7
volume = 255
freqmul = 0.9
[State 3885, HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0,7
volume = 255
freqmul = 1.1
[State 1500, 0]
type = Varset
trigger1 = AnimTime = 0
v = 28
value = 0
[State 3885, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 1009]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1035
velset = 2,0
sprpriority = 5
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -3,3
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
[State 1000, FireB]
type = Explod
trigger1 = time = [0,6]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -9
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(51))
scale = 0.2,1.5
accel = -1/3*(var(51)),0
[State 1000, FireB]
type = Explod
trigger1 = time = [0,6]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -45,-9
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(51))
scale = 0.2,1.5
accel = -1/3*(var(52)),0
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-3
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 500
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-9
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 500
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-9
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 230,-90,-90
sinadd = 148,48,40,90
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-40
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1992
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 6
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage    = 35/(1+var(1)/7.0),10
animtype  = Hard
getpower = 0
givepower = 80
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage    = 30/(1+var(1)/7.0),10
animtype  = Hard
getpower= 0
givepower = 80
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 9
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 1992

[Statedef 1992]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1035
sprpriority = 5
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,0.8
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,0.8
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, 5]
type = velset
trigger1 = 1
x = 6
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, SP
damage    = 30/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
getpower = 0
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, SP
damage    = 30/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
getpower = 0
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 9
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 1992

[Statedef 91992]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1035
sprpriority = 5
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,0.8
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,0.8
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, 5]
type = velset
trigger1 = 1
x = 6
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, SP
damage    = 20/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
getpower = 0
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, SP
damage    = 20/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
getpower = 0
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 5
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 919929

[Statedef 919929]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1035
sprpriority = 5
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-7
scale = 0.3,0.8
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-7
scale = 0.3,0.8
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, 5]
type = velset
trigger1 = 1
x = 6
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, SP
damage    = 20/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
getpower = 0
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, SP
damage    = 20/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
getpower = 0
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1012
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 5
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 919929

[Statedef 91009]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1035
velset = 2,0
sprpriority = 5

[State 1500, 0]
type = ParentVarSet
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
v = 22
value = 1
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -3,3
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
[State 1000, FireB]
type = Explod
trigger1 = time = [0,6]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -9
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(51))
scale = 0.2,1.5
accel = -1/3*(var(51)),0
[State 1000, FireB]
type = Explod
trigger1 = time = [0,6]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -45,-9
random = 5,10
sprpriority = 5
ownpal = 1
vel = var(52),(var(51))
scale = 0.2,1.5
accel = -1/3*(var(52)),0
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-3
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 500
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45,-9
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
[State 1000, FireB]
type = Explod
trigger1 = vel X != 0 && random <= 500
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45,-9
scale = 0.3,1
random = 20,20
sprpriority = 5
ownpal = 1
vel = var(51),0
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 230,-90,-90
sinadd = 148,48,40,90
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-40
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 91992
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 6
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage    = 25/(1+var(1)/7.0),10
animtype  = Hard
getpower = 0
givepower = 80
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage    = 20/(1+var(1)/7.0),10
animtype  = Hard
getpower= 0
givepower = 80
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 9
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 91992

;Effect
[Statedef 91010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9598
velset = 0,0

[State 200, 3]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype = Light
getpower=   (Var(10)=0)*  30,15
givepower = 15,8
;guardflag = MA
hitflag = MAFD
priority = 5, Hit
pausetime = 8,8
sparkno = -1
;sparkxy = -10,-25
guard.sparkno = S9100
;hitsound = S6,2
guardsound = S0,100
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.velocity = -1,-3
down.velocity = -1,-3
ground.cornerpush.veloff = -3
p1stateno = 91011
p2stateno = 91020

[State 1520, 3]
type = ChangeState
trigger1 = (movehit = 0) && (time>5)
value = 0
ctrl = 1

[Statedef 91011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9598
velset = 0,0

[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 7800, 3]
type = BGPalfx
trigger1 = time = 40
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 7800, 3]
type = BGPalfx
trigger1 = time = 80
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 7800, 3]
type = BGPalfx
trigger1 = time = 120
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 7800, 3]
type = BGPalfx
trigger1 = time = 160
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 7800, 3]
type = BGPalfx
trigger1 = time = 200
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 7800, 3]
type = BGPalfx
trigger1 = time = 240
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 7800, 3]
type = BGPalfx
trigger1 = time = 280
invertall = 1
supermove = 1
time = 40
add = 92,24,153
sinadd = -500,-500,-500,70

[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 47,0,149
time = 1

[State 1520, 3]
type = VarSet
trigger1 = time >= 0
v = 28
value = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 22
value = 0

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 23
value = 0

[State 200, 3]
type = Playsnd
trigger1 = stateno = 91011
value = 999, 2
persistent = 0
channel = 0

[State 200, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 110
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = p2stateno = 91021
value = 91012

[State 1000, FireA]
type = Helper
trigger1 = animelem = 1
stateno = 99012
persistent = 1
anim = 9007
id = 25009
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 2
ownpal = 1
removetime = 50

[Statedef 99012]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9007
velset = 0,0
sprpriority = 5

[State 1000, FireA]
type = DestroySelf
trigger1 = p2stateno = 91021
trigger2 = time = 0

[Statedef 91012]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9599
velset = 0,0

[State 7800, 3]
type = BGPalfx
trigger1 = time = 1
invertall = 1
supermove = 1
time = 45
add = 92,24,153
;sinadd = -500,-500,-500,70

[State 193, 3 Explod]
type = Explod
trigger1 = time = 0
anim = 9001
postype = p1
pos = 0, 0
sprpriority = 1
ownpal = 1

[State 1520, 3]
type = VarSet
trigger1 = time = 0
v = 23
value = 1

[State 200, 3]
type = ChangeState
trigger1 = time = 85
value = 0
ctrl = 1

[State 200, 3]
type = ChangeAnim
trigger1 = time = 50
value = 9599

[State 200, 3]
type = ChangeAnim
trigger1 = time = 5
value = 9600

[State 1000, FireA]
type = Explod
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
trigger4 = time = 35
trigger5 = time = 45
persistent = 1
anim = 9006
id = 25010
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 2
ownpal = 1

[State 200, 3]
type = PlaySnd
trigger1 = time = 5
value = 999, 3
[State 200, 3]
type = PlaySnd
trigger1 = time = 5
value = 999, 3
[State 200, 3]
type = PlaySnd
trigger1 = time = 5
value = 999, 3


[State 200, 3]
type = PlaySnd
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
trigger4 = time = 35
value = 990, 0

[State 200, 3]
type = PlaySnd
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
trigger4 = time = 35
value = 990, 0

[State 200, 3]
type = PlaySnd
trigger1 = time = 45
value = 990, 1

[State 200, 3]
type = PlaySnd
trigger1 = time = 45
value = 990, 1

[State 200, 3]
type = PlaySnd
trigger1 = time = 45
value = 990, 1

[State 1000, FireA]
type = Explod
trigger1 = numexplod(2500) < 4
trigger1 = time < 45
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = -20,-70
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 20,-70
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = -20,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 20,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = -20,-70
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 20,-70
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = -20,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 20,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 5
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 15
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 10,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 25
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = -10,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 35
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-60
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-40
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 5
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 15
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 10,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 25
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = -10,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 35
trigger2 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-60
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[State 3450, Spark] 
type = Explod
trigger1 = time = 45
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-40
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7

[Statedef 91020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = ifelse(SelfAnimExist(5051),5051,5050)
velset = 0,-.6

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , SP, SA
ignorehitpause = 1
persistent = 1

[State 200, 3]
type = ChangeState
trigger1 = Pos y <= -100
value = 91021

[State 200, 3]
type = SelfState
trigger1 = p2movetype = H
value = 5050
;ctrl = 1

[Statedef 91021]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , SP, SA
ignorehitpause = 1
persistent = 1

[State 200, 3]
type = LifeAdd
;trigger1 = life > 40
trigger1 = time = 5
value = -40
kill = 0

[State 200, 3]
type = LifeAdd
;trigger1 = life > 40
trigger1 = time = 15
value = -40
kill = 0

[State 200, 3]
type = LifeAdd
;trigger1 = life > 40
trigger1 = time = 25
value = -40
kill = 0

[State 200, 3]
type = LifeAdd
;trigger1 = life > 40
trigger1 = time = 35
value = -40
kill = 0

[State 200, 3]
type = LifeAdd
trigger1 = time = 45
value = -65

[State 200, 3]
type = ChangeAnim
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
trigger4 = time = 35
trigger5 = time = 45
value = ifelse(SelfAnimExist(5051),5051,5050)

[State 200, 3]
type = velset
trigger1 = time = 45
x = -8
y = -2

[State 200, 3]
type = PalFX
trigger1 = time = 5
time = 80
add = 92,24,153
mul = 242,182,450
sinadd = -45, -27, -74, 6

[State 200, 3]
type = SelfState
trigger1 = time = 55
trigger2 = p2movetype = H
value = 5050
;ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Shin Gale Kick

[Statedef 31101]
type    = A
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 31101
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 181, Randomizer]
type = ChangeAnim
triggerall = (var(46) <= 10) && (var(28) < 3)
trigger1 = time = 0
value = 311019

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA
time = 1
[State 3800, Shadows]
type = Afterimage
trigger1 = Time = 0 && var(29) = 0
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3700, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3700, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
triggerall = var(46) <= 10
trigger1 = var(28) < 3
time = 90
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add
[STate 3800, width]
type = width
trigger1 = animelem = 1, >= 0
value = 30
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 1
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,350
time           = 57
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 1
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 32
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 1
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 32
ignorehitpause = 1
invertall = 1
[State 3800, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = AnimELem = 1
anim = -1
time = 57
pos = 0, -9
movetime = 4
sprpriority = 3
[State 3800, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = AnimELem = 1
anim = -1
time = 32
pos = 0, -9
movetime = 4
sprpriority = 3
[State 3800, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 10060
pos = 0, -9
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3800, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 10061
pos = 0, -9
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3450, Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 9402
scale = 0.7,0.7
pos = 30,0
sprpriority = 0
postype = p1
supermove = 1
bindtime = 18
ownpal = 1
pausemovetime = 9999
[State 3800, A-ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 1
value = 7,3
volume = 255
[State 3800, A-ism]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 1
value = 0,12
volume = 255
[State 1500, 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1
[State 3700, Shadows]
type = Afterimage
triggerall = Animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 31100, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = 196, 14
channel = 0

[State 1007, L]
type = velset
trigger1 = time = 0
x = 4
y = -1.5

[State 1007, L]
type = veladd
trigger1 = time > 0
trigger1 = time <= 6
y = -.1

[State 1007, L]
type = veladd
trigger1 = time > 6
trigger1 = time <= 90
y = .05

[State 1007, L]
type = veladd
trigger1 = time > 96
y = .2

[State 1007, da] ; "Da da"
type = playsnd
triggerall = var(46) > 10
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
value = 1,11

[State 1007, da]
type = playsnd
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
trigger8 = animelem = 27
trigger9 = animelem = 30
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 41
value = 1,11

[State 1007, woosh]
type = playsnd
triggerall = var(46) > 10
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
value = 0,4
channel = 2

[State 1007, woosh]
type = playsnd
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
trigger8 = animelem = 27
trigger9 = animelem = 30
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 41
trigger13 = animelem = 44
value = 0,4
channel = 2

[State 1007, siya]
type = playsnd
triggerall = var(46) > 10
trigger1 = animelem = 23
value = 1,10

[State 1007, siya]
type = playsnd
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 44
value = 1,10

[State 1007, 0]
type = HitDef
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 95/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 1,1
sparkxy = -10,-10
hitsound = S6, 6
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -2.5
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1007, 0]
type = HitDef
triggerall = var(46) > 10
triggerall = var(46) < 90
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 61/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 6,6
sparkxy = -10,-10
hitsound = S6, 6
sparkno = 3
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -2.5
fall = 1
fall.recover = 0

[State 1007, 0]
type = HitDef
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
trigger8 = animelem = 27
trigger9 = animelem = 30
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 41
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 15/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 0,0
sparkxy = -10,-10
sparkno = 3
hitsound = S6, 6
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -1
fall = 1
fall.recover = 0

[State 1007, 0]
type = TargetBind
trigger1 = MoveHit 
persistent = 0
pos = 35, 30

[State 1700, Shoryuken]
type = PlaySnd
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 12
trigger5 = animelem = 15
trigger6 = animelem = 19
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 15
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910601
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1
[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 5
trigger2 = animelem = 12
trigger3 = animelem = 19
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 9106001
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 1700, Shoryuken]
type = PlaySnd
triggerall = var(46) > 10
trigger1 = animelem = 22
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) > 10
trigger1 = animelem = 22
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910601
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 1007, 1]
type = HitDef
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 23
attr = A, HA
animtype  = Hard
damage    = 190/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-10
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1007, 1]
type = HitDef
triggerall = var(46) > 10
triggerall = var(46) < 90
triggerall = var(28) < 3
trigger1 = animelem = 23
attr = A, HA
animtype  = Hard
damage    = 103/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-10
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1007, 1]
type = HitDef
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 44
attr = A, HA
animtype  = Hard
damage    = 25/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-10
hitsound = S6, 4
sparkno = 3
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1

[State 1710, FireB]
type = Explod
triggerall = var(46) >= 90 || var(28) >= 3 
triggerall = numexplod(2500) < 4
trigger1 = (MoveHit) && (AnimElem = 2)
trigger2 = (MoveHit) && (AnimElem = 6)
trigger3 = (MoveHit) && (AnimElem = 9)
trigger4 = (MoveHit) && (AnimElem = 13)
trigger5 = (MoveHit) && (AnimElem = 16)
trigger6 = (MoveHit) && (AnimElem = 20)
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = var(46) >= 90 || var(28) >= 3 
triggerall = numexplod(2500) < 4
trigger1 = (MoveHit) && (AnimElem = 2)
trigger2 = (MoveHit) && (AnimElem = 6)
trigger3 = (MoveHit) && (AnimElem = 9)
trigger4 = (MoveHit) && (AnimElem = 13)
trigger5 = (MoveHit) && (AnimElem = 16)
trigger6 = (MoveHit) && (AnimElem = 20)
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireB]
type = Explod
triggerall = var(46) > 10
trigger1 = (MoveHit) && (AnimElem = 23)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = var(46) > 10
trigger1 = (MoveHit) && (AnimElem = 23)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1051, 2] 
type = ChangeState
trigger1 = pos y > -5
trigger1 = time > 10
value = 52

[State 1500, 0]
type = Varset
trigger1 = Time >= 90
v = 28
value = 0

; Shin Gale Kick air
[Statedef 31109]
type = A
movetype = I
physics = N
anim = 1570
velset = 15, .6

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA
time = 1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
time = 0

[State 1620, a]
type = playsnd
trigger1 = time = 1
value = 999, 3

[State 1620, 1]
type = ChangeState
triggerall = AnimElemNo(0) != 1
trigger1 = P2BodyDist X <= 25
value = 991630

[State 1620, 2]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S

[State 1620, 2a]
type = NotHitBy
trigger1 = 1
value = ,AP

[State 1620, 3a]
type = VarSet
trigger1 = AnimTime = 0
v = 0
value = 2

[State 1650, 0]
type = Varset
trigger1 = movetype = H
v = 28
value = 0

[State 1620, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
; EvilDan Storm - Uppercut
[Statedef 991630]
type = A
movetype = A
physics = N
anim = 1580

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 10
value = SCA
time = 1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 8

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
time = 0

[State 1630, a]
type = VelMul
trigger1 = time = 0
x = .5

[State 1630, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = HitCount = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger3 = HitCount = 2
trigger4 = AnimElem = 5
trigger4 = HitCount = 3
;trigger5 = AnimElem = 6
;trigger5 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 6, 6
guard.pausetime = 9, 9
animtype = Up
damage = 50/(1+var(1)/7.0), 10
priority = 7, Hit
sparkno = 3
sparkxy = -5, -90
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0, 100
ground.velocity = -3, -4
ground.hittime = 50
ground.cornerpush.veloff = 0
air.velocity = -3, -4
air.hittime = 50
air.cornerpush.veloff = 0
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
fall = 1
air.fall = 1
;p2stateno = 1820
givepower = 20
getpower = 0

[State 1630, 1a]
type = HitDef
;trigger1 = AnimElem = 2
;trigger2 = HitCount = 1
;trigger2 = AnimElem = 3
;trigger3 = AnimElem = 4
;trigger3 = HitCount = 2
;trigger4 = AnimElem = 5
;trigger4 = HitCount = 3
trigger1 = AnimElem = 6
trigger1 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 5, 6
guard.pausetime = 9, 9
damage = 50/(1+var(1)/7.0), 10
priority = 7, Hit
sparkno = 3
sparkxy = -5, -90
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0, 100
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
fall = 1
air.fall = 1
givepower = 20
getpower = 0

[State 1630, 1b]
type = Width
trigger1 = MoveHit
value = 30, 0

[State 1630, 2]
type = VelSet
trigger1 = AnimElem = 1
y = -6

[State 1630, 3]
type = StateTypeSet
trigger1 = AnimElem = 1
StateType = A

[State 1630, 4]
type = Gravity
trigger1 = time > 12

[State 1630, 5]
type = VarSet
trigger1 = MoveHit
v = 0
value = 1

;[State 1630, 6]
;type = ChangeState
;triggerall = MoveHit
;trigger1 = HitCount = 5
;trigger2 = AnimElemNo(0) = 7
;value = 1640

[State 1630, 7]
type = VarSet
trigger1 = MoveGuarded
v = 0
value = 2

[State 1630, 7a]
type = VelMul
trigger1 = MoveGuarded
x = .5

[State 1650, 0]
type = Varset
trigger1 = movetype = H
v = 28
value = 0

[State 1630, 8]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 991635

;-----------------------
; EvilDan Storm - Land from Uppercut
[Statedef 991635]
type = S
movetype = I
physics = S
anim = 1590

[State 1500, 0]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 1650, 0]
type = Varset
trigger1 = time >= 0
v = 28
value = 0

[State 1635, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 1635, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 1635, 3]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1635, 3a]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 640

[State 1635, 3b]
type = VarSet
trigger1 = time = 0 ;AnimTime = 0
v = 0
value = 2

[State 1635, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 31100]
type    = A
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 31099
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 181, Randomizer]
type = ChangeState
triggerall = animelem = 2
trigger1 = var(46) <= 10 
trigger1 = var(28) < 3 
value = 31109

[State 181, Randomizer]
type = ChangeState
triggerall = animelem = 2
trigger1 = var(46) >= 90 
trigger1 = var(28) < 3 
value = 1620

[State 181, Randomizer]
type = ChangeState
triggerall = animelem = 2
trigger1 = var(28) >= 3 
value = 91620

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA
time = 1
[State 3800, Shadows]
type = Afterimage
trigger1 = Time = 0 && var(29) = 0
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3700, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 3700, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
triggerall = var(46) <= 10
trigger1 = var(28) < 3
time = 90
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add

[STate 3800, width]
type = width
trigger1 = animelem = 1, >= 0
value = 30
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 1
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,350
time           = 57
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 1
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 32
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 1
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 32
ignorehitpause = 1
invertall = 1
[State 3800, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = AnimELem = 1
anim = -1
time = 57
pos = 5, -54
movetime = 4
sprpriority = 3
[State 3800, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = AnimELem = 1
anim = -1
time = 32
pos = 5, -54
movetime = 4
sprpriority = 3
[State 3800, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 10060
pos = 5, -54
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3800, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 10061
pos = 5, -54
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3450, Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 9402
scale = 0.7,0.7
pos = 30,0
sprpriority = 0
postype = p1
supermove = 1
bindtime = 18
ownpal = 1
pausemovetime = 9999
[State 3800, A-ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 1
value = 7,3
volume = 255
[State 3800, A-ism]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 1
value = 0,12
volume = 255
[State 1500, 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1
[State 3700, Shadows]
type = Afterimage
triggerall = Animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 80
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 31100, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = 196, 14
channel = 0

[State 1007, L]
type = velset
trigger1 = time = 7
x = 4
y = -1.5

[State 1007, L]
type = veladd
trigger1 = time > 7
trigger1 = time <= 13
y = -.1

[State 1007, L]
type = veladd
trigger1 = time > 8
trigger1 = time <= 97
y = .05

[State 1007, L]
type = veladd
trigger1 = time > 113
y = .2

[State 1007, da] ; "Da da"
type = playsnd
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 17
trigger6 = animelem = 21
value = 1,11

[State 1007, woosh]
type = playsnd
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 17
trigger6 = animelem = 21
trigger7 = animelem = 24
value = 0,4
channel = 2

[State 1007, siya]
type = playsnd
trigger1 = animelem = 24
value = 1,10

[State 1007, 0]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 17
trigger6 = animelem = 21
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 61/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 6,6
sparkxy = -10,-70
hitsound = S6, 6
sparkno = 3
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -2
fall = 1
fall.recover = 0

[State 1007, 0]
type = TargetBind
trigger1 = MoveHit 
persistent = 0
pos = 35, -35

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = animelem = 23
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 23
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910600
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 1007, 1]
type = HitDef
trigger1 = animelem = 24
attr = A, HA
animtype  = Hard
damage    = 103/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1710, FireB]
type = Explod
trigger1 = (MoveHit) && (AnimElem = 24)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = (MoveHit) && (AnimElem = 24)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1051, 2] 
type = ChangeState
trigger1 = pos y > -5
trigger1 = time > 10
value = 52

[State 1500, 0]
type = Varset
trigger1 = Time >= 90
v = 28
value = 0

; Shin Gale Kick air

[Statedef 31102]
type    = A
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 31100
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 1400]
type = VarSet
trigger1 = time = 0 
v = 34
value = 0

[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 181, Randomizer]
type = ChangeAnim
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = !time
value = 931099

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA
time = 1
[State 3800, Shadows]
type = Afterimage
trigger1 = Time = 0 && var(29) = 0
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3700, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3700, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
triggerall = var(46) <= 10
trigger1 = var(28) < 3
time = 90
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add
[STate 3800, width]
type = width
trigger1 = animelem = 1, >= 0
value = 30
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 1
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,350
time           = 57
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 1
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 32
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 1
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 32
ignorehitpause = 1
invertall = 1
[State 3800, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = AnimELem = 1
anim = -1
time = 57
pos = 0, -69
movetime = 4
sprpriority = 3
[State 3800, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = AnimELem = 1
anim = -1
time = 32
pos = 0, -69
movetime = 4
sprpriority = 3
[State 3800, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 10060
pos = 0, -69
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3800, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 10061
pos = 0, -69
sprpriority = 4
postype = p1
supermove = 1
bindtime = 57
ownpal = 1
pausemovetime = 9999
[State 3450, Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 9402
scale = 0.7,0.7
pos = 30,0
sprpriority = 0
postype = p1
supermove = 1
bindtime = 18
ownpal = 1
pausemovetime = 9999
[State 3800, A-ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 1
value = 7,3
volume = 255
[State 3800, A-ism]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 1
value = 0,12
volume = 255
[State 1500, 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1
[State 3700, Shadows]
type = Afterimage
triggerall = Animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 31100, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = 196, 14
channel = 0

[State 1007, L]
type = velset
trigger1 = time = 0
x = 4
y = -1.5

[State 1007, L]
type = veladd
trigger1 = time > 0
trigger1 = time <= 6
y = -.1

[State 1007, L]
type = veladd
trigger1 = time > 6
trigger1 = time <= 90
y = .05

[State 1007, L]
type = veladd
trigger1 = time > 96
y = .2

[State 1007, da] ; "Da da"
type = playsnd
triggerall = var(46) > 10
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
value = 1,11

[State 1007, da]
type = playsnd
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
trigger8 = animelem = 27
trigger9 = animelem = 30
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 41
value = 1,11

[State 1007, woosh]
type = playsnd
triggerall = var(46) > 10
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
value = 0,4
channel = 2

[State 1007, woosh]
type = playsnd
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
trigger8 = animelem = 27
trigger9 = animelem = 30
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 41
trigger13 = animelem = 44
value = 0,4
channel = 2

[State 1007, siya]
type = playsnd
triggerall = var(46) > 10
trigger1 = animelem = 23
value = 1,10

[State 1007, siya]
type = playsnd
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 44
value = 1,10

[State 1007, 0]
type = HitDef
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 95/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 1,1
sparkxy = -10,-70
hitsound = S6, 6
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -2.5
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1007, 0]
type = HitDef
triggerall = var(46) > 10
triggerall = var(46) < 90
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 61/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 6,6
sparkno = 3
sparkxy = -10,-70
hitsound = S6, 6
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -2.5
fall = 1
fall.recover = 0

[State 1007, 0]
type = HitDef
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 20
trigger7 = animelem = 23
trigger8 = animelem = 27
trigger9 = animelem = 30
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 41
affectteam = e
attr = A, HA
animtype  = Hard
damage    = 15/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 0,0
sparkxy = -10,-70
sparkno = 3
hitsound = S6, 6
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5
guard.velocity = -7
air.velocity = -3.5, -1
fall = 1
fall.recover = 0

[State 1007, 0]
type = TargetBind
trigger1 = MoveHit 
persistent = 0
pos = 35, -35

[State 1700, Shoryuken]
type = PlaySnd
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 12
trigger5 = animelem = 15
trigger6 = animelem = 19
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 15
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910600
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1
[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 5
trigger2 = animelem = 12
trigger3 = animelem = 19
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 9106000
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 1700, Shoryuken]
type = PlaySnd
triggerall = var(46) > 10
trigger1 = animelem = 22
value = 6,9
volume = 255
[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) > 10
trigger1 = animelem = 22
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 910600
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 1007, 1]
type = HitDef
triggerall = var(46) >= 90 || var(28) >= 3 
trigger1 = animelem = 23
attr = A, HA
animtype  = Hard
damage    = 190/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1007, 1]
type = HitDef
triggerall = var(46) > 10
triggerall = var(46) < 90
triggerall = var(28) < 3
trigger1 = animelem = 23
attr = A, HA
animtype  = Hard
damage    = 103/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1007, 1]
type = HitDef
triggerall = var(46) <= 10
triggerall = var(28) < 3
trigger1 = animelem = 44
attr = A, HA
animtype  = Hard
damage    = 25/(1+var(1)/7.0), 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = 3
sparkxy = -10,-70
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0,100
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5, -2
guard.velocity = -7
air.velocity = -5.5, -2
fall = 1
fall.recover = 0

[State 1710, FireB]
type = Explod
triggerall = var(46) >= 90 || var(28) >= 3 
triggerall = numexplod(2500) < 4
trigger1 = (MoveHit) && (AnimElem = 2)
trigger2 = (MoveHit) && (AnimElem = 6)
trigger3 = (MoveHit) && (AnimElem = 9)
trigger4 = (MoveHit) && (AnimElem = 13)
trigger5 = (MoveHit) && (AnimElem = 16)
trigger6 = (MoveHit) && (AnimElem = 20)
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = var(46) >= 90 || var(28) >= 3 
triggerall = numexplod(2500) < 4
trigger1 = (MoveHit) && (AnimElem = 2)
trigger2 = (MoveHit) && (AnimElem = 6)
trigger3 = (MoveHit) && (AnimElem = 9)
trigger4 = (MoveHit) && (AnimElem = 13)
trigger5 = (MoveHit) && (AnimElem = 16)
trigger6 = (MoveHit) && (AnimElem = 20)
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1710, FireB]
type = Explod
triggerall = var(46) > 10
trigger1 = (MoveHit) && (AnimElem = 23)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = var(46) > 10
trigger1 = (MoveHit) && (AnimElem = 23)
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1051, 2] 
type = ChangeState
trigger1 = pos y > -5
trigger1 = time > 10
value = 52

[State 1500, 0]
type = Varset
trigger1 = Time >= 90
v = 28
value = 0

;===========================================================================
;===========================================================================
;---------------------------------
; EvilDan Storm - Dash at Opponent
[Statedef 1620]
type = A
movetype = I
physics = N
anim = 1570
velset = 15, .6

[State 1650, 0]
type = Varset
trigger1 = time >= 0
v = 28
value = 0

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA
time = 1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1620, a]
type = playsnd
trigger1 = time = 1
value = 999, 3

[State 1620, 1]
type = ChangeState
triggerall = AnimElemNo(0) != 1
trigger1 = P2BodyDist X <= 25
value = 1630

[State 1620, 2]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S

[State 1620, 2a]
type = NotHitBy
trigger1 = 1
value = ,AP

[State 1620, 3a]
type = VarSet
trigger1 = AnimTime = 0
v = 0
value = 2

[State 1620, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
; EvilDan Storm - Uppercut
[Statedef 1630]
type = A
movetype = A
physics = N
anim = 1580

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 10
value = SCA
time = 1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 8

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1630, a]
type = VelMul
trigger1 = time = 0
x = .5

[State 1630, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = HitCount = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger3 = HitCount = 2
trigger4 = AnimElem = 5
trigger4 = HitCount = 3
;trigger5 = AnimElem = 6
;trigger5 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 6, 6
guard.pausetime = 9, 9
animtype = Up
damage = 20/(1+var(1)/7.0), 10
priority = 7, Hit
sparkno = 3
sparkxy = -5, -90
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0, 100
ground.velocity = -3, -4
ground.hittime = 50
ground.cornerpush.veloff = 0
air.velocity = -3, -4
air.hittime = 50
air.cornerpush.veloff = 0
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
;p2stateno = 1820
givepower = 20
getpower = 0

[State 1630, 1a]
type = HitDef
;trigger1 = AnimElem = 2
;trigger2 = HitCount = 1
;trigger2 = AnimElem = 3
;trigger3 = AnimElem = 4
;trigger3 = HitCount = 2
;trigger4 = AnimElem = 5
;trigger4 = HitCount = 3
trigger1 = AnimElem = 6
trigger1 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 5, 6
guard.pausetime = 9, 9
damage = 20/(1+var(1)/7.0), 10
priority = 7, Hit
sparkno = 3
sparkxy = -5, -90
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0, 100
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
p2stateno = 1820
givepower = 20
getpower = 0

[State 7800, 3]
type = BGPalfx
trigger1 = MoveHit
persistent = 1
invertall = 1
supermove = 1
time = 2
add = 92,24,153

[State 1630, 1b]
type = Width
trigger1 = MoveHit
value = 30, 0

[State 1630, 2]
type = VelSet
trigger1 = AnimElem = 1
y = -6

[State 1630, 3]
type = StateTypeSet
trigger1 = AnimElem = 1
StateType = A

[State 1630, 4]
type = Gravity
trigger1 = time > 12

[State 1630, 5]
type = VarSet
trigger1 = MoveHit
v = 0
value = 1

[State 1630, 6]
type = NotHitBy
trigger1 = MoveHit
value = SCA
time = 10

[State 1630, 6]
type = ChangeState
triggerall = MoveHit
trigger1 = HitCount = 5
trigger2 = AnimElemNo(0) = 7
value = 1640

[State 1630, 7]
type = VarSet
trigger1 = MoveGuarded
v = 0
value = 2

[State 1630, 7a]
type = VelMul
trigger1 = MoveGuarded
x = .5

[State 1630, 8]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1635

;-----------------------
; EvilDan Storm - Land from Uppercut
[Statedef 1635]
type = S
movetype = I
physics = S
anim = 1590

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1635, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 1635, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 1635, 3]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1635, 3a]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 640

[State 1635, 3b]
type = VarSet
trigger1 = time = 0 ;AnimTime = 0
v = 0
value = 2

[State 1635, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; EvilDan Storm - Initial attack connected, launching followups
[Statedef 1640]
type = A
movetype = I
physics = N

[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 200
add = 92,24,153
sinadd = -500,-500,-500,320

[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 47,0,149
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1640, b]
type = ScreenBound
trigger1 = time = 0
value = 0

[State 1640, c]
type = TargetState
trigger1 = time = 0
value = 1830

[State 1640, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3

[State 1640, 2]
type = VelSet
trigger1 = time = 0
x = 0
y = 12

[State 1640, 3]
type = VelAdd
trigger1 = time > 0
trigger1 = ScreenPos Y < 350
y = .39

[State 1640, 3]
type = VelSet
trigger1 = ScreenPos Y >= 350
x = 0
y = 0
persistent = 0

[State 1640, 4]
type = ChangeState
trigger1 = ScreenPos Y >= 350
value = 1645

;----------------------------
; EvilDan Storm - Helper Attacks
[Statedef 1645]
type = A
movetype = I
physics = N
anim = 0
velset = 0, 0

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1645, b]
type = ScreenBound
trigger1 = time >= 0
value = 0

[State 1645, c]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 2

[State 1645, 1]
type = Helper
trigger1 = time = 6
trigger2 = time = 60
ID = 770
name = "Jennety"
StateNo = 1691
postype = p1
pos = 0, 0
ownpal = 1

[State 1645, 2]
type = Helper
trigger1 = time = 22
ID = 771
name = "Sho"
StateNo = 1692
postype = left
pos = -60, 50
ownpal = 1

[State 1645, 3]
type = Helper
trigger1 = time = 44
ID = 772
name = "Hoover"
StateNo = 1693
postype = right
pos = 100, 0
ownpal = 1
facing = -1

[State 1645, 4]
type = Helper
trigger1 = time = 77
ID = 771
name = "Sho"
StateNo = 1694
postype = right
pos = 100, 35
ownpal = 1
facing = -1

[State 1645, 5]
type = Helper
trigger1 = time = 92
ID = 772
name = "Hoover"
StateNo = 1695
postype = left
pos = -60, 10
ownpal = 1

[State 1645, 6]
type = TargetState
trigger1 = time = 102
value = 1850

[State 1645, 7]
type = Turn
trigger1 = time = 150

[State 1645, 7a]
type = PosAdd
trigger1 = time = 151
x = -55

[State 1645, 8]
type = VelSet
trigger1 = time = 160
y = -14

[State 1645, 9]
type = VelAdd
trigger1 = time > 160
y = -.39

[State 1645, 10]
type = ChangeAnim
trigger1 = time = 148
value = 10300

[State 1645, 11]
type = PlaySnd
trigger1 = time = 148
value = 999, 3

[State 1645, 12]
type = Helper
trigger1 = Anim = 10300
trigger1 = AnimElem = 1
ID = 789
name = "Energy Blast"
StateNo = 1696
postype = p1
;pos = 53, 6
pos = 0, 6
ownpal = 1

[State 1645, 13]
type = PalFX
trigger1 = Anim = 10300
trigger1 = AnimElemNo(0) = 1
trigger1 = (time % 3) = 0
time = 2
add = 174,174,184
mul = 256,256,256
color = 200

[State 1645, 13a]
type = VarSet
trigger1 = WinKO
v = 16
value = 2

[State 1645, 14]
type = ChangeState
trigger1 = Pos Y <= 0
value = 1650

;---------------------------
; EvilDan Storm - Stop Moving
[Statedef 1650]
type = S
movetype = I
physics = N
velset = 0, 0
sprpriority = 1

[State 1650, b]
type = Null ;ScreenBound
trigger1 = (Anim != 183)
value = 0

[State 1650, c]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 1650, d]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 1650, e]
type = VarSet
trigger1 = WinKO
v = 16
value = 2

[State 1650, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1650, 2]
type = ChangeAnim
trigger1 = Anim = 10300
trigger1 = AnimTime = 0
value = 183

[State 1650, 4]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 1
ID = 046
name = "Jennety"
StateNo = 1660
postype = p1
pos = -115, -(var(5))
ownpal = 1

[State 1650, 5]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 1
ID = 047
name = "Sho"
StateNo = 1670
postype = p1
pos = 135, -(var(5))
ownpal = 1

[State 1650, 6]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 1
ID = 048
name = "Hoover"
StateNo = 1680
postype = p1 
pos = 10, -(var(5))
ownpal = 1

[State 1650, 8]
type = PlaySnd
trigger1 = NumHelper(789) = 1
value = 20, 4
persistent = 0

[State 1650, 9]
type = VarAdd
trigger1 = Anim = 183
v = 1
value = 1

[State 1650, 10]
type = VarSet
trigger1 = var(1) = 125
v = 0
value = 10

[State 1650, 11]
type = RemoveExplod
trigger1 = var(1) = 130
ID = 640

[State 1650, 12]
type = ChangeState
trigger1 = time = 190
value = 0
ctrl = 1

;------------------------------
; Jennety - Storm End Pose
[Statedef 1660]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 5
velset = 2.6, 4

[State 1660, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1660, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1660, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1665

; Land and Pose
[Statedef 1665]
type = S
movetype = I
physics = N
anim = 771
velset = 0, 0
sprpriority = 5

[State 1665, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1665, 1]
type = playsnd
trigger1 = time = 0
value = 20, 4

[State 1665, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 1760

;------------------------------
; Sho - Storm End Pose
[Statedef 1670]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 5
velset = -3.4, 4

[State 1670, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1670, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1670, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1675

; Land and Pose
[Statedef 1675]
type = S
movetype = I
physics = N
anim = 772
velset = 0, 0
sprpriority = 5

[State 1675, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1675, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 1800

;------------------------------
; Hoover - Storm End Pose
[Statedef 1680]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 5
velset = -.3, 4

[State 1680, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1680, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1680, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1685

; Land and Pose
[Statedef 1685]
type = S
movetype = I
physics = N
anim = 773
velset = 0, 0
sprpriority = 5

[State 1685, 1]
type = playsnd
trigger1 = time = 9
value = 55, 1

[State 1685, 1]
type = playsnd
trigger1 = time = 10
value = 55, 1

[State 1685, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1685, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 1720

;------------------
; Jennety Attack 1
[Statedef 1691]
type = A
movetype = A
physics = N
anim = 1170
velset = 1, -11

[State 1691, 1]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1691, 1a]
type = PlaySnd
trigger1 = time = 0
value = 1, 11

[State 1691, 1b]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1691, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 65/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -110
hitsound = S6, 5
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1691, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1691, 3]
type = DestroySelf
trigger1 = time >= 40
;trigger1 = Pos Y < -(var(0))

;-----------------
; Sho Attack 1
[Statedef 1692]
type = A
movetype = A
physics = N
anim = 1625

[State 1692, b]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1692, 1]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 12

[State 1692, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 65/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1692, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1692, 3]
type = DestroySelf
trigger1 = ScreenPos X > 500

;----------------
; Hoover Attack 1
[Statedef 1693]
type = A
movetype = A
physics = N
anim = 1605

[State 1693, 1]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1693, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 18

[State 1693, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 65/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1693, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1693, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;----------------
; Sho Attack 2
[Statedef 1694]
type = A
movetype = A
physics = N
anim = 1625

[State 1694, 1]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1694, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 19

[State 1694, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 65/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1694, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1694, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;-----------------
; Hoover - Attack 2
[Statedef 1695]
type = A
movetype = A
physics = N
anim = 1605

[State 1695, b]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1695, 1]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 12

[State 1695, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 65/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1850
givepower = 10
getpower = 0

[State 1695, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1695, 3]
type = DestroySelf
trigger1 = ScreenPos X > 500

;---------------
; Energy Blast
[Statedef 1696]
type = A
movetype = A
physics = N
sprpriority = 3
juggle = 15

[State 1696, a]
type = BindToParent
trigger1 = 1
time = 2
;pos = 53, 9
pos = 0, 9

[State 1696, 1]
type = VarAdd
trigger1 = 1
v = 0
value = 1

[State 1696, 1a]
type = VarSet
trigger1 = var(0) = 1
fv = 0
value = parent, fvar(1)

[State 1696, 2]
type = ChangeAnim
trigger1 = var(0) = 1
value = 9091

[State 1696, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1696, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1025
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1696, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1696, 6]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1696, 7]
type = PlaySnd
trigger1 = var(0) = 1
value = 990, 1

[State 1696, 8]
type = EnvShake
trigger1 = var(0) = 1
time = 50
freq = 80
ampl = -5

[State 1696, 9]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAFD+
guardflag = MA
pausetime = 1, 9
damage = 165/(1+var(1)/7.0), 10
animtype = Up
sparkno = 3
sparkxy = -5, floor(P2Dist Y)
hitsound = S0, 11
ground.velocity = -4, -15
guardsound = S0, 12
air.velocity = -4, -15
down.velocity = -3, -6
guard.slidetime = 18 
guard.hittime = 19
guard.velocity = -8.5
sprpriority = 3
fall = 1
air.fall = 1
fall.recovertime = 75
p2stateno = 18600
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
;palfx.invertall = 1
;palfx.color = 150
givepower = 90
getpower = 60

[State 7800, 3]
type = BGPalfx
trigger1 = MoveHit
persistent = 1
invertall = 1
supermove = 1
time = 1
add = 92,24,153

[State 1696, 9a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1696, 10]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; EvilDan Storm Hoover - Pose for startup
[Statedef 1700]
type = A
movetype = I
physics = N
anim = 770
velset = 2.2, 7
sprpriority = -1

[State 1700, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1700, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1700, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1710

; Hoover - Land
[Statedef 1710]
type = S
movetype = I
physics = N
anim = 1600
velset = 0, 0

[State 1710, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1710, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 1730

[State 1710, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 1720

; Hoover - Leave when attack is blocked
[Statedef 1720]
type = A
movetype = I
physics = N
anim = 770
velset = 3, -14

[State 1720, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1720, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Hoover - Fly off for attack
[Statedef 1730]
type = A
movetype = I
physics = N
anim = 1605

[State 1730, 1]
type = Turn
trigger1 = time = 0

[State 1730, 2]
type = VelSet
trigger1 = time = 0
x = 11
y = -5

[State 1730, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; EvilDan Storm Jennety - Pose for Startup
[Statedef 1740]
type = A
movetype = I
physics = N
anim = 770
velset = 4.5, 7
sprpriority = 0

[State 1740, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1740, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1740, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1750

; Jennety - Land
[Statedef 1750]
type = S
movetype = I
physics = N
anim = 1610
velset = 0, 0

[State 1750, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1750, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 1770

[State 1750, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 1760

; Jennety - Leave when attack is blocked
[Statedef 1760]
type = A
movetype = I
physics = N
anim = 770
velset = -5, -14

[State 1760, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1760, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Jennety - Fly off for attack
[Statedef 1770]
type = A
movetype = I
physics = N
anim = 1170

[State 1770, 2]
type = VelSet
trigger1 = time = 0
x = 1
y = -16

[State 1770, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; EvilDan Storm Sho - Pose for Startup
[Statedef 1780]
type = A
movetype = I
physics = N
anim = 770
velset = -7, 7
sprpriority = 2

[State 1780, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1780, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1780, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1790

; Sho - Land
[Statedef 1790]
type = S
movetype = I
physics = N
anim = 1620
velset = 0, 0

[State 1790, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1790, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 1810

[State 1790, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 1800

; Sho - Leave when attack is blocked
[Statedef 1800]
type = A
movetype = I
physics = N
anim = 770
velset = -4, -14

[State 1800, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1800, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Jennety - Fly off for attack
[Statedef 1810]
type = A
movetype = I
physics = N
anim = 1625

[State 1810, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1810, 2]
type = VelSet
trigger1 = time = 0
x = 15
y = -6

[State 1810, 3]
type = DestroySelf
trigger1 = time = 70

;=================evildan storm debole======================
;===========================================================================
;---------------------------------
; EvilDan Storm - Dash at Opponent
[Statedef 91620]
type = A
movetype = I
physics = N
anim = 1570
velset = 15, .6

[State 1650, 0]
type = Varset
trigger1 = time >= 0
v = 28
value = 0

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA
time = 1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [91620,91645]
time = 0

[State 1620, a]
type = playsnd
trigger1 = time = 1
value = 999, 3

[State 1620, 1]
type = ChangeState
triggerall = AnimElemNo(0) != 1
trigger1 = P2BodyDist X <= 25
value = 91630

[State 1620, 2]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S

[State 1620, 2a]
type = NotHitBy
trigger1 = 1
value = ,AP

[State 1620, 3a]
type = VarSet
trigger1 = AnimTime = 0
v = 0
value = 2

[State 1620, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
; EvilDan Storm - Uppercut
[Statedef 91630]
type = A
movetype = A
physics = N
anim = 1580

[State 3800, NotHitBy]
type = NotHitBy
trigger1 = Time <= 10
value = SCA
time = 1

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 8

[State 31100, 0]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [91620,91645]
time = 0

[State 1630, a]
type = VelMul
trigger1 = time = 0
x = .5

[State 1630, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = HitCount = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger3 = HitCount = 2
trigger4 = AnimElem = 5
trigger4 = HitCount = 3
;trigger5 = AnimElem = 6
;trigger5 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 6, 6
guard.pausetime = 9, 9
animtype = Up
damage = 20/(1+var(1)/7.0), 10
priority = 7, Hit
sparkno = 3
sparkxy = -5, -90
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0, 100
ground.velocity = -3, -4
ground.hittime = 50
ground.cornerpush.veloff = 0
air.velocity = -3, -4
air.hittime = 50
air.cornerpush.veloff = 0
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
;p2stateno = 1820
givepower = 20
getpower = 0

[State 1630, 1a]
type = HitDef
;trigger1 = AnimElem = 2
;trigger2 = HitCount = 1
;trigger2 = AnimElem = 3
;trigger3 = AnimElem = 4
;trigger3 = HitCount = 2
;trigger4 = AnimElem = 5
;trigger4 = HitCount = 3
trigger1 = AnimElem = 6
trigger1 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 5, 6
guard.pausetime = 9, 9
damage = 20/(1+var(1)/7.0), 10
priority = 7, Hit
sparkno = 3
sparkxy = -5, -90
hitsound = S6, 4
guard.sparkno = S9200
guardsound = S0, 100
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
p2stateno = 1820
givepower = 20
getpower = 0

[State 7800, 3]
type = BGPalfx
trigger1 = MoveHit
persistent = 1
invertall = 1
supermove = 1
time = 2
add = 92,24,153

[State 1630, 1b]
type = Width
trigger1 = MoveHit
value = 30, 0

[State 1630, 2]
type = VelSet
trigger1 = AnimElem = 1
y = -6

[State 1630, 3]
type = StateTypeSet
trigger1 = AnimElem = 1
StateType = A

[State 1630, 4]
type = Gravity
trigger1 = time > 12

[State 1630, 5]
type = VarSet
trigger1 = MoveHit
v = 0
value = 1

[State 1630, 6]
type = NotHitBy
trigger1 = MoveHit
value = SCA
time = 10

[State 1630, 6]
type = ChangeState
triggerall = MoveHit
trigger1 = HitCount = 5
trigger2 = AnimElemNo(0) = 7
value = 91640

[State 1630, 7]
type = VarSet
trigger1 = MoveGuarded
v = 0
value = 2

[State 1630, 7a]
type = VelMul
trigger1 = MoveGuarded
x = .5

[State 1630, 8]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 91635

;-----------------------
; EvilDan Storm - Land from Uppercut
[Statedef 91635]
type = S
movetype = I
physics = S
anim = 1590

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1635, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 1635, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 1635, 3]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1635, 3a]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 640

[State 1635, 3b]
type = VarSet
trigger1 = time = 0 ;AnimTime = 0
v = 0
value = 2

[State 1635, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; EvilDan Storm - Initial attack connected, launching followups
[Statedef 91640]
type = A
movetype = I
physics = N

[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 200
add = 92,24,153
sinadd = -500,-500,-500,320

[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 47,0,149
time = 1

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1640, b]
type = ScreenBound
trigger1 = time = 0
value = 0

[State 1640, c]
type = TargetState
trigger1 = time = 0
value = 1830

[State 1640, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3

[State 1640, 2]
type = VelSet
trigger1 = time = 0
x = 0
y = 12

[State 1640, 3]
type = VelAdd
trigger1 = time > 0
trigger1 = ScreenPos Y < 350
y = .39

[State 1640, 3]
type = VelSet
trigger1 = ScreenPos Y >= 350
x = 0
y = 0
persistent = 0

[State 1640, 4]
type = ChangeState
trigger1 = ScreenPos Y >= 350
value = 91645

;----------------------------
; EvilDan Storm - Helper Attacks
[Statedef 91645]
type = A
movetype = I
physics = N
anim = 0
velset = 0, 0

[State 1500, 0]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno != [1620,1645]
time = 0

[State 1645, b]
type = ScreenBound
trigger1 = time >= 0
value = 0

[State 1645, c]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 2

[State 1645, 1]
type = Helper
trigger1 = time = 6
trigger2 = time = 60
ID = 770
name = "Jennety"
StateNo = 91691
postype = p1
pos = 0, 0
ownpal = 1

[State 1645, 2]
type = Helper
trigger1 = time = 22
ID = 771
name = "Sho"
StateNo = 91692
postype = left
pos = -60, 50
ownpal = 1

[State 1645, 3]
type = Helper
trigger1 = time = 44
ID = 772
name = "Hoover"
StateNo = 91693
postype = right
pos = 100, 0
ownpal = 1
facing = -1

[State 1645, 4]
type = Helper
trigger1 = time = 77
ID = 771
name = "Sho"
StateNo = 91694
postype = right
pos = 100, 35
ownpal = 1
facing = -1

[State 1645, 5]
type = Helper
trigger1 = time = 92
ID = 772
name = "Hoover"
StateNo = 91695
postype = left
pos = -60, 10
ownpal = 1

[State 1645, 6]
type = TargetState
trigger1 = time = 102
value = 1850

[State 1645, 7]
type = Turn
trigger1 = time = 150

[State 1645, 7a]
type = PosAdd
trigger1 = time = 151
x = -55

[State 1645, 8]
type = VelSet
trigger1 = time = 160
y = -14

[State 1645, 9]
type = VelAdd
trigger1 = time > 160
y = -.39

[State 1645, 10]
type = ChangeAnim
trigger1 = time = 148
value = 10300

[State 1645, 11]
type = PlaySnd
trigger1 = time = 148
value = 999, 3

[State 1645, 12]
type = Helper
trigger1 = Anim = 10300
trigger1 = AnimElem = 1
ID = 789
name = "Energy Blast"
StateNo = 91696
postype = p1
;pos = 53, 6
pos = 0, 6
ownpal = 1

[State 1645, 13]
type = PalFX
trigger1 = Anim = 10300
trigger1 = AnimElemNo(0) = 1
trigger1 = (time % 3) = 0
time = 2
add = 174,174,184
mul = 256,256,256
color = 200

[State 1645, 13a]
type = VarSet
trigger1 = WinKO
v = 16
value = 2

[State 1645, 14]
type = ChangeState
trigger1 = Pos Y <= 0
value = 91650

;---------------------------
; EvilDan Storm - Stop Moving
[Statedef 91650]
type = S
movetype = I
physics = N
velset = 0, 0
sprpriority = 1

[State 1650, b]
type = Null ;ScreenBound
trigger1 = (Anim != 183)
value = 0

[State 1650, c]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 1650, d]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 1650, e]
type = VarSet
trigger1 = WinKO
v = 16
value = 2

[State 1650, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1650, 2]
type = ChangeAnim
trigger1 = Anim = 10300
trigger1 = AnimTime = 0
value = 183

[State 1650, 4]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 1
ID = 046
name = "Jennety"
StateNo = 91660
postype = p1
pos = -115, -(var(5))
ownpal = 1

[State 1650, 5]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 1
ID = 047
name = "Sho"
StateNo = 91670
postype = p1
pos = 135, -(var(5))
ownpal = 1

[State 1650, 6]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 1
ID = 048
name = "Hoover"
StateNo = 91680
postype = p1 
pos = 10, -(var(5))
ownpal = 1

[State 1650, 8]
type = PlaySnd
trigger1 = NumHelper(789) = 1
value = 20, 4
persistent = 0

[State 1650, 9]
type = VarAdd
trigger1 = Anim = 183
v = 1
value = 1

[State 1650, 10]
type = VarSet
trigger1 = var(1) = 125
v = 0
value = 10

[State 1650, 11]
type = RemoveExplod
trigger1 = var(1) = 130
ID = 640

[State 1650, 12]
type = ChangeState
trigger1 = time = 190
value = 0
ctrl = 1

;------------------------------
; Jennety - Storm End Pose
[Statedef 91660]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 5
velset = 2.6, 4

[State 1660, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1660, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1660, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 91665

; Land and Pose
[Statedef 91665]
type = S
movetype = I
physics = N
anim = 771
velset = 0, 0
sprpriority = 5

[State 1665, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1665, 1]
type = playsnd
trigger1 = time = 0
value = 20, 4

[State 1665, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 91760

;------------------------------
; Sho - Storm End Pose
[Statedef 91670]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 5
velset = -3.4, 4

[State 1670, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1670, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1670, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 91675

; Land and Pose
[Statedef 91675]
type = S
movetype = I
physics = N
anim = 772
velset = 0, 0
sprpriority = 5

[State 1675, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1675, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 91800

;------------------------------
; Hoover - Storm End Pose
[Statedef 91680]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 5
velset = -.3, 4

[State 1680, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1680, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1680, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 91685

; Land and Pose
[Statedef 91685]
type = S
movetype = I
physics = N
anim = 773
velset = 0, 0
sprpriority = 5

[State 1685, 1]
type = playsnd
trigger1 = time = 9
value = 55, 1

[State 1685, 1]
type = playsnd
trigger1 = time = 10
value = 55, 1

[State 1685, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1685, 2]
type = ChangeState
trigger1 = parent, var(0) = 10
value = 91720

;------------------
; Jennety Attack 1
[Statedef 91691]
type = A
movetype = A
physics = N
anim = 1170
velset = 1, -11

[State 1691, 1]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1691, 1a]
type = PlaySnd
trigger1 = time = 0
value = 1, 11

[State 1691, 1b]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1691, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 25/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -110
hitsound = S6, 5
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1691, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1691, 3]
type = DestroySelf
trigger1 = time >= 40
;trigger1 = Pos Y < -(var(0))

;-----------------
; Sho Attack 1
[Statedef 91692]
type = A
movetype = A
physics = N
anim = 1625

[State 1692, b]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1692, 1]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 12

[State 1692, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 25/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1692, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1692, 3]
type = DestroySelf
trigger1 = ScreenPos X > 500

;----------------
; Hoover Attack 1
[Statedef 91693]
type = A
movetype = A
physics = N
anim = 1605

[State 1693, 1]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1693, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 18

[STate 1693, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 25/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1693, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1693, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;----------------
; Sho Attack 2
[Statedef 91694]
type = A
movetype = A
physics = N
anim = 1625

[State 1694, 1]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1694, 2]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 19

[State 1694, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 25/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1694, 3a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1694, 4]
type = DestroySelf
trigger1 = ScreenPos X < -100

;-----------------
; Hoover - Attack 2
[Statedef 91695]
type = A
movetype = A
physics = N
anim = 1605

[State 1695, b]
type = PlaySnd
trigger1 = time = 0
value = 1, 10

[State 1695, 1]
type = VelSet
trigger1 = time = 0
x = 17
y = (P2Dist Y) / 12

[State 1695, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 9, 9
damage = 25/(1+var(1)/7.0)
sparkno = 3
sparkxy = -5, -60
hitsound = S6, 4
kill = 0
fall = 1
air.fall = 1
p2stateno = 1850
givepower = 10
getpower = 0

[State 1695, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1695, 3]
type = DestroySelf
trigger1 = ScreenPos X > 500

;---------------
; Energy Blast
[Statedef 91696]
type = A
movetype = A
physics = N
sprpriority = 3
juggle = 15

[State 1696, a]
type = BindToParent
trigger1 = 1
time = 2
;pos = 53, 9
pos = 0, 9

[State 1696, 1]
type = VarAdd
trigger1 = 1
v = 0
value = 1

[State 1696, 1a]
type = VarSet
trigger1 = var(0) = 1
fv = 0
value = parent, fvar(1)

[State 1696, 2]
type = ChangeAnim
trigger1 = var(0) = 1
value = 9091

[State 1696, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1696, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1025
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1696, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1696, 6]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1696, 7]
type = PlaySnd
trigger1 = var(0) = 1
value = 990, 1

[State 1696, 8]
type = EnvShake
trigger1 = var(0) = 1
time = 50
freq = 80
ampl = -5

[State 1696, 9]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAFD+
guardflag = MA
pausetime = 1, 9
damage = 90/(1+var(1)/7.0), 10
animtype = Up
sparkno = 3
sparkxy = -5, floor(P2Dist Y)
hitsound = S0, 11
ground.velocity = -4, -15
guardsound = S0, 12
air.velocity = -4, -15
down.velocity = -3, -6
guard.slidetime = 18 
guard.hittime = 19
guard.velocity = -8.5
sprpriority = 3
fall = 1
air.fall = 1
fall.recovertime = 75
p2stateno = 18600
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
;palfx.invertall = 1
;palfx.color = 150
givepower = 90
getpower = 60

[State 7800, 3]
type = BGPalfx
trigger1 = MoveHit
persistent = 1
invertall = 1
supermove = 1
time = 1
;add = 92,24,153
add = 47,0,149

[State 1696, 9a]
type = ParentVarSet
trigger1 = MoveHit
v = 11
value = 1
persistent = 0

[State 1696, 10]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; EvilDan Storm Hoover - Pose for startup
[Statedef 91700]
type = A
movetype = I
physics = N
anim = 770
velset = 2.2, 7
sprpriority = -1

[State 1700, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1700, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1700, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 91710

; Hoover - Land
[Statedef 91710]
type = S
movetype = I
physics = N
anim = 1600
velset = 0, 0

[State 1710, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1710, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 91730

[State 1710, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 91720

; Hoover - Leave when attack is blocked
[Statedef 91720]
type = A
movetype = I
physics = N
anim = 770
velset = 3, -14

[State 1720, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1720, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Hoover - Fly off for attack
[Statedef 91730]
type = A
movetype = I
physics = N
anim = 1605

[State 1730, 1]
type = Turn
trigger1 = time = 0

[State 1730, 2]
type = VelSet
trigger1 = time = 0
x = 11
y = -5

[State 1730, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; EvilDan Storm Jennety - Pose for Startup
[Statedef 91740]
type = A
movetype = I
physics = N
anim = 770
velset = 4.5, 7
sprpriority = 0

[State 1740, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1740, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1740, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 91750

; Jennety - Land
[Statedef 91750]
type = S
movetype = I
physics = N
anim = 1610
velset = 0, 0

[State 1750, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1750, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 91770

[State 91750, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 91760

; Jennety - Leave when attack is blocked
[Statedef 91760]
type = A
movetype = I
physics = N
anim = 770
velset = -5, -14

[State 1760, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1760, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Jennety - Fly off for attack
[Statedef 91770]
type = A
movetype = I
physics = N
anim = 1170

[State 1770, 2]
type = VelSet
trigger1 = time = 0
x = 1
y = -16

[State 1770, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; EvilDan Storm Sho - Pose for Startup
[Statedef 91780]
type = A
movetype = I
physics = N
anim = 770
velset = -7, 7
sprpriority = 2

[State 1780, a]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(5)

[State 1780, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1780, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 91790

; Sho - Land
[Statedef 91790]
type = S
movetype = I
physics = N
anim = 1620
velset = 0, 0

[State 1790, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1790, 2]
type = ChangeState
trigger1 = parent, var(0) = 1
value = 91810

[State 1790, 3]
type = ChangeState
trigger1 = parent, var(0) = 2
trigger2 = parent, MoveType = H
value = 91800

; Sho - Leave when attack is blocked
[Statedef 91800]
type = A
movetype = I
physics = N
anim = 770
velset = -4, -14

[State 1800, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1800, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(0))

; Jennety - Fly off for attack
[Statedef 91810]
type = A
movetype = I
physics = N
anim = 1625

[State 1810, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1810, 2]
type = VelSet
trigger1 = time = 0
x = 15
y = -6

[State 1810, 3]
type = DestroySelf
trigger1 = time = 70

;=========================================================
;=========================================================
;---------------------------------------
; Custom State for P2 hit by EvilDan Storm
[Statedef 1820]
type = A
movetype = H
physics = N
ctrl = 0
velset = -5, -2

[State 1820, 1]
type = ChangeAnim2
trigger1 = 1
value = 1640

[State 1820, 1a]
type = PosFreeze
trigger1 = time < 5

[State 1820, 2]
type = SelfState
trigger1 = time = 140
value = 5050

; Part 2
[Statedef 1830]
type = A
movetype = H
physics = N
velset = 0, -.1

[State 1830, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1640 

[State 1830, 2]
type = VelSet
trigger1 = floor(ScreenPos Y) > floor(120 - const(size.mid.pos.y))
y = -1

[State 1830, 3]
type = VelSet
trigger1 = floor(ScreenPos Y) < floor(120 - const(size.mid.pos.y))
y = 1

[State 1830, 4]
type = VelSet
trigger1 = floor(ScreenPos Y) = floor(120 - const(size.mid.pos.y))
y = 0

[State 1830, 5]
type = PlayerPush
trigger1 = 1
value = 0

; Part 3
[Statedef 1840]
type = A
movetype = H
physics = N
velset = 0, -.1

[State 1840, 1]
type = ChangeAnim2
trigger1 = time < 9
value = 1640 

[State 1840, 2]
type = PosFreeze
trigger1 = time < 9

[State 1840, 3]
type = PlayerPush
trigger1 = 1
value = 0

; Part 4
[Statedef 1850]
type = A
movetype = H
physics = N

[State 1850, 1]
type = ChangeAnim2
trigger1 = time < 9
value = 1640

[State 1850, Freeze]
type = PosFreeze
trigger1 = time < 9

[State 1850, 2]
type = VelSet
trigger1 = AnimElem = 1
y = -20

[State 1850, 2a]
type = VelAdd
trigger1 = time > 9
y = .90

[State 1850, 2b]
type = ChangeAnim2
trigger1 = time > 9
trigger1 = Vel Y >= 0
value = 1650
persistent = 0

[State 1850, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 1850, 4]
type = SelfState
trigger1 = time = 300
value = 5050

; Part 5 - Flying through Air
[Statedef 18600]
type = A
movetype = H
physics = N
velset = -6, -17

[State 1860, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5061

[State 1860, 2]
type = VelAdd
trigger1 = 1
y = .39

[State 1860, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870

; Part 6 - Hit Ground
[Statedef 1870]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1860, a]
type = ChangeAnim
trigger1 = time = 0
value = 5110

[State 1860, 1]
type = Explod
trigger1 = time = 0
anim = F62
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 2

[State 1860, 2]
type = PlaySnd
trigger1 = time = 0
value = F7, 2

[State 1860, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1860, 4]
type = SelfState
trigger1 = time = 115
trigger1 = Alive
value = 5120

[State 1860, 5]
type = SelfState
;trigger1 = time = 115
trigger1 = !Alive
value = 5150

;======================================================================
;----------------------small roll--------------------------------------
[Statedef 1200]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1209
velset = 4,0
[State 1201, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 1200, 0]
type = posset
trigger1 = time = 0
y = 0
[State 1200, 1]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 1200, 9]
type = changestate
trigger1 = animtime = 0
value = 1201
[Statedef 1201]
type = C
movetype = I
physics = N
anim = 1201
velset = 4,0
[State 1201, 0]
type = posset
trigger1 = time = 0
y = 0
[State 1201, 1]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 1201, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
[State 1201, 3]
type = MakeDust
trigger1 = Time >= 0
pos = -10, -2
spacing = 5
[State 1201, 9]
type = ChangeState
trigger1 = animtime = 0
value = 1202
ctrl = 0
[Statedef 1202]
type = C
movetype = I
physics = C
ctrl = 0
anim = 11
[State 1202, 8]
type = turn
trigger1 = time = 5
trigger1 = p2dist X < -5
[State 1202, 9]
type = changestate
trigger1 = time = 5
value = 11
ctrl = 1 

;------------------------------------
;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundno = 1
value = 0

[State 5900, 1a]
type = VarSet
trigger1 = time = 0
v = 5
value = floor(ScreenPos Y)

[State 5900, Auto-Activate AI]
type = VarSet
trigger1 = var(59)
trigger1 = time = 0
v = 17
value = 1

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190
;======================================================
;==================energia====================================
[Statedef 91051]
type = S
movetype = A
physics = S
anim = 4807
velset = 0
ctrl = 0
sprpriority = 3

[State 191, 4]
type = ChangeAnim
trigger1 = Time = 10
value = 10901

[State 182, 2]
type = Playsnd
trigger1 = Time = 10
value = 1,3
volume = 200

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2

[State 191, 4]
type = PlaySnd
trigger1 = parent, movetype = H
trigger2 = power = 3000
trigger3 = parent,command != "hold_y" 
trigger4 = parent,command != "hold_b" 
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 13
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = Explod
triggerall = time >= 10 
triggerall = (GameTime%12) = 0 
trigger1 = stateno = 91051
anim = 4806
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 15
bindtime = 1
persistent = 1
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = Explod
trigger1 = parent, movetype = H
trigger2 = power = 3000
trigger3 = parent,command != "hold_y" 
trigger4 = parent,command != "hold_b" 
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 13
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 191, 4]
type = destroyself
trigger1 = parent, movetype = H
trigger2 = power = 3000
trigger3 = parent,command != "hold_y" 
trigger4 = parent,command != "hold_b" 
value = 1

[Statedef 91050]
type = S
movetype = A
physics = S
anim = 9599
velset = 0
ctrl = 0
sprpriority = 2
[State 1650, 4]
type = Helper
trigger1 = time = 10
ID = 046
name = "energia"
StateNo = 91051
postype = p1
pos = 70, 0
ownpal = 1
[State 183, End] 
type = ChangeState 
trigger1 = time = 20
value = 1051
ctrl = 0
[Statedef 1051]
type = S
anim = 10900
movetype = A
physics = S
velset = 0
ctrl = 0
sprpriority = 1
[State 182, 2]
type = Playsnd
triggerall = time > 0
triggerall = time <= 40
triggerall = (GameTime%50) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 41
triggerall = time <= 80
triggerall = (GameTime%40) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 81
triggerall = time <= 120
triggerall = (GameTime%30) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 121
triggerall = time <= 160
triggerall = (GameTime%20) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 250,0
[State 182, 2]
type = Playsnd
triggerall = time > 160
triggerall = (GameTime%10) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 250,0
[State 182, Explod1]
type = Explod
triggerall = time > 0
triggerall = time <= 40
triggerall = (GameTime%50) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod2]
type = Explod
triggerall = time > 41
triggerall = time <= 80
triggerall = (GameTime%40) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod3]
type = Explod
triggerall = time > 81
triggerall = time <= 120
triggerall = (GameTime%30) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod4]
type = Explod
triggerall = time > 121
triggerall = time <= 160
triggerall = (GameTime%20) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod5]
type = Explod
triggerall = time > 160
triggerall = (GameTime%10) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod1]
type = Explod
triggerall = time > 0
triggerall = time <= 40
triggerall = (GameTime%50) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod2]
type = Explod
triggerall = time > 41
triggerall = time <= 80
triggerall = (GameTime%40) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod3]
type = Explod
triggerall = time > 81
triggerall = time <= 120
triggerall = (GameTime%30) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod4]
type = Explod
triggerall = time > 121
triggerall = time <= 160
triggerall = (GameTime%20) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 182, Explod5]
type = Explod
triggerall = time > 160
triggerall = (GameTime%10) = 0
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
[State 1002, charge sound]
type = playsnd
trigger1 = time = 0
value = 7,4
volume = -50
[State 182, 2]
type = Playsnd
trigger1 = Time = 0
value = 66,0
[State 181, Randomizer1]
type = VarRandom
trigger1 = 1
v = 51
range = -2,-4
[State 181, Randomizer2]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 35
range = -2,-4
[State 181, Randomizer3]
type = VarRandom
trigger1 = 1
v = 36
range = -3, -9
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = 2,10
[State 1700, Remove Flaming Aura]
type = RemoveExplod
triggerall = time > 50
trigger1 = command != "hold_y" 
trigger2 = command != "hold_b" 
trigger3 = prevstateno = 1051
id = 1006
[State 1700, Remove Windy2]
type = RemoveExplod
triggerall = time > 50
trigger1 = command != "hold_y" 
trigger2 = command != "hold_b" 
trigger3 = power = 3000
id = 1006
[State 182, PowerAdd]
 type = PowerAdd 
triggerall = (GameTime%5) = 0
triggerall = time > 0
triggerall = time <= 20
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 20
[State 182, PowerAdd]
 type = PowerAdd 
triggerall = (GameTime%5) = 0 
triggerall = time > 21
triggerall = time <= 40
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 30
[State 182, PowerAdd]
 type = PowerAdd 
triggerall = (GameTime%5) = 0 
triggerall = time > 41
triggerall = time <= 60
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 40
[State 182, PowerAdd]
 type = PowerAdd 
triggerall = (GameTime%5) = 0 
triggerall = time > 61
triggerall = time <= 80
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 50
[State 182, PowerAdd]
 type = PowerAdd 
triggerall = (GameTime%5) = 0 
triggerall = time > 80
trigger1 = command = "hold_y" 
trigger1 = command = "hold_b" 
value = 60
[State 182, End] 
type = ChangeState 
trigger1 = power = 3000
value = 1052
ctrl = 0
[State 182, End] 
type = ChangeState 
triggerall = time > 50
trigger1 = command != "hold_y" 
trigger2 = command != "hold_b" 
value = 1052
ctrl = 0
[Statedef 1052]
type = S
movetype = A
physics = S
anim = 10900
velset = 0
ctrl = 0
sprpriority = 2
[State 129, Blink] 
type = PalFX 
triggerall = power = 3000
trigger1 = time = 0
time = 24
add = 155,155,155 
sinadd = -155,-155,-155,100
[State 1700, Remove Windy2]
type = RemoveExplod
trigger1 = power = 3000
id = 10
[State 1000, 2]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 12032
pos = 3, 2
postype = p1
sprpriority = 3
bindtime = 1
ignorehitpause = 1
ownpal = 1
supermove = 1
scale = 0.6,0.4
id = 10
[State 1000, 2]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 12033
pos = 3, 2
postype = p1
sprpriority = -2
bindtime = 1
ignorehitpause = 1
ownpal = 1
supermove = 1
scale = 0.6,0.4
id = 10
[State 183, End] 
type = ChangeState 
trigger1 = animtime = 0
value = 0
ctrl = 1

;===============weaksgadoken================
[Statedef 10099]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3600
velset = 1,0
sprpriority = 5
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -3,3
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 230,-90,-90
sinadd = 148,48,40,90
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-40
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 10129
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 3
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage    = 170/(1+var(1)/7.0),10
animtype  = Hard
getpower = 0
givepower = 80
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage    = 170/(1+var(1)/7.0),10
animtype  = Hard
getpower= 0
givepower = 80
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 1
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 10129
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 10129

[Statedef 10129]
type    = S
movetype= A
physics = S
poweradd=  (Var(10)=0)* 10
ctrl = 0
anim = 3601
velset = 1,0
sprpriority = 5
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = -9, 9
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 53
range = -9, 9
[State 3700, dissipate]
type = destroyself
trigger1 = time = 18

[Statedef 19929]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3600
sprpriority = 5
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -1,-2
[State 1500, 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1
[State 1000, 5]
type = velset
trigger1 = 1
x = 6
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, SP
damage    = 170/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
getpower = 0
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, SP
damage    = 170/(1+var(1)/7.0),10
animtype  = Hard
guardflag = MA
pausetime = 0,10
guard.sparkno = S9200
getpower = 0
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8,-6
air.type = Low
air.velocity = -8,-6
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 130,-70,-70
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 10129
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1
[State 1500, 0]
type = VarAdd
trigger1 = moveguarded
persistent = 1
v = 4
value = 1
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 1
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 10129
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 19929

;========counterhits===============================
[Statedef 2100]
type = S
movetype = I
physics = S
juggle = 0
poweradd=  (Var(10)=0)* -1000
ctrl = 0
anim = 2100
velset = 0,0
sprpriority = 1
[State 3880, 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1
[State 2100, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
[State 2100, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
[State 2100, 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20
[State 2100, CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0,9
volume = 255
[State 2200, 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 3, -46
sprpriority = 3
ownpal = 1
pausemovetime = -1
[State 2100, 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 9991080

[Statedef 2200]
type = S
movetype = I
physics = S
juggle = 0 
poweradd=  (Var(10)=0)* -1000
ctrl = 0
anim = 2100
velset = 0,0
sprpriority = 1
[State 3880, 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1
[State 2200, 0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 20
[State 2200, 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20
[State 2200, CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0,9
volume = 255
[State 2200, 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 3, -46
sprpriority = 3
ownpal = 1
pausemovetime = -1
[State 2200, 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 1020

[Statedef 2210]
type = S
movetype = I
physics = S
juggle = 0 
poweradd=  (Var(10)=0)* -1000
ctrl = 0
anim = 992101
velset = 0,0
sprpriority = 1
[State 3880, 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1
[State 2200, 0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 20
[State 2200, 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20
[State 2200, CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0,9
volume = 255
[State 2200, 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 8, -84
sprpriority = 2
ownpal = 1
pausemovetime = -1
[State 2200, 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 1026

[Statedef 2211]
type = S
movetype = I
physics = S
juggle = 0 
poweradd=  (Var(10)=0)* -1000
ctrl = 0
anim = 992101
velset = 0,0
sprpriority = 1
[State 3880, 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1
[State 2200, 0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 20
[State 2200, 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20
[State 2200, CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0,9
volume = 255
[State 2200, 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 8, -84
sprpriority = 2
ownpal = 1
pausemovetime = -1
[State 2200, 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 1862

;-------------shindivingkick----------------------------
;============================================================================
[Statedef 186298]
type = A
movetype = A
physics = N
anim = 75098
velset = 6,9
ctrl = 0
sprpriority = 2

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 0
value = 999, 3
volume = 255

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) > 10
trigger1 = time >= 0 && NumHelper(14) < 3
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 106199
ownpal = 1
[State 1700, Shoryuken]
type = PlaySnd
triggerall = var(46) > 10
trigger1 = time = 1
value = 6,9
volume = 255

[State 1852, 6]
type = Velmul
trigger1 = Time = [0,10]
x = 0.83
y = 0.83
;[State 1852, 6]
type = Velset
trigger1 = animelem = 1
x = 6
y = 9
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 10
y = .30

[State 11040, 1]
type = AfterImageTime
trigger1 = pos y >= 0
Time = 0

[State 1500, 0]
type = Varset
triggerall = movecontact = 0
trigger1 = pos y >= 5
v = 28
value = 0

[State 1852, 7]
type = HitDef
triggerall = var(46) > 10
trigger1 = time > 0
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 48,50
sparkxy = -5, -0
sparkno = 2
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall = 1
fall.recover = 0
down.velocity = 0,0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
envshake.time = 48

[State 1852, 7]
type = HitDef
triggerall = (var(46) <= 10) && (var(28) < 3)
trigger1 = time > 0
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 48,50
sparkxy = -5, -0
sparkno = 3
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, 3
air.recover = 0
fall = 1
fall.recover = 0
down.velocity = 0,0

[State 1710, FireB]
type = Explod
triggerall = var(46) > 10
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = var(46) > 10
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1852, 8]
type = ChangeAnim
trigger1 = MoveContact
persistent = 0
value = 13006
[State 1852, 8]
type = ChangeState
triggerall = movecontact = 0
trigger1 = pos y >= 5
value = 1864
[State 1852, 8]
type = ChangeState
triggerall = MoveContact
trigger1 = pos y >= 5
value = 1803

[Statedef 186299]
type = A
movetype = A
physics = N
poweradd= -1000
anim = 75099
velset = 0,0
ctrl = 0
sprpriority = 2

[State 186299, 0]
type = Changestate
triggerall = var(46) <= 10
triggerall = var(28) = 0
trigger1 = animelemtime(2) = 9
value = 2222

[State 186299, 0]
type = Changestate
triggerall = var(46) <= 10
triggerall = var(28) = 1 || var(28) = 2
trigger1 = animelemtime(2) = 7
value = 2222

[State 186299, 2]
type = Changestate
triggerall = var(46) >= 90
triggerall = var(28) = 0
trigger1 = animelemtime(2) = 9
value = 5555

[State 186299, 2]
type = Changestate
triggerall = var(46) >= 90
triggerall = var(28) > 0
trigger1 = animelemtime(2) = 7
value = 5555

[State 186299, 2]
type = Changestate
triggerall = var(28) >= 3
trigger1 = animelemtime(2) = 7
value = 5555

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) < 90 
triggerall = var(46) > 10 
triggerall = var(28) < 3
trigger1 = animelem = 2
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 9007
ownpal = 1
persistent = 0

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) < 90 
triggerall = var(46) > 10 
triggerall = var(28) < 3
trigger1 = time = 30
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 9007
ownpal = 1
persistent = 0

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) < 90 
triggerall = var(46) > 10 
triggerall = var(28) < 3
trigger1 = time = 50
helpertype = normal
name = "leg fire"
id = 14
pos = 0,0
postype = p1
stateno = 9007
ownpal = 1
persistent = 0

[State 1500, 0]
type = Changestate
triggerall = var(46) > 10
triggerall = var(46) < 90 
triggerall = var(28) < 3
trigger1 = time = 70
value = 186298

[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100
;[State 1500, 0]
;type = Varset
;trigger1 = time = 0
;v = 21
;value = 1
[State 3885, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,13]
value = SCA
time = 1
[State 11040, 2]
type = PlayerPush
triggerall = Time >= 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 0
[State 1710, 0]
type = NotHitBy
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = SCA, NP, SP
time = 1
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 90
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 1710, FireB]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
trigger1 = var(46) < 90
trigger1 = var(46) > 10
trigger1 = var(28) < 3
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
trigger1 = var(46) < 90
trigger1 = var(46) > 10
trigger1 = var(28) < 3
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 3885, Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 70
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3885, Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) <= 10
trigger1 = var(28) < 3
time = 70
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add
[State 3700, Shadows]
type = Afterimage
trigger1 = pos y = -1
time = 1
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 1
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,360
time           = 60
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 1
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 32
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 1
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 32
ignorehitpause = 1
invertall = 1
[State 3700, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = animelem = 1
movetime = 9
time = 60
pos = 0, -75
anim = -1
[State 3700, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = animelem = 1
movetime = 9
time = 32
pos = 0, -75
anim = -1
[State 3700, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 10060
pos = 0,-57
sprpriority = 4
postype = p1
supermove = 1
bindtime = 1
ownpal = 1
pausemovetime = 9999
[State 3700, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 10061
pos = 0,-57
sprpriority = 4
postype = p1
supermove = 1
bindtime = 1
ownpal = 1
pausemovetime = 9999
[State 3700, X-ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 1
value = 7,3
volume = 255
[State 3700, X-ism]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 1
value = 0,12
volume = 255
[State 3700, chargeyell]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,5
volume = 255
channel = 0
[State 1500, 0]
type = Varadd
trigger1 = AnimElem = 1
v = 28
value = 1
[State 3700, Shadows]
type = Afterimage
triggerall = Animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 500
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3885, Shadows]
type = Afterimage
triggerall = Animelem = 1 && var(29) = 0
trigger1 = var(46) <= 10
trigger1 = var(28) < 3
time = 500
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add
[State 3700, grunt]
type = PlaySnd
trigger1 = time = 1
value = 1,5
channel = 0
[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,10
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) < 90 
triggerall = var(46) > 10 
triggerall = var(28) < 3
trigger1 = animelem = 2
helpertype = normal
name = "clone1"
pos = 0,0
postype = p1
stateno = 106198
ownpal = 1

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) < 90 
triggerall = var(46) > 10 
triggerall = var(28) < 3
trigger1 = time = 30
helpertype = normal
name = "clone2"
pos = 0,0
postype = p1
stateno = 106197
ownpal = 1

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) < 90 
triggerall = var(46) > 10 
triggerall = var(28) < 3
trigger1 = time = 50
helpertype = normal
name = "clone3"
pos = 0,0
postype = p1
stateno = 106196
ownpal = 1

[Statedef 9007]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 777
velset = 0,0
sprpriority = 3

[State 3700, X-ism]
type = ChangeAnim
trigger1 = time = 1
value = 90079

[State 3700, X-ism]
type = PlaySnd
trigger1 = time = 1
value = 0, 15
volume = 255
[State 3700, X-ism]
type = PlaySnd
trigger1 = time = 1
value = 0, 15
volume = 255
[State 3700, X-ism]
type = PlaySnd
trigger1 = time = 1
value = 0, 15
volume = 255

[State 1700, hadouken hit helper]
type = destroyself
trigger1 = parent, stateno != 186299
trigger2 = animtime = 0
value = 1

[Statedef 90078]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 90079
velset = 0,0
sprpriority = 3

[State 3700, X-ism]
type = PlaySnd
trigger1 = time = 0
value = 0, 15
volume = 255
[State 3700, X-ism]
type = PlaySnd
trigger1 = time = 0
value = 0, 15
volume = 255
[State 3700, X-ism]
type = PlaySnd
trigger1 = time = 0
value = 0, 15
volume = 255

[State 1700, hadouken hit helper]
type = destroyself
trigger1 = animtime = 0
value = 1

[Statedef 106198]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 131313
velset = 0,0
sprpriority = 3

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 3
value = 31, 10
volume = 255

[State 106198]
type = Velmul
trigger1 = Time = [0,10]
x = 0.83
y = 0.83
[State 106198, 0]
type = VelSet
trigger1 = time > 2
x = 6
y = 9
[State 106198]
type = VelAdd
trigger1 = Time >= 10
y = .30

[State 1852, 7]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,30
sparkxy = -5, -0
sparkno = 3
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip

[State 191, 4]
type = PlaySnd
trigger1 = pos y > -1
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = pos y > -1
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 3
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 3700, dissipate]
type = Destroyself
trigger1 = pos y > -1
value = 1

[Statedef 106197]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 131313
velset = 0,0
sprpriority = 3

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 3
value = 21, 10
volume = 255

[State 106198]
type = Velmul
trigger1 = Time = [0,10]
x = 0.83
y = 0.83
[State 106198, 0]
type = VelSet
trigger1 = time > 2
x = 6
y = 9
[State 106198]
type = VelAdd
trigger1 = Time >= 10
y = .30

[State 1852, 7]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,30
sparkxy = -5, -0
sparkno = 3
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip

[State 191, 4]
type = PlaySnd
trigger1 = pos y > -1
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = pos y > -1
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 3
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 3700, dissipate]
type = Destroyself
trigger1 = pos y > -1
value = 1

[Statedef 106196]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 131313
velset = 0,0
sprpriority = 3

[State 1700, Shoryuken]
type = PlaySnd
trigger1 = time = 3
value = 21, 10
volume = 255

[State 106198]
type = Velmul
trigger1 = Time = [0,10]
x = 0.83
y = 0.83
[State 106198, 0]
type = VelSet
trigger1 = time > 2
x = 6
y = 9
[State 106198]
type = VelAdd
trigger1 = Time >= 10
y = .30

[State 1852, 7]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 90/(1+var(1)/7.0), 10
animtype = medium
getpower=   (Var(10)=0)*  30
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,30
sparkxy = -5, -0
sparkno = 3
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
air.type = Trip

[State 191, 4]
type = PlaySnd
trigger1 = pos y > -1
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = pos y > -1
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 3
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 3700, dissipate]
type = Destroyself
trigger1 = pos y > -1
value = 1

[Statedef 106199]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 12222
velset = 0,0
sprpriority = 3
[State 1000, bind]
type = Bindtoparent
trigger1 = 1
value = 1
[State 1000, FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = 50,-20
random = 10,10
bindtime = 1
sprpriority = 5
ownpal = 1
vel = -1,-1
[State 1000, FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = 50,-20
random = 10,10
bindtime = 1
sprpriority = 5
ownpal = 1
vel = -1,-1
[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 121,21,121
sinadd = 48,48,40,120
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 218,168,245
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1010,NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 9999
[State 3700, dissipate]
type = Destroyself
trigger1 = parent,pos y >= 5
trigger2 = parent,stateno != 186298

;================MSSMSDKICK=======================
[Statedef 6666]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 4807
velset = 0,0
sprpriority = 3

[State 191, Energy 1 Explod]
type = posset
trigger1 = !time
y = 0

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 5
value = 5557

[State 191, 4]
type = PlaySnd
trigger1 = time = 2
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 1
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = PlaySnd
trigger1 = time = 160
value = 4, 110

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 160
value = 6668

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 240
value = 66689

[State 1852, 7]
type = HitDef
triggerall = var(28) >= 3 
trigger1 = anim = 66689
persistent = 0
attr = A, SA
damage = 80/(1+var(1)/7.0), 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0


[State 1852, 7]
type = HitDef
triggerall = var(28) < 3 
trigger1 = anim = 66689
persistent = 0
attr = A, SA
damage = 120, 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0

[State 191, Energy 1 Explod]
type = PlaySnd
trigger1 = time = 240
value = 999, 3

[State 191, Energy 1 Explod]
type = VelSet
trigger1 = (anim = 66689) && (animelem = 3)
x = 5
y = -8

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 260
value = 96668

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 250
x = -1
y = 1

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 260
x = -2
y = 2

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 270
x = -1
y = 4

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 280
x = -1
y = 7

[State 191, Energy 1 Explod]
type = Explod
trigger1 = pos Y >= -1
triggerall = time > 300
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, 4]
type = PlaySnd
trigger1 = pos Y >= -1
triggerall = time > 300
value = 55, 2
channel = 0
volume = 80

[State 191, Energy 1 Explod]
type = DestroySelf
trigger1 = pos Y >= -1
triggerall = time > 300
value = 1



[Statedef 6668]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 4807
velset = 0,0
sprpriority = 3

[State 191, Energy 1 Explod]
type = posset
trigger1 = !time
y = 0

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 5
value = 5555

[State 191, 4]
type = PlaySnd
trigger1 = time = 2
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 1
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = PlaySnd
trigger1 = time = 89
value = 4, 110

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 80
value = 6666

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 160
value = 66669

[State 1852, 7]
type = HitDef
triggerall = var(28) >= 3 
trigger1 = anim = 66669
persistent = 0
attr = A, SA
damage = 80/(1+var(1)/7.0), 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0


[State 1852, 7]
type = HitDef
triggerall = var(28) < 3 
trigger1 = anim = 66669
persistent = 0
attr = A, SA
damage = 120, 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0

[State 191, Energy 1 Explod]
type = PlaySnd
trigger1 = time = 161
value = 999, 3

[State 191, Energy 1 Explod]
type = VelSet
trigger1 = (anim = 66669) && (animelem = 3)
x = 2
y = -8

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 180
value = 96666

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 170
x = -1
y = 1

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 180
x = -1
y = 2

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 190
y = 4

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 200
y = 7

[State 191, Energy 1 Explod]
type = Explod
trigger1 = pos Y >= -1
triggerall = time > 220
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = DestroySelf
trigger1 = pos Y >= -1
triggerall = time > 220

[State 191, 4]
type = PlaySnd
trigger1 = pos Y >= -1
triggerall = time > 220
value = 55, 2
channel = 0
volume = 80


[Statedef 6667]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 4807
velset = 0,0
sprpriority = 3

[State 191, Energy 1 Explod]
type = posset
trigger1 = !time
y = 0

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 5
value = 5558

[State 191, 4]
type = PlaySnd
trigger1 = time = 2
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 1
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = PlaySnd
trigger1 = time = 121
value = 4, 110

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 120
value = 6669

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 200
value = 66699

[State 1852, 7]
type = HitDef
triggerall = var(28) >= 3 
trigger1 = anim = 66699
persistent = 0
attr = A, SA
damage = 80/(1+var(1)/7.0), 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0


[State 1852, 7]
type = HitDef
triggerall = var(28) < 3 
trigger1 = anim = 66699
persistent = 0
attr = A, SA
damage = 120, 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0

[State 191, Energy 1 Explod]
type = PlaySnd
trigger1 = time = 199
value = 999, 3

[State 191, Energy 1 Explod]
type = VelSet
trigger1 = (anim = 66699) && (animelem = 3)
x = -5
y = -8

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 220
value = 96669

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 210
x = 1
y = 1

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 220
x = 2
y = 2

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 230
x = 1
y = 4

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 240
x = 1
y = 7

[State 191, Energy 1 Explod]
type = Explod
trigger1 = pos Y >= -1
triggerall = time > 260
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = DestroySelf
trigger1 = pos Y >= -1
triggerall = time > 260

[State 191, 4]
type = PlaySnd
trigger1 = pos Y >= -1
triggerall = time > 260
value = 55, 2
channel = 0
volume = 80


[Statedef 6669]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 4807
velset = 0,0
sprpriority = 3

[State 191, Energy 1 Explod]
type = posset
trigger1 = !time
y = 0

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 5
value = 5556

[State 191, 4]
type = PlaySnd
trigger1 = time = 2
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 1
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 40
value = 6667

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 120
value = 66679

[State 1852, 7]
type = HitDef
triggerall = var(28) >= 3 
trigger1 = anim = 66679
persistent = 0
attr = A, SA
damage = 80/(1+var(1)/7.0), 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0


[State 1852, 7]
type = HitDef
triggerall = var(28) < 3 
trigger1 = anim = 66679
persistent = 0
attr = A, SA
damage = 120, 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 0,60
sparkxy = 0, -60
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0

[State 191, Energy 1 Explod]
type = VelSet
trigger1 = (anim = 66679) && (animelem = 3)
x = -2
y = -8

[State 191, Energy 1 Explod]
type = changeanim
trigger1 = time = 140
value = 96667

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 130
x = 1
y = 1

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 140
x = 1
y = 2

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 150
y = 4

[State 191, Energy 1 Explod]
type = VelAdd
trigger1 = time = 160
y = 7

[State 191, Energy 1 Explod]
type = Explod
trigger1 = pos Y >= -1
triggerall = time > 180
anim = 9001
ID = 1006
;postype = P1
;pos = 0,0
ownpal = 1
sprpriority = 5
;bindtime = -1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = DestroySelf
trigger1 = pos Y >= -1
triggerall = time > 180

[State 191, 4]
type = PlaySnd
trigger1 = pos Y >= -1
triggerall = time > 180
value = 55, 2
channel = 0
volume = 80


[Statedef 5555]
type = A
movetype = A
physics = N
anim = 75098
velset = 9,12
ctrl = 0
sprpriority = 2

[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,10
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4

[State 1852, 6]
type = Velmul
trigger1 = Time = [0,10]
x = 0.83
y = 0.83
;[State 1852, 6]
type = Velset
trigger1 = time = 0
x = 9
y = 12
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 10
y = .30

[State 1852, 7]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 50/(1+var(1)/7.0), 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 20,350
sparkxy = 5, -0
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0
kill = 0

[State 1500, 0]
type = Varset
triggerall = movecontact = 0
trigger1 = pos y >= 5
v = 28
value = 0

[State 1820, 1]
type = afterimagetime
triggerall = movecontact = 0
trigger1 = pos y >= 5
trigger1 = movetype = H
time = 0

[State 1852, 8]
type = ChangeAnim
trigger1 = MoveContact
persistent = 0
value = 13006
[State 1852, 8]
type = ChangeState
triggerall = movecontact = 0
trigger1 = pos y >= 5
value = 1864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 918639

[Statedef 2222]
type = A
movetype = A
physics = N
anim = 75098
velset = 9,12
ctrl = 0
sprpriority = 2

[State 1852,TATSUMAKI]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,10
channel = 0
volume = 255
[State 1852, wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0,4

[State 1852, 6]
type = Velmul
trigger1 = Time = [0,10]
x = 0.83
y = 0.83
;[State 1852, 6]
type = Velset
trigger1 = time = 0
x = 9
y = 12
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 10
y = .30

[State 1852, 7]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 50/(1+var(1)/7.0), 10
animtype = hard
getpower=   (Var(10)=0)*  0
givepower = 20
priority = 5
hitflag = MAFD
guardflag = HA
pausetime = 20,70
sparkxy = 5, -0
sparkno = 3
air.type = Trip
guard.sparkno = S9200
hitsound = S6,6
guardsound = S0,100
ground.type = High
fall.recover = 0

[State 1500, 0]
type = Varset
triggerall = movecontact = 0
trigger1 = pos y >= 5
v = 28
value = 0

[State 1820, 1]
type = afterimagetime
triggerall = movecontact = 0
trigger1 = pos y >= 5
trigger1 = movetype = H
time = 0

[State 1852, 8]
type = ChangeAnim
trigger1 = MoveContact
persistent = 0
value = 13006
[State 1852, 8]
type = ChangeState
triggerall = movecontact = 0
trigger1 = pos y >= 5
value = 1864
[State 1852, 8]
type = ChangeState
trigger1 = MoveContact
value = 1863999

[Statedef 1863999]
type = A
movetype = I
Physics = N
anim = 13007
ctrl = 0
sprpriority = 2
[State 1852, 6]
type = VelAdd
trigger1 = Time >= 0
y = .30
[State 1852, 6]
type = Velset
trigger1 = Time = 0
x = 5.2
y = -7
[State 2001, 8]
type = turn
trigger1 = animelem = 6
persistent = 0
[State 1852, 8]
type = ChangeState
trigger1 = time = 30
value = 186298

[Statedef 7777]
type = A
movetype = I
Physics = N
anim = 7210
ctrl = 0
sprpriority = 3

[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 15
volume = 255
persistent = 1

[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 19
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 19
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 19
value = 0, 15
volume = 255
persistent = 1

[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 35
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 35
value = 0, 15
volume = 255
persistent = 1
[State 3700, X-ism]
type = PlaySnd
trigger1 = animelem = 35
value = 0, 15
volume = 255
persistent = 1

[State 191, Energy 1 Explod]
type = bindtoparent
trigger1 = 1
value = 1

[State 191, Energy 1 Explod]
type = destroyself
trigger1 = parent,stateno != 918639

[Statedef 918639]
type = A
movetype = I
Physics = N
anim = 130077
ctrl = 0
sprpriority = 2

[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 7800, 3]
type = BGPalfx
trigger1 = time = 50
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 7800, 3]
type = BGPalfx
trigger1 = time = 100
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 7800, 3]
type = BGPalfx
trigger1 = time = 150
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 7800, 3]
type = BGPalfx
trigger1 = time = 200
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 7800, 3]
type = BGPalfx
trigger1 = time = 250
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 7800, 3]
type = BGPalfx
trigger1 = time = 300
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 7800, 3]
type = BGPalfx
trigger1 = time = 350
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500
[State 7800, 3]
type = BGPalfx
trigger1 = time = 400
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500
[State 7800, 3]
type = BGPalfx
trigger1 = time = 450
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500
[State 7800, 3]
type = BGPalfx
trigger1 = time = 500
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500
[State 7800, 3]
type = BGPalfx
trigger1 = time = 550
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500
[State 7800, 3]
type = BGPalfx
trigger1 = time = 600
invertall = 1
supermove = 1
time = 50
add = 92,24,153
sinadd = -500,-500,-500,500

[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 47,0,149
time = 1

[State 191, Energy 1 Explod]
type = PlaySnd
trigger1 = time = 15
value = 999, 2

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
bindtime = 1
name = "ball"
pos = 0,0
postype = p1
stateno = 7777
ownpal = 1
ignorehitpause = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "clone1"
pos = -80,0
postype = p2
stateno = 6666
ownpal = 1
ignorehitpause = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 45
helpertype = normal
name = "clone2"
pos = 80,0
postype = p2
stateno = 6667
ownpal = 1
ignorehitpause = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 85
helpertype = normal
name = "clone2"
pos = -40,0
postype = p2
stateno = 6668
ownpal = 1
ignorehitpause = 1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 125
helpertype = normal
name = "clone2"
pos = 40,0
postype = p2
stateno = 6669
ownpal = 1
ignorehitpause = 1

[State 1852, 6]
type = VelAdd
trigger1 = Time = 0
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 10
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 20
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 30
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 40
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 50
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 60
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 70
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 80
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 90
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 100
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 110
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 120
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 130
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 140
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 150
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 160
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 170
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 180
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 190
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 200
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 210
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 220
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 230
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 240
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 250
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 260
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 270
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 280
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 290
y = .030
[State 1852, 6]
type = VelAdd
trigger1 = Time = 300
y = .030

[State 1852, 6]
type = Velset
trigger1 = Time = 0
x = .52
y = -.7
[State 2001, 8]
type = turn
trigger1 = animelem = 6
persistent = 0
[State 1852, 8]
type = ChangeState
trigger1 = time = 300
value = 918637

[Statedef 918637]
type = A
movetype = I
Physics = N
anim = 12345
ctrl = 0
velset = 0,0,0
sprpriority = 2

[State 2001, 8]
type = ChangeState
trigger1 = time = 0
value = 186298

;pocketTaunt-----------------------------------
[Statedef 11050]
type = S
movetype = I
velset = 0,0
ctrl = 0

[State 191, 4]
type = varrandom
trigger1 = !time
v = 43
range = 0,2

[State 191, 4]
type = ChangeState
trigger1 = !time
trigger1 = var(43) = 0
value = 11049

[State 191, 4]
type = ChangeState
trigger1 = !time
trigger1 = var(43) = 1
value = 11051

[State 191, 4]
type = ChangeState
trigger1 = !time
trigger1 = var(43) = 2
value = 11052

[Statedef 11049]
type = S
movetype = I
velset = 0,0
anim = 13040
ctrl = 0
[State 191, 4]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 79
freqmul = 1.5
value = 0,9
[State 191, 8]
type = PlaySnd
trigger1 = animelem = 3
freqmul = 1.5
value = 101,101
[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 80
add = 255,0,0
sinadd = -500,-500,-500,100
[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 1
[State 1531, 5]
type = EnvColor
trigger1 = time = 79
value = 255,255,255
time = 1
[State 191, 9]
type = ChangeState
trigger1 = time = 80
ctrl = 1
value = 0

[Statedef 11051]
type = S
movetype = I
velset = 0,0
anim = 13041
ctrl = 0
[State 191, 4]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 69
freqmul = 1.5
value = 0,9
[State 191, 8]
type = PlaySnd
trigger1 = animelem = 2
freqmul = 1.5
value = 102,101
persistent = 0
[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 70
add = 255,0,0
sinadd = -500,-500,-500,90
[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 1
[State 1531, 5]
type = EnvColor
trigger1 = time = 69
value = 255,255,255
time = 1
[State 191, 9]
type = ChangeState
trigger1 = time = 70
ctrl = 1
value = 0

[Statedef 11052]
type = S
movetype = I
velset = 0,0
anim = 13042
ctrl = 0
[State 191, 4]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 59
freqmul = 1.5
value = 0,9
[State 191, 8]
type = PlaySnd
trigger1 = animelem = 2
freqmul = 1.5
value = 103,101
persistent = 0
[State 7800, 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermove = 1
time = 60
add = 255,0,0
sinadd = -500,-500,-500,80
[State 1531, 5]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 1
[State 1531, 5]
type = EnvColor
trigger1 = time = 59
value = 255,255,255
time = 1
[State 191, 9]
type = ChangeState
trigger1 = time = 60
ctrl = 1
value = 0

;------ai---------------------------
[Statedef 9998]
ctrl = 0 
anim = 9999
[State 9999: ParentVarSet] 
type = ParentVarSet 
triggerall = (Parent, Var(30) != 59) 
trigger1 = ((Parent, Command = "CPU") && (Command != "CPU"))
trigger2 = ((Parent, Command = "hold_x") && (Command = "hold_x"))
trigger3 = ((Parent, Command = "hold_y") && (Command = "hold_y")) 
trigger4 = ((Parent, Command = "hold_z") && (Command = "hold_z")) 
trigger5 = ((Parent, Command = "hold_a") && (Command = "hold_a")) 
trigger6 = ((Parent, Command = "hold_b") && (Command = "hold_b")) 
trigger7 = ((Parent, Command = "hold_c") && (Command = "hold_c")) 
trigger8 = ((Parent, Command = "hold_s") && (Command = "hold_s")) 
trigger9 = ((Parent, Command = "holdfwd") && (Command = "holdfwd")) 
trigger10 = ((Parent, Command = "holdback") && (Command = "holdback")) 
trigger11 = ((Parent, Command = "holdup") && (Command = "holdup")) 
trigger12 = ((Parent, Command = "holddown") && (Command = "holddown")) 
var(30) = 59 
[State 9999: ParentVarSet] 
type = ParentVarSet 
triggerall = (Parent, Var(30) = 59)
trigger1 = ((root, Command = "CPU") && (Command = "CPU"))
trigger2 = ((root, Command = "hold_x") && (Command = "hold_x"))
trigger3 = ((root, Command = "hold_y") && (Command = "hold_y"))
trigger4 = ((root, Command = "hold_z") && (Command = "hold_z"))
trigger5 = ((root, Command = "hold_a") && (Command = "hold_a")) 
trigger6 = ((root, Command = "hold_b") && (Command = "hold_b"))
trigger7 = ((root, Command = "hold_c") && (Command = "hold_c"))
trigger8 = ((root, Command = "hold_s") && (Command = "hold_s"))
trigger9 = ((root, Command = "holdfwd") && (Command = "holdfwd"))
trigger10 = ((root, Command = "holdback") && (Command = "holdback"))
trigger11 = ((root, Command = "holdup") && (Command = "holdup")) 
trigger12 = ((root, Command = "holddown") && (Command = "holddown"))
var(30) = -1
[State 9999: DestroySelf] 
type = DestroySelf 
trigger1 = (Parent, Var(30) = -1) 

[Statedef 9999]
type = A
ctrl = 0
anim = 9999
sprpriority = -5
movetype = I
physics = N
[State 2100, 1]
type = Pause
trigger1 = time = 0
time = 5
movetime = 5
[State 191, 5]
type = EnvShake
trigger1 = time = 0 && (root, var(50) = 0 || root, var(50) = [50,100])
ignorehitpause = 1
persistent = 0
time = 5
ampl = 2
freq = 180
[state 9999, varset]
type = varset
trigger1       = root, stateno = [0,1000]
trigger1 = time = 0
v = 42
value = 0
[state 9999, varset]
type = varset
trigger1       = root, stateno = [1000,3000]
trigger1 = time = 0
v = 42
value = 1
[state 9999, varset]
type = varset
trigger1 = var(28) < 3
trigger1       = root, stateno >= 3000
trigger1 = time = 0
v = 42
value = 2
[state 9999, varset]
type = varset
trigger1 = var(28) >= 3
trigger1 = root, stateno >= 3000
trigger1 = time = 0
v = 42
value = 3
[state 6005, white fadeout]
type           = BGPalFx
triggerall     = time = 0
trigger1       = var(42) = 1
add            = 255,255,255
sinadd         = -255,-255,-255,50
time           = 12
ignorehitpause = 1
persistent     = 0
[state 6005, white fadeout]
type           = BGPalFx
triggerall     = time = 0
trigger1       = var(42) = 2 && (root, var(50) = 0 || root, var(50) = [50,100])
add            = 255,255,255
time           = 10
ignorehitpause = 1
persistent     = 0
pausemovetime = 9999
[state 6005, white fadeout]
type           = BGPalFx
triggerall     = time = 10
trigger1       = var(42) = 2 && (root, var(50) = 0 || root, var(50) = [50,100])
add            = 255,255,255
sinadd         = -255,-255,-255,50
time           = 12
ignorehitpause = 1
persistent     = 0
pausemovetime = 9999
[state 6005, red fadeout]
type           = BGPalFx
triggerall     = time = 0
trigger1       = var(42) = 3 && (root, var(50) = 0 || root, var(50) = [50,100])
add            = 312,-512,-512
time           = 10
ignorehitpause = 1
[state 6005, red fadeout]
type           = BGPalFx
triggerall     = time = 10
trigger1       = var(42) = 3 && (root, var(50) = 0 || root, var(50) = [50,100])
add            = 312,-512,-512
sinadd         = -312,512,512,50
time           = 12
ignorehitpause = 1
[state 6006, silence]
type = assertspecial
trigger1 = time <= 42
trigger1       = var(42) = 3
flag = nofg
[state 6006, effect]
type = Playsnd
trigger1 = time = 0
trigger1       = var(42) = 3 || root,var(50) > 50
value = 0,13
persistent = 0
volume = 255
ignorehitpause = 1
abspan = 0
[state 6006, effect]
type = Playsnd
trigger1 = time = 0
trigger1       = var(42) = 3 || root,var(50) > 0
value = 0,13
persistent = 0
volume = 255
ignorehitpause = 1
abspan = 0
[state 6006, effect]
type = Playsnd
trigger1 = time = 0
trigger1       = var(42) = 3 || root,var(50) > 0
value = 0,13
persistent = 0
volume = 255
ignorehitpause = 1
abspan = 0
[State 6008]
type = DestroySelf
trigger1 = roundstate = 0

;-----------------------------------------------------------------
;==========Hisshou Buraiken=======================================
[Statedef 800]
type = S
movetype = A
physics = N
juggle = 3
poweradd = -2000
anim = 13000
velset = 0,0
ctrl = 0
sprpriority = 2

[State 181, Randomizer]
type = VarSet
trigger1 = time = 3
v = 28
value = 0

[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100
[State 1500, 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0
[State 1500, 0]
type = VarSet
trigger1 = time = 0
v = 21
value = 0
[State 3450, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,30]
value = SCA
time = 1
[State 3450, Ikuze]
type = PlaySnd
trigger1 = time = 0
value = 13000,0
volume = 255
channel = 0
[State 3450, Push]
type = playerpush
trigger1 = time >= 0
value = 1
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 1
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,340
time           = 53
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 1
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 32
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 1
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 32
ignorehitpause = 1
invertall = 1
[State 3450, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = AnimELem = 1
anim = -1
pos = 13, -45
time = 53
sprpriority = 3
movetime = 2
[State 3450, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = AnimELem = 1
anim = -1
pos = 13, -45
time = 33
sprpriority = 3
movetime = 2
[State 3450, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 10060
pos = 0, -75
sprpriority = 4
postype = p1
supermove = 1
bindtime = 53
ownpal = 1
pausemovetime = 9999
[State 3450, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 10061
pos = 0, -75
sprpriority = 4
postype = p1
supermove = 1
bindtime = 53
ownpal = 1
pausemovetime = 9999
[State 3450, Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 9402
scale = 0.7,0.7
pos = 0,0
sprpriority = 0
postype = p1
supermove = 1
bindtime = 18
ownpal = 1
pausemovetime = 9999
[State 3450, X-Ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 1
value = 7,3
volume = 200
[State 3450, The kamek sample]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 1
value = 0,12
volume = 200
[State 1500, 0]
type = Varadd
trigger1 = time = 0
v = 28
value = 1
;[State 3450, Shadows]
type = Afterimage
triggerall = var(46) > 10
trigger1 = Time = 0 && var(29) = 0
time = 83
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
;[State 3450, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 143
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
;[State 3885, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
triggerall = var(46) <= 10
trigger1 = var(28) < 3
time = 83
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 3
helpertype = normal
name = "woosh"
pos = 0,0
postype = p1
stateno = 130019
ownpal = 1
;size.xscale = .5
;size.yscale = .5

[State 13000, Change]
type = ChangeState
trigger1 = time = 3
value = 13001

[Statedef 13001]
type = S
movetype = A
physics = N
anim = 1301
facep2 = 1
ctrl = 0

[State 1050,1]
type = Posadd
trigger1 = animelem = 1
X = (P2dist x) + 50

[State 13002, sound]
type = playsnd
trigger1 = animelem = 3
value = 13001,0

[State 1050,1]
type = ChangeState
trigger1 = animelemtime(19) = 1
value = 13002

[Statedef 13002]
type = S
movetype = A
physics = N
anim = 13000
facep2 = 1
ctrl = 0

[State 13002, sound]
type = ChangeAnim
trigger1 = time = 1
value = 800

[State 1060, 1]
type = NotHitBy
persistent = 0
trigger1 = anim = 800
trigger1 = AnimElem = 1
trigger2 = anim = 13000
value = SCA    ; invincible
ignorehitpause = 1

[State 3865, Shadows]
type = Afterimage
trigger1 = Time = 0 && var(29) = 0
time = 349
length = 21
PalBright   =   0,  0,  0
PalContrast = 0,0,542
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1

[State 13002, 3]
type = HitDef
trigger1 = anim = 800
trigger1 = AnimElem = 2
;trigger1 = P2BodyDist X <= 20
;trigger1 = P2BodyDist Y <= 10
attr = S, NT
id = 900
givepower = 30
;hitflag = H-
hitflag = MAFD
guardflag = MA
guardsound = S0,100
guard.sparkno = S9200
priority = 5
;priority = 2, Miss    ;Throw has low priority, should be miss or dodge type.
sparkxy = -25, -70
sparkno = -1
p2facing = 0
;p1facing = ifelse(command = "holdback",-1,1)
p1stateno = 13003
p2stateno = 913003
p2getp1state = 1
hitsound = S0,8
fall = 1
fall.damage = 15/(1+var(1)/7.0)

[State 13002, sound]
type = ChangeState
trigger1 = MoveGuarded
value = 12000

[State 13002, sound]
type = ChangeState
trigger1 = anim = 800
trigger1 = animelemtime(2) = 2
trigger1 = movecontact = 0
value = 12001

[Statedef 12001]
type = S
physics = N
anim = 801
ctrl = 0

[State 3865, Shadows]
type = Afterimage
trigger1 = Time = 0
time = 0

[State 13002, sound]
type = Playsnd
trigger1 = time = 0
value = 12001,0

[State 13002, sound]
type = SelfState
ctrl = 1
trigger1 = time = 19
value = 0

[Statedef 12000]
type = S
physics = N
anim = 10900
ctrl = 0

[State 3865, Shadows]
type = Afterimage
trigger1 = Time = 0
time = 0

[State 13002, sound]
type = Playsnd
trigger1 = time = 0
value = 12000,0

[State 13002, sound]
type = Playsnd
trigger1 = time = 0
value = 12000,0

[State 13002, sound]
type = SelfState
ctrl = 1
trigger1 = time = 20
value = 0

[Statedef 13003]
type = S
movetype = A
physics = N
anim = 13003
ctrl = 0

[State 11001, HitOverride]
type = SelfSTate
trigger1 = p2stateno = [5000,5200]
ctrl = 1
value = 0

[State 130039, zzz]
type = playsnd
trigger1 = time = 0
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 5
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 10
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 15
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 20
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 25
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 30
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 35
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 40
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 0
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 5
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 10
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 15
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 20
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 25
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 30
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 35
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 40
value = 2507,0

[State 13003, sound]
type = ChangeState
trigger1 = time = 41
value = 13004

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bzztp2"
pos = 0,0
postype = p2
stateno = 9939
ownpal = 1
;size.xscale = .5
;size.yscale = .5

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "bzzt2p2"
pos = 0,0
postype = p2
stateno = 9939
ownpal = 1
;size.xscale = .5
;size.yscale = .5

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bzzt"
pos = 0,0
postype = p1
stateno = 130039
ownpal = 1
;size.xscale = .5
;size.yscale = .5

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 11
helpertype = normal
name = "bzzt2"
pos = 0,0
postype = p1
stateno = 130039
ownpal = 1
;size.xscale = .5
;size.yscale = .5

[Statedef 13004]
type = S
movetype = A
physics = N
anim = 3956
ctrl = 0

[State 130039, todomedah!]
type = playsnd
trigger1 = time = 0
value = 13004,0

[State 130039, todomedah!]
type = SelfState
ctrl = 1
trigger1 = anim = 3956
trigger1 = animelemtime(13) = 3
trigger1 = movehit = 0
value = 0

[State 13002, 3]
type = HitDef
persistent = 0
trigger1 = anim = 3956
;trigger1 = P2BodyDist X <= 20
;trigger1 = P2BodyDist Y <= 10
attr = S, NT
damage    = 80/(1+var(1)/7.0)
id = 900
givepower = 30
guardflag = MA
guard.sparkno = S9100
guardsound = S0,100
hitflag = MAFD
priority = 5, Hit
hitsound   = S6,6
sparkno = 3
sparkxy = -15,-55
p2facing = 0
;p1facing = ifelse(command = "holdback",-1,1)
p2stateno = 913004
p2getp1state = 1
fall = 1
fall.damage = 15/(1+var(1)/7.0)

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bzztp2"
pos = 0,0
postype = p2
stateno = 9940
ownpal = 1
;size.xscale = .5
;size.yscale = .5

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "bzzt2p2"
pos = 0,0
postype = p2
stateno = 9940
ownpal = 1
;size.xscale = .5
;size.yscale = .5

[State 130039, todomedah!]
type = changestate
trigger1 = animelemtime(13) = 3
trigger1 = p2stateno = 913004
value = 13005

[Statedef 13005]
type = S
movetype = A
physics = N
anim = 851
ctrl = 0

[State 11001, HitOverride]
type = SelfSTate
trigger1 = p2stateno = [5000,5200]
ctrl = 1
value = 0

[State 130039, rarararararararah!]
type = playsnd
trigger1 = time = 9
value = 13000,1

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 4
persistent = 1
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 130059
ownpal = 1
;size.xscale = 1
;size.yscale = 1.2

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 6
persistent = 0
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 130060
ownpal = 1
;size.xscale = 1
;size.yscale = 1.2

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 8
persistent = 0
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 130059
ownpal = 1
;size.xscale = 1
;size.yscale = 1.2

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 10
persistent = 0
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 130060
ownpal = 1
;size.xscale = 1
;size.yscale = 1.2

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 12
persistent = 0
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 130062
ownpal = 1
;size.xscale = 1
;size.yscale = 1.2

[State 1700, hadouken hit helper]
type = Helper
trigger1 = animelem = 14
persistent = 0
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -76
postype = p1
stateno = 130061
ownpal = 1
;size.xscale = 1
;size.yscale = 1.2

[State 1650, 4]
type = Helper
trigger1 = animelem = 16
ID = 046
name = "energia"
StateNo = 910519
postype = p1
pos = 75, 0
ownpal = 1

[State 1650, 4]
type = Helper
trigger1 = animelem = 16
ID = 046
name = "energia"
StateNo = 910518
postype = p1
pos = -75, 0
ownpal = 1

[State 182, Explod1]
type = Explod
triggerall = anim = 851
triggerall = (GameTime%10) = 0
trigger1 = time > 63
trigger1 = time < 180
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State 182, 2]
type = Playsnd
triggerall = anim = 851
triggerall = (GameTime%10) = 0
trigger1 = time > 63
trigger1 = time < 180
value = 250,0

[State 182, 2]
type = ChangeState
trigger1 = time > 180
trigger1 = p2bodydist x <= 11
trigger2 = time > 210
value = 15000

[Statedef 150009]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0 
anim = 32102
sprpriority = 5

[State 1650, 4]
type = playsnd
trigger1 = time = 1
value = 32101,0

[State 1650, 4]
type = destroyself
trigger1 = animelem = 22
value = 1

[Statedef 15000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0 
anim = 10608

[State 91063, 0]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State 1080, 0]  ; this first
type = VarSet
trigger1 = time = 0
v = 1
value = (var(4)=14)

[State 1080, 0]  ; this second
type = VarSet
trigger1 = time = 0
var(4) = (var(4)+1)%15

[State 1080, 1]
type = NotHitBy
trigger1 = AnimElem = 2, >= 0
trigger1 = anim = 10608
trigger1 = var(1) = 1
value = SCA    ; invincible
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 1080, 1]
type = ChangeState
trigger1 = AnimElem = 3
value = 15001

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2, =-2
value = 0, 220

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 13000,2  ; Doryaa!
channel = 0

[State 1080, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 13000,2  ; Doryaa!
channel = 0

;[State 1080, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype = back 
damage = 77/(1+var(1)/7.0),10
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10, -60
hitsound = S6,5
guardsound = S0,100
guard.sparkno = S9200
ground.velocity = -3, -7
ground.hittime = 20
air.velocity = -3, -6.5
fall = 1
fall.recovertime = 46
fall.damage = 12/(1+var(1)/7.0)

; heavy kouryuuken (going up)
[Statedef 15001]
type = A
movetype = A
velset = 4, -15

[State 1650, 4]
type = Helper
trigger1 = time = 0
ID = 046
name = "energia"
StateNo = 150009
postype = p1
pos = 70, 0
ownpal = 1

[State 1650, 4]
type = Helper
trigger1 = time = 0
ID = 046
name = "energia"
StateNo = 150009
postype = p1
pos = 70, 0
ownpal = 1

[State 1081, 1]
type = NotHitBy
trigger1 = anim = 10608
trigger1 = var(1) = 1
trigger1 = AnimElem = 1, <= 3
value = SCA
ignorehitpause = 1

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1081, 3]
type = Gravity
trigger1 = Pos Y < -20

[State 1081, 4]
type = VelMul
trigger1 = time >= 0
x = .43
;x = .93

[State 1081, 2]
type = ChangeState
trigger1 = Vel Y > 0
value = 50
;value = 1062

[State 1081, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, HA
damage = 87/(1+var(1)/7.0),10
animtype = Hard
getpower=   (Var(10)=0)*  30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 12
sparkxy = 0, -80
sparkno = S9420
guard.sparkno = S9200
hitsound = S10000,0
guardsound = S0,100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -1, -19
air.velocity = -1, -19
air.juggle = 10
fall = 1
fall.recover = 0

[Statedef 910519]
type = S
movetype = A
physics = S
anim = 4807
velset = 0
ctrl = 0
sprpriority = 3

[State 191, 4]
type = ChangeAnim
trigger1 = Time = 10
value = 10901

[State 182, 2]
type = Playsnd
trigger1 = Time = 13
value = 1,3
volume = 200

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2

[State 191, 4]
type = PlaySnd
trigger1 = parent, movetype = H
trigger2 = parent, anim != 851
trigger3 = time = 75
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 13
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = Explod
triggerall = time >= 10 
triggerall = (GameTime%12) = 0 
trigger1 = stateno = 910519
anim = 4806
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 15
bindtime = 1
persistent = 1
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = Explod
trigger1 = parent, movetype = H
trigger2 = parent, anim != 851
trigger3 = time = 75
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 13
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 191, 4]
type = destroyself
trigger1 = parent, movetype = H
trigger2 = parent, anim != 851
trigger3 = time = 75
value = 1

[Statedef 910518]
type = S
movetype = A
physics = S
anim = 4807
velset = 0
ctrl = 0
sprpriority = 3

[State 191, 4]
type = Turn
trigger1 = time = 0
value = 1

[State 191, 4]
type = ChangeAnim
trigger1 = Time = 10
value = 10901

[State 182, 2]
type = Playsnd
trigger1 = Time = 15
value = 1,3
volume = 200

[State 191, 4]
type = PlaySnd
trigger1 = Time = 1
value = 55, 2

[State 191, 4]
type = PlaySnd
trigger1 = parent, movetype = H
trigger2 = parent, anim != 851
trigger3 = time = 75
value = 55, 2
channel = 0
volume = 200

[State 191, Energy 1 Explod]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 13
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = Explod
triggerall = time >= 10 
triggerall = (GameTime%12) = 0 
trigger1 = stateno = 910518
anim = 4806
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 15
bindtime = 1
persistent = 1
ignorehitpause = 1

[State 191, Energy 1 Explod]
type = Explod
trigger1 = parent, movetype = H
trigger2 = parent, anim != 851
trigger3 = time = 75
anim = 9001
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 13
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 191, 4]
type = destroyself
trigger1 = parent, movetype = H
trigger2 = parent, anim != 851
trigger3 = time = 75
value = 1

[Statedef 130059]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 10150
velset = 3,0
sprpriority = 5
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = -21,-61,-21
sinadd = 48,48,40,120

[State 1010, 112]
type = velset
trigger1 = time >= 0
;x = -2.8
y = -.5*(sin(0.075*time))


[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -3,3
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 230,-90,-90
sinadd = 148,48,40,90
;[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-40
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 10129
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 3
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower = 0
givepower = 80
guardflag = MA
pausetime = 0,0
hitsound = S6,5
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
p2stateno = 913005
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower= 0
givepower = 80
hitsound = S6,5
guardflag = MA
pausetime = 0,10
p2stateno = 913005
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 1
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 13059
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 13059

[Statedef 130060]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 10150
velset = 3,0
sprpriority = 5
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = -21,-61,-21
sinadd = 48,48,40,120

[State 1010, 112]
type = velset
trigger1 = time >= 0
;x = -2.8
y = 1*(sin(0.075*time))


[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -3,3
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 230,-90,-90
sinadd = 148,48,40,90
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-40
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 10129
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 3
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower = 0
hitsound = S6,5
givepower = 80
guardflag = MA
pausetime = 0,0
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
p2stateno = 913005
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower= 0
givepower = 80
guardflag = MA
pausetime = 0,10
p2stateno = 913005
hitsound = S6,5
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 1
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 13059
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 13059

[Statedef 130061]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 10150
velset = 3,0
sprpriority = 5
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = -21,-61,-21
sinadd = 48,48,40,120

[State 1010, 112]
type = velset
trigger1 = time >= 0
;x = -2.8
y = 1*(sin(0.075*time))


[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -3,3
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 230,-90,-90
sinadd = 148,48,40,90
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-40
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 10129
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 3
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower = 0
givepower = 80
hitsound = S6,5
guardflag = MA
pausetime = 0,0
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
p2stateno = 913006
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower= 0
givepower = 80
hitsound = S6,5
guardflag = MA
pausetime = 0,10
p2stateno = 913006
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 1
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 13059
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 13059

[Statedef 130062]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 10150
velset = 3,0
sprpriority = 5
[State 1500, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = -21,-61,-21
sinadd = 48,48,40,120

[State 1010, 112]
type = velset
trigger1 = time >= 0
;x = -2.8
y = -.5*(sin(0.075*time))


[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 51
range = -3,3
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = 3, 9
;[State 3710, 1]
type = palfx
trigger1 = Time = 0
time = 9999
add = 230,-90,-90
sinadd = 148,48,40,90
[State 3700, Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright   =   0,  0,  0
PalContrast = 115,39,107
PalMul      =  0.5,0.5,0.5
FrameGap = 1
Trans = add
[State 1000, FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-40
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1000, FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10,-80
random = 50,40
bindtime = -1
sprpriority = 2
ownpal = 1
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6,5
persistent = 0
ignorehitpause = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1
[State 11001, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 10129
attr = SCA, NP, SP, HP
ignorehitpause = 1
[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1
[State 3450, Spark] 
type = Explod
trigger1 = (enemyNear, StateNo = [5000,5999])
trigger1 = p2movetype = H
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500,10421,10420)
pos = 0,-50
sprpriority = -1
postype = p2
supermove = 1
bindtime = 1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5,5
scale = 0.7,0.7
[State 1000, 5]
type = velset
trigger1 = 1
x = 3
[State 1000, 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower = 0
hitsound = S6,5
givepower = 80
guardflag = MA
pausetime = 0,0
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
p2stateno = 913006
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1000, 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage    = 12/(1+var(1)/7.0),10
animtype  = Hard
getpower= 0
givepower = 80
hitsound = S6,5
guardflag = MA
pausetime = 0,10
p2stateno = 913006
guard.sparkno = S9200
guardsound = S0,100
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-5
air.type = Low
air.velocity = -2,-5
forcestand = 1
palfx.time = 80
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
fall.recover = 0
air.recover = 0
air.juggle = 15
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
air.recover = 0
[State 1006, Helper Hits Count Too]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 1006, Helper Hits Count Too]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) >= 1
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 13059
[State 3700, dissipate]
type = Changestate
trigger1 = Var(54) < 9 && MoveContact
value = 13059

[Statedef 13059]
type    = S
movetype= A
physics = S
poweradd=  (Var(10)=0)* 10
ctrl = 0
anim = 10151
velset = 1,0
sprpriority = 5
[State 11001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 52
range = -9, 9
[State 181, Randomizer]
type = VarRandom
trigger1 = 1
v = 53
range = -9, 9
[State 3700, dissipate]
type = destroyself
trigger1 = time = 13

[Statedef 913004]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0
facep2 = 1
velset = 0,0

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 0
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 15
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 30
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 45
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 60
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 75
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 90
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 105
value = -10

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , SP, SA
ignorehitpause = 1
persistent = 1

[State 910, 3]
type = SelfState
trigger1 = p2movetype = H
value = 5050

[State 1010, 112]
type = velset
trigger1 = time >= 0
x = -2.8
;y = -3*(sin(0.075*time))

[Statedef 913005]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0
facep2 = 1

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 0
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 15
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 30
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 45
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 60
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 75
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 90
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 105
value = -10

[State 1010, 112]
type = velset
trigger1 = time >= 0
x = -2.8
;y = -3*(sin(0.075*time))

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , SP, SA
ignorehitpause = 1
persistent = 1

[State 910, 3]
type = SelfState
trigger1 = p2movetype = H
value = 5050

[Statedef 913006]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0
facep2 = 1

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 0
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 15
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 30
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 45
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 60
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 75
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 90
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2movetype = A
trigger1 = time = 105
value = -10

[State 910, 3]
type = SelfState
trigger1 = p2movetype = H
value = 5050

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , SP, SA
ignorehitpause = 1
persistent = 1

[State 1010, 112]
type = velset
trigger1 = time = 0
x = 2.8

[State 1010, 112]
type = veladd
trigger1 = p2bodydist x <= 10
persistent = 0
x = -2.8

[Statedef 9939]
type = S
movetype = A
physics = N
anim = 92501
ctrl = 0
sprpriority = 5

[State 130039, destroy]
type = posadd
trigger1 = time = 0
y = -60
x = 20

[State 130039, destroy]
type = destroyself
trigger1 = parent, anim != 13003
value = 1

[Statedef 9940]
type = S
movetype = A
physics = N
anim = 93501
ctrl = 0
sprpriority = 5

[State 130039, zzz]
type = playsnd
trigger1 = time = 0
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 15
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 30
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 45
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 60
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 75
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 90
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 105
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 120
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 135
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 150
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 165
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 180
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 195
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 210
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 225
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 240
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 255
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 270
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 285
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 300
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 315
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 330
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 345
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 360
value = 2507,0

[State 130039, zzz]
type = playsnd
trigger1 = time = 375
value = 2507,0

[State 130039, destroy]
type = posadd
trigger1 = parent, anim = 3956
trigger2 = parent, anim = 851
persistent = 1
x = p2bodydist x
y = p2bodydist y

[State 130039, zzz]
type = destroyself
trigger1 = parent, movetype = H
trigger2 = parent, stateno = 0
trigger3 = parent, stateno = 15000
value = 1

[Statedef 130039]
type = S
movetype = A
physics = N
anim = 2507
ctrl = 0
sprpriority = 5

[State 130039, destroy]
type = destroyself
trigger1 = parent, anim != 13003
value = 1

[Statedef 913003]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0
facep2 = 1
velset = 0,0

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = , SP, SA
ignorehitpause = 1
persistent = 1

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 0
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 5
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 10
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 15
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 20
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 25
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 30
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 35
value = -10

[State 910, 3]
type = lifeadd
trigger1 = p2stateno = 13003
trigger1 = time = 40
value = -10

[State 910, 3]
type = posadd
Trigger1 = Time = 0
y = -10

[State 910, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 50609

[State 910, 3]
type = SelfState
trigger1 = p2movetype = H
value = 5050

[Statedef 130019]
type = S
movetype = A
physics = N
anim = 1300
ctrl = 0

[State 130019, sound]
type = playsnd
trigger1 = time = 0
value = 13001,0

[State 130019, destroy]
type = destroyself
trigger1 = animelem = 20
value = 1

;==========kouryourekka=======================================
[Statedef 3450]
type = S
movetype = A
physics = N
juggle = 3
poweradd=  (Var(10)=0)* -1000
anim = 1500
velset = 2,0
ctrl = 0
sprpriority = 2
[State 181, Randomizer]
type = VarRandom
trigger1 = time = 0
v = 46
range = 0, 100
[State 1500, 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0
[State 1500, 0]
type = VarSet
trigger1 = time = 0
v = 21
value = 0
[State 3450, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,30]
value = SCA
time = 1
[State 3450, Ikuze]
type = PlaySnd
trigger1 = time = 0
value = 11,33
volume = 255
channel = 0
[State 3450, Push]
type = playerpush
trigger1 = time >= 0
value = 1
[state 3451, red fadeout]
type           = BGPalFx
triggerall = var(28) = 0
trigger1     = animelem = 1
add            = 100,100,100
mul = 200,200,300
sinadd         = 100,100,100,340
time           = 53
ignorehitpause = 1
invertall = 1
[state 3451, red fadein]
type           = BGPalFx
triggerall = var(28) = 1
trigger1     = animelem = 1
add            = 100,100,150
sinadd         = 305,-255,-355,180
time           = 32
invertall = 1
ignorehitpause = 1
[state 3451, white fadein]
type           = BGPalFx
triggerall = var(28) > 1
trigger1     = animelem = 1
add            = 255,-155,-155
sinadd         = -255,-255,-255,180
time           = 32
ignorehitpause = 1
invertall = 1
[State 3450, SuperPause]
type = Pause
triggerall = var(28) = 0
trigger1 = AnimELem = 1
anim = -1
pos = 13, -45
time = 53
sprpriority = 3
movetime = 2
[State 3450, Pause]
type = Pause
triggerall = var(28) > 0
trigger1 = AnimELem = 1
anim = -1
pos = 13, -45
time = 33
sprpriority = 3
movetime = 2
[State 3450, SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 10060
pos = 10, -45
sprpriority = 4
postype = p1
supermove = 1
bindtime = 53
ownpal = 1
pausemovetime = 9999
[State 3450, SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = Animelem = 1
anim = 10061
pos = 10, -45
sprpriority = 4
postype = p1
supermove = 1
bindtime = 53
ownpal = 1
pausemovetime = 9999
[State 3450, Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = Animelem = 1
anim = 9402
scale = 0.7,0.7
pos = 0,0
sprpriority = 0
postype = p1
supermove = 1
bindtime = 18
ownpal = 1
pausemovetime = 9999
[State 3450, X-Ism]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = AnimElem = 1
value = 7,3
volume = 200
[State 3450, The kamek sample]
type = PlaySnd
triggerall = var(28) > 0
trigger1 = AnimElem = 1
value = 0,12
volume = 200
[State 1500, 0]
type = Varadd
trigger1 = time = 0
v = 28
value = 1
[State 3450, Shadows]
type = Afterimage
triggerall = var(46) > 10
trigger1 = Time = 0 && var(29) = 0
time = 83
length = 21
PalBright   =   0,  0,  0
PalContrast = 148,148,148
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3450, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 143
length = 21
PalBright   =   0,  0,  0
PalContrast = 242,0,0
PalAdd      =   0,  0,  0
PalMul      =  0.9,0.9,0.9
FrameGap = 10
Trans = Add1
[State 3885, Shadows]
type = Afterimage
triggerall = Time = 0 && var(29) = 0
triggerall = var(46) <= 10
trigger1 = var(28) < 3
time = 83
length = 21
palbright = 40,30,40
palcontrast = 220,120,220
paladd = 25,10,25
palmul = 1,.65,1
FrameGap = 10
Trans = Add

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) > 10
trigger1 = animelem = 3
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 999106001
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) > 10
trigger1 = animelem = 4
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 99910601
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) > 10
triggerall = var(46) < 90
triggerall = var(28) < 3
trigger1 = animelem = 9
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 999106002
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 1700, hadouken hit helper]
type = Helper
triggerall = var(46) > 10
triggerall = var(46) < 90
triggerall = var(28) < 3
trigger1 = animelem = 10
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 99910602
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 3450, HitDefa]
type = HitDef
triggerall = var(46) <= 10 && var(28) < 3
trigger1 = AnimElem = 3
attr = S, HA
damage = 40/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 4, 6
sparkno = 3
sparkxy = 0, -50
getpower=  (Var(10)=0)* 0
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = Low
ground.slidetime = 20
ground.hittime = 28
;ground.velocity = -1
air.velocity = -2, -6
ground.cornerpush.veloff = 0
fall.animtype = Hard
air.fall = 1
down.velocity = 0,-2
fall.recover = 0
forcestand = 1

[State 3450, HitDefb]
type = HitDef
triggerall = var(46) <= 10 && var(28) < 3
trigger1 = AnimELem = 4
attr = S, HA
damage = 45/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 4, 6
sparkno = 3
sparkxy = 0, -75
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 20
ground.hittime = 35
;ground.velocity = -2
getpower=  (Var(10)=0)* 0
air.velocity = -2.5, -4
air.type = Low
fall.animtype = Hard
air.fall = 1
down.velocity = 0,-2
fall.recover = 0
forcestand = 1

[State 3450, HitDefb]
type = HitDef
triggerall = var(46) <= 10 && var(28) < 3
trigger1 = AnimELem = 9
attr = S, HA
damage = 45/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 4, 6
sparkno = 3
sparkxy = 0, -75
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 20
ground.hittime = 30
;ground.velocity = -2
getpower=  (Var(10)=0)* 0
air.velocity = -2.5, -4
air.type = Low
fall.animtype = Hard
air.fall = 1
down.velocity = 0,-2
fall.recover = 0
forcestand = 1

[State 3450, HitDefa]
type = HitDef
triggerall = var(46) > 10
trigger1 = AnimElem = 3
attr = S, HA
damage = 85/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 9
sparkxy = 0, -50
getpower=  (Var(10)=0)* 0
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = Low
ground.slidetime = 20
ground.hittime = 28
ground.velocity = -1
air.velocity = -2, -6
ground.cornerpush.veloff = 0
fall.animtype = Hard
air.fall = 1
down.velocity = 0,-2
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
forcestand = 1

[State 3450, HitDefb]
type = HitDef
triggerall = var(46) > 10
trigger1 = AnimELem = 4
attr = S, HA
damage = 90/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 9
sparkxy = 0, -75
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 20
ground.hittime = 35
ground.velocity = -2
getpower=  (Var(10)=0)* 0
air.velocity = -2.5, -4
air.type = Low
fall.animtype = Hard
air.fall = 1
down.velocity = 0,-2
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
forcestand = 1

[State 3450, HitDefb]
type = HitDef
triggerall = var(46) > 10
trigger1 = AnimELem = 9
attr = S, HA
damage = 90/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 9
sparkxy = 0, -75
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 20
ground.hittime = 30
ground.velocity = -2
getpower=  (Var(10)=0)* 0
air.velocity = -2.5, -4
air.type = Low
fall.animtype = Hard
air.fall = 1
down.velocity = 0,-2
fall.recover = 0
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6
forcestand = 1

[State 3450, 3]
type = PlaySnd
trigger1 = animelem = 3
value = 11,34
volume = 255

[State 3010, 0]
type = VelSet
triggerall = var(46) <= 10 && var(28) < 3
trigger1 = time = 0
x = 0
y = 0

[State 3030, 2]
type = VelSet
triggerall = var(46) > 10
trigger1 = AnimElem = 3
x = 9

[State 3030, 2]
type = VelSet
triggerall = var(46) > 10
trigger1 = AnimElem = 4, = -1
trigger1 = MoveContact
x = 4.5

[State 3030, 3]
type = VelSet
triggerall = var(46) > 10
trigger1 = AnimElem = 6
x = 0

[State 3030, 7]
type = VelMul
triggerall = var(46) > 10
trigger1 = Vel X > 0
x = .93

[State 3030, 3]
type = VelSet
triggerall = var(46) > 10
trigger1 = AnimElem = 9
x = 2

[State 1710, FireB]
type = Explod
triggerall = var(46) > 10
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
triggerall = var(46) > 10
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 3030, 4]
type = ChangeState
triggerall = var(46) > 10
triggerall = var(46) < 90
triggerall = var(28) < 3
trigger1 = AnimElem = 10
value = 3451

[State 3030, 4]
type = ChangeState
triggerall = var(46) <= 10 && var(28) < 3
trigger1 = AnimElem = 10
value = 34519

[State 3030, 4]
type = ChangeState
triggerall = var(46) >= 90 || var(28) >= 3
trigger1 = AnimElem = 10
value = 93451
[Statedef 3865]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1014
sprpriority = 5
velset = 0,0
[State 11001, NotHitBy]
type = Playerpush
trigger1 = 1
value = 1
[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA
ignorehitpause = 1
[State 981, VelSet 1]
type = VelSet
trigger1 = Time = [0,5]
x = 1
[State 981, VelSet 2]
type = VelSet
trigger1 = Time = [6,10]
x = 2
[State 981, VelSet 2]
type = VelSet
trigger1 = Time = [11,16]
x = 3
[State 981, VelSet 2]
type = VelSet
trigger1 = Time = [17,22]
x = 4
[State 981, VelSet 2]
type = VelSet
trigger1 = Time = [23,32]
x = 5
[State 981, VelSet 2]
type = VelSet
trigger1 = Time = [33,39]
x = 6
[State 981, VelSet 2]
type = VelSet
trigger1 = Time = [40,45]
x = 7
[State 981, VelSet 2]
type = VelSet
trigger1 = Time >= 46
x = 8
[State 3700, dissipate]
type = Destroyself
trigger1 = time = 60
trigger2 = root, stateno != 93451
trigger3 = root, stateno = 93451
trigger3 = root, MoveContact

; Kouryuu Rekka (hard) (in ground)
[Statedef 93451]
type = S
movetype = A
anim = 93451
velset = 0, 0

[State 1700, Sucker]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "sucker"
id = 4
pos = -10,0
postype = p2
stateno =3865
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 1700, hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 54321
ownpal = 1
;size.xscale = .3
;size.yscale = .3

[State 0, 1]
type = VelAdd
triggerall = Var(30) != 59
triggerall = (Vel X <= 2.5) && (Time >= 5) && (Time < 60)
trigger1 = Command = "holdfwd"
x = 0.35

[State 0, 1]
type = VelAdd
triggerall = Var(30) = 59
triggerall = (Vel X <= 2.5) && (Time >= 5) && (Time < 60)
trigger1 = (P2Bodydist X > 0) && (movecontact = 0)
x = 0.35

[State 0, 2]
type = VelAdd
triggerall = Var(30) != 59
triggerall = (Vel X >= -2.7) && (Time >= 5) && (Time < 60)
trigger1 = Command = "holdback"
x = -0.35

[State 0, 2]
type = VelAdd
triggerall = Var(30) = 59
triggerall = (Vel X >= -2.7) && (Time >= 5) && (Time < 60)
trigger1 = (P2Bodydist X < 0) && (movecontact = 0)
x = -0.35

[State 780, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 780, SprPriority]
type = Sprpriority
trigger1 = 1
value = 0

[State 780, SprPriority]
type = veladd
trigger1 = time = 60
y = -10

[State 780, PlayerPush]
type = StateTypeSet
trigger1 = time = 60
statetype = A

[State 1500, 1]
type = NotHitBy
trigger1 = time = 60
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 68
value = A, NP, SP, HP
time = 1

[State 3031, 1]
type = ChangeAnim
trigger1 = time = 60
value = 93452

[State 1700, hadouken hit helper]
type = Explod
trigger1 = time = 60
helpertype = normal
name = "leg fire"
pos = 0,0
sprpriority = 3
postype = p1
anim = 10020
ownpal = 1
;bindtime = -1
;size.xscale = .3
;size.yscale = .3

[State 1700, hadouken hit helper]
type = Helper
trigger1 = anim = 93452
trigger1 = animelem = 1
helpertype = normal
name = "leg fire"
pos = 0,0
postype = p1
stateno = 999106022
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 1700, hadouken hit helper]
type = Explod
trigger1 = anim = 93452
trigger1 = animelem = 1
helpertype = normal
name = "leg fire"
pos = 25,-100
sprpriority = 3
postype = p1
anim = 2001
ownpal = 1
bindtime = -1
;size.xscale = .3
;size.yscale = .3

[State 1700, hadouken hit helper]
type = Explod
trigger1 = anim = 93452
trigger1 = animelem = 1
helpertype = normal
name = "leg fire"
pos = 0,-130
sprpriority = 3
postype = p1
anim = 2001
ownpal = 1
bindtime = -1
;size.xscale = .3
;size.yscale = .3

[State 3031, 1]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 3031, 2]
type = Gravity
trigger1 = Pos Y < -5

[State 751, Left Leg Hit]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 4
attr = S, HA
animtype  = Hard
damage    = 53/(1+var(1)/7.0), 3
guardflag = MA
pausetime = 2,2
getpower = 0,0
p2facing = ifelse(P2Dist X > 0, 1, -1)
sparkno = 3
sparkxy = 0, -55
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 12
ground.hittime  = 28
ground.velocity = IfElse(P2Dist X > 0, 5,-5),0
air.velocity = IfElse(P2Dist X > 0,5,-5),0
air.fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 751, Right Leg Hit]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 6
attr = S, HA
animtype  = Hard
damage    = 53/(1+var(1)/7.0), 3
getpower = 0,0
guardflag = MA
pausetime = 2,2
sparkno = 3
p2facing = ifelse(P2Dist X > 0, 1, -1)
sparkxy = 0, -55
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.type = High
ground.slidetime = 12
ground.hittime  = 28
ground.velocity = IfElse(P2Dist X > 0, 13, -13),0
air.velocity = IfElse(P2Dist X > 0, 13, -13),-1.5
air.fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3470, 9]
type = HitDef
trigger1 = anim = 93452
trigger1 = animelem = 1
attr = A, HA
damage = 230/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 2,1
sparkxy = 0, -55
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5, -11
air.velocity = -5, -11
air.velocity = -3, -14
fall = 1
fall.recover = 0
fall.animtype = Hard
down.velocity = -1,-2
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1710, FireB]
type = Explod
trigger1 = anim = 93452
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = anim = 93452
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1

; Kouryuu Rekka (hard) (in air)
[Statedef 3451]
type = A
movetype = A
velset = 2, -10

[State 1700, hadouken hit helper]
type = Explod
trigger1 = animelem = 10
helpertype = normal
name = "leg fire"
pos = 25,-100
sprpriority = 3
postype = p1
anim = 2001
ownpal = 1
bindtime = -1
;size.xscale = .3
;size.yscale = .3

[State 1700, hadouken hit helper]
type = Explod
trigger1 = animelem = 10
helpertype = normal
name = "leg fire"
pos = 0,0
sprpriority = 3
postype = p1
anim = 10020
ownpal = 1
;bindtime = -1
;size.xscale = .3
;size.yscale = .3

[State 1700, hadouken hit helper]
type = Explod
trigger1 = animelem = 10
helpertype = normal
name = "leg fire"
pos = 0,-130
sprpriority = 3
postype = p1
anim = 2001
ownpal = 1
bindtime = -1
;size.xscale = .3
;size.yscale = .3

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 3031, 1]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 3031, 2]
type = Gravity
trigger1 = Pos Y < -5

[State 3470, 9]
type = HitDef
trigger1 = AnimELem = 10
attr = A, HA
damage = 130/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 2,1
sparkxy = 0, -55
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5, -11
air.velocity = -5, -11
air.velocity = -3, -14
fall = 1
fall.recover = 0
fall.animtype = Hard
down.velocity = -1,-2
palfx.time = 50
palfx.add = 92,24,153
palfx.mul = 242,182,450
palfx.sinadd = -45, -27, -74, 6

[State 1710, FireB]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10,-50
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1
[State 1710, FireA]
type = Explod
trigger1 = MoveHit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20,-80
random = 50,30
bindtime = -1
sprpriority = 2
ownpal = 1


; Kouryuu Rekka (hard) (in air)
[Statedef 34519]
type = A
movetype = A
velset = 0, -10

[State 1500, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8
[State 1500, 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State 3031, 1]
type = ChangeState
trigger1 = Vel Y > 0
value = 91062

[State 3031, 2]
type = Gravity
trigger1 = Pos Y < -5

[State 3470, 9]
type = HitDef
trigger1 = AnimELem = 10
attr = A, HA
damage = 65/(1+var(1)/7.0), 10
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 2,1
sparkno = 3
sparkxy = 0, -55
guard.sparkno = S9300
hitsound = S6,5
guardsound = S0,100
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5, -11
air.velocity = -5, -11
air.velocity = -3, -14
fall = 1
fall.recover = 0
fall.animtype = Hard
down.velocity = -1,-2

;=================== [-2 states] ======================================
[Statedef -2]

[State 181, ai randomizer]
type = VarRandom
trigger1 = timemod = 40,30
v = 40
range = 0,100
[state -2,ai-switch]
type = Helper 
trigger1 = (NumHelper(9998) = 0) && (var(30) = 0)
helpertype = Normal 
name = "Artificial Intelligence" 
id = 9998
pos = 999,999
postype = p1 
facing = 0 
stateno = 9998
keyctrl = 1 
ownpal = 1 
supermovetime = 0 
pausemovetime = 0 
[State -2:VarSet]
type= VarSet
trigger1= (Var(30) = 58)
var(30)= 59
[State -2:VarSet]
type= VarSet
trigger1= (Var(30) != 0) && (RoundState != 2)
var(30)= 0
[State -2:VarSet]
type= VarSet
trigger1= (NumHelper(9998) = 0) && (Var(30) = 58)
var(30)= -1

[State 210, KO Screen 1]
type = helper
trigger1 = winko
trigger1 = numhelper(9999) = 0
helpertype = normal
name = "lookatdaflashyfxduhh..."
id = (9999)
pos = 0,0
bindtime = -1
postype = left
stateno = 9999
keyctrl = 0
ignorehitpause = 1
ownpal = 1
pausemovetime = 9999
supermovetime = 9999

[State -2, VarSet]
type = VarSet
trigger1 = movetype = H
var(28) = 0

[State -2, Get ScreenPos]
type = VarSet
triggerall = var(5) = 0
trigger1 = RoundState = 2
v = 5
value = floor(ScreenPos Y)

[State -2, Stand guard]
type = ChangeState
triggerall = var(21) > 5 ;This variable is to check if it is indeed
;the CPU that's controlling the character
;at the moment. To set this variable above
;0, the CPU will just perform an impossible
;motion defined in the CMD file. Look into
;Kenshin's Strider Hien for that.
triggerall = StateType != A ;Standing or crouching, but not in the air
triggerall = P2statetype != C ;The opponent is in the air or standing
triggerall = P2Movetype = A ;The opponent is attacking
trigger1 = ctrl = 1 ;The character has control. It's not fair if
;the CPU blocked in the middle of a super.
value = 130 ;Go to standing block state

[State -2, S-to-C guard]
type = ChangeState
triggerall = var(21) > 0
triggerall = StateType != A
triggerall = P2statetype = C ;The opponent is crouching
triggerall = P2Movetype = A
trigger1 = stateno = 150 ;Currently in standing block state
value = 152 ;Go to crouching block state
;This trigger is for when the opponent suddenly switches from a standing
;attack to a crouching attack. The CPU will change block states and
;block both attacks.

[State -2, Crouch guard]
type = ChangeState
triggerall = var(21) > 0
triggerall = StateType != A
triggerall = P2statetype = C
triggerall = P2Movetype = A
trigger1 = ctrl = 1
value = 131 ;Go to crouching block state

[State -2, C-to-S guard]
type = ChangeState
triggerall = var(21) > 0
triggerall = StateType != A
triggerall = P2statetype != C
triggerall = P2Movetype = A
trigger1 = stateno = 152
value = 150
;Same deal as with the S-to-C guard, except the CPU will switch from
;crouching block to standing block this time.

[State -2, Air guard]
type = ChangeState
triggerall = var(21) > 0
triggerall = StateType = A ;In the air
triggerall = P2Movetype = A
trigger1 = ctrl = 1
value = 132 ;Go to air block state

[State -2, Fire]
type = Explod
trigger1 = numexplod(2500) > 0
persistent = 1
anim = ifelse(random>500,12213,12214)
id = 12213
postype = p2
pos = -10,-40
ignorehitpause = 1
random = 50,40
sprpriority = 2
ownpal = 1
vel = 0,ifelse(random>500,-4,-5)
scale = 0.1,0.75
accel = 0,ifelse(random>500,-0.4,-0.5)
[State -2, Fire]
type = Explod
triggerall = random <= 299
trigger1 = numexplod(2500) > 0
persistent = 1
anim = 12212
id = 12213
postype = p2
pos = -10,-40
ignorehitpause = 1
random = 50,40
sprpriority = 2
ownpal = 1
vel = 0,ifelse(random>500,-4,-5)
scale = 1, 0.2
accel = 0,ifelse(random>500,-0.4,-0.5)

[State -2, DefenceMulSet]
type = DefenceMulSet
trigger1 = Var(44) = 1
value = 0.9

[State -2]
type = VarSet
trigger1 = P2MoveType != H
ignorehitpause = 1
var(1) = 0;Reset Combo counter

[State -2]
type = VarAdd
trigger1 = HitCount-Var(0)>0
ignorehitpause = 1
var(1) = 1;Combo Counting

[State -2]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(0) = HitCount;PrevHitCount

[Statedef -3]

[State 1400]
type = VarSet
trigger1 = movetype = H 
v = 34
value = 0

[State -3, Energy 1 Explod]
type = AfterImageTime
trigger1 = movetype = H
time = 0

[State -3, Energy 1 Explod]
type = AfterImageTime
triggerall = stateno = 31109 || stateno = 991635 || stateno = 991630
trigger1 = movetype = H
time = 0

[State -3, Energy 1 Explod]
type = AfterImageTime
triggerall = prevstateno = 31109 || prevstateno = 991635 || prevstateno = 991630
trigger1 = movetype = H
time = 0

[State -3, Energy 1 Explod]
type = AfterImageTime
triggerall = stateno = 5555 || stateno = 31102 || stateno = 31101 || stateno = 31100 || stateno = 918639 || stateno = 186299 
trigger1 = movetype = H
time = 0

[State -3, Energy 1 Explod]
type = AfterImageTime
triggerall = stateno = 918637 || stateno = 186298 || prevstateno = 5555 || stateno = 2222 || prevstateno = 2222
trigger1 = movetype = H
time = 0

[State -3, Energy 1 Explod]
type = AfterImageTime
triggerall = prevstateno = 918639 || prevstateno = 918637 || prevstateno = 186298 || prevstateno = 1863999
trigger1 = movetype = H
time = 0

[State -3, Energy 1 Explod]
type = AfterImageTime
triggerall = prevstateno = 31102 || prevstateno = 31101 || prevstateno = 31100 || stateno = 1863999 || prevstateno = 186299 
trigger1 = movetype = H
time = 0

[State -3, Energy 1 Explod]
type = Explod
triggerall = stateno = 31102
trigger1 = var(46) >= 90 || var(28) >= 3
trigger1 = (GameTime%10) = 0
anim = 99007
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State -3, Energy 1 Explod]
type = Explod
triggerall = stateno = 91011
trigger1 = (GameTime%18) = 0
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = -5
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State -3, Energy 1 Explod]
type = Explod
triggerall = stateno = 91012
triggerall = anim != 9599
trigger1 = (GameTime%9) = 0
anim = 3
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = -5
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
removetime = 7

[State -3, Energy 1 Explod]
type = Explod
triggerall = stateno = 191
triggerall = time > 100
trigger1 = anim = 19500
trigger1 = (GameTime%10) = 0
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State -3, Energy 1 Explod]
type = Explod
triggerall = stateno = 181
triggerall = time > 5
trigger1 = (GameTime%10) = 0
anim = 99008
ID = 1006
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State -3, Energy 1 Explod]
type = Explod
triggerall = stateno = 31101
trigger1 = var(46) >= 90 || var(28) >= 3
trigger1 = (GameTime%10) = 0
anim = 99007
ID = 1006
postype = P1
pos = 0,60
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State -3, Energy 1 Explod]
type = Explod
anim = 15826
trigger1 = (GameTime%12) = 0
trigger1 = var(22) = 1
ID = 1006
postype = P2
pos = -15,-80
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State -3, Energy 1 Explod]
type = Explod
anim = 18889
trigger1 = (GameTime%12) = 0
trigger1 = p2stateno = 91020
ID = 1006
postype = P2
pos = 0,-48
ownpal = 1
sprpriority = 3
bindtime = -1
persistent = 0
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State -3, lightpain]
type = playsnd
triggerall = random < 400
triggerall = time = 1
triggerall = alive = 1
trigger1 = stateno = 5000 && anim = 5000
trigger2 = stateno = 5000 && anim = 5010
trigger3 = stateno = 5010 && anim = 5020
trigger4 = stateno = 5020 && anim = 5000
trigger5 = stateno = 5020 && anim = 5010
value = 10, 20
volume = 75
channel = 0
[State -3, midpain]
type = playsnd
triggerall = random < 400
triggerall = time = 1
triggerall = alive = 1
trigger1 = stateno = 5000 && anim = 5001
trigger2 = stateno = 5000 && anim = 5011
trigger3 = stateno = 5010 && anim = 5021
trigger4 = stateno = 5020 && anim = 5001
trigger5 = stateno = 5020 && anim = 5011
value = 10,ifelse(random>500,20,3)
volume = 75
channel = 0
[State -3, heavypain]
type = playsnd
triggerall = random < 400
triggerall = time = 1
trigger1 = stateno = 5000 && anim = 5002
trigger2 = stateno = 5000 && anim = 5012
trigger3 = stateno = 5010 && anim = 5022
trigger4 = stateno = 5020 && anim = 5002
trigger5 = stateno = 5020 && anim = 5012
value = 10, 4
volume = 75
channel = 0

[State -3, hitcount]
type = VarSet
trigger1 = movetype != H
trigger2 = stateno = 5110
v = 8
value = 0

[State -3, hitcount]
type = VarAdd
triggerall = time = 0
triggerall = var(8) = 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 5080
v = 14
value = 1

[State -3, hitcount]
type = VarSet
trigger1 = movetype = H
trigger1 = !var(8)
v = 8
value = 1

[State -3, hitcount]
type = VarSet
trigger1 = var(14) = 2
v = 14
value = 0

[State -3, tripped]
type = VarSet
triggerall = var(8) = 1
triggerall = alive
trigger1 = stateno = 5070
trigger1 = time = 2
trigger2 = anim = 5052 
trigger2 = AnimElem = 1, = 3
trigger2 = stateno != 7710 
trigger2 = stateno != 3411
trigger2 = stateno != 2105
v = 8
value = 4

[State -3, hitcount]
type = VarSet
trigger1 = var(8) = 1
trigger1 = var(14) = 1
v = 8
value = 2 + (random >= 500)

[State -3, hit2]
type = VarSet
trigger1 = time = 3
trigger1 = var(8) = [2,4]
v = 8
value = 5

; Less wide in front when hit
[State -3, 1]
type = Width
trigger1 = stateno = 5000
trigger2 = stateno = 5001
value = -13

;---------------------------------------------
; reset assertable flags
[State -3, 1]
type = VarSet
trigger1 = 1
var(15)=0

;---------------------------------------------
; manage variables for Chouhatsu Shinwa state
[State -3, 1]
type = VarAdd
trigger1 = var(2)
v = 2
value = 1

[State -3, 1]
type = AfterImageTime
trigger1 = var(2)
time = 2

[State -3, 1]
type = AssertSpecial
trigger1 = var(2)
flag = nostandguard
flag2 = noairguard
flag3 = nocrouchguard

[State -3, 1]
type = ChangeState
trigger1 = var(2) >= 1200
trigger1 = statetype != A
trigger1 = ctrl
value = 3101

[State -3, 1]
type = VarSet
trigger1 = movetype = H
var(2) = 0


