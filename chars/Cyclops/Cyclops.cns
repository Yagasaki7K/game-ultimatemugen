;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Character Name: "Scott Summers"                          ;
; In Game Name: "Cyclops"                                  ;
; Games Made From: MVC2 + MSHVSF + MUA + XML2              ;
; Made By: Reza                                            ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

[Data]
life = 1000			;Amount of life to start with
power = 5000		;Amount of maximum power
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 60		;Time which player lies down for, before getting up
airjuggle = 15		;Number of points for juggling
sparkno = 2			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volume = 255			;Volume offset (negative for softer)
IntPersistIndex = 60	;Variables with this index and above will not have their values
FloatPersistIndex = 40  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.


[Size]
xscale = .99			;Horizontal scaling factor.
yscale = .99			;Vertical scaling factor.
ground.back = 15		;Player width (back, ground)
ground.front = 16		;Player width (front, ground)
air.back = 12		;Player width (back, air)
air.front = 12		;Player width (front, air)
height = 60			;Height of player (for opponent to jump over)
attack.dist = 160		;Default attack distance
proj.attack.dist = 90	;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too   
head.pos = -5, -90	;Approximate position of head
mid.pos = -5, -60		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 4.9		;Walk forward
walk.back = -4		;Walk backward
run.fwd  = 7.75, 0		;Run forward (x, y)
run.back = -4.5,-3.8	;Hop backward (x, y)
jump.neu = 0,-8.5		;Neutral jumping velocity (x, y)
jump.back = -4,-8.25		;Jump back Speed (x, y)
jump.fwd = 4,-8.25	;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1;Running jump speeds (opt)
runjump.fwd = 4,-8.1	;.
airjump.neu = 0,-8.1	;.
airjump.back = -2.55	;Air jump speeds (opt)
airjump.fwd = 2.5		;.

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 35	;Minimum distance from ground before you can air jump (opt)
yaccel = .44		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = S180,7
volume = 255
ignorehitpause = 1
persistent = 1


[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win State Decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, VarRandom]
type = VarRandom
trigger1 = !Time
v = 59
range = 181,186

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_x"
var(59) = 181

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_c"
var(59) = 182

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_y"
var(59) = 183

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_z"
var(59) = 184

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_a"
var(59) = 185

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_b"
var(59) = 186

[State 180, ChangeState]
type = ChangeState
trigger1 = Time = 1
value = var(59)

;---------------------------------------------------------------------------
; Win Pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7, = 0
value = S180,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, Helper]
type = Helper
trigger1 = AnimElem = 7, = 0
stateno = 187
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 187
name = "Cyclops' Visor"

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 1 Cyclops' Visor
[Statedef 187]
type = A
physics = N
anim = 183
velset = 2.5,-7.5
ctrl = 0

[State 10181, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 10181, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 10181, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 10181, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 183
trigger1 = Pos Y = 0
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
value = 184

;---------------------------------------------------------------------------
; Win Pose 2
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 182, 0]
type = Explod
trigger1 = Time = 0
anim = 186
postype = p1
pos = -6,16
sprpriority = -2
supermove = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 182, 1]
type = Explod
trigger1 = Time = 0
anim = 187
postype = p1
pos = -6,16
sprpriority = 2
supermove = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 182, 2]
type = Explod
trigger1 = Time = 0
anim = 188
postype = p1
pos = -6,16
sprpriority = 3
supermove = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 182, 3]
type = Explod
trigger1 = Time = 0
anim = 189
postype = p1
pos = -6,16
sprpriority = -1
supermove = 1
bindtime = -1
removetime = -1
removeongethit = 1

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = S3000,15
volume = 255
ignorehitpause = 1
persistent = 1

[State 182, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 185
sprpriority = 1
postype = p1
pos = -5,-100
removetime = -1
bindtime = -1
ownpal = 1
id = 185

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 3
[Statedef 184]
type = S
ctrl = 0
anim = 195
velset = 0,0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 183, Explod]
type = Explod
trigger1 = Time = 1
anim = 196
sprpriority = 1
postype = p1
pos = 3,-5
bindtime = -1
ownpal = 1
id = 196

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S180,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 183, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 4, >= 0
value = 195
elem = 4

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 4
[Statedef 185]
type = S
ctrl = 0
anim = 195
velset = 0,0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 184, Explod]
type = Explod
trigger1 = Time = 1
anim = 196
sprpriority = 1
postype = p1
pos = 3,-5
bindtime = -1
ownpal = 1
id = 196

[State 184, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S180,5
volume = 255
ignorehitpause = 1
persistent = 1

[State 184, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 4, >= 0
value = 195
elem = 4

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 5
[Statedef 186]
type = S
ctrl = 0
anim = 180
velset = 0,0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 185, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7, = 0
value = S180,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 185, Helper]
type = Helper
trigger1 = AnimElem = 7, = 0
stateno = 187
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 187
name = "Cyclops' Visor"

[State 185, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 6
[Statedef 182]
type = S
ctrl = 0
anim = 199
velset = 0,0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9, = 0
value = S180,9
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, Helper]
type = Helper
trigger1 = AnimElem = 7, = 0
stateno = 187
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 187
name = "Cyclops' Visor"

[State 181, Helper]
type = Helper
trigger1 = AnimElem = 1, = 0
stateno = 188
sprpriority = 1
postype = p1
pos = 50,0
bindtime = 1
ownpal = 1
id = 188
name = "Jean Flying In"

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 6 Jean Flying In
[Statedef 188]
type = A
physics = N
anim = 11999
velset = 0,0
ctrl = 0

[State 188, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 21, = 0
value = S180,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 188, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 20, = 0
value = S180,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 188, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 188, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 188, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 188, ChangeState]
type = ChangeState
trigger1 = AnimTime = 400
value = 0

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
;[Statedef 190]
;type = S
;ctrl = 0
;anim = 190
;velset = 0,0

;[State 190, 1] ;Freeze animation until PreIntro is over
;type = ChangeAnim
;trigger1 = RoundState = 0
;value = 190

;[State 190, 2] ;Assert this until you want "round 1, fight" to begin
;type = AssertSpecial
;trigger1 = 1
;flag = Intro

;[State 190, 4] ;Change to stand state
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 0

;---------------------------------------------------------------------------
; X-Jet/Black Bird Intro
[Statedef 190]
type=A
physics=N
anim=190
velset=0,0
ctrl=0
sprpriority=-4

[State 190, intro]
type=assertspecial
trigger1=1
flag=intro
flag2=nobardisplay

[State 190, bound]
type=screenbound
trigger1=1
value=0
movecamera=0,0

[State 190, X-Jet/Black Bird]
type=helper
trigger1=!time
helpertype=normal
stateno=193
ID=193
name="X-Jet/Black Bird"
postype=p1
ownpal=1

[State 190, camera]
type=helper
trigger1=!numhelper(196)
helpertype=normal
stateno=196
ID=196
name="Camera"
postype=p1

[State 190, pos]
type=posset
trigger1=numhelper(193)
x=ceil(helper(193),pos x)
y=ceil(helper(193),pos y)

[State 190, snd]
type = playsnd
trigger1 = time= 5
value = S190,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 190, end]
type=changestate
trigger1=!animtime
value=191

[State 190, no X-Jet]
type=changestate
trigger1=!numhelper(193)
value=195

;---------------------------------------------------------------------------
; Jump
[Statedef 191]
type=A
physics=N
anim=194
velset=0,0
sprpriority=-1

[State 10190, intro]
type=assertspecial
trigger1=1
flag=intro
flag2=nobardisplay

[State 10190, bound]
type=screenbound
trigger1=1
value=0
movecamera=0,0

[State 10190, pos]
type=posadd
trigger1=!time
x=ceil(44*const(size.xscale))
y=ceil(120*const(size.yscale))

[State 10190, grav]
type=veladd
trigger1=1
y=.2

[State 10190, vel]
type=velset
trigger1=!time
y=-3

[State 10190, vel]
type=velset
trigger1=!time
trigger1=numhelper(196)
x=(helper(196),rootdist x)/-51.0

[State 10190, end]
type=changestate
trigger1=pos y>-vel y
value=192

;---------------------------------------------------------------------------
; Land
[Statedef 192]
type=S
physics=S
anim=198
velset=0,0

[State 20190, snd]
type=playsnd
trigger1=animelem=15
value=S190,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 20190, intro]
type=assertspecial
trigger1=1
flag=intro

[State 20190, pos]
type=posset
trigger1=!time
y=0

[State 20190, pos]
type=posset
trigger1=!time
trigger1=numhelper(196)
x=ceil(helper(196),pos x)

[State 20190, snd]
type=playsnd
trigger1=!time
value=S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 20190, dust]
type=explod
trigger1=!time
anim=52
sprpriority=-3
postype=p1
scale=.5,.5
pausemovetime=-1
supermovetime=-1
ownpal=1

[State 20190, end]
type=changestate
trigger1=!animtime
value=0

;---------------------------------------------------------------------------
; X-Jet/Black Bird
[Statedef 193]
type=A
physics=N
anim=191
velset=0,0
ctrl=0
sprpriority=5

[State 30190, pos]
type=posset
trigger1=1
x=-168*facing
y=ceil(pos y-screenpos y)+ceil(sin(time/30.0*pi)*4)-8

[State 30190, smoke]
type=explod
trigger1=!time
anim=192
ID=192
pos = 59,105
sprpriority=5
postype=p1
bindtime=-1
removetime=600
scale=const(size.xscale),const(size.yscale)
ownpal=1

[State 30190, shake]
type=envshake
trigger1=!(time%6)
time=6
ampl=2
freq=90

[State 30190, end]
type=changestate
trigger1=time>=240
value=194

;-----------------------------------------------------------------------------
; Fly Away
[Statedef 194]
type=A
physics=N
velset=0,0
ctrl=0
sprpriority=-5

[State 10190, snd]
type=playsnd
trigger1=!time
value=S190,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 10190, vel]
type=veladd
trigger1=vel x>-3
x=-.2

[State 10190, vel]
type=veladd
trigger1=vel y>-10
y=-.1

[State 10190, safety]
type=removeexplod
trigger1=(pos x!=[-465,465])||(screenpos y!=[-212,0])

[State 10190, end]
type=destroyself
trigger1=(pos x!=[-465,465])||(screenpos y!=[-212,0])

;------------------------------------------------------------------------------
; Camera
[Statedef 196]
type=S
velset=0,0
anim=193

[State 50190, bound]
type=screenbound
trigger1=1
value=0
movecamera=1,1

[State 50190, end]
type=destroyself
trigger1=roundstate=2

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 197
velset = 0,0
movetype = I
physics = S
sprpriority = 1

[State 195, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 196
sprpriority = 2
postype = p1
pos = 3,-5
bindtime = -1
ownpal = 1
id = 196

[State 195, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = S195,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Punch
; CNS difficulty: easy
[Statedef 200]
type = S				;State-type: S-stand, C-crouch, A-air, L-liedown
movetype = A				;Move-type: A-attack, I-idle, H-gethit
physics = S				;Physics: S-stand, C-crouch, A-air
juggle = 1				;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0			;Set velocity (x,y) (Def: no change)
ctrl = 0				;Set ctrl (Def: no change)
anim = 200				;Change animation (Def: no change)
poweradd = 65			;Power to add (Def: 0)
sprpriority = 2			;Set layering priority to 2 (in front)
hitcountpersist = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3;Time = 0
attr = S, NA			;Attribute: Standing, Normal Attack
damage = 20,0			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 4, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8,8			;Time attacker pauses, time opponent shakes
sparkno = S8000				;Spark anim no (Def: set above)
sparkxy = -10, -75		;X-offset for the "hit spark" rel. to p2,
guard.sparkno = S8004					;Y-offset for the spark rel. to p1
hitsound = S200, 0			;Sound to play on hit
guardsound = S120, 0			;Sound to play on guard
;ground.type = High		;Type: High, Low, Trip (def: Normal)
;ground.slidetime = 5		;Time that the opponent slides back
;ground.hittime  = 12		;Time opponent is in hit state
;ground.velocity = -4		;Velocity at which opponent is pushed
;airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
;air.type = High			;Type: High, Low, Trip (def: same as ground.type)
;air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,
					;Y-velocity at which opponent is pushed
;air.hittime = 12			;Time before opponent regains control in air

ground.type = High
air.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
air.velocity = -4.5, -4.5
airguard.velocity = -4.5,-4.5
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 200, ChangeState]
type = ChangeState
trigger1 = AnimElem = 3, > 0
trigger1 = command = "x"
value = 201

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Punch 2
; CNS difficulty: easy
[StateDef 201]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 201
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 201, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 4;Time = 0
attr = S, NA
damage = 20,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S8000
sparkxy = -10, -75
guard.sparkno = S8004
hitsound = S200, 0
guardsound = S120, 0
ground.type = High
air.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
air.velocity = -4.5, -4.5
airguard.velocity = -4.5,-4.5
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 201, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch
; CNS difficulty: easy
[Statedef 210]
type = S
movetype = A
physics = S
juggle = 1
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2
hitcountpersist = 1

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 30,0
animtype = Diagup
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S8001
sparkxy = -10, -75
guard.sparkno = S8004
hitsound = S200,1
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 16
ground.hittime = 16
air.hittime = 16
guard.ctrltime = 16
ground.velocity = -0.5,-15.5;-5.5
guard.velocity = -5.5
air.velocity = -5.5, -5.5
airguard.velocity = -5.5,-5.5
ground.cornerpush.veloff = -5.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 210, Follow Up!]
type = ChangeState
triggerall = (movecontact) && (!moveguarded)
trigger1 = command = "holdup"
value = 55
ctrl = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch
; CNS difficulty: easy
[Statedef 220]
type = S
movetype= A
physics = S
juggle = 1
poweradd= 65
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 1
hitcountpersist = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 220, Explod]
type = Explod
trigger1 = AnimElem = 5, = 0
anim = 222
sprpriority = 2
postype = p1
pos = 19,-86
bindtime = -1
ownpal = 1
id = 222
facing = 1
vfacing = 1
supermovetime = 999
pausemovetime = 999
ontop = 1
removeongethit = 1
ignorehitpause = 1

[State 220, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 220, Projectile]
type = Projectile
trigger1 = AnimElem = 5
projanim = 221
projhitanim = -1
projremanim = -1
projcancelanim = -1
projpriority = 1
projsprpriority = 4
postype = P1
offset = 64,-85
projremove = 1
velocity = 7,0
remvelocity = 0,0
attr = S, SP
damage   = 60,0
animtype = Heavy
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12,12
hitsound = S200,8
sparkno = S223
sparkxy = 64,0
guard.sparkno = S8004
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Low
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick
; CNS difficulty: easy
[Statedef 230]
type = S
movetype = A
physics = S
juggle = 1
poweradd= 65
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2
hitcountpersist = 1

[State 230, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 230, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S8000
sparkxy = -10,-56
guard.sparkno = S8004
hitsound = S200,3
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
air.velocity = -4.5, -4.5
airguard.velocity = -4.5,-4.5
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 230, ChangeState]
type = ChangeState
trigger1 = AnimElem = 3, > 0
trigger1 = command = "a"
value = 231

[State 230, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick 2
; CNS difficulty: easy
[StateDef 231]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 231
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 230, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 231, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 20,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S8000
sparkxy = -10,-56
guard.sparkno = S8004
hitsound = S200,3
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
air.velocity = -4.5, -4.5
airguard.velocity = -4.5,-4.5
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 231, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
; CNS difficulty: easy
[Statedef 240]
type = S
movetype = A
physics = S
juggle = 1
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2
hitcountpersist = 1

[State 240, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 240, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 30,0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S8001
sparkxy = -10,-56
guard.sparkno = S8004
hitsound = S200,4
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 16
ground.hittime = 16
air.hittime = 16
guard.ctrltime = 16
ground.velocity = -5.5
guard.velocity = -5.5
air.velocity = -5.5, -5.5
airguard.velocity = -5.5,-5.5
ground.cornerpush.veloff = -5.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick
; CNS difficulty: easy
[Statedef 250]
type = S
movetype = A
physics = S
juggle = 1
poweradd= 65
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2
hitcountpersist = 1

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 250, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 40,0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S8002
sparkxy = -10,-76
guard.sparkno = S8004
hitsound = S200,5
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -6.5
guard.velocity = -6.5
air.velocity = -6.5, -6.5
airguard.velocity = -6.5,-6.5
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 250, ChangeState]
type = ChangeState
trigger1 = AnimElem = 6, > 0
trigger1 = command = "c"
value = 251

[State 250, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick 2
; CNS difficulty: easy
[StateDef 251]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 251
poweradd = 65
sprpriority = 2
hitcountpersist=1

[State 251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 251, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 40,0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S8002
sparkxy = -10,-80
guard.sparkno = S8004
hitsound = S200,5
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -6.5
guard.velocity = -6.5
air.velocity = -6.5, -6.5
airguard.velocity = -6.5,-6.5
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 251, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning the
;     player will get hit instead of trading hits with the opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type = C
movetype = A
physics = C
juggle = 1
poweradd= 65
ctrl = 0
anim = 400
sprpriority = 2
hitcountpersist = 1

[State 400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 400, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 20,0
animtype = Light
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 8,8
sparkno = S8000
sparkxy = -10,-46
guard.sparkno = S8004
hitsound = S200,0
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
air.velocity = -4.5, -4.5
airguard.velocity = -4.5,-4.5
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch
; CNS difficulty: easy
[Statedef 410]
type = C
movetype = A
physics = C
juggle = 1
poweradd = 65
ctrl = 0
anim = 410
sprpriority = 2
hitcountpersist = 1

[State 410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 30,0
animtype = Medium
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 10,10
sparkno = S8001
sparkxy = -10,-70
guard.sparkno = S8004
hitsound = S200,1
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 16
ground.hittime = 16
air.hittime = 16
guard.ctrltime = 16
ground.velocity = -5.5
guard.velocity = -5.5
air.velocity = -5.5, -5.5
airguard.velocity = -5.5,-5.5
ground.cornerpush.veloff = -5.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Punch
; CNS difficulty: easy
[Statedef 420]
type = C
movetype = A
physics = C
juggle = 1
poweradd= 65
ctrl = 0
anim = 420
sprpriority = 2
hitcountpersist = 1

[State 420, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 420, Explod]
type = Explod
trigger1 = AnimElem = 5, = 0
anim = 222
sprpriority = 2
postype = p1
pos = 27,-63
bindtime = -1
ownpal = 1
id = 222
facing = 1
vfacing = 1
supermovetime = 99999
pausemovetime = 99999
ontop = 1
removeongethit = 1
ignorehitpause = 1

[State 420, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 420, 1]
type = Projectile
trigger1 = AnimElem = 5
projanim = 221
projhitanim = -1
projremanim = -1
projcancelanim = -1
projpriority = 1
projsprpriority = 4
postype = P1
projshadow = -1
offset = 42,-65
projremove = 1
velocity = 8
remvelocity = 0,0
attr = C, SP
damage = 60,0
animtype = Heavy
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12,12
hitsound = S200,8
sparkno = S223
sparkxy = 60,0
guard.sparkno = S8004
guardsound = S120,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5, -5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Low
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Kick
; CNS difficulty: easy
[Statedef 430]
type = C
movetype = A
physics = C
juggle = 1
poweradd = 65
ctrl = 0
anim = 430
sprpriority = 2
hitcountpersist = 1

[State 430, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 430, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 20,0
animtype = Light
guardflag = L
hitflag = MAFD
priority = 4, Hit
pausetime = 8,8
sparkno = S8000
sparkxy = -10,-10
hitsound = S200,3
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
air.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
air.velocity = -4.5, -4.5
airguard.velocity = -4.5,-4.5
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = .5

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick
; CNS difficulty: easy
[Statedef 440]
type = C
movetype = A
physics = C
juggle = 1
poweradd= 65
ctrl = 0
anim = 440
sprpriority = 2
hitcountpersist = 1

[State 440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 30,0
animtype = Diagup
guardflag = L
hitflag = MAFD
priority = 4, Hit
pausetime = 10,10
sparkno = S8001
sparkxy = -10,-49
guard.sparkno = S8004
hitsound = S200,4
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 16
ground.hittime = 16
air.hittime = 16
guard.ctrltime = 16
ground.velocity = -0,-15;-5.5
guard.velocity = -5.5
air.velocity = -5.5, -5.5
airguard.velocity = -5.5,-5.5
ground.cornerpush.veloff = -5.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5

[State 210, Follow Up!]
type = ChangeState
triggerall = (movecontact) && (!moveguarded)
trigger1 = command = "holdup"
value = 55
ctrl = 1

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
[Statedef 450]
type = C
movetype = A
physics = C
juggle = 1
poweradd = 65
ctrl = 0
anim = 450
sprpriority = 2
hitcountpersist = 1

[State 450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 450, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = 40,0
animtype = Heavy
guardflag = L
hitflag = MAFD
priority = 4, Hit
pausetime = 12,12
sparkno = S8002
sparkxy = -10,-10
guard.sparkno = S8004
hitsound = S200,5
guardsound = S120,0
ground.type = Trip
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -6.5;,-6.5
guard.velocity = -6.5
air.velocity = -6.5,-6.5
airguard.velocity = -6.5;,-6.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -6.5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall = 1

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Light Punch
; CNS difficulty: easy
[Statedef 600]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 600
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 600, 1]
type = HitDef
trigger1 = Movecontact!;AnimElem = 4
attr = A, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S8000
sparkxy = -10,-76
guard.sparkno = S8004
hitsound = S200,0
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
air.velocity = 0,ifelse((Var(15) = 1) && (Vel Y < 0) && (Var(8) != 1),-7.5,ifelse((Var(8) = 1) && (Vel Y < 0) && (Var(15) = 1),-10,-6));-4.5, -4.5
airguard.velocity = -4.5,-4.5
down.velocity = -4.5,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5
p2facing = 1
air.fall = 1
fall.recovertime = 25

[State 600, VelAdd]
type = VelAdd
trigger1 = (Var(15) = 1) && (Vel Y > 0)
y = -0.14

[State 600, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X <= 4) && (Time >= 10)
trigger1 = Command = "holdfwd"
x = 0.25

[State 600, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X >= -4) && (Time >= 10)
trigger1 = Command = "holdback"
x = -0.035

[State 600, CtrlSet]
type = CtrlSet
trigger1 = anim = 41
value = 1
ignorehitpause = 1

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 41
statetype = A
movetype = I
physics = A

[State 600, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Medium Punch
; CNS difficulty: easy
[Statedef 610]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 610
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 610, 1]
type = HitDef
trigger1 = Movecontact!;AnimElem = 4
attr = A, NA
damage = 30, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S8001
sparkxy = -10,-76
guard.sparkno = S8004
hitsound = S200,1
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 16
ground.hittime = 16
air.hittime = 16
guard.ctrltime = 16
ground.velocity = -5.5
guard.velocity = -5.5
;air.velocity = -5.5, -5.5
air.velocity = 0,ifelse((Var(15) = 1) && (Vel Y < 0) && (Var(8) != 1),-7.5,ifelse((Var(8) = 1) && (Vel Y < 0) && (Var(15) = 1),-10,-6))
down.velocity = -5.5,-5.5
airguard.velocity = -5.5,-5.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5
p2facing = 1
air.fall = 1
fall.recovertime = 25

[State 610, VelAdd]
type = VelAdd
trigger1 = (Var(15) = 1) && (Vel Y > 0)
y = -0.14

[State 610, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X <= 4) && (Time >= 10)
trigger1 = Command = "holdfwd"
x = 0.25

[State 610, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X >= -4) && (Time >= 10)
trigger1 = Command = "holdback"
x = -0.035

[State 600, CtrlSet]
type = CtrlSet
trigger1 = anim=41
value = 1
ignorehitpause = 1

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 41
statetype = A
movetype = I
physics = A

[State 610, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Strong Punch
; CNS difficulty: easy
[Statedef 620]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 620
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 620, 1]
type = HitDef
trigger1 = Movecontact!;AnimElem = 4
attr = A, NA
damage = 40, 0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S8002
sparkxy = -10,-76
guard.sparkno = S8004
hitsound = S200,2
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -6.5
guard.velocity = -4.5
;air.velocity = -6.5, -6.5
air.velocity = ifelse(Var(16) = 1,-14,-10),6
air.fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = 0.1
down.velocity = -6.5,-6.5
p2facing = 1
airguard.velocity = -6.5,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5
air.fall = 1
fall.recovertime = 25

[State 620, VelAdd]
type = VelAdd
trigger1 = (Var(15) = 1) && (Vel Y > 0)
y = -0.14

[State 620, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X <= 4) && (Time >= 10)
trigger1 = Command = "holdfwd"
x = 0.25

[State 620, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X >= -4) && (Time >= 10)
trigger1 = Command = "holdback"
x = -0.035

[State 620, VelSet]
type = VelSet
trigger1 = (P2Statetype = A) && (movecontact)
x = Vel X * .9
y = .2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = anim = 41
value = 1
ignorehitpause = 1

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 41
statetype = A
movetype = I
physics = A

[State 620, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Light Kick
; CNS difficulty: easy
[Statedef 630]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 630
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 630, 1]
type = HitDef
trigger1 = Movecontact!;AnimElem = 3
attr = A, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S8000
guard.sparkno = S8004
sparkxy = -10,-66
hitsound = S200,3
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4.5
guard.velocity = -4.5
;air.velocity = -4.5, -4.5
air.velocity = 0,ifelse((Var(15) = 1) && (Vel Y < 0) && (Var(8) != 1),-9,ifelse((Var(8) = 1) && (Vel Y < 0) && (Var(15) = 1),-11,-8))
down.velocity = -4.5,-4.5
p2facing = 1
airguard.velocity = -4.5,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5
air.fall = 1
fall.recovertime = 25

[State 630, VelAdd]
type = VelAdd
trigger1 = (Var(15) = 1) && (Vel Y > 0)
y = -0.14

[State 630, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X <= 4) && (Time >= 10)
trigger1 = Command = "holdfwd"
x = 0.25

[State 630, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X >= -4) && (Time >= 10)
trigger1 = Command = "holdback"
x = -0.035

[State 600, CtrlSet]
type = CtrlSet
trigger1 = anim = 41
value = 1
ignorehitpause = 1

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 41
statetype = A
movetype = I
physics = A

[State 630, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Medium Kick
; CNS difficulty: easy
[Statedef 640]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 640
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 640, 1]
type = HitDef
trigger1 = Movecontact!;AnimElem = 4
attr = A, NA
damage = 30, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S8001
guard.sparkno = S8004
sparkxy = -10,-76
hitsound = S200,4
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 16
ground.hittime = 16
air.hittime = 16
guard.ctrltime = 16
ground.velocity = -5.5
guard.velocity = -5.5
;air.velocity = -5.5, -5.5
air.velocity = 0,ifelse((Var(15) = 1) && (Vel Y < 0) && (Var(8) != 1),-7.5,ifelse((Var(8) = 1) && (Vel Y < 0) && (Var(15) = 1),-10,-6))
down.velocity = -5.5,-5.5
p2facing = 1
airguard.velocity = -5.5,-5.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
yaccel = .5
air.fall = 1
fall.recovertime = 25

[State 640, VelAdd]
type = VelAdd
trigger1 = (Var(15) = 1) && (Vel Y > 0)
y = -0.14

[State 640, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X <= 4) && (Time >= 10)
trigger1 = Command = "holdfwd"
x = 0.25

[State 640, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X >= -4) && (Time >= 10)
trigger1 = Command = "holdback"
x = -0.035

[State 600, CtrlSet]
type = CtrlSet
trigger1 = anim = 41
value = 1
ignorehitpause = 1

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 41
statetype = A
movetype = I
physics = A

[State 640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Strong Kick
; CNS difficulty: easy
[Statedef 650]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 650
poweradd = 65
sprpriority = 2
hitcountpersist = 1

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 650, 1]
type = HitDef
trigger1 = Movecontact!;AnimElem = 4
attr = A, NA
damage = 40, 0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S8002
guard.sparkno = S8004
sparkxy = -10,-76
hitsound = S200,5
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -6.5
guard.velocity = -6.5
;air.velocity = -6.5, -6.5
air.velocity = -16,8
airguard.velocity = -6.5,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = 0.1
down.velocity = -6.5,-6.5
p2facing = 1
air.fall = 1
fall.recovertime = 25

[State 650, VelAdd]
type = VelAdd
trigger1 = (Var(15) = 1) && (Vel Y > 0)
y = -0.14

[State 650, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X <= 4) && (Time >= 10)
trigger1 = Command = "holdfwd"
x = 0.25

[State 650, VelAdd]
type = VelAdd
triggerall = (Var(15) = 1) && (Vel X >= -4) && (Time >= 10)
trigger1 = Command = "holdback"
x = -0.035

[State 650, VelSet]
type = VelSet
trigger1 = (P2Statetype = A) && (movecontact)
x = Vel X * .9
y = .2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = anim = 41
value = 1
ignorehitpause = 1

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 41
statetype = A
movetype = I
physics = A

[State 650, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Throw - Attempt
; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
;[Statedef 800]
;type    = S
;movetype= A
;physics = S
;juggle  = 0
;velset = 0,0
;ctrl = 0
;anim = 800

; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents the player from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
;[State 800, 1]
;type = HitDef
;Trigger1 = Time = 0
;attr = S, NT          ;Attributes: Standing, Normal Throw
;hitflag = M-          ;Affect only ground people who are not being hit
;priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
;sparkno = -1          ;No spark
;sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
;p2facing = 1          ;Force p2 to face player
;p1stateno = 810       ;On success, player changes to state 810
;p2stateno = 820       ;If hit, p2 changes to state 820 in player's cns
;fall = 1              ;Force p2 into falling down

;[State 800, 2]
;type = ChangeState
;Trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;---------------------------------------------------------------------------
; Throwing the opponent
; Description: In this state, the player throws the opponent by binding him to
;     various offsets based on his current frame of animation. For
;     example, [State 810, Bind 1] binds the opponent to an offset of
;     28 pixels in front of the player. That puts him around where the hand
;     is at. Is is important to keep the opponent bound using a
;     TargetBind controller at all times, until you let him go. This
;     is especially important if your player has a Clsn2 box that
;     allows him to get hit while throwing someone. Each time a player
;     gets hit, all his bound targets will be set to a fall state. If
;     the opponent is not bound, then he might get stuck in his thrown
;     state when his attacker is knocked out of the throw halfway.
; Notes: There is a TargetLifeAdd controller to decrease the opponent's
;     life, and a TargetState controller to change his state to a
;     falling state when KFM lets go of him.
;[Statedef 810]
;type    = S
;movetype= A
;physics = N
;anim = 810
;poweradd = 60

;[State 810, Bind 1]
;type = TargetBind
;trigger1 = AnimElemTime(2) < 0
;pos = 28, 0

;[State 810, Width 2-11]
;type = Width
;trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
;edge = 60,0

;[State 810, Bind 2-4]
;type = TargetBind
;trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
;pos = 58, 0

;[State 810, Bind 5]
;type = TargetBind
;trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
;pos = 47, 0

;[State 810, Bind 6]
;type = TargetBind
;trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
;pos = 41, -60

;[State 810, Bind 7]
;type = TargetBind
;trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
;pos = 25, -75

;[State 810, Bind 8]
;type = TargetBind
;trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
;pos = 15, -90

;[State 810, Bind 9]
;type = TargetBind
;trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
;pos = -5, -96

;[State 810, Bind 10]
;type = TargetBind
;trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
;pos = -14, -90

;[State 810, Bind 11]
;type = TargetBind
;trigger1 = AnimElem = 11
;pos = -50, -50

;[State 810, Hurt 11]
;type = TargetLifeAdd
;trigger1 = AnimElem = 11
;value = -78

;[State 810, Throw 11]
;type = TargetState
;trigger1 = AnimElem = 11
;value = 821

;[State 810, Turn 12]
;type = Turn
;trigger1 = AnimElem = 12

;[State 810, Pos 15]
;type = PosAdd
;trigger1 = AnimElem = 15
;x = -10

;[State 810, State End]
;type = ChangeState
;;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;---------------------------------------------------------------------------
; Opponent Thrown
; (a custom gethit state)
; Description: This is the state that the opponent changes to after being
;     hit by the throw HitDef. The important thing here is to use a
;     ChangeAnim2 controller. The difference between ChangeAnim2 and
;     ChangeAnim is that ChangeAnim2 changes the player's animation to
;     an action in the AIR file of the attacker (in this case, kfm.air),
;     whereas ChangeAnim always changes the player to an action in his
;     own AIR file. Look at Action 820 in kfm.air for some extra
;     comments.
;[Statedef 820]
;type    = A
;movetype= H
;physics = N
;velset = 0,0

;[State 820, 1]
;type = ChangeAnim2
;Trigger1 = Time = 0
;value = 820

;---------------------------------------------------------------------------
; Opponent thrown into the air
; (a custom gethit state)
; Description: This state has the opponent flying through the air and
;     falling down onto the ground. The SelfState controller sets the
;     opponent back using to his own state file when he his the ground.
;     Controllers 821,2 and 821,3 allow the opponent to recover by
;     hitting his recovery command when he is falling.
;[Statedef 821]
;type    = A
;movetype= H
;physics = N
;velset = 2.8,-7
;poweradd = 40

;[State 821, 1] ;Gravity
;type = VelAdd
;Trigger1 = 1
;y = .4

;[State 821, 2] ; Recover near ground (use ChangeState)
;type = ChangeState
;triggerall = Vel Y > 0
;triggerall = Pos Y >= -20
;triggerall = alive
;triggerall = CanRecover
;trigger1 = Command = "recovery"
;value = 5200 ;HITFALL_RECOVER

;[State 821, 3] ; Recover in mid air (use SelfState)
;type = SelfState
;triggerall = Vel Y > 0
;triggerall = alive
;triggerall = CanRecover
;trigger1 = Command = "recovery"
;value = 5210 ;HITFALL_AIRRECOVER

;[State 821, 4] ;Hit ground
;type = SelfState
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
;value = 5100 ;Hit ground

;---------------------------------------------------------------------------
; Throw 1
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 800, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 801
p2stateno = 802

[State 800, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 1
[Statedef 801]
type = S
movetype = I
physics = N
velset = 0,0
anim = 800
sprpriority = 1
ctrl = 0

[State 801, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 800
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 23,0

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 800
trigger1 = AnimElem = 2, >= 0
pos = -5,-138

[State 801, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = Anim = 800
trigger1 = !AnimTime
trigger2 = var(37) = 1
trigger2 = Anim = 800
trigger2 = !AnimTime
var(6) = 802

[State 801, VarSet]
type = VarSet
triggerall = var(37) != 1
trigger1 = command = "holdback"
trigger1 = Anim = 800
trigger1 = !AnimTime
var(6) = 803

[State 801, VarSet]
type = VarSet
triggerall = var(37) != 1
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = Anim = 800
trigger1 = !AnimTime
var(6) = 801

[State 801, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 800
trigger1 = !AnimTime
trigger1 = var(6) != 0
value = var(6)

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
pos = -12,-68

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
pos = 17,-59

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
pos = -17,-54

[State 801, Explod]
type = Explod
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
anim = 10801
sprpriority = 2
postype = p1
pos = -7,-108
bindtime = -1
ownpal = 1
id = 10801
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
anim = 998
sprpriority = 2
postype = p2
pos = -5,-100
removetime = 20
bindtime = -1
ownpal = 1
id = 998
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
anim = 10802
sprpriority = 2
postype = p1
pos = 1,-105
bindtime = -1
ownpal = 1
id = 10802
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
anim = 999
sprpriority = 2
postype = p2
pos = -40,-110
facing = facing * -1
removetime = 20
bindtime = -1
ownpal = 1
id = 999
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
anim = 10803
sprpriority = 2
postype = p1
pos = 1,-105
bindtime = -1
ownpal = 1
id = 10803
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
anim = 999
sprpriority = 2
postype = p2
pos = 40,-110
removetime = 20
bindtime = -1
ownpal = 1
id = 999
persistent = 0

[State 801, PlaySnd]
type = PlaySnd
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = AnimElem = 1, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 801, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = AnimElem = 6, = 0
value = -150;ceil(-196 * (fvar(0)))

[State 801, VarSet]
type = VarSet
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = !AnimTime
var(6) = 0

[State 801, ChangeState]
type = ChangeState
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 1
[Statedef 802]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 804

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 801
trigger1 = AnimElem = 3, = 0
value = 804
elem = 3
persistent = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 802
trigger1 = AnimElem = 3, = 0
value = 805
elem = 3
persistent = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 803
trigger1 = AnimElem = 3, = 0
value = 806
elem = 3
persistent = 0

[State 802, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 3, < 0
value = 0

[State 802, PosAdd]
type = PosAdd
trigger1 = Anim = 804
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
y = -13

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 804
trigger1 = AnimElem = 4, = 0
y = -6.5

[State 802, Turn]
type = Turn
trigger1 = Anim = 806
trigger1 = AnimElem = 3, = 0

[State 802, PosAdd]
type = PosAdd
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = BackEdgeDist > 10
x = -8.5
y = -8

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = BackEdgeDist <= 10
x = 0
y = 0

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 4, = 0
x = -4.25
y = -5.25

[State 802, SelfState]
type = SelfState
trigger1 = Alive
trigger1 = !AnimTime
value = 50
ctrl = 1

[State 802, SelfState]
type = SelfState
trigger1 = !Alive
trigger1 = !AnimTime
value = 5040

;---------------------------------------------------------------------------
; Throw 2
[Statedef 820]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 820, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 820, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 821
p2stateno = 822

[State 800, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 2
[Statedef 821]
type = S
movetype = I
physics = N
velset = 0,0
anim = 820
sprpriority = 1
ctrl = 0

[State 821, VarSet]
type = VarSet
trigger1 = !Time
var(6) = facing

[State 821, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 23,0

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = -5,-138

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -15,-98

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2, = 0
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = S5000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, = 0
pos = 60,0

[State 821, Turn]
type = Turn
trigger1 = command = "holdback2"
trigger1 = AnimElem = 3, = 0

[State 821, EnvShake]
type = EnvShake
trigger1 = AnimElem = 4, = 0
time = 10
ampl = -6

[State 821, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 4, = 0
value = -150;ceil(-196 * (fvar(0)))

[State 821, Turn]
type = Turn
trigger1 = var(6) != facing
trigger1 = !AnimTime

[State 821, VarSet]
type = VarSet
trigger1 = !AnimTime
var(6) = 0

[State 821, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 2
[Statedef 822]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 822, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 821

[State 822, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 4, < 0
value = 0

[State 822, Turn]
type = Turn
trigger1 = facing = enemyNear, facing

[State 822, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -9.5
y = -8

[State 822, SelfState]
type = SelfState
trigger1 = !AnimTime
value = 5050

;---------------------------------------------------------------------------
; Throw 3
[Statedef 830]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 830, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 830, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 831
p2stateno = 832

[State 830, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 3
[Statedef 831]
type = S
movetype = I
physics = N
velset = 0,0
anim = 830
sprpriority = 1
ctrl = 0

[State 831, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 831, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 13, < 0
pos = 50,0

[State 831, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 831, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 10830
sprpriority = 2
postype = p1
pos = 20,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 10830
persistent = 0

[State 831, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 997
sprpriority = 3
postype = p2
pos = 5,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 997
persistent = 0

[State 831, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 13, = 0
value = -150;ceil(-171 * (fvar(0)))

[State 831, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 3
[Statedef 832]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 832, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 831

[State 832, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -20
y = -4

[State 822, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; Throw 4
[Statedef 840]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 797
ctrl = 0

[State 840, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 797
value = 797

[State 840, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 841
p2stateno = 842

[State 840, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 4
[Statedef 841]
type = S
movetype = I
physics = N
velset = 0,0
anim = 840
sprpriority = 1
ctrl = 0

[State 841, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 66,-102

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 59,-93

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, = 0
pos = -57,-60

[State 841, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 3, = 0
value = -150;ceil(-145 * (fvar(0)))

[State 841, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5, = 0
value = S5000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 841, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 4
[Statedef 842]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 842, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 841

[State 842, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 3, < 0
value = 0

[State 842, Turn]
type = Turn
trigger1 = !Time
trigger1 = facing = enemyNear, facing

[State 842, Turn]
type = Turn
trigger1 = !AnimTime

[State 842, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -20
y = -4

[State 842, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; Thrown 5
[Statedef 843]
type = A
movetype = H
physics = N
anim = 5050
sprpriority = 0
ctrl = 0

[State 843, PosSet]
type = PosSet
trigger1 = !Time
y = -10

[State 843, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 843, PosFreeze]
type = PosFreeze
trigger1 = BackEdgeBodyDist < 5
time = 15
persistent = 0

[State 843, VelSet]
type = VelSet
trigger1 = BackEdgeBodyDist < 5
x = 0.75
y = 1.5
persistent = 0

[State 843, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 843, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 843, EnvShake]
type = EnvShake
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
trigger2 = BackEdgeBodyDist < 5
time = 10
ampl = -6

[State 843, SelfState]
type = SelfState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 5100

;---------------------------------------------------------------------------
; Throw Forward 6
[Statedef 850]
type = A
movetype = A
physics = A
poweradd = 100
;anim = 799
ctrl = 0

[State 850, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 796
value = 799

[State 850, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = AF
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 851
p2stateno = 852

[State 850, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 850, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Throwing Forward 6
[Statedef 851]
type = A
movetype = I
physics = N
velset = 0,0
anim = 850
sprpriority = 1
ctrl = 0

[State 851, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 851, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y < -75
value = 850
elem = 1

[State 851, VarSet]
type = VarSet
trigger1 = !Time
var(10) = 0

[State 851, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 851, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 10850
sprpriority = 2
postype = p1
pos = 0,-84
bindtime = -1
ownpal = 1
id = 10850
persistent = 0

[State 851, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 996
sprpriority = 2
postype = p2
pos = 7,0
removetime = 8
bindtime = -1
ownpal = 1
id = 996
persistent = 0

[State 851, VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, = 0
y = 1

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 21,-91

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 38,-82

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 13,-57

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, = 0
pos = 0,0

[State 851, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 4, = 0
value = -145

[State 851, Gravity]
type = Gravity
trigger1 = AnimElem = 1

[State 851, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 851, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 851, VelSet]
type = VelSet
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
trigger2 = !AnimTime
x = -3.25
y = -8.25

[State 851, ChangeState]
type = ChangeState
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
trigger2 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 6
[Statedef 852]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 852, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 851

[State 852, ChangeAnim2]
type = ChangeAnim2
trigger1 = enemyNear, Pos Y < -75
value = 851
elem = 1

[State 852, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 4, < 0
value = 0

[State 852, VelSet]
type = VelSet
trigger1 = AnimElem = 4, = 1
y = 24

[State 852, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 852, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 852, EnvShake]
type = EnvShake
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
time = 10
ampl = -6

[State 852, SelfState]
type = SelfState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 5100

;---------------------------------------------------------------------------;
;                          CUSTOM MVC2 SYSTEM                               ;
;---------------------------------------------------------------------------;
; Rolling Forward
[Statedef 900]
type = S
physics = N
movetype= I
anim = 900
ctrl = 0
velset = 0,0
sprpriority = -2

[State 900, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 2
range = 0,1
ignorehitpause = 1

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(2) = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(2) = 1
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 900, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 900, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 900, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 900, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 7

[State 900, VelSet]
type = VelSet
trigger1 = AnimElem = 11
x = 0

[State 900, HitBy]
type = HitBy
trigger1 = time <= 20
value = SCA, NT,ST,HT

[State 900, PlayerPush]
type = PlayerPush
trigger1 = AnimElemTime(2) > 0
value = 0

[State 900, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 27
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 900, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Rolling Backward
[Statedef 901]
type = S
physics = N
movetype= I
anim = 901
ctrl = 0
velset = 0,0
sprpriority = -2

[State 901, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 2
range = 0,1
ignorehitpause = 1

[State 901, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(2) = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 901, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(2) = 1
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 901, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 901, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 901, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 901, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 901, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = -7

[State 901, VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 901, HitBy]
type = HitBy
trigger1 = time <= 22
value = SCA, NT,ST,HT

[State 901, PlayerPush]
type = PlayerPush
trigger1 = AnimElemTime(4) > 0
value = 0

[State 901, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 24
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 901, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Alpha Counter
[Statedef 902]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 902
sprpriority = 2

[State 902, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA, NP, SP
time = 20

[State 902, Pause]
type = Pause
trigger1 = Anim = 902
trigger1 = AnimElem = 2
movetime = 30
time = 30

[State 902, PowerAdd]
type = PowerAdd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = -1000

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = S900, 0
volume = 255
ignorehitpause = 1
persistent = 1

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = S900, 1
volume = 255
ignorehitpause = 1
persistent = 1

[State 902, EnvColor]
type = EnvColor
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = 250,250,250
time = 1

;[State 902, Explod]
;type = Explod
;trigger1 = Anim = 902
;trigger1 = AnimElem = 2
;anim = 8006	;Counter Spark
;pos = 48,-95
;postype = p1
;sprpriority = 2
;bindtime = -1
;persistent = 0
;pausemovetime = -1
;ownpal = 1

[State 902, Explod]
type = Explod
trigger1 = Anim = 902
trigger1 = AnimElem = 2
anim = 905
scale = .5,.5
ontop = 1
ownpal = 1
pausemovetime = -1
sprpriority = 2
postype = p1
pos = 48,-95
bindtime = -1
removetime = 15

[State 902, Explod]
type = Explod
trigger1 = Anim = 902
trigger1 = AnimElem = 2
anim = 906
scale = 2,2
ontop = 1
ownpal = 1
pausemovetime = -1
sprpriority = 2
postype = p1
pos = 40,-105
bindtime = -1
removetime = 20

[State 902, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 902
trigger1 = AnimTime = 0
value = 252

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 252
trigger1 = AnimElem = 3
value = S0, 2
volume = 255
ignorehitpause = 1
persistent = 1

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 252
trigger1 = AnimElem = 3
value = S200, 6
volume = 255
ignorehitpause = 1
persistent = 1

[State 902, Width]
type = Width
trigger1 = Anim = 252
trigger1 = AnimElem = 3, >= 0
value = 60,-30

[State 902, Width]
type = Width
trigger1 = Anim = 252
trigger1 = AnimElem = 5, >= 0
value = 20,0

[State 902, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 150, 0
animtype = Heavy
hitflag = MAF
priority = 3, Hit
pausetime = 10, 9
sparkno = S8002
sparkxy = -10,-80
guard.sparkno = S8004
hitsound = S200,5
guardsound = S120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -4,-6
airguard.velocity = -2,-4
air.type = High
air.velocity = -4,-6
fall.recover = 0
air.hittime = 10
p2stateno = 903
air.fall = 1
fall = 1

[State 902, Explod]
type = Explod
trigger1 = MoveHit
anim = 903	;Spin Spark
id = 903
pos = 0,-20
ontop = 1
postype = p2
bindtime = -1
persistent = 0
removetime = 35
ownpal = 1

[State 902, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Spun by Counter
[Statedef 903]
type    = A
movetype= H
physics = N
velset = 0,0

[State 903, ChangeAnim2]
type = ChangeAnim2
trigger1 = 1
value = 904

[State 903, PosAdd]
type = PosAdd
trigger1 = Time = 0
y = -40

[State 903, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 904

;---------------------------------------------------------------------------
; Spun by Counter
[Statedef 904]
type    = A
movetype= H
physics = N
velset = 0,0

[State 904, HitVelSet]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 904, VelAdd]
type = VelAdd
trigger1 = 1
y = .4

[State 904, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;-------------------------------------------------------------------------------
; Air Dash Forward
[Statedef 905]
type    = A
physics = N
velset = 0,0
anim = 907
ctrl = 0

[State 905, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 905, Explod]
type = Explod
trigger1 = (time%4) = 1
ID = 380
anim = 380
postype = p1
facing = 1
vfacing = 1
pos = -50,-90
bindtime = 1
removetime = 8
ontop = 1
vel = 0,0
ownpal = 1
random = 50,90
sprpriority = 3
scale = .8,.8
supermovetime = 999
pausemovetime = 999
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 905, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 905, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 905, VelSet]
type = VelSet
trigger1 = time = 0
x = 8

[State 905, VarAdd]
type = VarAdd
Trigger1 = Time > 0
Trigger1 = var(12) >= 0
var(12) = 1

[State 905, ChangeState]
type = ChangeState
Trigger1 = var(12) >= 20
value = 906
ctrl = 1

;-----------------------------------------------------------------------------
; Air Dash Forward End
[Statedef 906]
type    = A
physics = A
Anim = 908

[State 906, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 906, VelSet]
type = VelSet
Trigger1 = Time = 0
x = 4

[State 906, Turn]
type = Turn
Trigger1 = Time = 0
Trigger1 = P2bodydist x < -30

[State 906, ChangeState]
type = ChangeState
Trigger1 = Time >= 0
Trigger1 = Pos Y > -1
value = 52

;-----------------------------------------------------------------------------
; Air Dash Backward
[Statedef 907]
type    = A
physics = N
velset = 0,0
anim = 909
ctrl = 0

[State 907, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 907, Explod]
type = Explod
trigger1 = (time%4) = 1
ID = 380
anim = 380
postype = p1
facing = 1
vfacing = 1
pos = 60,-80
bindtime = 1
removetime = 8
ontop = 1
vel = 0,0
ownpal = 1
random = 60,80
sprpriority = 3
scale = .8,.8
supermovetime = 999
pausemovetime = 999
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 907, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 907, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 907, VelSet]
type = VelSet
trigger1 = time = 0
x = -8

[State 907, VarAdd]
type = VarAdd
Trigger1 = Time > 0
Trigger1 = var(12) <= 0
var(12) = -1

[State 907, ChangeState]
type = ChangeState
Trigger1 = var(12) <= -10
value = 908
ctrl = 1

;----------------------------------------------------------------------------
; Air Dash Backward End
[Statedef 908]
type    = A
physics = A
Anim = 910

[State 908, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 908, VelSet]
type = VelSet
Trigger1 = Time = 0
x = -4

[State 908, Turn]
type = Turn
Trigger1 = Time = 0
Trigger1 = P2bodydist x < -10

[State 908, ChangeState]
type = ChangeState
Trigger1 = Time >= 0
Trigger1 = Pos Y > -1
value = 52

;-----------------------------------------------------------------------------
; Advance Guard Standing
[Statedef 909]
type    = S
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 911
sprpriority = 2

[State 909, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 909, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 909, Width]
type = Width
trigger1 = 1
value = 10,0

[State 909, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 909, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S120,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 909, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 909, Explod]
type = Explod
trigger1 = Time = 0
anim = 916
ID = 916
pos = 22, -60
stateno = 913
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 7
scale = .5,.5

[State 909, Helper]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "Advance Guard Helper"
postype = P1
pos = -50,0
stateno = 913
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 909, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
; Advance Guard Crouching
[Statedef 910]
type    = C
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 912
sprpriority = 2

[State 910, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 910, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 910, Width]
type = Width
trigger1 = 1
value = 10,0

[State 910, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 910, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S120,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 910, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 910, Explod]
type = Explod
trigger1 = Time = 0
anim = 916
ID = 916
pos = 22, -30
stateno = 913
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 7
scale = .5,.5

[State 910, Helper]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "Advance Guard Helper"
postype = P1
pos = -50,0
stateno = 913
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 910, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
; Advance Guard Jumping
[Statedef 911]
type    = A
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 913
sprpriority = 2

[State 911, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 911, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 911, Width]
type = Width
trigger1 = 1
value = 10,0

[State 911, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 911, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S120,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 911, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 911, Explod]
type = Explod
trigger1 = Time = 0
anim = 916
ID = 916
pos = 44, -60
stateno = 913
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 7
scale = .5,.5

[State 911, Helper]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "Advance Guard Helper"
postype = P1
pos = -50,0
stateno = 913
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 911, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 912

;-----------------------------------------------------------------------------
; Advance Guard Jumping End
[Statedef 912]
type = A
movetype = I
physics = A
ctrl = 1
anim = 914
sprpriority = 2

[State 912, Change]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 0

;-----------------------------------------------------------------------------
; Advance Guard Helper
[Statedef 913]
type = S
movetype = I
physics = N
poweradd = 0
ctrl = 0
anim = 915
sprpriority = -4

[State 913, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 913, VelSet 1]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 913, VelSet 2]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 913, VelSet 2]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 913, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 913, DestroySelf]
type = DestroySelf
trigger1 = Time >= 18

;---------------------------------------------------------------------------;
;                                SPECIAL MOVES                              ;
;---------------------------------------------------------------------------;
; Optic Blast X
[StateDef 1000]
type = C
movetype = A
physics = C
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1000
sprpriority = 1
hitcountpersist = 1

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1001
ID = 1001
pos = 8,-64
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 2
ontop = 0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1000, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
name = "Optic Blast X Beam"
ID = 1001
stateno = 1001
pos = 8,-64
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1
removeongethit = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast X Beam
[Statedef 1001]
type = S
movetype = A
physics = N
velset = 0,0
juggle  = 1
anim = 1001
ctrl = 0
sprpriority = 1
hitcountpersist = 1

[State 1001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1001, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0
attr = C, SP
animtype = Light
air.animtype = Light
damage = 24,2
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S997
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 3
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Low
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1001, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 15
ontop = 1
ownpal = 1
pos = 8,-64
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1001, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1001, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1001
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1001, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1001, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1000
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Y
[StateDef 1002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1002
poweradd = 100
hitcountpersist = 1

[State 1002, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1002, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1002, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1002, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1001
sprpriority = 2
postype = p1
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
pos = 9,-100
ownpal = 1
id = 1001
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1002, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
name = "Optic Blast Y Beam"
ID = 1003
stateno = 1003
pos = 9,-100
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1002, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Y Beam
[Statedef 1003]
type = S
movetype = A
physics = N
juggle  = 1
velset = 0,0
anim = 1001
ctrl = 0
hitcountpersist = 1

[State 1003, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1003, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0
attr = C, SP
animtype = Medium
air.animtype = Medium
damage = 24,2
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S997
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 3
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = High
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1003, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 15
ontop = 1
ownpal = 1
pos = 9,-100
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1003, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1003, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1002
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1003, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1003, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1002
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Z
[Statedef 1004]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1003
hitcountpersist = 1

[State 1004, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1004, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1004, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1004, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1004
sprpriority = 2
postype = p1
pos = 16,-107
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1004
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1004, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
name = "Optic Blast Z Beam"
ID = 1005
stateno = 1005
pos = 16,-107
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1
removeongethit = 1

[State 1004, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Z Beam
[Statedef 1005]
type = S
movetype = A
physics = N
velset = 0,0
anim = 1004
sprpriority = 2
ctrl = 0
hitcountpersist = 1

[State 1005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1005, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%6) = 0
attr = S, SP
animtype = Hard
air.animtype = Hard
damage = 24,2
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S999
sparkxy = 16,-107
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = Hard
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 3
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Hard
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1005, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
pos = 16,-107
facing = 1
vfacing = 1
bindtime = 1
removetime = 15
ontop = 1
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1005, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1005, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1005
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1005, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1005, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1004
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast X (Air)
[Statedef 1006]
type = A
movetype = A
physics = N
sprpriority = 0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1005
hitcountpersist = 1

[State 1006, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125 ;.2

[State 1006, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1006, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1006, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1006
sprpriority = 1
postype = p1
pos = 15,-108
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1006
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1006, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
stateno = 1007
postype = p1
pos = 15,-108
bindtime = -1
ownpal = 1
id = 1007
name = "Optic Blast X Beam (Air)"
facing = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1006, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 1006, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast X Beam (Air)
[Statedef 1007]
type = S
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1006
ctrl = 0
hitcountpersist = 1

[State 1007, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1007, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%5) = 0
attr = A, SP
animtype = Light
air.animtype = Light
damage = 24,2
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 2,2
sparkno = -1
sparkxy = -1
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 3
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Low
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1007, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 10
ontop = 1
ownpal = 1
pos = 15,-108
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1007, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 20999
sprpriority = 0
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 5
ontop = 1
ownpal = 1
pos = 15,-108
ownpal = 1
id = 20999
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1007, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1007, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1007
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1007, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1007, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1006
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Y (Air)
[Statedef 1008]
type = A
movetype = A
physics = N
sprpriority = 0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1007
hitcountpersist = 1

[State 1008, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125 ;.2

[State 1008, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1008, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1008, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1001
sprpriority = 1
postype = p1
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
pos = 39,-104
id = 1001
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1008, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
stateno = 1009
postype = p1
pos = 39,-104
bindtime = -1
id = 1009
name = "Optic Blast Y Beam (Air)"
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1008, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 1008, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Y Beam (Air)
[Statedef 1009]
type = S
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1001
ctrl = 0
hitcountpersist = 1

[State 1009, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1009, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0
attr = A, SP
animtype = Medium
air.animtype = Medium
damage = 24,2
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S997
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = Hard
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 3
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Hard
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1009, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
pos = 39,-104
facing = 1
vfacing = 1
bindtime = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1009, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1009, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1009
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1009, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1009, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1008
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Z (Air)
[Statedef 1010]
type = A
movetype = A
physics = N
sprpriority = 0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1008
hitcountpersist = 1

[State 1010, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125 ;.2

[State 1010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1010, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1004
sprpriority = 1
postype = p1
pos = 15,-116
id = 1004
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1010, Helper]
type = Helper
trigger1 = AnimElem = 4
stateno = 1011
postype = p1
pos = 15,-116
bindtime = -1
ownpal = 1
id = 1011
name = "Optic Blast Z Beam (Air)"
facing = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1010, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 1010, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Z Beam (Air)
[Statedef 1011]
type = S
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1004
ctrl = 0
hitcountpersist = 1

[State 1011, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1011, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%6) = 0
attr = A, SP
animtype = Hard
air.animtype = Hard
damage = 24,2
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S999
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 3
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = High
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1011, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
pos = 15,-116
facing = 1
vfacing = 1
bindtime = 1
ontop = 1
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1011, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1011, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1011
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1011, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1011, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1010
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Sweep XYZ
[Statedef 1012]
type = C
movetype = A
physics = C
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1009
hitcountpersist = 1

[State 1012, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1012, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 1012, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1012, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 1010
sprpriority = 1
postype = p1
pos = 0,0
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1010
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1012, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 1011
sprpriority = 1
postype = p1
pos = 0,0
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1011
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1012, Helper]
type = Helper
trigger1 = AnimElem = 1, = 0
helpertype = Normal
stateno = 1013
postype = p1
pos = 0,0
facing = 1
bindtime = -1
ownpal = 1
id = 1013
name = "Optic Sweep XYZ Beam"
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1012, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1009
trigger1 = !AnimTime
value = 12

[State 1012, ChangeState]
type = ChangeState
trigger1 = Anim = 12
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Sweep XYZ Beam
[Statedef 1013]
type = C
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1010
ctrl = 0
hitcountpersist = 1

[State 1013, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1013, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = p2statetype != L
trigger1 = !MoveContact
trigger2 = Time = 0
attr = C, SP
animtype = Hard
air.animtype = Hard
damage = 24,2
sprpriority = 1
hitflag = MAF ;FD
guardflag = MAL ;LA
pausetime = 2,2
sparkno = S10999
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 20
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Trip
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1013, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
pos = -4,0
facing = 1
vfacing = 1
bindtime = 1
ontop = 1
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1013, HitDef]
type = HitDef
trigger1 = p2statetype = L
trigger1 = (facing != enemyNear, facing)
trigger1 = !MoveContact
trigger2 = Time = 0
attr = C, SP
animtype = Hard
air.animtype = Hard
damage = 24,2
sprpriority = 1
hitflag = MAF ;FD
guardflag = MAL ;LA
pausetime = 2,2
sparkno = S10999
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 20
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Trip
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1013, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
pos = -4,0
facing = 1
vfacing = 1
bindtime = 1
ontop = 1
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1013, HitDef]
type = HitDef
trigger1 = p2statetype = L
trigger1 = (facing = enemyNear, facing)
trigger1 = !MoveContact
trigger2 = Time = 0
attr = C, SP
animtype = Hard
air.animtype = Hard
damage = 24,2
sprpriority = 1
hitflag = MAF ;FD
guardflag = MAL ;LA
pausetime = 2,2
sparkno = S10999
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S8004
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 20
ground.velocity = -8.5,0
guard.velocity = -8.5
air.velocity = -5.5,-5
airguard.velocity = -5.5,-1.5
fall = 0
air.fall = 1
air.recover = 1
air.type = Trip
envshake.time = 8
envshake.ampl = 2
forcestand = 1
yaccel = .5

[State 1013, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
pos = -4,0
facing = 1
vfacing = 1
bindtime = 1
ontop = 1
ownpal = 1
id = 3003
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1013, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1013, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1013
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1013, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1013, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1012
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Cyclone Kick ABC(Air)
[Statedef 1014]
type = A
movetype = A
physics = N
juggle = 1
velset = 4,-4
poweradd = 100
ctrl = 0
anim = 1012
hitcountpersist = 1

[State 1014, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,3
volume = 255
ignorehitpause = 1
persistent = 1

[State 1014, VelAdd]
type = VelAdd
trigger1 = 1
y = .575

[State 1014, PosSet]
type = PosSet
trigger1 = !Time
y = -10

[State 1014, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1014, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Hard
air.animtype = Back
damage = 75,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8001
sparkxy = 0,-65
hitsound = S200,4
guardsound = S120,0
guard.sparkno = S8004
;ground.type = High
;ground.velocity = -6
;ground.slidetime = 15
;ground.hittime = 17
;guard.slidetime = 11
;guard.hittime = 11
;guard.velocity = -4
;air.velocity = -4,0
;airguard.velocity = -2,0
;air.fall = 1
;fall.recovertime = 10
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -6;*ifelse(p2dist x>=0,1,-1),-6
guard.velocity = -8;*ifelse(p2dist x>=0,1,-1)
air.velocity = -6;*ifelse(p2dist x>=0,1,-1),-6
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 7
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .49
persistent = 1
forcestand = 1

[State 1014, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1014, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1014, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1015

;---------------------------------------------------------------------------
; Cyclone Kick ABC(Ground)
[Statedef 1015]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
ctrl = 0
anim = 1013
hitcountpersist = 1

[State 1015, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1015, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = p2statetype != L
trigger1 = !MoveContact
attr = C, SA
animtype = Hard
air.animtype = Back
damage = 75,2
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = S8002
sparkxy = 0,-20
hitsound = S200,5
guardsound = S120,0
guard.sparkno = S8004
;ground.type = Low
;ground.velocity = -6
;ground.slidetime = 22
;ground.hittime = 22
;guard.slidetime = 11
;guard.hittime = 11
;guard.velocity = -4
;guard.hittime = 12
;air.velocity = -4,0
;airguard.velocity = -2,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -6;*ifelse(p2dist x>=0,1,-1),-6
guard.velocity = -8;*ifelse(p2dist x>=0,1,-1)
air.velocity = -6;*ifelse(p2dist x>=0,1,-1),-6
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 7
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 0
air.recover = 0
yaccel = .49
persistent = 1
forcestand = 1

[State 1015, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = (facing != enemyNear, facing)
trigger1 = p2statetype = L
trigger1 = !MoveContact
attr = C, SA
animtype = Hard
air.animtype = Hard
damage = 75,2
;hitflag = MAF
;guardflag = MA
hitflag = FD
guardflag = MA
pausetime = 10,10
sparkno = S8002
sparkxy = 0,-20
hitsound = S200,5
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
down.velocity = -5,-4

[State 1015, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = (facing = enemyNear, facing)
trigger1 = p2statetype = L
trigger1 = !MoveContact
attr = C, SA
animtype = Hard
air.animtype = Hard
damage = 75,2
;hitflag = MAF
;guardflag = MA
hitflag = FD
guardflag = MA
pausetime = 10,10
sparkno = S8002
sparkxy = 0,-20
hitsound = S200,5
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
down.velocity = 5,-4

[State 1015, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1015, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1015, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
; Slice Kick
[Statedef 1016]
type    = A
movetype= A
physics = N
juggle = 1
ctrl = 0
anim = 1014
poweradd = 100
velset = 0,0
hitcountpersist=1

[State 1016, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1016, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,3]
value = SCA

[State 1016, VelSet]
type = VelSet
trigger1 = Time = 0
X = 1.9
Y = -2.9

[State 1016, VelAdd]
type = VelAdd
trigger1 = 1
y = .28

[State 1016, VelMul]
type = VelMul
trigger1 = AnimElem = 3 || AnimElem = 4
Y = 2.9

[State 1016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,5
volume = 255
ignorehitpause = 1
persistent = 1

[State 1016, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A,SA
animtype = Hard
air.animtype = Hard
damage = 50,2
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 9,9
guard.sparkno = S8004
hitsound = S200,5
guardsound = S120,0
sparkno = -1
sparkxy = -1
;ground.type = Low
;ground.slidetime = 15
;ground.hittime  = 20
;fall.recover = -5
;air.type = Low
;ground.velocity = -1,-11
;air.velocity = -1,-11
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -1.3,-11.5
guard.velocity = -8
air.velocity = -1.3,-11.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0

[State 1016, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A,SA
animtype = Hard
air.animtype = Hard
damage = 50,2
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 9,9
guard.sparkno = S8004
hitsound = S200,5
guardsound = S120,0
sparkno = -1
sparkxy = -1
;ground.type = Low
;ground.slidetime = 15
;ground.hittime  = 20
;fall.recover = -5
;air.type = Low
;ground.velocity = -1,-11
;air.velocity = -1,-11
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -1.3,-11.5
guard.velocity = -8
air.velocity = -1.3,-11.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0

[State 1016, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = A,SA
animtype = Hard
air.animtype = Hard
damage = 50,2
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 9,9
guard.sparkno = S8004
hitsound = S200,5
guardsound = S120,0
sparkno = -1
sparkxy = -1
;ground.type = Low
;ground.slidetime = 15
;ground.hittime  = 20
;fall.recover = -5
;air.type = Low
;ground.velocity = -1,-11
;air.velocity = -1,-11
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -1.3,-11.5
guard.velocity = -8
air.velocity = -1.3,-11.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0

[State 1016, Helper]
type = Helper
;triggerall = Var(20) != 1
trigger1 = AnimElem = 2
helpertype = normal ;player
name ="Slice Kick Explod"
stateno = 1017
pos = 29,-49
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale= 1.08
size.yscale= 1.19
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1016, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1019
ctrl = 0

;-----------------------------------------------------------------------------
; Slice Kick Explod 1
[Statedef 1017]
type    = S
movetype = A
physics = S
juggle  = 6
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1015
sprpriority = 6

[State 1017, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1000,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 1017, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

[State 1017, NotHitBy]
type = NotHitBy
trigger1 =1
value = SCA

[State 1017, HitDef]
type = HitDef
trigger1 =  Time > 0 ;&&  var(3) = 1
attr = S, AP
animtype = Hard
air.animtype = Hard
priority = 4, Hit
damage = 50,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
guard.sparkno = S8004
sparkxy = 0,-4
hitsound   = S200,5
guardsound = S120,0
;ground.type = High
;ground.slidetime = 15
;ground.hittime  = 20
;ground.velocity = -5,-15
;air.type = Low
;air.velocity = -5,-15
;fall = 0
;yaccel = .54
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -1.3,-11.5
guard.velocity = -8
air.velocity = -1.3,-11.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0

;delete this if you wanted the slice to move
[State 1017, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 1
pos = 29,-49

[State 1017, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;Take of the simicolons if your going to have it move
;[State 210, 5]
;type = ChangeState
;trigger1 = movecontact || time  = 85
;value = 4001

[State 1017, 5]
type = ChangeState
trigger1 = MoveContact || Time = 10
value = 1018

;--------------------------------------------------------------------------------------------
; Slice Kick Explod 2
[Statedef 1018]
type    = S
movetype = A
physics = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1016
sprpriority = 2

[State 1018, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1018, 5]
type = DestroySelf
trigger1 = time = 8
ctrl = 1

;---------------------------------------------------------------------------------------------
; Slice Kick Mid-Air Recovery
[Statedef 1019]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1017
hitcountpersist=1

[State 1019, VelMul]
type = VelMul
trigger1 = time = 0
X = .7
Y = .7

[State 1019, VelAdd]
type = VelAdd
trigger1 = 1
y = .5

[State 1019, ChangeState]
type = ChangeState
trigger1 = vel Y > 0
trigger1 = pos Y >= 0
value = 1020
ctrl = 0

;---------------------------------------------------------------------------------------------
; Slice Kick Mid-Air Recovery Landing
[Statedef 1020]
type    = A
movetype= I
physics = A
ctrl = 0
velset = 0,0
anim = 1018
hitcountpersist=1

[State 1020, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1020, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1020, Explod]
type = Explod
trigger1 = Time = 0
anim = 52
ID = 52
postype = P1
pos = 0,0
scale = 1,1
sprpriority = 1
ownpal = 1

[State 1020, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Gene Slice X Start (Ground)
[Statedef 1021]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1019
hitcountpersist = 1

[State 1021, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = S1000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 1021, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1021, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1022

;---------------------------------------------------------------------------
; Gene Slice X Hit 1 (Air)
[Statedef 1022]
type = A
movetype = A
physics = N
velset = 6,-7
juggle = 1
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1022, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
x = -1

[State 1022, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .475

[State 1022, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .6

[State 1022, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1022, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1022, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 6
x = 0

[State 1022, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 1022, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,0
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1022, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1022, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1022, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1022, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1022, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1022, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1023

[State 1022, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice X Hit 2 (Air)
[Statedef 1023]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,-7
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1023, Gravity]
type = Gravity
trigger1 = 1

[State 1023, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,0
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1023, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1023, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1023, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1023, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice X Blast (Air)
[Statedef 1024]
type = A
movetype = I
physics = N
ctrl = 0
juggle = 1
anim = 1022
hitcountpersist = 1

[State 1024, Gravity]
type = Gravity
trigger1 = 1

[State 1024, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1024, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 1024, Helper]
type = Helper
trigger1 = AnimElem = 1
helpertype = Normal
stateno = 1025
postype = p1
pos = 4,-39
bindtime = 1
ownpal = 1
id = 1025
name = "Gene Slice Projectile (Air)"
facing = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1024, ChangeAnim]
type = ChangeAnim
trigger1 = !AnimTime
value = 44

[State 1024, ChangeState]
type = ChangeState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 1036

;--------------------------------------------------------------------------
; Gene Slice Projectile (Air)
[Statedef 1025]
type = S
movetype = A
physics = N
velset = 0,-9
anim = 1023
sprpriority = 3
juggle = 1
ctrl = 0

[State 1025, AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 0
flag = NoShadow

[State 1025, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 1025, PlaySnd]
type = PlaySnd
trigger1 = !Time
trigger1 = PrevStateNo != 1025
value = S200,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 1025, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = Time > 4
attr = S, NP
animtype = Back
air.animtype = Back
damage = 60,2
hitflag = MAF
guardflag = MA
pausetime = 0,1
hitsound  = S200,8
sparkno = S223
sparkxy = 4,-39
guard.sparkno = S8004
guardsound = S120,0
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -6
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -3
air.velocity = -4,-8
airguard.velocity = -3,-1
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
forcestand = 1

[State 1025, ParentVarAdd]
type = ParentVarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1025, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1025, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1025
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1025, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1025, DestroySelf]
type = DestroySelf
trigger1 = Pos Y < -1200
trigger2 = MoveContact
trigger3 = PrevStateNo = 1025

;---------------------------------------------------------------------------
; Launched
[Statedef 1026]
type = A
movetype = H
physics = N
anim = 5011
velset = 0,0
ctrl = 0

[State 1405, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 1405, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 9
trigger1 = Alive
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 9
trigger1 = Alive
x = 0
y = -8

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 9
trigger1 = !Alive
x = -10
y = -6

[State 1405, SelfState]
type = SelfState
trigger1 = Time = 9
trigger1 = !Alive
value = 5050

[State 1405, Gravity]
type = Gravity
trigger1 = Time > 14

[State 1405, SelfState]
type = SelfState
;trigger1 = Vel Y > 0
trigger1 = Time = 40
value = 5040
ctrl = 1

;---------------------------------------------------------------------------
; Gene Slice Y Start (Ground)
[Statedef 1027]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1019
hitcountpersist = 1

[State 1027, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = S1000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 1027, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1027, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1028

;---------------------------------------------------------------------------
; Gene Slice Y Hit 1 (Air)
[Statedef 1028]
type = A
movetype = A
physics = N
velset = 5,-8
juggle = 1
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time < 14
trigger1 = Vel X > 0
x = -.075

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time >= 10
trigger1 = Vel X > 0
x = -.325

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .4

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .5

[State 1028, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1028, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1028, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
x = 0

[State 1028, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 1028, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,1
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1028, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1028, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1028, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1028, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1028, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1028, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1029

[State 1028, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Y Hit 2 (Air)
[Statedef 1029]
type = A
movetype = A
physics = N
velset = 0,-7
juggle = 1
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1029, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1029, Gravity]
type = Gravity
trigger1 = 1

[State 1029, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,1
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1029, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1029, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1029, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1029, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1029, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1030

[State 1029, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Y Hit 3 (Air)
[Statedef 1030]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0
juggle = 1
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1030, Gravity]
type = Gravity
trigger1 = 1

[State 1030, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = AnimElem = 2, >= 0
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,1
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1030, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1030, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1030, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1030, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Start (Ground)
[Statedef 1031]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1019
hitcountpersist = 1

[State 1031, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = S1000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 1031, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1031, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1032

;---------------------------------------------------------------------------
; Gene Slice Z Hit 1 (Air)
[Statedef 1032]
type = A
movetype = A
physics = N
velset = 10,-9
juggle = 1
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time < 19
trigger1 = Vel X > 0
x = -.3

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time >= 15
trigger1 = Vel X > 0
x = -.45

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .425

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .475

[State 1032, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1032, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1032, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 17
x = 0

[State 1032, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
y = 0

[State 1032, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1032, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1032, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1032, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1032, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1032, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1032, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1033

[State 1032, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Hit 2 (Air)
[Statedef 1033]
type = A
movetype = A
physics = N
velset = 0,-7
juggle = 1
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1033, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1033, Gravity]
type = Gravity
trigger1 = 1

[State 1033, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1033, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1033, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1033, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1033, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1033, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1034

[State 1033, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Hit 3 (Air)
[Statedef 1034]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0
juggle = 1
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1034, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1034, Gravity]
type = Gravity
trigger1 = 1

[State 1034, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = AnimElem = 2, >= 0
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1034, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1034, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1034, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1034, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1034, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1035

[State 1034, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Hit 4 (Air)
[Statedef 1035]
type = A
movetype = A
physics = N
velset = 0,-7
juggle = 1
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1035, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1035, Gravity]
type = Gravity
trigger1 = 1

[State 1035, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
air.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8000+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S8004
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026

[State 1035, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1035, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1035, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1035, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 850

;---------------------------------------------------------------------------
; Gene Slice Landing
[Statedef 1036]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1024
hitcountpersist = 1

[State 1036, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1036, Explod]
type = Explod
trigger1 = Time = 0
anim = 52
ID = 52
postype = P1
pos = 0,0
scale = 1,1
sprpriority = 1
ownpal = 1

[State 1036, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Combo Low Punches
[Statedef 1037]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1025
hitcountpersist = 1

[State 1037, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1037, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 6

[State 1037, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 4

[State 1037, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1037, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 4
attr = S, NA
animtype = Light
air.animtype = Light
damage = 20,2
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S8000
sparkxy = 0,-83
guard.sparkno = S8004
hitsound = S200, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1037, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 8
attr = S, NA
animtype = Light
air.animtype = Light
damage = 20,2
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S8000
sparkxy = 0,-83
guard.sparkno = S8004
hitsound = S200, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1037, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1037, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1037, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1037, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1037, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1037, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 1038

[State 1037, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Combo Low Kicks
[Statedef 1038]
type = S
movetype = A
physics = S
velset = 0,0
juggle  = 1
ctrl = 0
anim = 1026
hitcountpersist = 1

[State 1038, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1038, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1038, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 6

[State 1038, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 4

[State 1038, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 3
attr = S, NA
animtype = Medium
air.animtype = Medium
damage = 30,2
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S8000
sparkxy = 0,-62
guard.sparkno = S8004
hitsound = S200,3
guardsound = S120,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1038, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 8
attr = S, NA
animtype = Medium
air.animtype = Medium
damage = 30,2
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S8000
sparkxy = 0,-72
guard.sparkno = S8004
hitsound = S200,3
guardsound = S120,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 15
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1038, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1038, VarAdd]
type = VarAdd
trigger1 = HitCount = 2
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1038, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1038, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 1039

[State 1038, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Combo Uppercut
[Statedef 1039]
type = S
movetype = A
physics = S
velset = 0,0
juggle  = 1
ctrl = 0
anim = 1027
hitcountpersist = 1

[State 1039, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1039, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 0

[State 1039, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 6

[State 1039, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 4

[State 1039, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 2
attr = S, NA
animtype = Hard
air.animtype = Hard
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S8001
sparkxy = 0,-100
guard.sparkno = S8004
hitsound = S200,1
guardsound = S120,0
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -4,-4
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2
air.velocity = -4,-4
airguard.velocity = -2,-2
fall = 1
fall.recover = 0
envshake.time = 8
envshake.ampl = 2

[State 1039, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1039, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1039, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 220

[State 1039, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Slam
[Statedef 1040]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1028
hitcountpersist = 1

[State 1040, VelSet]
type = VelSet
trigger1 = AnimElem = 2, >= 2
trigger1 = AnimElem = 11, < 0
x = 8.5

[State 1040, VelSet]
type = VelSet
trigger1 = AnimElem = 11, = 0
x = 4

[State 1040, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, ST
damage = 0
priority = 7
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 1041
p2stateno = 1042

[State 1040, VelSet]
type = VelSet
trigger1 = !AnimTime
x = 0

[State 1040, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rush Throwing
[Statedef 1041]
type = S
movetype = I
physics = N
velset = 0,0
anim = 1029
sprpriority = 1
juggle  = 1
ctrl = 0
hitcountpersist = 1

[State 1041, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 1041, VarSet]
type = VarSet
trigger1 = MoveHit
var(55) = 15
persistent = 0
ignorehitpause = 1

[State 1041, VarAdd]
type = VarAdd
trigger1 = var(55) > 0
var(55) = -1
ignorehitpause = 1

[State 1041, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2, = 0
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1041, Gravity]
type = Gravity
trigger1 = AnimElem = 2, > 0
trigger1 = AnimElem = 6, < 0

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 7,-96

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 6,-69

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 30,-59

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = -6,-80

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = -34,-67

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 11,-31

[State 1041, VelSet]
type = VelSet
trigger1 = AnimElem = 1, = 10
x = 6

[State 1041, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 0
x = 8
y = -5

[State 1041, VelSet]
type = VelSet
trigger1 = AnimElem = 6, = 0
x = 0
y = 0

[State 1041, VelSet]
type = PosSet
trigger1 = AnimElem = 6, = 0
y = 0

[State 1041, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, = 0
value = S5000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 1041, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6, = 0
value = -150;ceil(-202 * (fvar(0)))

[State 1041, EnvShake]
type = EnvShake
trigger1 = AnimElem = 6, = 0
time = 10
ampl = -6

[State 1041, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 5120
ctrl = 1

;---------------------------------------------------------------------------
; Rush Thrown
[Statedef 1042]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
juggle  = 1
ctrl = 0
anim = 1030
hitcountpersist = 1

[State 1042, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 1042, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1043

;---------------------------------------------------------------------------
; Rush Thrown Falling
[Statedef 1043]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
anim = 5050
ctrl = 0

[State 1043, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = -7

[State 1043, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 1043, VelSet]
type = VelSet
trigger1 = !Time
x = -9
y = -7

[State 1043, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 1043, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1043, EnvShake]
type = EnvShake
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
time = 10
ampl = -6

[State 1043, SelfState]
type = SelfState
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
value = 5110

;---------------------------------------------------------------------------
; Optic Slam
[StateDef 1044]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1040
poweradd = 100
hitcountpersist = 1

[State 1044, VelSet]
type = VelSet
trigger1 = AnimElem = 6, = 0
x = -7
y = 0

[State 1044, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1044, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1044, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1044, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 1041
sprpriority = 2
postype = p1
pos = 12,-99
facing = 1
vfacing = 1
bindtime = -1
ownpal = 1
id = 1041
ontop = 0
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1044, Helper]
type = Helper
trigger1 = AnimElem = 7
helpertype = Normal
name = "Optic Slam Beam"
ID = 1045
stateno = 1045
pos = 12,-99
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1044, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Slam Beam
[Statedef 1045]
type = S
movetype = A
physics = N
velset = 0,0
anim = 1041
ctrl = 0
hitcountpersist = 1

[State 1045, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1045, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = Time = 0
attr = S, SP
animtype = Hard
air.animtype = Hard
damage = 90,2
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S997
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S997
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -20
guard.slidetime = 20
guard.hittime = 20
air.velocity = -20
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
air.fall = 1
fall.recovertime = 20
persistent = 0
yaccel = .5
fall = 1
fall.recover = 1
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = 3
fall.envshake.phase = 90

[State 1045, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 3003
sprpriority = 2
postype = p2
pos = 12,-99
facing = 1
vfacing = 1
bindtime = 1
ownpal = 1
id = 3003
ontop = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1045, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1045, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1044
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1045, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1045, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1044
trigger2 = !AnimTime

;---------------------------------------------------------------------------;
;                                HYPERS/SUPERS MOVES                        ;
;---------------------------------------------------------------------------;
; Mega Optic Blast
[Statedef 3000]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3000
sprpriority = 1
poweradd = -1000
juggle  = 1
ctrl = 0
hitcountpersist = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 141
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3000, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 9000
postype = back
ID = 9000
sprpriority = -3
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[state 3000, Explod]
type = Explod
trigger1 = Time = 12
anim = 9000
postype = back
id = 9000
vel = -.25,0
sprpriority = -3
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 9003
ID = 9003
postype = p1
pos = 32, -89
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 9006
ID = 9006
postype = p1
pos = 32, -89
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3003, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9001
anim = 9001
pos = 160,0
postype = Left
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3000, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9002
anim = 9002
pos = -160,0
postype = Right
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 5
time = 30
anim = -1
darken = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S3000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 1001, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3001
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 3001
removeongethit = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3004
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
id = 3001
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3005
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
id = 3001
ownpal = 1

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
helpertype = Normal
stateno = 30001
postype = p1
pos = 0,0
ownpal = 1
facing = 1
name = "Mega Optic Blast Beam Helper"
id = 30001

[State 3000, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Mega Optic Blast Beam
[Statedef 30001]
type = S
movetype = A
physics = N
velset = 0,0
anim = 3001
juggle = 1
ctrl = 0
sprpriority = 1
hitcountpersist = 1

[State 30001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 30001, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 30001, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 30001, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = TimeMod = 5 = 0;(GameTime%5) = 0
attr = S, HP
animtype = Hard
damage = 12,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -5
air.type = High
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 30001, HitDef]
type = HitDef
trigger4 = enemyNear, Anim != 5070
trigger5 = enemyNear, Anim != 5071
trigger6 = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
trigger2 = ((parent, command = "a") || (parent, command = "b") || (parent, command = "c"))
attr = S, HP
animtype = Hard
damage = 12,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -5
air.type = Low
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 30001, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 3003
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 3003
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30001, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 997
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30001, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 30001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 44, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 30001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 44, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 30001, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 30001, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3000
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Mega Optic Blast (Air)
[Statedef 3005]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3006
sprpriority = 1
poweradd = -1000
juggle  = 9
ctrl = 0
hitcountpersist = 1

[State 3005, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125 ;.2

[State 3005, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 152
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 3005, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 9000
postype = back
ID = 9000
sprpriority = -3
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[state 3005, Explod]
type = Explod
trigger1 = Time = 12
anim = 9000
postype = back
id = 9000
vel = -.25,0
sprpriority = -3
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3005, Explod]
type = Explod
trigger1 = time = 0
anim = 9003
ID = 9003
postype = p1
pos = 10,-107
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3005, Explod]
type = Explod
trigger1 = time = 0
anim = 9006
ID = 9006
postype = p1
pos = 10,-107
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3005, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 9001
anim = 9001
pos = 160,0
postype = Left
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3005, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 9002
anim = 9002
pos = -160,0
postype = Right
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3005, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 4
time = 30
anim = -1
darken = 0

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 1001, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3001
sprpriority = 2
postype = p1
pos = -21,-24
bindtime = -1
ownpal = 1
id = 3001
removeongethit = 1

[State 3005, Explod]
type = Explod
trigger1 = AnimElem = 6, = 0
anim = 3004
sprpriority = 2
postype = p1
pos = -21,-24
bindtime = -1
id = 3001
ownpal = 1

[State 3005, Explod]
type = Explod
trigger1 = AnimElem = 6, = 0
anim = 3005
sprpriority = 2
postype = p1
pos = -21,-24
bindtime = -1
id = 3001
ownpal = 1

[State 3005, Helper]
type = Helper
trigger1 = AnimElem = 6, = 0
stateno = 30051
sprpriority = 3
postype = p1
;pos = 0,0
pos = -21,-24
ownpal = 1
name = "Mega Optic Blast Beam (Air) Helper"
id = 30051

[State 3005, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 3005, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Mega Optic Blast Beam (Air)
[Statedef 30051]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3001
juggle = 1
ctrl = 0
hitcountpersist = 1

[State 30051, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 30051, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X - 21
y = parent, Pos Y - 24
ignorehitpause = 1

[State 30051, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X + 21
y = parent, Pos Y - 24
ignorehitpause = 1

[State 30051, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = TimeMod = 5 = 1
attr = S, HP
animtype = Hard
damage = 12,4
getpower = 0
sprpriority = 1
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -4.5
air.type = High
air.velocity = -4.5
airguard.velocity = -4.5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 30051, HitDef]
type = HitDef
trigger4 = enemyNear, Anim != 5070
trigger5 = enemyNear, Anim != 5071
trigger6 = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
trigger2 = ((parent, command = "a") || (parent, command = "b") || (parent, command = "c"))
attr = S, HP
animtype = Hard
damage = 12,4
getpower = 0
sprpriority = 1
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002;+(random%2)
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4.5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -4.5
air.type = Low
air.velocity = -4.5
airguard.velocity = -4.5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 30051, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 3003
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 3003
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30051, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 997
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30051, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 30051, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 60, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 30051, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 60, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 30051, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 30051, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3005
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Rage
[StateDef 3010]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3007
sprpriority = 1
poweradd = -3000
hitcountpersist = 1

[State 3010, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 338
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 3010, VelSet]
type = VelSet
trigger1 = AnimElem = 8
x = -25
y = 0

[State 3010, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3010, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 9004
postype = back
ID = 9004
sprpriority = -3
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[state 3010, Explod]
type = Explod
trigger1 = Time = 12
anim = 9004
postype = back
id = 9004
vel = -.25,0
sprpriority = -3
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3010, Explod]
type = Explod
trigger1 = time = 0
anim = 9003
ID = 9003
postype = p1
pos = 32, -89
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3010, Explod]
type = Explod
trigger1 = time = 0
anim = 9006
ID = 9006
postype = p1
pos = 32, -89
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3010, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9001
anim = 9001
pos = 160,0
postype = Left
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3010, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9002
anim = 9002
pos = -160,0
postype = Right
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 5
time = 30
anim = -1
darken = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = S3000,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S3000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 71
value = S5000,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 220, Helper]
type = Helper
trigger1 = Time = 23
pos = 60, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 33
pos = 140, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 43
pos = 220, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 53
pos = 300, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 63
pos = 360, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 73
pos = 440, 80
Stateno = 30101
id = 3010

[State 520, Helper]
type = Helper
trigger1 = Time = 83
pos = 520, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 93
pos = 600, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 103
pos = 660, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 113
pos = 740, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 123
pos = 820, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 133
pos = 900, 80
Stateno = 30101
id = 3010

[State 220, Helper]
type = Helper
trigger1 = Time = 143
pos = 900, 80
Stateno = 30101
id = 3010

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
helpertype = Normal
name = "Floor Destruction"
ID = 30101
stateno = 30101
pos = 14,4
postype = p1
facing = 1
ownpal = 1
removeongethit = 1

[State 1001, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3008
sprpriority = 2
postype = p1
pos = 17,14
bindtime = -1
ownpal = 1
id = 3008
removeongethit = 1
scale = 1, 1.13

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
helpertype = Normal
sprpriority = 2
stateno = 30102
postype = p1
pos = 17,14
ownpal = 1
facing = 1
name = "Optic Rage Beam Helper"
id = 30102
removeongethit = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3004
sprpriority = 2
postype = p1
pos = 17,14
bindtime = -1
id = 3008
ownpal = 1
removeongethit = 1
scale = 1, 1.13

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3005
sprpriority = 2
postype = p1
pos = 17,14
bindtime = -1
id = 3008
ownpal = 1
removeongethit = 1
scale = 1, 1.13

[State 3000, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Floor Destruction
[Statedef 30101]
type    = A
movetype= A
physics = N
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,-10
anim = 3009
sprpriority = 2

[State 30101, Envshake]
type = EnvShake
trigger1 = time = 1
ampl = 6
time = 120

[State 30101, VelAdd]
type = VelAdd
trigger1 = 1
y = .55

[State 30101, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SAC

[State 30101, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; Optic Rage Beam
[Statedef 30102]
type = S
movetype = A
physics = N
velset = 0,0
sprpriority = 2
anim = 3008
juggle = 1
ctrl = 0
hitcountpersist = 1

[State 30102, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 30001, PosSet]
type = PosSet
trigger1 = AnimElem = 9, = 0
x = 16
y = 3
ignorehitpause = 1

[State 30102, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0;TimeMod = 4, = 0
attr = S, HP
animtype = Hard
damage = 12,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,1
sparkno = S3002
sparkxy = 0,-10
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = Trip
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -6
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -4.6
air.type = High
air.velocity = -4.6
airguard.velocity = -4.6
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 80
fall.envshake.time = 40
fall.envshake.freq = 360
fall.envshake.ampl = 6
fall.envshake.phase = 180
forcestand = 0
;p2stateno = 30103

[State 30102, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 3003
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 3003
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30102, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 997
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30102, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 30102, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 65, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 30102, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 65, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 30102, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 30102, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3010
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Hit by Mega Optic Blast and Optic Rage
[Statedef 30103]
type = A
movetype = H
physics = N
anim = 5012
velset = 0,0
ctrl = 0

[State 10210, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 10210, VelSet]
type = VelSet
trigger1 = Time > 6
trigger1 = !Alive
x = -10
y = -10

[State 10210, SelfState]
type = SelfState
trigger1 = Time > 6
trigger1 = !Alive
value = 5050

[State 10210, ChangeAnim]
type = ChangeAnim
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 44, >= 0)) || ((enemyNear, StateNo = [3005,3010]) && (enemyNear, AnimElem = 60 && AnimElem = 65, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3005))
trigger1 = Time > 6
trigger1 = Alive
trigger1 = Anim != 5050 && Anim != 5051
value = IfElse(SelfAnimExist(5051),5051,5050)

[State 10210, Gravity]
type = Gravity
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 44, >= 0)) || ((enemyNear, StateNo = [3005,3010]) && (enemyNear, AnimElem = 60 && AnimElem = 65, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3005))
trigger1 = Time > 6
trigger1 = Alive

[State 10210, VelSet]
type = VelSet
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 44, >= 0)) || ((enemyNear, StateNo = [3005,3010]) && (enemyNear, AnimElem = 60 && AnimElem = 65, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3005))
trigger1 = Time > 6
trigger1 = Alive
y = -8
persistent = 0

[State 10210, SelfState]
type = SelfState
trigger1 = Time > 32
trigger1 = Alive
value = 5040

;------------------------------------------------------------------------------
; Flawless Tactics ;By K.O.D/Reza
[Statedef 3015]
type = S
movetype = A
physics = N
anim = 3010
sprpriority = 1
velset = 0,0
poweradd = -1000
juggle  = 1
ctrl = 0
hitcountpersist = 1

[State 3015, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 9005
postype = back
ID = 9005
sprpriority = -3
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[state 3015, Explod]
type = Explod
trigger1 = Time = 12
anim = 9005
postype = back
ID = 9005
vel = -.25,0
sprpriority = -3
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3015, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3015, Explod]
type = Explod
trigger1 = time = 0
anim = 9003
ID = 9003
postype = p1
pos = 0,-100
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3015, Explod]
type = Explod
trigger1 = time = 0
anim = 9006
ID = 9006
postype = p1
pos = 0,-100
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3015, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 9001
anim = 9001
pos = 160,0
postype = Left
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3015, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 9002
anim = 9002
pos = -160,0
postype = Right
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3015, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3015, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = S3000,3
volume = 255
ignorehitpause = 1
persistent = 1

[State 3015, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S3000,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 3015, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3015, LifeAdd]
type = LifeAdd
trigger1 = time = 1
value = 200

[State 3015, VarSet]
type = VarSet
trigger1 = 1
v = 51
value = 0

[State 3015, VarSet]
type = VarSet
trigger1 = time = 1
var(7) = 500

[State 3015, AttackMulSet]
type = AttackMulSet
trigger1 = time = 0
value = 2

[State 3015, PalFX]
type = PalFX
trigger1 = AnimElem = 6, = 0
time = 500
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 0
ignorehitpause = 1
persistent = 1

[State 3015, DefenceMulSet]
type = DefenceMulSet
trigger1 = time = 0
value = 2

[State 3000, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger2 = Time = 60
trigger1 = AnimElem = 4
sprpriority = 0
time = 30
anim = -1
persistent = 1
darken = 1

[State 3015, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 500
timegap = 1
framegap = 2
length = 20
trans = add
palbright = 0,0,0
palcontrast = 256,256,256
palpostbright = 0,0,0

[State 3015, PowerAdd]
type = PowerAdd
trigger1 = Movehit
value = 100
persistent = 1

[State 3015, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
; Hyper Optic Slam (Start)
[Statedef 3016]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3011
sprpriority = 2
poweradd = -1000
hitcountpersist = 1

[State 3016, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 56
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 3016, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3016, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 9000
postype = back
ID = 9000
sprpriority = -3
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[state 3016, Explod]
type = Explod
trigger1 = Time = 12
anim = 9000
postype = back
id = 9000
vel = -.25,0
sprpriority = -3
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3016, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3016, Explod]
type = Explod
trigger1 = time = 0
anim = 9003
ID = 9003
postype = p1
pos = 0,-84
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3016, Explod]
type = Explod
trigger1 = time = 0
anim = 9006
ID = 9006
postype = p1
pos = 0,-84
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3016, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9001
anim = 9001
pos = 160,0
postype = Left
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3016, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9002
anim = 9002
pos = -160,0
postype = Right
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 3016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3016, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 3
time = 5
anim = -1
darken = 0

[State 3016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3016, MakeDust]
type = MakeDust
trigger1 = Time = [5,15]
pos = 26,-2
spacing = 4
ignorehitpause = 1
persistent = 1

[State 3016, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 15

[State 3016, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 10

[State 3016, VelMul]
type = VelMul
trigger1 = AnimElem = 6
x = .28

[State 3016, VelSet]
type = VelSet
trigger1 = MoveGuarded
trigger1 = FrontEdgeBodyDist <= 120
x = -14

[State 3016, VelMul]
type = VelMul
trigger1 = Vel x <= -9
trigger1 = P2BodyDist X >= 50
x = .02

[State 3016, VelSet]
type = VelSet
trigger1 = MoveGuarded
trigger1 = FrontEdgeBodyDist > 120
x = .2

[State 3016, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
damage = 20,10
getpower = 0
givepower = 5
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4,15
guard.pausetime = 5,5
guard.sparkno = S8004
sparkno = S8005+(random%3)
sparkxy = -12, -60
hitsound = S200,4
guardsound = S120,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 10
ground.velocity = 0
guard.velocity = -14
airguard.velocity = -5,-4
air.type = Low
air.velocity = -2,-1
air.hittime = 25
forcestand = 1
snap = 70
kill = 0

[State 3016, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3016, ChangeState]
type = ChangeState
trigger1 = MoveHit = 1
value = 3017
ctrl = 0

;---------------------------------------------------------------------------
; Hyper Optic Slam (Combo)
[Statedef 3017]
type    = S
movetype= A
physics = S
juggle  = 7
velset = 0,0
ctrl = 0
anim = 3012
poweradd = 0
sprpriority = 2
hitcountpersist = 1

[State 3017, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 90
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 3017, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 15

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = 7,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4,8
guard.sparkno = S8004
sparkno = S8000
sparkxy = -10,-56
hitsound = S200, 3
guardsound = S120, 0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
damage = 8, 4
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.sparkno = S8004
sparkno = S8001
sparkxy = -10,-70
hitsound = S200, 4
guardsound = S120, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 22
attr = S, HA
damage = 9, 6
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 12
guard.sparkno = S8004
sparkno = S8002
sparkxy = -10,-76
hitsound = S200, 5
guardsound = S120, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = -2.4,-2
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 30
attr = S, HA
damage = 7, 2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 8
guard.sparkno = S8004
sparkno = S8000
sparkxy = -10,-56
hitsound = S200, 3
guardsound = S120, 0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 37
attr = S, HA
damage = 8, 4
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.sparkno = S8004
sparkno = S8001
sparkxy = -10,-70
hitsound = S200, 4
guardsound = S120, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 46
attr = S, HA
damage = 9, 6
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 12
guard.sparkno = S8004
sparkno = S8002
sparkxy = -10,-76
hitsound = S200, 5
guardsound = S120, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = 0 ;-3
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = 0 ;-2.4,-2
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 55
attr = S, HA
damage = 10, 8
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 14
guard.sparkno = S8004
sparkno = S8001
sparkxy = -10, -75
hitsound = S200, 4
guardsound = S120, 0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.7,-.8
air.type = High
air.velocity = -1.3,-3
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 62
attr = S, HA
damage = 11, 6
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 20, 40
guard.sparkno = S8004
sparkno = S8002
sparkxy = -10,-10
hitsound = S200, 5
guardsound = S120, 0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = 0 ;-3
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = 0 ;-2.4,-2
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 69
attr = S, HA
damage = 12, 8
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 20, 25
guard.sparkno = S8004
sparkno = S8002
sparkxy = -10,-80
hitsound = S200, 5
guardsound = S120, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.7,-.8
air.type = High
air.velocity = -1.3,-3
air.hittime = 40
forcestand = 1
kill = 0

[State 3017, VelSet]
type = VelSet
trigger1 = Time >= 15
x = 3.5

[State 3017, Width]
type = Width
trigger1 = Time > 10 && Time < 70
value = 30

[State 3017, VelSet]
type = VarSet
trigger1 = 1
v = 17
value = 2

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 29
value = S0, 0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 38
value = S0, 1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 21
trigger2 = AnimElem = 45
value = S200, 6
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 54
trigger2 = AnimElem = 61
value = S0, 2
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 68
value = S1000, 1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA, NA,NP

[State 3017, ChangeState]
type = ChangeState
trigger1 = AnimElem = 74;AnimElemTime(57) > 0
trigger1 = MoveHit
value = 3018;830

[State 3017, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = MoveHit < 1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hyper Optic Slam (Grabing)
[Statedef 3018]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 3018, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 3018, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 3019
p2stateno = 3020

[State 3018, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hyper Optic Slam (Throwing)
[Statedef 3019]
type = S
movetype = I
physics = N
velset = 0,0
anim = 830
sprpriority = 1
ctrl = 0

[State 3019, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 3019, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 13, < 0
pos = 50,0

[State 3019, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3019, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 10830
sprpriority = 2
postype = p1
pos = 17,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 10830
persistent = 0

[State 3019, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 997
sprpriority = 3
postype = p2
pos = 5,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 997
persistent = 0

[State 3019, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 13, = 0
value = -150

[State 3019, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hyper Optic Slam (Thrown)
[Statedef 3020]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 3020, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 831

[State 3020, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -20
y = -4

[State 3020, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; Mega Viper Blast (Cyclops)
[Statedef 4500]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4500
sprpriority = 1
poweradd = -2000
juggle = 1
ctrl = 0
hitcountpersist = 1

[State 4500, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 241
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 4500, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 4500, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 9010
postype = back
ID = 9010
sprpriority = -3
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[state 4500, Explod]
type = Explod
trigger1 = Time = 12
anim = 9010
postype = back
id = 9010
vel = -.25,0
sprpriority = -3
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 4500, Explod]
type = Explod
trigger1 = time = 0
anim = 9003
ID = 9003
postype = p1
pos = 32, -89
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 4500, Explod]
type = Explod
trigger1 = time = 0
anim = 9006
ID = 9006
postype = p1
pos = 32, -89
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .5,.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 4500, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9001
anim = 9001
pos = 160,0
postype = Left
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 4500, Explod]
type = Explod
trigger1 = Time = 12;Animelem = 1
removetime = 9999
id = 9002
anim = 9002
pos = -160,0
postype = Right
scale = 0.642,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 4500, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,12
volume = 255
ignorehitpause = 1
persistent = 1

[State 4500, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 5
time = 30
anim = -1
darken = 0

[State 4500, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S3000,9
volume = 255
ignorehitpause = 1
persistent = 1

[State 4500, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 4500, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S3000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 4500, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 4507
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 4507
removeongethit = 1

[State 4500, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3004
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
id = 3001
ownpal = 1

[State 4500, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3005
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
id = 3001
ownpal = 1

[State 4500, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
helpertype = Normal
stateno = 45001
postype = p1
pos = 0,0
ownpal = 1
facing = 1
name = "Mega Optic Blast Beam Helper"
id = 45001

[State 4500, Helper]
type = Helper
trigger1 = Time = 1
Pos = -410,-40
id = 4501
name = "Cable"
stateno = 4501
helpertype = Normal
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4500, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Mega Viper Blast Beam (Cyclops)
[Statedef 45001]
type = S
movetype = A
physics = N
velset = 0,0
anim = 4507
juggle = 1
ctrl = 0
sprpriority = 1
hitcountpersist = 1

[State 45001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 45001, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 45001, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 45001, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = (GameTime%8) = 0
attr = S, HP
animtype = Hard
damage = 9,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -5
air.type = High
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 45001, HitDef]
type = HitDef
trigger4 = enemyNear, Anim != 5070
trigger5 = enemyNear, Anim != 5071
trigger6 = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
trigger2 = ((parent, command = "a") || (parent, command = "b") || (parent, command = "c"))
attr = S, HP
animtype = Hard
damage = 9,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -5
air.type = Low
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 45001, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 3003
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 3003
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 45001, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 997
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 45001, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 45001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 100, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 45001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 100, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 45001, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 45001, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 4500
trigger2 = !AnimTime

;---------------------------------------------------------------------------;
; Mega Viper Blast Jump In (Cable)
[StateDef 4501]
type = S
movetype= A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 4506
hitcountpersist = 1
sprpriority = 3

[State 4501, NotHitBy]
type= NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT

[State 4501, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 25
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 4501, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S3000,13
volume = 255
ignorehitpause = 1
persistent = 1

[State 4501, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 7
value = S3000,5
volume = 255
ignorehitpause = 1
persistent = 1

[State 4501, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = S3000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 4501, VelSet]
type = VelSet
trigger1 = Animelem = 1
x = 60
y = 1

[State 4501, PosSet]
type = PosSet
trigger1 = Animelem = 3
y = 0

[State 4501, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4502
ctrl = 1

;-----------------------------------------------------------------------------
; Mega Viper Blast Start (Cable)
[StateDef 4502]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 4501
hitcountpersist = 1
sprpriority = 3

[State 4502, NotHitBy]
type= NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT

[State 4502, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 213
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 4502, HitOverride]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA
stateno = 4504

[State 4502, Explod]
type = Explod
trigger1 = time = 0
anim = 995
ID = 995
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .5,.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 4502, Explod]
type = Explod
trigger1 = Animelem = 10
removetime = 140
id = 4503
anim = 4503
pos = 38,0
postype = p1
sprpriority = 5
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
supermove = 1
supermovetime = 9999
ontop = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4502, Explod]
type = Explod
trigger1 = Animelem = 10
removetime = 140
id = 4504
anim = 4504
pos = -50,0
postype = p1
sprpriority = 4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
supermove = 1
supermovetime = 9999
ontop = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4502, Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 4505
sprpriority = 5
postype = p1
pos = 41,-78
bindtime = -1
ownpal = 1
id = 4505
removeongethit = 1
ignorehitpause = 1
persistent = 1
;removetime = 140

[State 4502, Helper]
type = Helper
trigger1 = AnimElem = 10
helpertype = Normal
stateno = 4503
postype = p1
pos = 41,-78
ownpal = 1
facing = 1
name = "Hyper Viper Beam"
id = 4503
removeongethit = 1
ignorehitpause = 1
persistent = 1
;removetime = 140

[State 4502, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4504
ctrl = 1

;---------------------------------------------------------------------------
; Mega Viper Blast Beam (Cable)
[Statedef 4503]
type = S
movetype = A
physics = N
velset = 0,0
anim = 4505
juggle = 1
ctrl = 0
sprpriority = 5
hitcountpersist = 1

[State 45001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 45001, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 45001, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 45001, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = (GameTime%8) = 0
attr = S, HP
animtype = Hard
damage = 9,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 2,2
sparkno = S3003
sparkxy = 41,-78;0,0
guard.sparkno = S8004
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -5
air.type = High
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 45001, HitDef]
type = HitDef
trigger4 = enemyNear, Anim != 5070
trigger5 = enemyNear, Anim != 5071
trigger6 = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
trigger2 = ((parent, command = "a") || (parent, command = "b") || (parent, command = "c"))
attr = S, HP
animtype = Hard
damage = 9,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3004
sparkxy = 41,-78;0,0
guard.sparkno = S8004
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -5
air.type = Low
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
;p2stateno = 30103

[State 45001, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 45001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 57, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 45001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 57, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 45001, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 45001, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 4502
trigger2 = !AnimTime

;------------------------------------------------------------------------------
; Peace Cable!
[Statedef 4504]
type = S
movetype = I
physics = N
velset = 0,0
juggle = 1
ctrl = 0
anim = 4502

[State 4504, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S3000,16
volume = 255
ignorehitpause = 1
persistent = 1

[State 4504, NotHitBy]
type= NotHitBy
trigger1 = Time = 0
time = 50
value = SCA, NA, SA, HA, NT, ST, HT

[State 4504, VelSet]
type = VelSet
trigger1 = Time = 60
X = -14
Y = -8

[State 4504, Destroy Self]
type = DestroySelf
trigger1 = Time > 100

;---------------------------------------------------------------------------;
;                      HYPERS/SUPERS BG'S AND SOUNDS                        ;
;---------------------------------------------------------------------------;
; Hyper Combo Finish BG by Kamekaze
[Statedef 6000]
movetype= I
physics = S
velset = 0,0
anim = 123456
ctrl = 0
sprpriority = 5

[State 6000, Hyper Combo Explosion]
type = PlaySnd
trigger1 = Time = 0
value = S5000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, Mega Optic Blast]
type = Playsnd
trigger1 = Time = 8
trigger1 = parent,StateNo = 3000
value = S3000,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, Mega Optic Blast Air]
type = Playsnd
trigger1 = Time = 8
trigger1 = parent,StateNo = 3005
value = S3000,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, Optic Rage]
type = Playsnd
trigger1 = Time = 8
trigger1 = parent,StateNo = 3010
value = S3000,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, Hyper Optic Slam]
type = Playsnd
trigger1 = Time = 8
trigger1 = parent,StateNo = [3016,3020]
value = S3000,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, Mega Viper Blast]
type = Playsnd
trigger1 = Time = 8
trigger1 = parent,StateNo = [4500,4505]
value = S3000,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, Mega Optic Blast Words]
type = Explod
triggerall = parent,stateno = 3000
trigger1 = Time = 0
anim = 9008
ID = 9008
postype = left
pos = -15,-20
bindtime = -1
removetime = 135
sprpriority = 3
scale = .9,1
ownpal = 1
ignorehitpause = 1
ontop = 1
facing = ifelse(facing = 1, 1,1)
supermovetime = 9999
pausemovetime  = 9999

[State 6000, Mega Optic Blast Words Air]
type = Explod
triggerall = parent,stateno = 3005
trigger1 = Time = 0
anim = 9008
ID = 9008
postype = left
pos = -15,-20
bindtime = -1
removetime = 135
sprpriority = 3
scale = .9,1
ownpal = 1
ignorehitpause = 1
ontop = 1
facing = ifelse(facing = 1, 1,1)
supermovetime = 9999
pausemovetime  = 9999

[State 6000, Optic Rage Words]
type = Explod
triggerall = parent,stateno = 3010
trigger1 = time = 0
anim = 9009
ID = 9009
postype = left
pos = -15,-20
bindtime = -1
removetime = 135
sprpriority = 3
scale = .9,1
ownpal = 1
ignorehitpause = 1
ontop = 1
facing = ifelse(facing = 1, 1,1)
supermovetime = 9999
pausemovetime  = 9999

[State 6000, Hyper Optic Slam Words]
type = Explod
triggerall = parent,stateno = [3016,3020]
trigger1 = time = 0
anim = 9011
ID = 9011
postype = left
pos = -15,-20
bindtime = -1
removetime = 135
sprpriority = 3
scale = .9,1
ownpal = 1
ignorehitpause = 1
ontop = 1
facing = ifelse(facing = 1, 1,1)
supermovetime = 9999
pausemovetime  = 9999

[State 6000, Mega Viper Blast Words]
type = Explod
triggerall = parent,stateno = [4500,4505]
trigger1 = time = 0
anim = 9012
ID = 9012
postype = left
pos = -15,-20
bindtime = -1
removetime = 135
sprpriority = 3
scale = .9,1
ownpal = 1
ignorehitpause = 1
ontop = 1
facing = ifelse(facing = 1, 1,1)
supermovetime = 9999
pausemovetime  = 9999

[State 6000, SSF2T Hyper Combo Finish BG]
type = Explod
trigger1 = Time = 0
anim = 9007
ID = 9007
postype = Left
pos = 0,0
bindtime = -1
removetime = 135
sprpriority = -1
scale = 1,1
ownpal = 1
ignorehitpause = 1
ontop = 0
supermovetime = 9999
pausemovetime  = 9999

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]
;---------------------------------------------------------------------------;
;                          CUSTOM MVC2 GAMEPLAY                             ;
;---------------------------------------------------------------------------;
; Flawless Tactcis
[State -2, ex]
type = VarSet
trigger1 = Stateno = 3015
v = 51
value = 0
ignorehitpause = 1

[State -2, ex]
type = VarSet
trigger1 = RoundNo = 1
trigger1 = RoundState = 0
trigger2 = RoundNo = 2
trigger2 = RoundState = 0
trigger3 = RoundNo = 3
trigger3 = RoundState = 0
v = 51
value = 1
ignorehitpause = 1

[State -2: VarAdd]
type = VarAdd
trigger1 = (Var(7) > 0)
var(7) = -1
ignorehitpause = 1

[State -2: AttackMulSet]
type = AttackMulSet
trigger1 = (Var(7) <= 0)
value = 1
ignorehitpause = 1

[State -2: DefenseMulSet]
type = DefenceMulSet
trigger1 = (Var(7) <= 0)
value = 1
ignorehitpause = 1

;Speed
[State -2, Speed]
type = ChangeAnim
triggerall = (Var(7) > 0)
trigger1 = AnimElemTime(AnimElemNo(0) + 1) < 0
trigger1 = AnimElemTime(AnimElemNo(0)) > floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/2)
ignorehitpause = 1
value = anim
elem = AnimElemNo(0) + 1

;---------------------------------------------------------------------------
; Get Hit Sounds
[State -2]
type = PlaySnd
triggerall = LoseKO = 0
triggerall = random < 500
triggerall = time = 1
triggerall = StateNo = 5000 || StateNo = 5010 || StateNo = 5020
trigger1 = GetHitVar(AnimType) = 0
value = S5000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
triggerall = LoseKO = 0
triggerall = random < 500
triggerall = time = 1
triggerall = StateNo = 5000 || StateNo = 5010 || StateNo = 5020
trigger1 = GetHitVar(AnimType) = 1
value = S5000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
triggerall = LoseKO = 0
triggerall = random < 500
triggerall = time = 1
triggerall = StateNo = 5000 || StateNo = 5010 || StateNo = 5020
trigger1 = GetHitVar(AnimType) >= 2
value = S5000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = VarAdd
trigger1 = LoseKO = 1
var(59) = 1
ignorehitpause = 1

[State -2]
type = PlaySnd
trigger1 = var(59) = 1
value = S5000,8
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
trigger1 = var(59) = 1
value = S5000,7
volume = 255
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
; Remove Hyper BG
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3000
trigger1 = stateno != 30001
trigger1 = stateno != 3005
trigger1 = stateno != 30051
trigger1 = stateno != 3010
trigger1 = stateno != 30101
trigger1 = stateno != 30102
trigger1 = stateno != 3015
trigger1 = stateno != 3016
trigger1 = stateno != 3017
trigger1 = stateno != 3018
trigger1 = stateno != 3019
trigger1 = stateno != 3020
trigger1 = stateno != 4500
trigger2 = winko
id = 9001

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3000
trigger1 = stateno != 30001
trigger1 = stateno != 3005
trigger1 = stateno != 30051
trigger1 = stateno != 3010
trigger1 = stateno != 30101
trigger1 = stateno != 30102
trigger1 = stateno != 3015
trigger1 = stateno != 3016
trigger1 = stateno != 3017
trigger1 = stateno != 3018
trigger1 = stateno != 3019
trigger1 = stateno != 3020
trigger1 = stateno != 4500
trigger2 = winko
id = 9002

;----------------------------------------------------------------------------
; First Attack Announcer
[State -2, First Attack]
type = VarSet
triggerall = Var(11) = 0
triggerall = RoundState = 2
trigger1 = movetype = A && movehit
trigger2 = NumHelper = 1
trigger2 = helper, movehit
trigger3 = (stateno = [1000,1030]) || stateno = [3000,4500]
trigger3 = p2movetype = H && p2stateno != [120,160]
v = 11
value = 1
ignorehitpause = 1

[State -2, First Attack]
type = PlaySnd
triggerall = (Teamside =1 && IsHomeTeam) || (Teamside =2 && !IsHomeTeam) || (TeamSide=1 && !IsHomeTeam)
trigger1 = Var(11) = 1
value = S0,3
volume = 255
ignorehitpause = 0
persistent = 1

[State -3, First Attack Left]
trigger1 = Var(11) = 1
trigger1 = TeamSide = 1
type = Explod
ownpal = 1
anim = 680
postype = Left
pos = 10, 65
ontop = 1
bindtime = -1
scale = .6,.6

[State -3, First Attack Right]
trigger1 = Var(11) = 1
trigger1 = TeamSide = 2 && !IsHomeTeam
type = Explod
ownpal = 1
anim = 680
ontop = 1
postype = Right
pos = -105, 65
bindtime = -1
scale = .6,.6

[State -2, First Attack]
type = VarSet
trigger1 = Var(11) = 1
trigger2 = movetype = H && Var(11) = 0 && stateno != [150,159]
v = 11
value = 2

;-----------------------------------------------------------------------------
; Air Combo Announcer Related
[State -2, Super Jump Detect VarSet Reset]
type = VarSet
trigger1 = (StateType = L) || ((StateType = S) && (StateNo != 40))
v = 15
value = 0

[State -2, VarReset]
type = VarSet
trigger1 = (StateType != A) || (P2MoveType != H)
v = 16
value = 0

;----------------------------------------------------------------------------
; Damage Dampener
[State -2, VarSet]
type = VarSet
trigger1 = numenemy
fvar(12) = enemynear,gethitvar(hitcount)
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = numenemy
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
fvar(12) = 1

[State -2, VarSet]
type = VarSet
trigger1 = 1
fvar(10) = ifelse(fvar(12) = 0, 1, ifelse(fvar(12) = 1, .9, .9**fvar(12)))
ignorehitpause = 1

[State -2, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = fvar(10)
ignorehitpause = 1

;-----------------------------------------------------------------------------
; Wall Hit
[State -2, Explod]
type = Explod
triggerall = Time = 1
triggerall = Enemynear,StateNo!= [120,155]
trigger1 = Enemynear,Movetype = H
trigger1 = Enemynear,Backedgedist<15
trigger1 = Enemynear,Statetype = A
trigger2 = Enemy,Movetype = H
trigger2 = Enemy,frontedgebodydist<25
trigger2 = Enemy,stateno = 5400
anim = 8008
pos = -15,(enemy,const(size.mid.pos.y))
postype = p2
sprpriority = -3
bindtime = 1
facing = -1
scale = 0.6,0.52
removetime = -2
id = 8008
shadow = 0,0,0
ownpal = 1

[State -2, PlaySnd]
type = PlaySnd
triggerall = Time = 1
triggerall = Enemynear,StateNo!= [120,155]
trigger1 = Enemynear,Movetype = H
trigger1 = Enemynear,Backedgedist<15
trigger1 = Enemynear,Statetype = A
trigger2 = Enemy,Movetype = H
trigger2 = Enemy,frontedgebodydist<25
trigger2 = Enemy,stateno = 5400
value = S5000,3
volume = 255
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
; Hyper Combo Finish BG
[State -2, Helper]
type = Helper
trigger1 = winko && stateno = [3000,4500]
;trigger2 = winko && stateno = 7104
triggerall = NumHelper(6000) < 1 ;&& (movecontact || helper,movecontact)
;trigger2 = winko && Numhelper(3004) >= 1 || winko && Numhelper(3006) >=1
;trigger2 = winko && Numhelper(3002) <= 1
helpertype = normal ;player
name = "Hyper Combo Finish BG"
ID = 6000
stateno = 6000
pos = 0,0
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermove = 1
pausemove = 1
supermovetime = 999999
pausemovetime = 999999
ignorehitpause = 1

;[State -2, VarSet]
;type = VarSet
;trigger1 = (WinKO) && (Var(10) !=1)
;v = 10
;value = 1
;ignorehitpause = 1

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;This controller plays a sound everytime the player lands from a jump, or
;from a back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = S52, 0
volume = 255
ignorehitpause = 1
persistent = 1

;-------------------------------------------------------------------------------
; Danger Announcer
[State -3, Danger Sound]
type = PlaySnd
trigger1 = (Life <= 200) && (var(50) = 0)
value = S5000,9
volume = 255
ignorehitpause = 1
persistent = 1

[State -3, Danger Sound]
type = PlaySnd
trigger1 = (Life <= 200) && (var(50) = 0)
value = S5000,10
volume = 255
ignorehitpause = 1
persistent = 1

[State -3, VarSet]
type = VarSet
trigger1 = Life <= 200
trigger1 = !time
trigger1 = var(50) < 50
v = 50
value = 1

[State -3, Danger Left]
triggerall = Var(50) = 1
triggerall = TeamSide = 1
trigger1 = Life <= 200
type = Explod
ownpal = 1
anim = 670
postype = Left
pos = 10,65
ontop = 1
bindtime = -1
scale = .6,.6
id = 670

[State -3, Danger Right]
triggerall = Var(50) = 1
triggerall = TeamSide = 2 && !IsHomeTeam
trigger1 = Life <= 200
type = Explod
ownpal = 1
anim = 670
ontop = 1
postype = Right
pos = -105,65
bindtime = -1
scale = .6,.6
id = 670

[State -3, VarAdd]
type = VarAdd
trigger1 = life <= 200
v = 50
value = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(670) = 1
trigger1 = var(50) = 50
id = 670

;--------------------------------------------------------------------------
; Air Combo Announcer
[State -3: Hits]
type = VarAdd
trigger1 = HitCount > var(21)
v = 22
value = 1

[State -3: Combo Counter]
type = VarSet
trigger1 = HitCount > var(21)
trigger2 = HitCount = 0
var(21) = HitCount

[State -3: Combo Counter]
type = VarSet
trigger1 = var(21) > 0
var(23) = var(22)

[State -3, Air Combo Sound]
type = PlaySnd
trigger1 = var(23) >= 3
trigger1 = enemyNear, MoveType != H && var(23) > 0
trigger1 = NumEnemy = 1
trigger1 = var(24) >= 1
value = S600,0
abspan = 0
volume = 255
ignorehitpause = 1
persistent = 1

[State -3, Air Combo Left]
trigger1 = var(23) >= 3
trigger1 = enemyNear, MoveType != H && var(23) > 0
trigger1 = TeamSide = 1
trigger1 = NumEnemy = 1
trigger1 = var(24) >= 1
type = Explod
ownpal = 1
anim = 660
;ID = 660
postype = Left
pos = 10,65
ontop = 1
bindtime = -1
scale = .6,.6

[State -3, Air Combo Right]
trigger1 = var(23) >= 3
trigger1 = enemyNear, MoveType != H && var(23) > 0
trigger1 = TeamSide = 2
trigger1 = NumEnemy = 1
trigger1 = var(24) >= 1
type = Explod
ownpal = 1
anim = 660
;ID = 660
ontop = 1
postype = Right
pos = -105,65
bindtime = -1
scale = .6,.6

[State -3: Reset Combo Counter]
type = VarSet
trigger1 = enemyNear, MoveType != H
var(23) = ((var(21) := (var(22) := (var(24) := 0))))

;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------


;--------------------- Float Variable List ----------------------

