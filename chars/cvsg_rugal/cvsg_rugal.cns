;Var(0)  = ジャストディフェンス硬直時間
;Var(1)  = オリコン始動時のヒット数
;Var(2)  = 
;Var(3)  = ジャンプ管理1（距離）
;Var(4)  = ジャンプ管理2（高さ）
;Var(5)  = 強弱管理
;Var(6)  = 　　　　使用済み
;Var(7)  = Cグルーヴパワー量による攻撃力変動
;Var(8)  = 残りライフ量による攻撃力変動
;Var(9)  = 相手残りライフ量による攻撃力変動
;Var(10) = ブロッキング前入力
;Var(11) = ブロッキング下入力
;Var(12) = 
;Var(13) = ラストジャッジメントKO時暗転中判定
;Var(14) = SグルーヴパワーMAX残り時間
;Var(15) = NグルーヴパワーMAX残り時間
;Var(16) = オリコン残り時間
;Var(17) = オリコン時ヒット数用
;Var(18) = オリコンOn/Off
;Var(19) = オリコン時残りゲージ量
;Var(20) = グルーヴ判定
;Var(21) = KグルーヴパワーMAXによる攻撃力変動
;Var(22) = SグルーヴパワーMAXによる攻撃力変動
;Var(23) = NグルーヴパワーMAXによる攻撃力変動
;Var(24) = グルーヴによるパワー増加量変動
;Var(25) = ジャストディフェンス入力
;Var(26) = 前ラウンド勝敗判定
;Var(27) = KOボイス判定
;Var(28) = ゴッドAI時攻撃力変動判定
;Var(29) = ゴッドAI時パワー増加量変動判定
;Var(30) = 
;Var(31) = Kグルーヴライフ残量によるパワー増加量変動
;Var(32) = roundstate3時間経過
;Var(33) = ゴッド時防御力判定
;Var(34) = 前ブロッキング入力後ニュートラルに戻したか否か
;Var(35) = 下ブロッキング入力後ニュートラルに戻したか否か
;Var(36) = Hit判定
;Var(37) = gethitvar(hitshaketime)
;Var(38) = カウンターヒットエフェクト表示位置（X軸）（攻撃）
;Var(39) = カウンターヒットエフェクト表示位置（Y軸）（攻撃）
;Var(40) = NグルーヴパワーMAX中判定
;Var(41) = カウンターヒット用
;Var(42) = SグルーヴゲージMAX中判定
;Var(43) = Kグルーヴ怒りMAX中判定
;Var(44) = カウンターヒットエフェクト表示位置（X軸）（飛び道具）
;Var(45) = カウンターヒットエフェクト表示位置（Y軸）（飛び道具）
;var(46) = GetHitVar(damage)
;Var(47) = MAXヒット数
;Var(48) = プレイヤー状態
;Var(49) = 相手状態
;Var(50) = グルーヴポイント
;var(51) = ラウンド開始からの経過時間
;Var(52) = キャラ判別
;var(53) = 相手ライフ（ダメージ前）
;var(54) = コンプリートボーナス用
;var(55) = コンプリートボーナス用2
;var(56) = matchover時間経過
;var(57) = 相手動作によるゲージ消去判定
;Var(58) = ファーストストライク判定
;Var(59) = AI判定

;fvar(0)  = コンボ補正
;fvar(1)  = ガード中State判定
;fvar(2)  = 投げ抜け判定
;fvar(3)  = グルーヴポイント表示On/Off
;fvar(4)  = Lv.2キャンセル後追撃用
;fvar(5)  = ボーナスメッセージアイコン表示一段目有無
;fvar(6)  = ボーナスメッセージアイコン表示二段目有無
;fvar(7)  = ボーナスメッセージアイコン表示三段目有無
;fvar(8)  = アイコン種類
;fvar(9)  = フィニッシュヒット判定
;fvar(10) = 攻撃力補正
;fvar(11) = roundstate4経過時間
;fvar(12) = ライフ
;fvar(13) = KグルーヴパワーMAX残り時間
;fvar(14) = パーフェクト判定
;fvar(15) = カウンターヒットメッセージ用
;fvar(16) = DoubleRes設定（ゲージのみ）
;fvar(17) = ダークバリア処理1
;fvar(18) = ダークバリア処理2
;fvar(19) = KOボイス種類判定
;fvar(20) = やられ時にゲージ消去をする相手動作の判定
;fvar(21) = パワー溜まった時の音用
;fvar(22) = リバーサル判定用1
;fvar(23) = リバーサル判定用2
;fvar(24) = GP表示背景色変化用
;fvar(25) = 燃焼、感電エフェクト用
;fvar(26) = 空中コンボ数
;fvar(27) = 
;fvar(28) = 
;fvar(29) = 
;fvar(30) = 
;fvar(31) = 
;fvar(32) = 
;fvar(33) = 
;fvar(34) = 　　　　使用済み
;fvar(35) = 　　　　使用済み
;fvar(36) = 
;fvar(37) = 
;fvar(38) = 空中復帰誘導
;fvar(39) = ゲームシステム判別

[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 100
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 15     ;キャラの幅(後方,地上)
ground.front = 15    ;キャラの幅(前方,地上)
air.back = 15        ;キャラの幅(後方,空中)
air.front = 15       ;キャラの幅(前方,空中)
height = 60         ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -10, -120  ;頭の大体の座標
mid.pos = -10, -65    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 3.47        ;前進の速度
walk.back = -2.64       ;後退の速度
run.fwd  =5.66, 0       ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -7.5,-4.5    ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.8       ;垂直ジャンプの速度
jump.back = -3.86       ;後ジャンプの速度
jump.fwd = 4.52         ;前ジャンプの速度
runjump.back = -5.79,-12;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 6.78,-10.5;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-3      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55    ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.5       ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .55         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
;歩き
[Statedef 20]
type    = S
physics = S
sprpriority = 0
ctrl = 1

[State -3]
type = AfterImageTime
triggerall = !var(16)
trigger1 = Time = 0
time = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd" && !var(59)
x = const(velocity.walk.fwd.x)*1.3

[State 20, 2]
type = VelSet
trigger1 = command = "holdback" && !var(59)
x = const(velocity.walk.back.x)*1.3

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20; && Anim != 5
;trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21; && Anim != 5
;trigger2 = Anim = 5 && AnimTime = 0
value = 21

;---------------------------------------------------------------------------
;歩き（CPU）
[Statedef 21]
type    = S
physics = N
sprpriority = 0
ctrl = 1

[State 20, 1]
type = VelSet
trigger1 = time = 0
trigger1 = random%7!=0
x = const(velocity.walk.fwd.x)*1.3

[State 20, 2]
type = VelSet
trigger1 = time = 0
trigger1 = random%7=0
x = const(velocity.walk.back.x)*1.3

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21
value = 21

[State 20, 4]
type = changestate
trigger1 = P2dist x <= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプ開始
[Statedef 40]
type    = A
physics = S
anim = ifelse((!var(20) || var(20) = 1),40,50)
ctrl = 0
velset = 0,0

[State 3001, Super]
type = Helper
trigger1 = AnimTime = 0
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 40, 1]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
sysvar(1) = command = "holdfwd"-command = "holdback"

[State 40, 1]
type = VarSet
triggerall = PrevStateNo != 100 && PrevStateNo != 101
triggerall = var(59) = 1
trigger1 = Random = [0,100]
sysvar(1) = 0

[State 40, 2]
type = VarSet
triggerall = PrevStateNo != 100 && PrevStateNo != 101
triggerall = var(59) = 1
trigger1 = Random = [101,850]
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = PrevStateNo != 100 && PrevStateNo != 101
triggerall = var(59) = 1
trigger1 = Random = [851,999]
sysvar(1) = -1

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 40, 4]
type = VarSet
triggerall = Time = 0
triggerall = !var(59)
trigger1 = (PrevStateNo = 100 || PrevStateNo = 101) && sysvar(1) = 1
trigger2 = Command = "longjump"
trigger3 = Command = "longjump" && Command = "holdfwd"
trigger4 = Command = "longjump" && Command = "holdback"
var(3) = 1

[State 40, 4]
type = VarSet
triggerall = var(59) = 1
triggerall = Time = 0
trigger1 = PrevStateNo = 100 || PrevStateNo = 101
trigger2 = Random = [0,420]
var(3) = 1

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 40, 5]
type = VarSet
triggerall = !var(59)
triggerall = var(20) = 2 || var(20) = 3 || var(20) = 4 || var(20) = 5 || var(20) = 6
trigger1 = command != "holdup"
var(4) = 1

[State 40, 5]
type = VarSet
triggerall = var(59) = 1
triggerall = var(20) = 2 || var(20) = 3 || var(20) = 4 || var(20) = 5 || var(20) = 6
trigger1 = Random = [0,130]
var(4) = 1

[State 40, 6]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = !Var(3)
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))

[State 40, 7]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(3)
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.runjump.fwd.x), const(velocity.runjump.back.x)))

[State 40, 8]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = !Var(4)
y = ifelse (Var(3) && !SysVar(1), const(velocity.jump.y)*1.15, const(velocity.jump.y))

[State 40, 9]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(4)
y = ifelse (Var(3) && !SysVar(1), const(velocity.jump.y)*1.15*.75, const(velocity.jump.y)*.75)

[State 40, Position]
type = PosAdd
trigger1 = Var(3) && Vel X
x = -Vel X

[State 52, Effect]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, var(3)
channel = 20

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプ
[Statedef 50]
type    = A
physics = N

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 51, ifelse((vel x)>0, 52, 53))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 50, AfterImage]
type = AfterImage
triggerall = !var(16)
trigger1 = Time = 0
trigger1 = Var(3)
time = 20
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
length = 9
trans = add1
TimeGap  = 2
FrameGap = 4

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ジャンプ着地
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = ifelse(var(4),57,47)

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7400
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7450

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = .5,.5

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
triggerall = (prevstateno != [600,799]) && prevstateno != 1450
trigger1 = Time = 0
value = 1

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, RemoveAfterImage]
type = AfterImageTime
triggerall = !var(16)
trigger1 = Time = 0
time = 0

[State 52, 1]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;ラン
[Statedef 100]
type    = S
physics = S
anim = 100
velset = 0,0
ctrl = 0

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 2
x = 15

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 8040
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 100, 1]
type = VelSet
trigger1 = AnimElemTime(2) >= 0
x = const(velocity.run.fwd.x)*1.18

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 100, Effect]
type = PlaySnd
trigger1 = time = 1
value = 100,0
channel = 18

[State 100, Effect]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 100,1
channel = 19

[State 100, Effect]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = 100,2
channel = 20

[State 100, 5]
type = ChangeState
triggerall = !var(59)
triggerall = AnimElemTime(2) >= 1
trigger1 = command != "holdfwd"
value = 101
ctrl = 1

[State 100, 5]
type = ChangeState
triggerall = var(59)
triggerall = AnimElemTime(2) >= 1
trigger1 = P2BodyDist X <= 55 && Random <= 880
trigger2 = P2MoveType = A && Random <= 750 && P2BodyDist X <= 80
trigger3 = roundstate != 2
value = 101
ctrl = 1

;---------------------------------------------------------------------------
;ラン停止
[Statedef 101]
type = S
physics = N
ctrl = 0
anim = 101

[State 100, 4]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 100, 1]
type = VelMul
trigger1 = 1
x = .9

[State 100, 1]
type = VelSet
trigger1 = animtime = 0
x = 0

[State 100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,3
channel = 20

[State 105, 2]
type = CtrlSet
trigger1 = Time = 11
value = 1

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;ステップ
[Statedef 102]
type    = S
movetype = I
physics = N
ctrl = 0
Velset = 0,0
anim = 102

[State 105, 1]
type = VelSet
trigger1 = AnimElem = 2
x = 10.5

[State 105, 1]
type = VelMul
trigger1 = AnimElemTime(2) > 0
x = .98

[State 105, 1]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 100, 0
channel = 20

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8040
pos = 0, 0
postype = p1
ownpal = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 105, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 103

;---------------------------------------------------------------------------
;ステップ（着地）
[Statedef 103]
type    = S
physics = S
ctrl = 1
anim = 106

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 100, 1
channel = 20

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = .5,.5

[State 106, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;バックステップ
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 105, 0
channel = 20

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8040
pos = 0, 0
postype = p1
ownpal = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 1]
type = VelMul
trigger1 = AnimElemTime(2) > 0
x = .98

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
;バックステップ（着地）
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = .5,.5

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 52, 0
channel = 20

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = time = 3
value = 1

[State 106, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; タイムオーバー負け
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; タイムオーバー引き分け
[Statedef 175]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;勝利ポーズ
[Statedef 180]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 180,0]
type = Changestate
trigger1 = Prevstateno = 3203
value = 3204

[State 190, 1]
type = ChangeAnim
triggerall = !matchover
trigger1 = Time = 0
value = 180

[State 190, 1]
type = ChangeAnim
triggerall = matchover
trigger1 = Time = 0
value = 181

[State 190, Voice]
type = PlaySnd
triggerall = Anim = 180
trigger1 = AnimElem = 1
value = 180,0
channel = 0

[State 190, Voice]
type = PlaySnd
triggerall = Anim = 181
trigger1 = AnimElem = 1
value = 180,0
channel = 0

[State 190, Voice]
type = PlaySnd
triggerall = Anim = 181
trigger1 = AnimElem = 7
value = 180,1

[State 181, 1]
type = AssertSpecial
trigger1 = Time < 250
flag = RoundNotOver

;---------------------------------------------------------------------------
;イントロ（分岐）
[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State -2, 3]
type = ChangeState
trigger1 = Time = 0
value = ifelse(random<125||(IsHomeTeam && Roundstate = 0 && Pos X > 0),192,191)

;---------------------------------------------------------------------------
;イントロ（通常）
[Statedef 191]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 190, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 190

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, Voice]
type = PlaySnd
trigger1 = AnimElem = 6
value = 190, 0

[State 190, Voice]
type = PlaySnd
trigger1 = AnimElem = 10
value = 190, 3

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;イントロ（GルガールCPU版）
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, Cloth]
type = Helper
trigger1 = AnimElem = 1
ID = 8810
stateno = 8810
postype = p1
pos = 32,-150
name = "gouki"

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElemTime(1) = 65
value = 190, 2
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3, 2

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;イントロ（GルガールCPU版）（豪鬼）
[Statedef 8810]
type = S
ctrl = 0
velset = 0,0
sprpriority = -1

[State 190, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 8810

[STate 901,1]
type = SprPriority
trigger1 = animelem = 4
value = 2

[STate 901,1]
type = PosAdd
trigger1 = animelem = 2
y = -4
postype = P1

[STate 901,1]
type = PosAdd
trigger1 = animelem = 3
x = -16
y = 12
postype = P1

[STate 901,1]
type = PosAdd
trigger1 = animelem = 4
x = 24
y = 44
postype = P1

[STate 901,1]
type = PosAdd
trigger1 = animelem = 5
x = -4
y = -4
postype = P1

[STate 901,1]
type = PosAdd
trigger1 = animelem = 6
x = -32
y = 6
postype = P1

[STate 901,1]
type = PosAdd
trigger1 = animelem = 7
x = -72
y = 6
postype = P1

[State 903, Vel]
type = velset
trigger1 = animelemtime(6) = 4
x = -6
y = -7

[State 903, Vel]
type = veladd
trigger1 = animelemtime(7) > 4
y = 0.49

[State 8200, Destroy]
type = DestroySelf
trigger1 = animelemtime(7) > 4
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0

;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S

[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3200, 0
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち弱パンチ
[Statedef 200]
type    = S
movetype =  A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((35*fvar(10))<7,7,(35*fvar(10))))
pausetime = ceil(9*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
guard.pausetime = ceil(9*(2-(var(16)>0))/2),ceil(8*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -86
hitsound = S2, 0
guardsound = S1, 0
ground.type = High
air.type = High
ground.slidetime = 11+(var(41)*2)
ground.hittime = 11+(var(41)*2)
air.hittime = 11+(var(41)*2)
guard.ctrltime = 11
ground.velocity = -6*(2-(var(16)>0))/2
guard.velocity = -5.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -8.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 0

[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -86

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち中パンチ
[Statedef 210]
type    = S
movetype =  A
physics = S                    
juggle = 8
velset = 0,0
ctrl = 0
anim = 210
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 1

[State 210, Voice]
type = PlaySnd
trigger1 = AnimElem = 2 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 210, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = back
fall.animtype = back
priority = 4,Hit
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
pausetime = ceil(11*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
guard.pausetime = ceil(11*(2-(var(16)>0))/2),ceil(11*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -20, -107
hitsound = S2, 1
guardsound = S1, 0
ground.type = High
air.type = High
ground.slidetime = 14+(var(41)*3)
ground.hittime = 14+(var(41)*3)
air.hittime = 14+(var(41)*3)
guard.ctrltime = 15
ground.velocity = -8.5*(2-(var(16)>0))/2
guard.velocity = -8
air.velocity = -4, -5.25
ground.cornerpush.veloff = -11.9*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -20

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -107

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち強パンチ
[Statedef 220]
type    = S
movetype =  A
physics = S
juggle = 8
ctrl = 0
velset = 0,0
anim = 220
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3, 2
channel = 1

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 3 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -72
hitsound = S2, 2
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -9.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35                
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -72

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 16

[State 220, Position]
type = PosAdd
trigger1 = AnimTime = 0
x = 11

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち強パンチ
[Statedef 221]
type    = S
movetype =  A
physics = S
juggle = 8
ctrl = 0
velset = 0,0
anim = 221
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 221, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 2
channel = 1

[State 221, Voice]
type = PlaySnd
triggerall = prevstateno != 830
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 221, 1]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -72
hitsound = S2, 2
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -10.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35               
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -72

[State 221, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち弱キック
[Statedef 230]
type    = S
movetype =  A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 230
poweradd = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 230, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((35*fvar(10))<7,7,(35*fvar(10))))
pausetime = ceil(9*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
guard.pausetime = ceil(9*(2-(var(16)>0))/2),ceil(8*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -31
hitsound = S2, 3
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 11+(var(41)*2)
ground.hittime = 11+(var(41)*2)
air.hittime = 11+(var(41)*2)
guard.ctrltime = 11
ground.velocity = -6*(2-(var(16)>0))/2
guard.velocity = -5.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -8.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35                                  
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 3

[State 230, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -31

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち弱キック
[Statedef 231]
type    = S
movetype =  A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 231
poweradd = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 230, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((42*fvar(10))<7,7,(42*fvar(10))))
pausetime = ceil(9*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
guard.pausetime = ceil(9*(2-(var(16)>0))/2),ceil(8*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -86
hitsound = S2, 3
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 11+(var(41)*2)
ground.hittime = 11+(var(41)*2)
air.hittime = 11+(var(41)*2)
guard.ctrltime = 11
ground.velocity = -6*(2-(var(16)>0))/2
guard.velocity = -5.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -8.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35                                  
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 3

[State 230, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -86

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち中キック
[Statedef 240]
type    = S
movetype =  A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 240
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 240, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 4

[State 240, Voice]
type = PlaySnd
trigger1 = AnimElem = 2 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 240, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = back
fall.animtype = back
priority = 4,Hit
damage = ceil(ifelse((84*fvar(10))<7,7,(84*fvar(10))))
pausetime = ceil(11*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
guard.pausetime = ceil(11*(2-(var(16)>0))/2),ceil(11*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -34
hitsound = S2, 4
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 14+(var(41)*3)
ground.hittime = 14+(var(41)*3)
air.hittime = 14+(var(41)*3)
guard.ctrltime = 15
ground.velocity = -8.5*(2-(var(16)>0))/2
guard.velocity = -8
air.velocity = -4, -5.25
ground.cornerpush.veloff = -11.9*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -34

[State 240, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち中キック
[Statedef 241]
type    = S
movetype =  A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 241
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 240, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 4

[State 240, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 240, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = back
fall.animtype = back
priority = 4,Hit
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
pausetime = ceil(11*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
guard.pausetime = ceil(11*(2-(var(16)>0))/2),ceil(11*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -81
hitsound = S2, 4
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 14+(var(41)*3)
ground.hittime = 14+(var(41)*3)
air.hittime = 14+(var(41)*3)
guard.ctrltime = 15
ground.velocity = -8.5*(2-(var(16)>0))/2
guard.velocity = -8
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -11.9*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -81

[State 240, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離立ち強キック
[Statedef 250]
type    = S
movetype =  A
physics = S
juggle = 8
ctrl = 0
velset = 0,0
anim = 250
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 2
y = 0

[State 250, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3, 5
channel = 1

[State 250, Voice]
type = PlaySnd
triggerall = prevstateno != 830
trigger1 = AnimElem = 3 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 250, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((91*fvar(10))<7,7,(91*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -20, -92
hitsound = S2, 5
guardsound = S1, 0
ground.type = High
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -10.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35              
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 250, 1]
type = Hitdef
triggerall = var(36) != [1,2]
trigger1 = AnimElem = 6
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -20, -92
hitsound = S2, 5
guardsound = S1, 0
ground.type = High
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -10.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35              
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 250, 1]
type = Hitdef
triggerall = prevstateno = 830
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((105*fvar(10))<7,7,(105*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -20, -92
hitsound = S2, 5
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -8,-5
guard.velocity = -9.5
air.velocity = -8,-5 
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35              
persistent = 0
fall = 1
air.fall = 1
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 250, 1]
type = Hitdef
triggerall = var(36) != [1,2]
triggerall = prevstateno = 830
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((91*fvar(10))<7,7,(91*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -20, -92
hitsound = S2, 5
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -8,-5
guard.velocity = -9.5
air.velocity = -8,-5 
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35              
persistent = 0
fall = 1
air.fall = 1
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -20

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -92

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離立ち強キック
[Statedef 251]
type    = S
movetype =  A
physics = S
juggle = 8
ctrl = 0
velset = 0,0
anim = 251
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 251, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 5
channel = 1

[State 251, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 251, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = ceil(ifelse((91*fvar(10))<7,7,(91*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -20, -52
hitsound = S2, 5
guardsound = S1, 0
ground.type = High
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -10.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35             
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 251, 1]
type = Hitdef
triggerall = var(36) != [1,2]
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -20, -72
hitsound = S2, 5
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -10.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35                
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = AnimElem = 3 || AnimElem = 4
ignorehitpause = 1
var(39) = ifelse((AnimElem = 3),-52,-72)

[State 251, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[Statedef 400]
type    = C
movetype =  A
physics = C
juggle = 8
ctrl = 0
anim = 400
poweradd = 0
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 400, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 0
channel = 1

[State 400, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 400, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((28*fvar(10))<7,7,(28*fvar(10))))
pausetime = ceil(9*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
guard.pausetime = ceil(9*(2-(var(16)>0))/2),ceil(8*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -52
hitsound = S2, 0
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 11+(var(41)*2)
ground.hittime = 11+(var(41)*2)
air.hittime = 11+(var(41)*2)
guard.ctrltime = 11
ground.velocity = -6*(2-(var(16)>0))/2
guard.velocity = -5.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -8.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -52

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ中パンチ
[Statedef 410]
type    = C
movetype =  A
physics = C
juggle = 8
ctrl = 0
anim = 410
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 410, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3, 1
channel = 1

[State 410, Voice]
type = PlaySnd
trigger1 = AnimElem = 3 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 410, 2]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = back
fall.animtype = back
priority = 4,Hit
damage = ceil(ifelse((70*fvar(10))<7,7,(70*fvar(10))))
pausetime = ceil(11*(2-(var(16)>0))/2),ceil(11*(2-(var(16)>0))/2)
guard.pausetime = ceil(11*(2-(var(16)>0))/2),ceil(11*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -55
hitsound = S2, 1
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 14+(var(41)*3)
ground.hittime = 14+(var(41)*3)
air.hittime = 14+(var(41)*3)
guard.ctrltime = 15
ground.velocity = -8.5*(2-(var(16)>0))/2
guard.velocity = -8
air.velocity = -4, -5.25
ground.cornerpush.veloff = -11.9*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -55

[State 410, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[Statedef 420]
type    = C
movetype =  A
physics = C
juggle = 8
ctrl = 0
anim = 420
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 420, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3, 2
channel = 1

[State 420, Voice]
type = PlaySnd
trigger1 = AnimElem = 3 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 420, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = ceil(ifelse((28*fvar(10))<7,7,(28*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -51
hitsound = S2, 2
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -10.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -15.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 420, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = up
fall.animtype = up
priority = 5,Hit
damage = ceil(ifelse((84*fvar(10))<7,7,(84*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -75
hitsound = S2, 2
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 17+(var(41)*4)
guard.ctrltime = 17
ground.velocity = -11*(2-(var(16)>0))/2
guard.velocity = -10.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -11*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = AnimElem = 4 || AnimElem = 5
ignorehitpause = 1
var(39) = ifelse((AnimElem = 4),-51,-75)

[State 420, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ弱キック
[Statedef 430]
type    = C
movetype =  A
physics = C
juggle = 8
ctrl = 0
anim = 430
poweradd = 0
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 430, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 3
channel = 1

[State 430, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 430, 2]
type = Hitdef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((21*fvar(10))<7,7,(21*fvar(10))))
pausetime = ceil(9*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
guard.pausetime = ceil(9*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -6
hitsound = S2, 3
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 11+(var(41)*2)
ground.hittime = 11+(var(41)*2)
air.hittime = 11+(var(41)*2)
guard.ctrltime = 11
ground.velocity = -6*(2-(var(16)>0))/2
guard.velocity = -5.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -8.4*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -6

[State 403, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ中キック
[Statedef 440]
type    = C                      
movetype =  A
physics = C                    
juggle = 8
velset = 0,0
ctrl = 0
anim = 440
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 440, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 4
channel = 1

[State 440, Voice]
type = PlaySnd
trigger1 = AnimElem = 2 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 440, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Medium
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((70*fvar(10))<7,7,(70*fvar(10))))
pausetime = ceil(11*(2-(var(16)>0))/2),ceil(11*(2-(var(16)>0))/2)
guard.pausetime = ceil(11*(2-(var(16)>0))/2),ceil(11*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -7
hitsound = S2, 4
guardsound = S1, 0
ground.type = Low
air.type = High
ground.slidetime = 14+(var(41)*3)
ground.hittime = 14+(var(41)*3)
air.hittime = 14+(var(41)*3)
guard.ctrltime = 15
ground.velocity = -8.5*(2-(var(16)>0))/2
guard.velocity = -8
air.velocity = -4, -5.25
ground.cornerpush.veloff = -11.9*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -7

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ強キック
[Statedef 450]
type    = C
movetype =  A
physics = C
juggle = 8
ctrl = 0
anim = 450
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 450, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 5
channel = 1

[State 450, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 450, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((105*fvar(10))<7,7,(105*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -5
hitsound = S2, 5
guardsound = S1, 0
ground.type = Trip
air.type = High
ground.slidetime = 17+(var(41)*4)
guard.slidetime = 17+(var(41)*4)
ground.hittime = 17+(var(41)*4)
air.hittime = 18
guard.ctrltime = 17
ground.velocity = -.7,-6.25
guard.velocity = -10.5
air.velocity = -.7,-6.25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -13
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35          
yaccel = .5
air.fall = 1
fall = 1
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -5

[State 450, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプ弱パンチ
[Statedef 600]
type    = A
movetype =  A
physics = N
juggle = 8
ctrl = 0
anim = 600
poweradd = 0

[State 600, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 0
channel = 1

[State 600, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 600, 2]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((42*fvar(10))<7,7,(42*fvar(10))))
pausetime = ceil(9*(2-(var(16)>0))/2),ceil(10*(2-(var(16)>0))/2)
guard.pausetime = ceil(9*(2-(var(16)>0))/2),ceil(10*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -59
hitsound = S2, 0
guardsound = S1, 0
ground.type = High
ground.slidetime = 9+(var(41)*2)
ground.hittime = 9+(var(41)*2)
air.hittime = 9+(var(41)*2)
guard.ctrltime = 12
ground.velocity = -3*(2-(var(16)>0))/2
guard.velocity = -3.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -4.2*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -59

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ジャンプ中パンチ
[Statedef 610]
type    = A
movetype = A
physics = N
juggle = 8
ctrl = 0
anim = 610    
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 610, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 1
channel = 1

[State 610, Voice]
type = PlaySnd
trigger1 = AnimElem = 2 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 610, 2]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Medium
air.animtype = back
fall.animtype = back
priority = 4,Hit
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
pausetime = ceil(11*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
guard.pausetime = ceil(11*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -98
hitsound = S2, 1
guardsound = S1, 0
ground.type = High
ground.slidetime = 12+(var(41)*3)
ground.hittime = 12+(var(41)*3)
air.hittime = 12+(var(41)*3)
guard.ctrltime = 15
ground.velocity = -4*(2-(var(16)>0))/2
guard.velocity = -4.5
air.velocity = -4, -5.25
ground.cornerpush.veloff = -5.6*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -98

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ジャンプ強パンチ
[Statedef 620]
type    = A
movetype =  A
physics = N
juggle = 8
ctrl = 0
anim = 620
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 620, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 2
channel = 1

[State 620, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 620, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage =  ceil(ifelse((98*fvar(10))<7,7,(98*fvar(10))))
pausetime =  ceil(13*(2-(var(16)>0))/2),ceil(14*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(14*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -59
hitsound = S2, 2
guardsound = S1, 0
ground.type = High
ground.slidetime = 12+(var(41)*4)
ground.hittime = 12+(var(41)*4)
air.hittime = 12+(var(41)*4)
guard.ctrltime = 20
ground.velocity = -5*(2-(var(16)>0))/2
guard.velocity = -4.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -7*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35    
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -59

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ジャンプ弱キック
[Statedef 630]
type    = A
movetype =  A
physics = N
juggle = 8
ctrl = 0
anim = 630
poweradd = 0

[State 630, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 3
channel = 1

[State 630, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 630, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((42*fvar(10))<7,7,(42*fvar(10))))
pausetime = ceil(9*(2-(var(16)>0))/2),ceil(10*(2-(var(16)>0))/2)
guard.pausetime = ceil(9*(2-(var(16)>0))/2),ceil(10*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -49
hitsound = S2, 3
guardsound = S1, 0
ground.type = High
ground.slidetime = 9+(var(41)*2)
ground.hittime = 9+(var(41)*2)
air.hittime = 9+(var(41)*2)
guard.ctrltime = 12
ground.velocity = -3*(2-(var(16)>0))/2
guard.velocity = -2.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -4.2*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -49

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ジャンプ中キック
[Statedef 640]
type    = A
movetype = A
physics = N
juggle = 8
ctrl = 0
anim = 640                                  
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 640, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 4
channel = 1

[State 601, Voice]
type = PlaySnd
trigger1 = AnimElem = 2 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 640, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Medium
air.animtype = back
fall.animtype = back
priority = 4,Hit
damage = ceil(ifelse((70*fvar(10))<7,7,(70*fvar(10))))
pausetime = ceil(11*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
guard.pausetime = ceil(11*(2-(var(16)>0))/2),ceil(12*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -52
hitsound = S2, 4
guardsound = S1, 0
ground.type = High
ground.slidetime = 12+(var(41)*3)
ground.hittime = 12+(var(41)*3)
air.hittime = 12+(var(41)*3)
guard.ctrltime = 15
ground.velocity = -4*(2-(var(16)>0))/2
guard.velocity = -3.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -5.6*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
persistent = 0
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -52

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;----------------------------------------------------------------------------
;ジャンプ強キック
[Statedef 650]
type    = A
movetype =  A
physics = N
juggle = 8
ctrl = 0
anim = 650
poweradd = 17*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 650, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3, 5
channel = 1

[State 650, Voice]
type = PlaySnd
trigger1 = AnimElem = 3 && Random <= 500
value = 0, 1+(random%2)
channel = 0

[State 650, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse((105*fvar(10))<7,7,(105*fvar(10))))
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(14*(2-(var(16)>0))/2)
guard.pausetime = ceil(13*(2-(var(16)>0))/2),ceil(14*(2-(var(16)>0))/2)
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = -10, -50
hitsound = S2, 5
guardsound = S1, 0
ground.type = High
ground.slidetime = 12+(var(41)*4)
ground.hittime = 12+(var(41)*4)
air.hittime = 12+(var(41)*4)
guard.ctrltime = 20
ground.velocity = -5*(2-(var(16)>0))/2
guard.velocity = -4.5
air.velocity = -6.4, -4.8
ground.cornerpush.veloff = -7*(2-(var(16)>0))/2
air.cornerpush.veloff = 0
getpower = ifelse(var(17),70,214)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
air.fall = 0
fall.recover = !var(16)
air.recover = !var(16)
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
yaccel = .5

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -50

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;回り込み
[Statedef 800]
type    = S
physics = N
movetype= I
anim = 800
ctrl = 0
velset = 0,0

[State 810, Voice]
type = Playsnd
trigger1 = time = 1
value = ifelse(random<500,800,0),1
channel = 0

[State 810, Voice]
type = Playsnd
trigger1 = time = 1
value = 800,50

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 5.45

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 810, HitBy]
type = HitBy
trigger1 = time <= 20
value = SCA, NT,ST,HT

[State 810, Push]
type = PlayerPush
trigger1 = AnimElemTime(2) > 0
value = 0

[State 810, AfterImage]
type = Afterimage
triggerall = !var(16)
trigger1 = AnimElem = 2
time = 15
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 810, StateChange]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ガードキャンセル移動（前）
[Statedef 810]
type    = S
physics = N
movetype =  I
ctrl = 0
velset = 0,0
poweradd = -1000

[State 180, 1]
type = VarAdd
trigger1 = time = 0
var(50)=500
ignorehitpause = 1

[State 902, Shock]
type = PalFX
trigger1 = Time = 0
time = 2
invertall = 1
mul = 0,0,0

[State 1100, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 810,0
channel = 1

[State -3,Super]
type = Helper
trigger1 = Time = 0
id = 8070
name = "GUARD CANCEL"
pos = 10,-ifelse(PrevStateNo = 152,40,80)
postype = P1
stateno = 8070
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
persistent = 0

[State 0]
type = pause
trigger1 = time = 1
time = 6
movetime = 6

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 190, 4]
type = ChangeAnim
trigger1 = time <= 12
value = anim

[State 190, 4]
type = ChangeAnim
trigger1 = time = 13
value = 800

[State 810, Voice]
type = Playsnd
triggerall = anim = 800
trigger1 = animelem = 1
value = ifelse(random<500,800,0),1
channel = 0

[State 810, Voice]
type = Playsnd
triggerall = anim = 800
trigger1 = animelem = 1
value = 800,50

[State 810, Velocity]
type = VelSet
triggerall = anim = 800
trigger1 = AnimElem = 2
x = 5.45

[State 810, Velocity]
type = VelSet
triggerall = anim = 800
trigger1 = AnimElem = 8
x = 0

[State 810, HitBy]
type = HitBy
trigger1 = time <= 32
value = SCA, NT,ST,HT

[State 810, Push]
type = PlayerPush
triggerall = anim = 800
trigger1 = AnimElemTime(1) > 0
value = 0

[State 810, AfterImage]
type = Afterimage
triggerall = anim = 800
trigger1 = AnimElem = 2
time = 15
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 810, StateChange]
type = Changestate
triggerall = anim = 800
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ガードキャンセル移動（後）
[Statedef 820]
type    = S
physics = N
ctrl = 0
poweradd = -1000
velset = 0,0

[State 180, 1]
type = VarAdd
trigger1 = time = 0
var(50)=-1000
ignorehitpause = 1

[State 902, Shock]
type = PalFX
trigger1 = Time = 0
time = 2
invertall = 1
mul = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 22

[State 1100, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 810,0
channel = 1

[State -3,Super]
type = Helper
trigger1 = Time = 0
id = 8070
name = "GUARD CANCEL"
pos = 10,-ifelse(PrevStateNo = 152,40,80)
postype = P1
stateno = 8070
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
persistent = 0

[State 0]
type = pause
trigger1 = time = 1
time = 6
movetime = 6

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 190, 4]
type = ChangeAnim
trigger1 = time <= 12
value = anim

[State 190, 4]
type = ChangeAnim
trigger1 = time = 13
value = 105

[State 800, AfterImage]
type = Afterimage
triggerall = anim = 105
trigger1 = AnimElem = 2
time = 22
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 52, Effect]
type = PlaySnd
triggerall = anim = 105
trigger1 = AnimElem = 1
value = 105, 0
channel = 20

[State 1000, Spark]
type = Explod
triggerall = anim = 105
trigger1 = AnimElem = 1
Anim = 8040
pos = 0, 0
postype = p1
ownpal = 1
;bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 1100, StateType]
type = StateTypeSet
triggerall = anim = 105
trigger1 = AnimElemTime(2) = 1
StateType = A
physics = N

[State 105, 1]
type = VelSet
triggerall = anim = 105
trigger1 = AnimElemTime(2) = 1
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 903, Vel]
type = veladd
triggerall = anim = 105
trigger1 = AnimElemTime(2) > 1
y = 0.54

[State 105, 1]
type = VelMul
triggerall = anim = 105
trigger1 = AnimElemTime(2) > 0
x = .98

[State 105, 3]
type = ChangeState
triggerall = anim = 105
triggerall = AnimElemTime(2) > 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
;避け
[Statedef 830]
type    = S
physics = S
movetype =  I
anim = 830
ctrl = 0
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 400, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 0
channel = 1

[State 400, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 1
channel = 0

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 800, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 800, AfterImage]
type = Afterimage
triggerall = !var(16)
trigger1 = AnimElem = 1
time = 26
length = 10
FrameGap = 6
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 800, StateChange]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;パワー溜め
[Statedef 850]
type    = S
physics = S
movetype= I
anim = 850
ctrl = 0
velset = 0,0

[State 820, Voice]
type = Playsnd
trigger1 = Anim = 850 && AnimElem = 2
value = 1300,1
channel = 0

[State 820, PowerAdd]
type = PowerAdd
triggerall = Anim = 850
triggerall = !var(59) && (Command = "chargec" && Command = "chargez") || var(59) = 1
trigger1 = 1
value = ifelse(Var(20) = 3, 5, 4)

[State 820, PowerAdd]
type = PowerAdd
triggerall = Anim = 850
triggerall = !var(59) && (Command = "chargec" && Command = "chargez") || var(59) = 1
trigger1 = Time >= 60
value = ifelse(Var(20) = 3, 6, 4)

[State 820, PowerAdd]
type = PowerAdd
triggerall = Anim = 850
triggerall = !var(59) && (Command = "chargec" && Command = "chargez") || var(59) = 1
trigger1 = Time >= 120
value = ifelse(Var(20) = 3, 7, 5)

[State 820, PowerAdd]
type = PowerAdd
triggerall = Anim = 850
triggerall = !var(59) && (Command = "chargec" && Command = "chargez") || var(59) = 1
trigger1 = Time >= 150
value = ifelse(Var(20) = 3, 8, 5)

[State 820, PowerAdd]
type = PowerAdd
triggerall = Anim = 850
triggerall = !var(59) && (Command = "chargec" && Command = "chargez") || var(59) = 1
trigger1 = Time >= 240
value = ifelse(Var(20) = 3, 9, 6)

[State 820, Anim]
type = ChangeAnim
triggerall = !var(59)
trigger1 = (Command != "chargec" || Command != "chargez") || ((power >= 1000 && var(20) = 3) || (power >= 3000 && var(20) = 6))
value = 851
persistent = 0

[State 704, 8]
type = ChangeAnim
triggerall = (var(20) = 3 && !var(14)) || var(20) = 6
triggerall = Time >= 2
triggerall = var(59)
trigger1 = P2MoveType = A && abs(enemynear,Pos X - Pos X) <= 190
trigger2 = ((power >= 1000 && var(20) = 3) || (power >= 3000 && var(20) = 6))
trigger3 = win
trigger4 = enemynear,numproj
value = 851
persistent = 0

[State 820, Voice]
type = Stopsnd
trigger1 = Anim = 851
channel = 0
persistent = 0

[State 3001, Super]
type = Helper
trigger1 = !NumHelper(8500)
trigger1 = Time = 1
id = 8500
name = "Charge"
pos =0,0
postype = P1
stateno = 8500
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1850, ctrlset]
type = ctrlset
triggerall = ctrl = 0
trigger1 = anim = 851
value = 1

[State 820, StateChange]
type = ChangeState
trigger1 = Anim = 851 && AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;パワーMAX発動
[Statedef 860]
type = S
physics = S
movetype= I
anim = 860
ctrl = 0
velset = 0,0

[State 860, 1]
type = Explod
trigger1 = Time = 6
anim = 8415
pos = 0,-60
postype = p1
bindtime = -1
sprpriority = 4
ontop = 0
ownpal = 1
scale = .5,.5
pausemovetime = -1

[State 860, 2]
type = Playsnd
trigger1 = time = 6
value = 6000, 10

[State 860, 2]
type = Playsnd
trigger1 = time = 6
value = 0, 1
channel = 0

[State 860, 4]
type = PowerAdd
trigger1 = time = 6
value = -1000

[State 860, 5]
type = Varset
trigger1 = time = 6
var(15) = 675

[State 860, 5]
type = Varset
trigger1 = time = 6
var(40) = 1

[State 3001, Super]
type = Helper
trigger1 = time = 6
id = 6170
name = "n_gauge"
pos =0,0
postype = P1
stateno = 6170
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
facing = facing*ifelse(teamside=1,1,-1)

[State 1850, ctrlset]
type = ctrlset
trigger1 = time = 16
value = 1

[State 860, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;オリコン発動（地上）
[Statedef 870]
type = S
physics = S
movetype = I
anim = 870
ctrl = 0
velset = 0,0

[State 3000, Superpause]
type = SuperPause
trigger1 = Time = 4
time = 37
movetime = 37
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, Super]
type = Helper
trigger1 = Time = 4
persistent = 0
id = 8080
name = "oricom"
pos = 0,-60
postype = P1
stateno = 8080
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 860, 2]
type = Playsnd
trigger1 = time = 4
value = 3000, 0
channel = 0

[State 3000, AfterImage]
type = AfterImage
trigger1 = time = 4
time = 9999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast = 0, 100, 150
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 860, 5]
type = Varset
trigger1 = AnimTime = 0
var(16) = 334

[State 860, 5]
type = Varset
trigger1 = time = 0
var(18) = 1

[State 860, 5]
type = Varset
trigger1 = AnimTime = 0
var(19) = 3000

[State 7000,Muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 50

[State -2, 1]
type = Poweradd
trigger1 = AnimTime = 0
value = -3000
ignorehitpause = 1

[State 860, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
;オリコン発動（空中）
[Statedef 875]
type = A
movetype = I
physics = N
anim = 875
ctrl = 0

[State 7050,PosFreeze]
type = PosFreeze
trigger1 = 1

[State 3000, Superpause]
type = SuperPause
trigger1 = Time = 4
time = 37
movetime = 37
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, Super]
type = Helper
trigger1 = Time = 4
persistent = 0
id = 8080
name = "oricom"
pos = 0,-60
postype = P1
stateno = 8080
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 860, 2]
type = Playsnd
trigger1 = time = 4
value = 3000, 0
channel = 0

[State 3000, AfterImage]
type = AfterImage
trigger1 = time = 4
time = 9999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast = 0, 100, 150
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 860, 5]
type = Varset
trigger1 = AnimTime = 0
var(16) = 334

[State 860, 5]
type = Varset
trigger1 = time = 0
var(18) = 1

[State 860, 5]
type = Varset
trigger1 = AnimTime = 0
var(19) = 3000

[State 7000,Muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 50

[State -2, 1]
type = Poweradd
trigger1 = AnimTime = 0
value = -3000
ignorehitpause = 1

[State 1850, 9]
type = changestate
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;投げ（掴みモーション）
[Statedef 900]
type    = S
movetype =  A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = ifelse (Command = "z", 900, 910)

[State 900, 1]
type = HitDef
triggerall = Anim = 900
triggerall = P2MoveType != H
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 3, Miss
sparkno = -1
p1facing = ifelse (command = "holdfwd", 1, -1)
p2facing = 1
p1stateno = 901
p2stateno = 909
guard.dist = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)
givepower = 35

[State 900, 1]
type = HitDef
triggerall = Anim = 910
triggerall = P2MoveType != H
triggerall = P2StateNo != [150,155]
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 3, Miss
sparkno = -1
p1facing = ifelse (command = "holdfwd", 1, -1)
p2facing = 1
p1stateno = 911
p2stateno = 919
guard.dist = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)
givepower = 35

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5000, 0
channel = 1

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;スコーピオンデスロック
[Statedef 901]
type    = S
movetype =  A
physics = N
poweradd = 0

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
fvar(2) = 0

[State 10000, 1]
type = VarSet
triggerall = Time < 7 && !fvar(2)
trigger1 = ((Target,Command = "holdfwd") || (Target,Command = "holdback")) && ((Target,Command = "y") || (Target,Command = "z"))
fvar(2) = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = Time < 7 && fvar(2)
pos = 40, 0

[State 810,TargetBind]
type = ChangeState
trigger1 = Time < 7 && fvar(2)
value = 950

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 905

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 901
persistent = 0

[State 3001, Width]
type = Width
trigger1 = animelemtime(19) < 0
edge = 60,0

[State 3001, Width]
type = Width
trigger1 = animelemtime(19) = 0
edge = 90,0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 900, 0
channel = 1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 900, 1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 0
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 19
value = 2, 2

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 19
value = 2, 17

[State 901, Voice]
type = PlaySnd
trigger1 = AnimElem = 19
value = 0, 2
channel = 0

[STate 901,1]
type = targetBind
trigger1 = animelem = 1
pos = 40,0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 2
pos = 26,0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 3
pos = 30,-105
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 13
pos = 49,-127
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 5
trigger2 = animelem = 8
trigger3 = animelem = 11
trigger4 = animelem = 14
pos = 50,-128
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 6
trigger2 = animelem = 9
trigger3 = animelem = 12
trigger4 = animelem = 15
pos = 49,-126
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 16
pos = 30, -115
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 17
pos = 15, -115
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 18
pos = 0, -95
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 19
pos = 50, -25
postype = P1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 19
value = ceil(ifelse((-140*fvar(10))>-7,-7,(-140*fvar(10))))

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 19
id = 8305
name = "SparkEffect_KnockBack"
pos =0,0
postype = P2
stateno = 8305
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;スコーピオンデスロック（相手）
[Statedef 905]
type    = A
movetype =  H
physics = N
velset = 0,0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = animelemtime(7) < 0
value = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 902, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 905

[State 903, Shock]
type = PalFX
triggerall = animelemtime(7) > 0
trigger1 = gametime%2 = 1
time = 1
color = 64
invertall = 1
add = 1,1,1
mul = 256,256,256

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(7) = 0
x = -6.5
y = -9

[State 903, Vel]
type = veladd
trigger1 = AnimElemTime(7) > 0
y = 0.49

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 903, 2]
type = SelfState
triggerall = AnimElemTime(7) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;スコーピオンデスロック（相手）2
[Statedef 909]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;スコーピオンデススルー
[Statedef 911]
type    = S
movetype =  A
physics = N
poweradd = 0

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
fvar(2) = 0

[State 10000, 1]
type = VarSet
triggerall = Time < 4 && !fvar(2)
trigger1 = ((Target,Command = "holdfwd") || (Target,Command = "holdback")) && ((Target,Command = "b") || (Target,Command = "c"))
fvar(2) = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = Time < 4 && fvar(2)
pos = 30, 0

[State 810,TargetBind]
type = ChangeState
trigger1 = Time < 4 && fvar(2)
value = 950

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 915

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 911
persistent = 0

[State 3001, Width]
type = Width
trigger1 = animelemtime(3) < 0
edge = 60,0

[State 3001, Width]
type = Width
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
edge = 75,0

[State 3001, Width]
type = Width
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0
edge = 90,0

[State 3001, Width]
type = Width
trigger1 = animelemtime(5) = 0
edge = 120,0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 900, 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 800, 1
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3, 2

[STate 901,1]
type = targetBind
trigger1 = animelem = 1
pos = -30, 0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 2
pos = -34, -86
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 3
pos = 2, -80
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 4
pos = 68, -73
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 5
pos = 92, -10
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = animelem = 5
value = ceil(ifelse((-147*fvar(10))>-7,-7,(-147*fvar(10))))

[State 220, Position]
type = PosAdd
trigger1 = AnimTime = 0
x = 11

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;スコーピオンデススルー（相手）
[Statedef 915]
type    = A
movetype =  H
physics = N
velset = 0,0
poweradd = 30
sprpriority = 2

[State 1201, screenbound]
type = screenbound
trigger1 = AnimElemTime(5) < 0
value = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 902, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 915

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(5) = 0
x = -6
y = -7

[State 903, Vel]
type = veladd
trigger1 = AnimElemTime(5) > 0
y = 0.49

[State 1300,Turn]
type = Turn
trigger1 = AnimElemTime(5) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0

[State 903, 2]
type = SelfState
trigger1 = AnimElemTime(5) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;スコーピオンデススルー（相手）2
[Statedef 919]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;烈風拳
[Statedef 1000]
type    = S
movetype = A
physics = S
anim = 1000
poweradd= 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
velset = 0,0
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1000, VarSet]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
var(5) = ifelse (Command = "reppu1", 0, ifelse (Command = "reppu2", 1, 2))

[State 1000, VarSet]
type = VarSet
triggerall = var(59)
trigger1 = Time = 0
var(5) = random%3

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1000, 1

[State 820, Spark]
type = Explod
trigger1 = AnimElem = 7
anim = 7001
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ID = 7001
sprpriority = 1

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(7) = 1
id = 7000
name = "reppuken"
pos = -5,0
postype = P1
stateno = 7000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;烈風拳（飛び道具）
[Statedef 7000]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 7000
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = parent,var(5)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(12) = parent,var(12)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(15) = parent,var(15)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(16) = parent,var(16)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(17) = parent,var(17)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(24) = parent,var(24)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(41) = parent,var(41)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
fvar(10) = parent,fvar(10)

[State 1100, Velocity]
type = VelSet
trigger1 = time = 1
x = 4.6 + (Var(5)*1.4)

[State 1000, Proj]
type = Projectile
trigger1 = time = 1
projanim = 7050
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 1
projsprpriority = 4
velocity = vel X, vel Y
attr = S, SP
damage=ceil(ifelse(((56+(var(5)*7))*fvar(10))<7,7,((56+(var(5)*7))*fvar(10)))),ceil(ifelse(((56+(var(5)*7))*fvar(10)/8)<7,7,((56+(var(5)*7))*fvar(10)/8)))
animtype = Heavy
hitflag = MAF
guardflag = MA
pausetime = 4,ceil(9*(2-parent,var(18))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = 0, 0
hitsound = S2,15
guardsound = S1,1
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -11,0
guard.velocity = -10.5
air.velocity = -3.5, -3.5
fall = 0
air.juggle = ifelse(parent,fvar(4)||parent,fvar(27),0,8)
air.fall = 1
air.recover = !var(16)
envshake.time = 8
envshake.ampl = 2
ProjID = 1005
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(44) = ceil(enemynear,Pos X - Pos X)*facing

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(45) = ceil(Pos Y)

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1005) = 0
value = 7005

;---------------------------------------------------------------------------
;烈風拳（飛び道具）（消滅）
[Statedef 7005]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 6900

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 7005
id = 7005
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3

[State 1100, Voice]
type = PlaySnd
triggerall = !parent,var(36)
trigger1 = time = 1
value = 1, 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;------------------------------------------------------------------------------------------
;ジェノサイドカッター
[Statedef 1100]
type    = S
movetype = A
physics = S
juggle = 8
anim = 0
velset = 0,0
ctrl = 0
poweradd= 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 1100, VarSet]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
var(5) = ifelse (Command = "cutter1", 0, ifelse (Command = "cutter2", 1, 2))

[State 1100, VarSet]
type = VarSet
triggerall = var(59) = 1
trigger1 = Time = 0
var(5) = ifelse ((enemy,MoveType = A || enemy,MoveType = H), 2, 0)

[State 903, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse (!var(5), 1100, ifelse (var(5) = 1, 1110, 1120))

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = ifelse (!var(5), 5, ifelse (Var(5) = 1, 4, 5))

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 40,0
channel = 2

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = var(5) = 2 && AnimElem = 20
value = 1100,1
channel = 1

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(5) = 2
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElemTime(5) = 2
x = 1.5+var(5)
y = ifelse(!var(5),-5.5,ifelse(var(5)=1,-6.5,-7.5))

[State 1100, Vel X]
type = VelMul
triggerall = AnimElemTime(5) > 2
trigger1 = var(5) != 2
trigger2 = var(5) = 2 && AnimElemTime(18) <= 0
x = .95

[State 1100, Gravity]
type = VelAdd
triggerall = AnimElemTime(5) > 2
trigger1 = var(5) != 2
trigger2 = var(5) = 2 && AnimElemTime(18) <= 0
y = .45

[State 1100, Velocity]
type = VelSet
trigger1 = var(5) = 2 && AnimElemTime(18) = 0
x = 3.5
y = -6.5

[State 1100, Gravity]
type = VelAdd
trigger1 = var(5) = 2 && AnimElemTime(18) > 2
y = .45

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 5
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 7100
name = "cutter_1"
pos =0,0
postype = P1
stateno = 7100
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999

[State 3001, Super]
type = Helper
trigger1 = var(5) = 2 && AnimElem = 18
id = 7101
name = "cutter_2"
pos =0,0
postype = P1
stateno = 7101
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Heavy
air.animtype  = Back
damage=ceil(ifelse(((77+(var(5)*7))*fvar(10))<7,7,((77+(var(5)*7))*fvar(10)))),ceil(ifelse(((77+(var(5)*7))*fvar(10)/8)<7,7,((77+(var(5)*7))*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(8*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -41
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2,-11+var(5)
guard.velocity = -9
air.velocity = -2,-11+var(5)
ground.cornerpush.veloff = -1.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
persistent = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Heavy
air.animtype = Back
damage=ceil(ifelse((28*fvar(10))<7,7,(28*fvar(10)))),ceil(ifelse((28*fvar(10)/8)<7,7,(28*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(8*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -75
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2,-11+var(5)
guard.velocity = -9
air.velocity = -2,-11+var(5)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
ground.cornerpush.veloff = -1.5
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1100, HitDef]
type = HitDef
triggerall = Var(5) != 2
trigger1 = AnimElem = 6
attr = A, SA
animtype  = Heavy
damage= ceil(ifelse((28*fvar(10))<7,7,(28*fvar(10)))),ceil(ifelse((28*fvar(10)/8)<7,7,(28*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(8*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -105
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2,-11
guard.velocity = -9
air.velocity = -2,-11
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1100, HitDef]
type = HitDef
trigger1 = var(5) = 1 && AnimElem = 17
trigger2 = var(5) = 2 && AnimElem = 19
attr = A, SA
animtype  = Heavy
damage=ceil(ifelse((21*fvar(10))<7,7,(21*fvar(10)))),ceil(ifelse((21*fvar(10)/8)<7,7,(21*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(8*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -40
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2, -8.5
guard.velocity = -9
air.velocity = -2,-8.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1100, HitDef]
type = HitDef
trigger1 = var(5) = 1 && AnimElem = 18
trigger2 = var(5) = 2 && AnimElem = 20
attr = A, SA
animtype  = Heavy
damage=ceil(ifelse((21*fvar(10))<7,7,(21*fvar(10)))),ceil(ifelse((21*fvar(10)/8)<7,7,(21*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(8*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -85
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2, -8.5
guard.velocity = -9
air.velocity = -2,-8.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 36
attr = A, SA
animtype  = Heavy
damage    = ceil(ifelse((21*fvar(10))<7,7,(21*fvar(10)))),ceil(ifelse((21*fvar(10)/8)<7,7,(21*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(14*(2-(var(16)>0))/2),ceil(15*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -35
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -3, -7
guard.velocity = -9
air.velocity = -10, 9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(7)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(4)>=0&&animelemtime(5)<0),-41,ifelse((animelemtime(5)>=0&&animelemtime(6)<0),-75,-105))

[State 3001, VarSet]
type = VarSet
triggerall = var(5) = 1
trigger1 = animelemtime(17)>=0&&animelemtime(19)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(17)>=0&&animelemtime(18)<0),-40,-85)

[State 3001, VarSet]
type = VarSet
triggerall = var(5) = 2
trigger1 = animelemtime(19)>=0&&animelemtime(21)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(19)>=0&&animelemtime(20)<0),-40,-85)

[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(36)>=0&&animelemtime(37)<0
ignorehitpause = 1
var(39)=-35

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1105

;---------------------------------------------------------------------------
;ジェノサイドカッター（着地）
[Statedef 1105]
type    = S
physics = S
ctrl = 0

[State 903, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse (!var(5), 1105, ifelse (var(5) = 1, 1115, 1125))

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = .5,.5

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ジェノサイドカッター（エフェクト）1
[Statedef 7100]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 3

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = 0,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, 1]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0
ignorehitpause = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,animelemtime(4) >= 0
trigger1 = parent,stateno = 1100 && parent,animelemtime(5) < 0
value = 7100
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,animelemtime(5) >= 0
trigger1 = parent,stateno = 1100 && parent,animelemtime(6) < 0
value = 7100
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,animelemtime(6) >= 0
trigger1 = parent,stateno = 1100 && parent,animelemtime(7) < 0
value = 7100
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,animelemtime(7) = 0
value = 7100
elem = 4
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && !parent,var(5) && parent,animelemtime(11) = 0
trigger2 = parent,stateno = 1100 && parent,var(5) = 1 && parent,animelemtime(13) = 0
trigger3 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(15) = 0
value = 7101
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = anim = 7101 && animtime = 0
trigger2 = parent,stateno != 1100
trigger3 = parent,stateno = 1100 && parent,time = 1

;---------------------------------------------------------------------------
;ジェノサイドカッター（エフェクト）2
[Statedef 7101]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 3

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = 0,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(18) >= 0
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(19) < 0
value = 7110
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(19) >= 0
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(20) < 0
value = 7110
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(20) >= 0
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(21) < 0
value = 7110
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(21) = 0
value = 7110
elem = 4
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1100 && parent,var(5) = 2 && parent,animelemtime(25) = 0
value = 7111
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = anim = 7111 && animtime = 0
trigger2 = parent,stateno != 1100
trigger3 = parent,stateno = 1100 && parent,time = 1

;------------------------------------------------------------------------------------------
;ジェノサイドカッター（ガードキャンセル）
[Statedef 1150]
type    = S
movetype = A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
poweradd= 0

[State 180, 1]
type = VarAdd
trigger1 = time = 0
var(50)=1000
ignorehitpause = 1

[State 860, 4]
type = PowerAdd
triggerall = !var(20) || var(20) = 4 || var(20) = 6
trigger1 = time = 0
value = -1000

[State 860, 4]
type = PowerAdd
triggerall = var(20) = 1
trigger1 = time = 0
value = -1500

[State 860, 4]
type = PowerAdd
triggerall = var(20) = 3
trigger1 = time = 0
value = -3000

[State 902, Shock]
type = PalFX
trigger1 = Time = 0
time = 2
invertall = 1
mul = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 17

[State 1100, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 810,0
channel = 1

[State -3,Super]
type = Helper
trigger1 = Time = 0
id = 8070
name = "GUARD CANCEL"
pos = 10,-ifelse(PrevStateNo = 152,40,80)
postype = P1
stateno = 8070
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
persistent = 0

[State 0]
type = pause
trigger1 = time = 1
time = 6
movetime = 6

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 190, 4]
type = ChangeAnim
trigger1 = time <= 12
value = anim

[State 190, 4]
type = ChangeAnim
trigger1 = time = 13
value = 1110

[State 1100, Voice]
type = PlaySnd
triggerall = anim = 1110
trigger1 = AnimElem = 4
value = 1100,0
channel = 0

[State 1100, Effect]
type = PlaySnd
triggerall = anim = 1110
trigger1 = AnimElem = 5
value = 40,0
channel = 3

[State 1100, Effect]
type = PlaySnd
triggerall = anim = 1110
trigger1 = AnimElem = 5
value = 1100,1
channel = 4

[State 1100, StateType]
type = StateTypeSet
triggerall = anim = 1110
trigger1 = AnimElemTime(5) = 2
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
triggerall = anim = 1110
trigger1 = AnimElemTime(5) = 2
x = 1.5
y = -8.5

[State 1100, Vel X]
type = VelMul
triggerall = anim = 1110
trigger1 = AnimElemTime(5) > 2
x = .95

[State 1100, Gravity]
type = VelAdd
trigger1 = AnimElemTime(5) > 2
y = .5

[State 3001, Super]
type = Helper
triggerall = anim = 1110
trigger1 = AnimElem = 5
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3001, Super]
type = Helper
triggerall = anim = 1110
trigger1 = AnimElem = 4
id = 7102
name = "gc_1"
pos =0,0
postype = P1
stateno = 7102
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999

[State 1100, HitDef]
type = HitDef
triggerall = anim = 1110
trigger1 = AnimElem = 4
attr = S, SA
animtype = diagup
air.animtype = diagup
damage    = ceil(ifelse((14*fvar(10))<7,7,(14*fvar(10)))),ceil(ifelse((14*fvar(10)/8)<7,7,(14*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 13
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -45
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -6, -11
guard.velocity = -9
air.velocity = -6,-11
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
kill = 0
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1100, HitDef]
type = HitDef
triggerall = anim = 1110
trigger1 = AnimElem = 5
attr = S, SA
animtype = diagup
air.animtype = diagup
damage    = ceil(ifelse((14*fvar(10))<7,7,(14*fvar(10)))),ceil(ifelse((14*fvar(10)/8)<7,7,(14*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(8*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -75
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2,-11
guard.velocity = -9
air.velocity = -2,-11
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
getpower = 0,0
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1100, HitDef]
type = HitDef
triggerall = anim = 1110
trigger1 = AnimElem = 6
attr = A, SA
animtype = diagup
air.animtype = diagup
damage    = ceil(ifelse((14*fvar(10))<7,7,(14*fvar(10)))),ceil(ifelse((14*fvar(10)/8)<7,7,(14*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = ceil(8*(2-(var(16)>0))/2),ceil(9*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -105
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2,-11
guard.velocity = -9
air.velocity = -2,-11
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
getpower = 0,0
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
triggerall = anim = 1110
trigger1 = animelemtime(7)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(4)>=0&&animelemtime(5)<0),-10,ifelse((animelemtime(5)>=0&&animelemtime(6)<0),-60,-105))

[State 1100, ChangeState]
type = ChangeState
triggerall = anim = 1110
trigger1 = AnimElemTime(4) > 2
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1105

;---------------------------------------------------------------------------
;ジェノサイドカッター（ガードキャンセル）（エフェクト）1
[Statedef 7102]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 3

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = 0,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1150 && parent,animelemtime(4) >= 0
trigger1 = parent,stateno = 1150 && parent,animelemtime(5) < 0
value = 7100
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1150 && parent,animelemtime(5) >= 0
trigger1 = parent,stateno = 1150 && parent,animelemtime(6) < 0
value = 7100
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1150 && parent,animelemtime(6) >= 0
trigger1 = parent,stateno = 1150 && parent,animelemtime(7) < 0
value = 7100
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1150 && parent,animelemtime(7) = 0
value = 7100
elem = 4
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 1150 && parent,animelemtime(13) = 0
value = 7101
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = anim = 7101 && animtime = 0
trigger2 = parent,stateno != 1150
trigger3 = parent,stateno = 1150 && parent,time = 1

;---------------------------------------------------------------------------
;ゴッドプレス
[Statedef 1200]
type    = S
movetype =  A
physics = N
juggle = 8
velset = 0,0
ctrl = 0
poweradd= 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = ifelse (Command = "press1", 0, ifelse (Command = "press2", 1, 2))

[State 903, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse (!var(5), 1200, ifelse (var(5) = 1, 1210, 1220))

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1
channel = 0

[State 100, Effect]
type = PlaySnd
triggerall = anim = 1200
trigger1 = AnimElem = 5
value = 100,1
channel = 19

[State 100, Effect]
type = PlaySnd
triggerall = anim = 1200
trigger1 = AnimElem = 9
value = 100,2
channel = 20

[State 100, Effect]
type = PlaySnd
triggerall = anim = 1210
trigger1 = AnimElem = 5 || AnimElem = 13
value = 100,1
channel = 19

[State 100, Effect]
type = PlaySnd
triggerall = anim = 1210
trigger1 = AnimElem = 9
value = 100,2
channel = 20

[State 100, Effect]
type = PlaySnd
triggerall = anim = 1220
trigger1 = AnimElem = 5 || AnimElem = 13
value = 100,1
channel = 19

[State 100, Effect]
type = PlaySnd
triggerall = anim = 1220
trigger1 = AnimElem = 9 || AnimElem = 17
value = 100,2
channel = 20

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 10
x = 5.5

[State 1200, 1]
type = HitDef
triggerall = var(12) = 0
trigger1 = AnimElem = 4
attr = S, SA
animtype  = hard
hitflag = MAF
guardflag = MA
priority = 3,Miss    
pausetime = ceil(6*(2-(var(16)>0))/2),ceil(6*(2-(var(16)>0))/2)
guard.pausetime = ceil(3*(2-(var(16)>0))/2),ceil(3*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = -10, -68
hitsound   = S900,0
guardsound = S1,0
damage = ceil(ifelse((21*fvar(10))<7,7,(21*fvar(10)))),0
snap = -45,0
p1stateno = 1204
p2stateno = 1209
p2facing = 1
guard.dist = 0
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 70, 35
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
kill = 0
envshake.time = 5
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -68

[State 1200, 2]
type = ChangeState
triggerall = AnimElemTime(4) > 0
Trigger1 = AnimTime = 0
trigger2 = Frontedgebodydist <= 0
trigger3 = var(36) = 2
trigger4 = enemy,statetype = L
trigger4 = P2BodyDist X <= 0
value = 1201
ctrl = 0

;---------------------------------------------------------------------------
;ゴッドプレス（失敗）
[Statedef 1201]
type    = S
movetype =  I
physics = S
velset = 0,0
ctrl = 0
anim = 1201

[State 450, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 2
channel = 2

[State 1201, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ゴッドプレス（掴み）
[Statedef 1204]
type    = S
movetype =  A
physics = N
velset = 0,0
ctrl = 0
anim = 1202

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 1
value = 1207

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 40,0
channel = 3

[STate 901,1]
type = targetBind
trigger1 = AnimElemTime(1) = 0
pos = -25, -75
postype = P1
time = -1

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = 11
y = -.9

[State 3100, VelAdd]
type = veladd
trigger1 = 1
y = .09

[State 1205, ChangeState]
type = ChangeState
trigger1 = Frontedgebodydist <= 0
value = 1206

[STate 1510,1]
type = ChangeState
trigger1 = Pos Y >= 0 && Time > 5
value = 1205

;---------------------------------------------------------------------------
;ゴッドプレス（掴み）2
[Statedef 1205]
type    = S
movetype =  A
physics = N
velset = 0,0
ctrl = 0
anim = 1203

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 1
Anim = 8041
ID = 8041
pos = -50, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 1
Anim = 8042
ID = 8041
pos = -50, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,10
channel = 4

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 52,0
channel = 5

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = 13.5

[STate 901,1]
type = targetBind
trigger1 = timemod = 10, 0 || timemod = 10, 1 || timemod = 10, 2 || timemod = 10, 3 || timemod = 10, 4
pos = -25, -75
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = timemod = 10, 5 || timemod = 10, 6 || timemod = 10, 7 || timemod = 10, 8 || timemod = 10, 9
pos = -22, -75
postype = P1
time = -1

[State 1205, ChangeState]
type = ChangeState
trigger1 = Frontedgebodydist <= 0
trigger2 = Time = 150
value = 1206

;---------------------------------------------------------------------------
;ゴッドプレス（叩き付け）
[Statedef 1206]
type    = S
movetype =  A
physics = S
velset = 0,0
ctrl = 0
anim = 1204

[STate 901,1]
type = targetBind
trigger1 = AnimElem = 1
pos = 46, -77
Time = -1
postype = P1

[STate 901,1]
type = targetBind
trigger1 = AnimElem = 2
pos = 80, 5
postype = P1

[State 901, Throw]
type = TargetState
trigger1 = AnimElemTime(2) = 0
value = 1208

[State 3001, Add Hits!]
type = HitAdd
trigger1 = AnimElem = 2
value = 1

[STate 901,1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 8041

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 2
Anim = 8315
pos = 95,-77
postype = p1
ownpal = 1
ignorehitpause = 1
scale = .5,.5
sprpriority = 5

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 3
Anim = 8321
pos = 70,-77
postype = p1
ownpal = 1
ignorehitpause = 1
scale = .5,.5
sprpriority = 5

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5100,0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2,2

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1700,1

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElem = 2
time = 25

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value=ceil(ifelse(((-126-(var(5)*7)-(var(12)*14*.1))*fvar(10))>-7,-7,((-126-(var(5)*7)-(var(12)*14*.1))*fvar(10))))

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 1
x = -20

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 2
x = -60

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = -10

[State -2, 1]
type = Varadd
trigger1 = AnimElem = 2
var(17) = 1
ignorehitpause = 1

[State 180, 1]
type = VarAdd
triggerall = var(17) >= 2
trigger1 = AnimElem = 2
var(50)=ifelse(var(17)<6,2000,500)
ignorehitpause = 1

[State 220, Position]
type = PosAdd
trigger1 = AnimTime = 0
x = 11

[State 1205, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ゴッドプレス（相手）
[Statedef 1207]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[STate 1510,1]
type = changeanim2
trigger1 = time = 0
value = 1207

;---------------------------------------------------------------------------
;ゴッドプレス（相手）2
[Statedef 1208]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = -5
y = -8.5

[STate 1510,1]
type = changeanim2
trigger1 = time = 0
value = 1208

[State 903, Vel]
type = veladd
trigger1 = 1
y = 0.49

[State 1205, ChangeState]
type =  selfstate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 903, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15
y = -40

;---------------------------------------------------------------------------
;ゴッドプレス（相手）3
[Statedef 1209]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
anim = 5011

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 18
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;カイザーウェイブ（始動）
[Statedef 1300]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1300
poweradd = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = ifelse (Command = "wave1", 0, ifelse (Command = "wave2", 1, 2))

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,0
channel = 0

[State 1600,3]
type = Changestate
trigger1 = Animtime = 0
value = 1301

;---------------------------------------------------------------------------
;カイザーウェイブ（1段階）
[Statedef 1301]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1301

[State 1600,3]
type = Changestate
trigger1 = Command != "holdx" && !var(6)
trigger2 = Command != "holdy" && var(6) = 1
trigger3 = Command != "holdz" && var(6) = 2
value = 1304

[State 1600,3]
type = Changestate
trigger1 = time = 21
value = 1302

;---------------------------------------------------------------------------
;カイザーウェイブ（2段階）
[Statedef 1302]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1302

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,1
channel = 0

[State 1600,3]
type = Changestate
trigger1 = Command != "holdx" && !var(6)
trigger2 = Command != "holdy" && var(6) = 1
trigger3 = Command != "holdz" && var(6) = 2
value = 1304

[State 1600,3]
type = Changestate
trigger1 = time = 21
value = 1303

;---------------------------------------------------------------------------
;カイザーウェイブ（3段階）
[Statedef 1303]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1303

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = 2

[State 1600,3]
type = Changestate
trigger1 = Command != "holdx" && !var(6)
trigger2 = Command != "holdy" && var(6) = 1
trigger3 = Command != "holdz" && var(6) = 2
trigger4 = time = 21
value = 1304

;---------------------------------------------------------------------------
;カイザーウェーブ（発射）
[Statedef 1304]
type    = S
movetype = A
physics = S
anim = 1304
velset = 0,0
ctrl = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1300, 2
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1300, 3

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(3) = 1
id = 7300
name = "wave1"
pos = 40,-75
postype = P1
stateno = 7300
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カイザーウェーブ（飛び道具）
[Statedef 7300]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 5.4,0
anim = 7300+parent,var(12)
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = parent,var(5)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(12) = parent,var(12)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(15) = parent,var(15)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(16) = parent,var(16)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(17) = parent,var(17)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(24) = parent,var(24)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(41) = parent,var(41)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
fvar(10) = parent,fvar(10)

[State 1000, Proj]
type = Projectile
triggerall = !var(5)
trigger1 = time = 2
projanim = 7350
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 1
projsprpriority = 3
velocity = vel X, vel Y
attr = S, SP
damage   = ceil(ifelse((91*fvar(10))<7,7,(91*fvar(10)))),ceil(ifelse((91*fvar(10)/8)<7,7,(91*fvar(10)/8)))
animtype = Heavy
air.animtype = Back
hitflag = MAF
guardflag = MA
pausetime = 4,ceil(9*(2-parent,var(18))/2)
sparkno = -1
guard.sparkno = S8105
sparkxy = 0, 0
hitsound = S2,15
guardsound = S1,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -7,-7
air.velocity = -7,-7
air.juggle = ifelse(parent,fvar(4)||parent,fvar(27),0,8)
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
envshake.time = 10
envshake.ampl = 2
ProjID = 1305
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1000, Proj]
type = Projectile
triggerall = var(5) = 1
trigger1 = time = 2
projanim = 7350
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 1
projsprpriority = 3
velocity = vel X, vel Y
projhits = 2
Projmisstime = 0
attr = S, SP
damage   = ceil(ifelse((63*fvar(10))<7,7,(63*fvar(10)))),ceil(ifelse((63*fvar(10)/8)<7,7,(63*fvar(10)/8)))
animtype = Heavy
air.animtype = Back
hitflag = MAF
guardflag = MA
pausetime = 4,ceil(9*(2-parent,var(18))/2)
sparkno = -1
guard.sparkno = S8105
sparkxy = 0, 0
hitsound = S2,15
guardsound = S1,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -7,-7
air.velocity = -7,-7
air.juggle = ifelse(parent,fvar(4)||parent,fvar(27),0,8)
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
envshake.time = 10
envshake.ampl = 2
ProjID = 1305
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1000, Proj]
type = Projectile
triggerall = var(5) = 2
trigger1 = time = 2
projanim = 7350
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 1
projsprpriority = 3
velocity = vel X, vel Y
projhits = 3
Projmisstime = 0
attr = S, SP
damage   = ceil(ifelse((56*fvar(10))<7,7,(56*fvar(10)))),ceil(ifelse((56*fvar(10)/8)<7,7,(56*fvar(10)/8)))
animtype = Heavy
air.animtype = Back
hitflag = MAF
guardflag = MA
pausetime = 4,ceil(9*(2-parent,var(18))/2)
sparkno = -1
guard.sparkno = S8105
sparkxy = 0, 0
hitsound = S2,15
guardsound = S1,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -7,-7
air.velocity = -7,-7
air.juggle = ifelse(parent,fvar(4)||parent,fvar(27),0,8)
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
envshake.time = 10
envshake.ampl = 2
ProjID = 1305
getpower = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(44) = ceil(enemynear,Pos X - Pos X)*facing

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(45) = ceil(Pos Y)

[State 3001, VarSet]
type = VarSet
trigger1 = var(1) = 5
ignorehitpause = 1
var(1) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(1305) = 1
ignorehitpause = 1
var(1) = 1

[State 3001, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1000, 0]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1305) = 0
value = 7305

;---------------------------------------------------------------------------
;カイザーウェーブ（飛び道具）（消滅）
[Statedef 7305]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 6900

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 7305+var(12)
id = 7305+var(12)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3

[State 1100, Voice]
type = PlaySnd
triggerall = !parent,var(36)
trigger1 = time = 1
value = 1, 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;---------------------------------------------------------------------------
;ダークスマッシュ
[Statedef 1450]
type    = A
movetype =  A
physics = N
juggle = 8
velset = 0,0
ctrl = 0
poweradd = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 1100, VarSet]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
var(5) = ifelse (Command = "reppu1", 0, ifelse (Command = "reppu2", 1, 2))

[State 1100, VarSet]
type = VarSet
triggerall = var(59)
trigger1 = Time = 0
var(5) = ifelse (random <= 400, 0, ifelse (random >= 800, 2, 1))

[State 903, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse (!var(5), 1450, ifelse (var(5) = 1, 1451, 1452))

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,1
channel = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0
channel = 1

[State 1100, Effect]
type = PlaySnd
trigger1 = Time = 10
value = 1400,1
channel = 2

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1300,3

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0,2
channel = 0

[State 1100, Gravity]]
type = VelSet
trigger1 = AnimElem = 7
x = 7.5
y = 4.5

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 2
Anim = 7400
pos = 10,-80
postype = p1
ownpal = 1
ignorehitpause = 1
bindtime = -1
ID = 7400
removetime = -1
removeongethit = 1
sprpriority = 3

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = AnimElem = 7
ID = 7400
ignorehitpause = 1

[State 1200, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage=ceil(ifelse(((91+(var(5)*7))*fvar(10))<7,7,((91+(var(5)*7))*fvar(10)))),ceil(ifelse(((91+(var(5)*7))*fvar(10)/8)<7,7,((91+(var(5)*7))*fvar(10)/8)))
hitflag = MAPF
guardflag = MA
pausetime = ceil(13*(2-(var(16)>0))/2),ceil(14*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = s8105
sparkxy = -10,-50
hitsound = s2,17
guardsound = s1,0
animtype = heavy
air.animtype = Back
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -5,-4
guard.velocity = -9
air.velocity = -4,-5.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
fall = 1
air.fall = 1
air.recover = 0
air.juggle = 3
palfx.color = 60
palfx.time = 60
palfx.sinadd = 120,120,120,3
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
envshake.time = 10
envshake.ampl = 3

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -50

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 7
Anim = 7450
pos = 70,-40
postype = p1
ownpal = 1
ignorehitpause = 1
bindtime = -1
ID = 7450
removeongethit = 1
sprpriority = 4
removetime = -1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = statetype != A
ID = 7450

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ダークバリヤー
[Statedef 1500]
type = S
movetype = A
physics = S
juggle = 15
ctrl = 0
anim = 1500
velset = 0,0
poweradd = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1500, VarSet]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
var(5) = ifelse (Command = "dark1", 0, ifelse (Command = "dark2", 1, 2))

[State 1000, VarSet]
type = VarSet
triggerall = var(59)
trigger1 = Time = 0
var(5) = random%3

[State -2, Combo]
type = VarSet
trigger1 = time = 0
fvar(18) = 0
ignorehitpause = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1500,1

[State 1500,2]
type = Helper
trigger1 = Animelem = 3
pos = 0,0
stateno = 1505
sprpriority = 4
ownpal = 1
id = 1505
helpertype = normal
keyctrl = 0

[State 1500,2]
type = PlaySnd
triggerall = Numhelper(1505)
trigger1 = helper(1505),stateno = 1510 && helper(1505),time = 1
value = 1001,0
channel = 2

[State -3,Super]
type = Helper
triggerall = Numhelper(1505)
trigger1 = helper(1505),stateno = 1510 && helper(1505),time = 1
id = 7500
name = "reflect"
pos = 60,-55
postype = P1
stateno = 7500
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
size.xscale = .6
size.yscale = .6

[State 3001, VarAdd]
type = VarAdd
triggerall = Numhelper(1505)
trigger1 = helper(1505),stateno = 1510 && helper(1505),time = 1
ignorehitpause = 1
var(50) = 3000

[State 1500,0]
type = Changestate
trigger1 = Time >= 15 && !numhelper(1505)
trigger2 = !var(5) && time = 60
trigger3 = var(5) = 1 && time = 83
trigger4 = var(5) = 2 && time = 95
value = 1501

;---------------------------------------------------------------------------
;ダークバリヤー・終り
[Statedef 1501]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
anim = 1501
velset = 0,0

[State 1501,1]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ダークバリヤー・バリア部分
[Statedef 1505]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7502
sprpriority = 4
velset=0,0

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = parent,var(5)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(12) = parent,var(12)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(15) = parent,var(15)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(16) = parent,var(16)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(17) = parent,var(17)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(24) = parent,var(24)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(41) = parent,var(41)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
fvar(10) = parent,fvar(10)

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = 60,-55
postype = p1

[State 1100, Fire1]
type = Explod
trigger1 = Time = 1
Anim = 7500
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
bindtime = -1
ID = 7500
removetime = -1
removeongethit = 1
sprpriority = 4

[State 4900, 16]
type = modifyExplod
trigger1 = Time <= 5
trigger1 = NumExplod(7500)
Id = 7500
scale = .2*Time,.2*Time
ignorehitpause = 1

[State 1505, 3]
type = Projectile
triggerall = !parent,fvar(18)
trigger1 = Time >= 5
projanim = 7501
Projhitanim = -1
Projremanim = -1
Projremovetime = 1
offset = 0, 0
projpriority = 1
projsprpriority = 7
attr = S, SP
hitflag = MAF
guardflag = MA
damage=ceil(ifelse((70*fvar(10))<7,7,(70*fvar(10)))),ceil(ifelse((70*fvar(10)/8)<7,7,(70*fvar(10)/8)))
priority  = 7, Hit
pausetime = ceil(12*(2-(var(16)>0))/2),ceil(13*(2-(var(16)>0))/2)
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = 0,0
hitsound = s2,15
guardsound = s1,1
animtype = heavy
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4.5,-2.3
guard,velocity = -3
air.velocity = -4,-2.3
guard.ctrltime = 20
fall = 1
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35
envshake.time = 10
envshake.ampl = 3
ProjID = 1500
persistent = 1
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
air.juggle = ifelse(parent,fvar(4)||parent,fvar(27),0,8)
ignorehitpause = 0

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(44) = abs(ceil(enemynear,Pos X - Pos X))

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(45) = ceil(Pos Y)

[State 1110,2]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[STate 1100,3]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 1510

[STate 1115,1]
type = ChangeState
trigger1 = parent,anim = [5000,5300]
trigger2 = !parent,var(5) && parent,time = 46
trigger3 = parent,var(5) = 1 && parent,time = 69
trigger4 = parent,var(5) = 2 && parent,time = 81
trigger5 = parent,fvar(18)
trigger6 = parent,movetype = H
value = 1550

;---------------------------------------------------------------------------
;ダークバリヤー・飛び道具反射（？）1
[Statedef 1510]
type = A
movetype= I
physics = N
ctrl = 0
sprpriority = 4
velset = 0,0
anim = 6900

[State 3001, VarAdd]
type = ParentVarSet
trigger1 = time = 1
ignorehitpause = 1
fvar(17) = 1

[STate 1115,1]
type = ChangeState
trigger1 = time = 1
value = 1550

;---------------------------------------------------------------------------
;ダークバリヤー・消滅
[Statedef 1550]
type = A
movetype= I
physics = N
ctrl = 0
sprpriority = 4
velset = 0,0
anim = 6900

[State 4900, 16]
type = modifyExplod
trigger1 = Time <= 5
trigger1 = NumExplod(7500)
Id = 7500
scale = .2*(5-Time),.2*(5-Time)
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 5
ID = 7500
ignorehitpause = 1

[STate 1115,1]
type = DestroySelf
trigger1 = time = 5

;---------------------------------------------------------------------------
;ダークバリヤー（飛び道具）
[Statedef 7500]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 5.4,0
anim = 7300
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = root,var(5)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(12) = root,var(12)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(15) = root,var(15)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(16) = root,var(16)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(17) = parent,var(17)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(24) = root,var(24)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(41) = root,var(41)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
fvar(10) = root,fvar(10)

[State 1200, 2]
type = Projectile
trigger1 = time = 2
projanim = 7351
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
attr = S, SP
offset = 0, 0
velocity = vel X, vel Y
projsprpriority = 3
projremovetime = 80
damage = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10)))),ceil(ifelse((77*fvar(10)/8)<7,7,(77*fvar(10)/8)))
hitflag = MA
guardflag = MA
pausetime = 3,3
guard.pausetime = 0,5
sparkno = S8220+(random%8)
guard.sparkno = s8105
sparkxy = 0,0
hitsound = s2,15
guardsound = s1,1
animtype = heavy
ground.type = high
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -5,-4
air.velocity = -4,-5.2
sprpriority = 3
fall = 1
ProjID = 1505
envshake.time = 10
envshake.ampl = 3
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
air.juggle = 15

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(44) = ceil(enemynear,Pos X - Pos X)*facing

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(45) = ceil(Pos Y)

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1505) = 0
value = 7505

;---------------------------------------------------------------------------
;ダークバリヤー（飛び道具）（消滅）
[Statedef 7505]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 6900

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 7305+var(12)
id = 7305+var(12)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
scale = .6,.6

[State 1100, Voice]
type = PlaySnd
triggerall = !parent,var(36)
trigger1 = time = 1
value = 1, 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;---------------------------------------------------------------------------
;カイザーウェイブ（遅）（始動）
[Statedef 1600]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1300
poweradd = 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,0
channel = 0

[State 1600,3]
type = Changestate
trigger1 = Animtime = 0
value = 1601

;---------------------------------------------------------------------------
;カイザーウェイブ（遅）（1段階）
[Statedef 1601]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1301

[State 1600,3]
type = Changestate
trigger1 = time = 21
value = 1602

;---------------------------------------------------------------------------
;カイザーウェイブ（遅）（2段階）
[Statedef 1602]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1302

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,1
channel = 0

[State 1600,3]
type = Changestate
trigger1 = time = 21
value = 1603

;---------------------------------------------------------------------------
;カイザーウェイブ（遅）（3段階）
[Statedef 1603]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1303

[State 1600,3]
type = Changestate
trigger1 = time = 21
value = 1604

;---------------------------------------------------------------------------
;カイザーウェーブ（遅）（発射）
[Statedef 1604]
type    = S
movetype = A
physics = S
anim = 1304
velset = 0,0
ctrl = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1300, 2
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1300, 3
channel = 11

[State -3,Super]
type = Helper
trigger1 = AnimElemTime(3) = 1
id = 7400
name = "wave2"
pos = 10,-75
postype = P1
stateno = 7400
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カイザーウェーブ（遅）（飛び道具）
[Statedef 7400]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 8.66,0
anim = 7400
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(5) = parent,var(5)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(12) = parent,var(12)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(15) = parent,var(15)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(16) = parent,var(16)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(17) = parent,var(17)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(24) = parent,var(24)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(41) = parent,var(41)

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
fvar(10) = parent,fvar(10)

[State 1000, Proj]
type = Projectile
trigger1 = time = 2
projanim = 7350
Projhitanim = -1
Projremanim = -1
Projcancelanim = -1
offset = 0, 0
projpriority = 1
projsprpriority = 3
velocity = vel X, vel Y
attr = S, SP
damage   = ceil(ifelse((105*fvar(10))<7,7,(105*fvar(10)))),ceil(ifelse((105*fvar(10)/8)<7,7,(105*fvar(10)/8)))
animtype = Heavy
hitflag = MAF
guardflag = 
pausetime = 0,10
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = 0, 0
hitsound = S2,17
guardsound = S1,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -2,-8.5
air.velocity = -2,-8.5
air.juggle = 0
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 2
ProjID = 1605
palfx.color = 60
palfx.time = 60
palfx.sinadd = 120,120,120,3
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10,35*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10
givepower = 35, 35

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(44) = ceil(enemynear,Pos X - Pos X)*facing

[State 3001, VarSet]
type = ParentVarSet
trigger1 = 1
ignorehitpause = 1
var(45) = ceil(Pos Y)

[State 4110, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1605) = 0
value = 7405

;---------------------------------------------------------------------------
;カイザーウェーブ（遅）（消滅）
[Statedef 7405]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 6900

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 7305
id = 7305
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3

[State 1100, Voice]
type = PlaySnd
triggerall = !parent,var(36)
trigger1 = time = 1
value = 1, 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;---------------------------------------------------------------------------
;ルガールエクスキュージョン
[Statedef 1700]
type    = S
movetype =  A
physics = N
juggle = 8
velset = 0,0
ctrl = 0
poweradd= 70*(1000+var(24))/1000*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 3001, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, VarSet]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
var(5) = ifelse (Command = "ex1", 0, ifelse (Command = "ex2", 1, 2))

[State 1100, VarSet]
type = VarSet
triggerall = var(59) = 1
trigger1 = Time = 0
var(5) = ifelse (random <= 600, 0, ifelse (random >= 900, 2, 1))

[State 903, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse (!var(5), 1700, ifelse (var(5) = 1, 1710, 1720))

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0,0
channel = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 7
value = 52,0
channel = 2

[State 1700, Velocity]
type = VelSet
trigger1 = animelem = 7
x = 13

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 7
Anim = 1702
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
ID = 1702
removeongethit = 1
sprpriority = -1

[State 1100, Fire1]
type = Explod
trigger1 = AnimElemTime(7) = 5
Anim = 1703
pos = -60,0
postype = p1
ownpal = 1
ignorehitpause = 1
ID = 1703
bindtime = -1
sprpriority = -1

[State 900, 1]
type = HitDef
triggerall = P2MoveType != H && P2StateNo != [150,155]
triggerall = !var(18)
trigger1 = AnimElem = 7
attr = S, ST
hitflag = M-
priority = 3, Miss
sparkno = -1
hitsound = s900,0
p1stateno = 1705
p2stateno = 1709
p2facing = 1
guard.dist = 0
getpower = 0
givepower = 35, 35
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0

[State 900, 1]
type = HitDef
triggerall = var(18)
trigger1 = AnimElem = 7
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
hitsound = s900,0
p1stateno = 1705
p2stateno = 1709
p2facing = 1
guard.dist = 0
getpower = 0
givepower = 35, 35
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0

[State 1200, 2]
type = ChangeState
triggerall = AnimElemTime(7) > 0
Trigger1 = AnimTime = 0
trigger2 = Frontedgebodydist <= 0
trigger3 = var(36) = 2
;trigger4 = enemy,statetype = L
trigger4 = P2BodyDist X <= 0
value = 1701
ctrl = 0

;---------------------------------------------------------------------------
;ルガールエクスキュージョン（失敗）
[Statedef 1701]
type    = S
movetype =  I
physics = S
velset = 0,0
ctrl = 0
anim = 1701

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = animelem = 3
ID = 1703
ignorehitpause = 1

[State 450, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1
channel = 0

[State 450, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 2
channel = 1

[State 1201, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ルガールエクスキュージョン（投げ）
[Statedef 1705]
type    = S
movetype =  A
physics = N
anim = 1705
velset = 0,0

[State 901,1]
type = posadd
triggerall = Time = 0
trigger1 = frontedgebodydist <= 60
x = -60+frontedgebodydist

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 1
value = 1706

[State 3001, Width]
type = Width
trigger1 = Time = 0
edge = 30,0

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 3
Anim = 7700
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
ID = 7700
bindtime = -1
sprpriority = -2
removetime = -1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300, 1
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1700, 0
channel = 2

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 27
value = 0, 0
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 27
value = 1700, 1
channel = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = animelem = 1
ID = 1703
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = animelem = 27
ID = 7700
ignorehitpause = 1

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 27
Anim = 8321
pos = 66,-135
random = 5,5
postype = p1
ownpal = 1
ontop = 1
ignorehitpause = 1
ID = 8321
bindtime = 1
sprpriority = 5
scale = .5,.5

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 27
id = 8300
name = "FireEffect_Down"
pos =0,0
postype = P2
stateno = 8300
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[STate 901,1]
type = targetBind
trigger1 = animelem = 1
pos = 35,0
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 2
pos = 50,-145
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 12
trigger5 = animelem = 15
trigger6 = animelem = 18
trigger7 = animelem = 21
trigger8 = animelem = 24
pos = 49,-145
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 19
trigger7 = animelem = 22
trigger8 = animelem = 25
pos = 50,-143
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 5
trigger2 = animelem = 8
trigger3 = animelem = 11
trigger4 = animelem = 14
trigger5 = animelem = 17
trigger6 = animelem = 20
trigger7 = animelem = 23
trigger8 = animelem = 26
pos = 50,-141
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 27
pos = 50,-30
postype = P1
time = 1

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 27
value = 1707

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 27
value=ceil(ifelse((-140*fvar(10))>-7,-7,(-140*fvar(10))))

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ルガールエクスキュージョン（相手）
[Statedef 1706]
type    = A
movetype =  H
physics = N
velset = 0,0
sprpriority = 2

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 902, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1706

;---------------------------------------------------------------------------
;ルガールエクスキュージョン（相手）2
[Statedef 1707]
type    = A
movetype =  H
physics = N
velset = -4,-9.5
sprpriority = -1

[State 902, Shock]
type = PalFX
trigger1 = time = 1
time = 60
color = 64
;invertall = 1
add = 1,1,1
mul = 100,60,60

[State 903, Vel]
type = veladd
trigger1 = 1
y = 0.45

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 903, 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;ルガールエクスキュージョン（相手）3
[Statedef 1709]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;ゴッドレーン
[Statedef 1800]
type = S
movetype = I
physics = N
anim = 1800
velset = 0,0
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 1100, VarSet]
type = varSet
triggerall = !var(59)
trigger1 = AnimElem = 1
var(5) = ifelse (Command = "lane_P_F", 0, ifelse (Command = "lane_P_B", 1, ifelse (Command = "lane_K_F", 2, 3)))

[State 1100, VarSet]
type = varSet
triggerall = var(59)
trigger1 = AnimElem = 1
var(5) = random%4

[State 1100, VarSet]
type = VelSet
trigger1 = AnimElem = 6
x = ifelse (!var(5), 14, ifelse (var(5) = 1, -14, ifelse (var(5) = 2, 9, -9)))

[State 1300, Velocity]
type = VelSet
trigger1 = Time = 0 || AnimElemTime(4) = 0
x = ifelse (Time = 0, 3.5, -3.5)

[State 1300,Velocity]
type = VelAdd
trigger1 = AnimElemTime(6) > 0
x = ifelse (Vel X > 0, -.27, .27)

[State 3000, AfterImage]
type = AfterImage
triggerall = !var(16)
trigger1 = AnimElem = 1
time = 50
TimeGap  = 3
length = 16
PalBright = 1,1,1
PalContrast = 256, 256, 256
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 3000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1800, 0
channel = 1

[State 3000, Voice]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1500, 0
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1300,Turn]
type = Turn
Triggerall = animelemtime(6) >= 0
trigger1 = P2Dist X < -5

[State 1201, ChangeState]
type = ChangeState
Trigger1 = Time = 50
Trigger2 = frontedgedist <= 1 && animelemtime(6) > 0
Trigger3 = backedgedist <= 1 && animelemtime(6) > 0
value = 1801

;---------------------------------------------------------------------------
;ゴッドレーン（停止）
[Statedef 1801]
type = S
movetype = I
physics = N
anim = 1801
velset = 0,0
ctrl = 0

[State 1201, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ギガンテックプレッシャー
[Statedef 3000]
type    = S
movetype =  A
physics = N
juggle = 8
velset = 0,0
ctrl = 0
anim = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1100, VarSet]
type = VarSet
triggerall = !var(59)
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 6
trigger1 = Time = 0
var(5) = ifelse ((Command = "pressure2" && Power >= 2000) || (Command = "pressure3" && (Power >= 2000 && Power < 3000)), 1, ifelse (Command = "pressure3" && Power >= 3000, 2, 0))

[State 1100, VarSet]
type = VarSet
triggerall = var(59)
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 6
trigger1 = Time = 0
var(5) = ifelse((Power = [2000,2999]), random%2, ifelse(Power >= 3000, 1+random%2, 0))

[State 1100, VarSet]
type = VarSet
triggerall = !var(15) && !var(16)
triggerall = var(20) = 1 || (var(20) = 3 && (100*life/const(data.life))>30) || (var(20) = 3 && (100*life/const(data.life))<=30 && !var(14)) || var(20) = 4 
trigger1 = Time = 0
var(5) = 0

[State 1100, VarSet]
type = VarSet
triggerall = !var(15) && !var(16)
triggerall = var(20) = 2 || (var(20) = 3 && (100*life/const(data.life))<=30 && var(14)) || var(20) = 5
trigger1 = Time = 0
var(5) = 2

[State 1100, VarSet]
type = VarSet
triggerall = var(15)
trigger1 = Time = 0
var(5) = 2

[State 1100, VarSet]
type = VarSet
triggerall = var(16)
trigger1 = Time = 0
var(5) = 0

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = ifelse (!var(5), 3000, ifelse (Var(5) = 1, 3010, 3020))

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = ifelse (!var(5), 54, ifelse (Var(5) = 1, 60, 65))

[State 3000, Superpause]
type = SuperPause
trigger1 = Time = 5
time = 49
movetime = 49
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 6
trigger1 = time = 0
value = ifelse (!var(5), -1000, ifelse (Var(5) = 1, -2000, -3000))

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = var(20) = 4
trigger1 = time = 0
value = -1000

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = var(20) = 1
trigger1 = time = 0
value = -1500

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = var(20) = 2 || (var(20) = 3 && (100*life/const(data.life))>30) || (var(20) = 3 && (100*life/const(data.life))<=30 && var(14)) || var(20) = 5
trigger1 = time = 0
value = -3000

[State 860, 4]
type = PowerAdd
triggerall = var(16)
trigger1 = time = 0
value = -3000

[State 860, 4]
type = PowerAdd
triggerall = var(15)
trigger1 = time = 0
value = -1000

[State 860, 5]
type = Varset
trigger1 = time = 0
fvar(13) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(14) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(15) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 3000, AfterImage]
type = AfterImage
trigger1 = time = 5
time = 999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast = ifelse (!var(5), 128, ifelse (Var(5) = 1, 50, 150)),ifelse (!var(5), 128, ifelse (Var(5) = 1, 50, 50)),ifelse (!var(5), 128, ifelse (Var(5) = 1, 150, 50))
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 3001, Super]
type = Helper
trigger1 = Time = 3
id = 8000
name = "Super"
pos = -33,-86
postype = P1
stateno = 8000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7400
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 1402
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7300
ignorehitpause = 1

[State 3000, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,0
channel = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,0
channel = 0

[State 100, Effect]
type = PlaySnd
triggerall = anim = 3000
trigger1 = AnimElem = 5
value = 100,1
channel = 19

[State 100, Effect]
type = PlaySnd
triggerall = anim = 3000
trigger1 = AnimElem = 9
value = 100,2
channel = 20

[State 100, Effect]
type = PlaySnd
triggerall = anim = 3010
trigger1 = AnimElem = 5 || AnimElem = 13
value = 100,1
channel = 19

[State 100, Effect]
type = PlaySnd
triggerall = anim = 3010
trigger1 = AnimElem = 9
value = 100,2
channel = 20

[State 100, Effect]
type = PlaySnd
triggerall = anim = 3020
trigger1 = AnimElem = 5 || AnimElem = 13
value = 100,1
channel = 19

[State 100, Effect]
type = PlaySnd
triggerall = anim = 3020
trigger1 = AnimElem = 9 || AnimElem = 17
value = 100,2
channel = 20

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 6

[State 1200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
animtype  = hard
hitflag = MAF
guardflag = MA
priority = 3, Miss    
pausetime = 6,6
guard.pausetime = 3,3
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -10, -68
hitsound   = S900,0
guardsound = S1,0
damage = 0,0
snap = -45,0
p1stateno = 3004
p2stateno = 3009
p2facing = 1
guard.dist = 0
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -12.6
kill = 0
envshake.time = 8
envshake.ampl = 3
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
getpower = 0,0
givepower = 70,35

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -68

[State 1200, 2]
type = ChangeState
triggerall = AnimElemTime(4) > 0
Trigger1 = AnimTime = 0
trigger2 = Frontedgebodydist <= 0
trigger3 = var(36) = 2
trigger4 = enemy,statetype = L
trigger4 = P2BodyDist X <= 0
trigger4 = Time > 44
value = 3001
ctrl = 0

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（失敗）
[Statedef 3001]
type    = S
movetype =  A
physics = S
velset = 0,0
ctrl = 0
anim = 1201

[State 450, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 2
channel = 1

[State 1201, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（掴み）
[Statedef 3004]
type    = S
movetype =  A
physics = N
velset = 0,0
ctrl = 0
anim = 3002

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 1
value = 3007

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 40,0
channel = 3

[STate 901,1]
type = targetBind
trigger1 = Time = 0
pos = -25, -75
postype = P1
time = -1

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = 10
y = -.9

[State 3100, VelAdd]
type = veladd
trigger1 = 1
y = .09

[State 1205, ChangeState]
type = ChangeState
trigger1 = Frontedgebodydist <= 0
value = 3006

[STate 1510,1]
type = ChangeState
trigger1 = Pos Y >= 0 && Time > 5
value = 3005

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（掴み）2
[Statedef 3005]
type    = S
movetype =  A
physics = N
velset = 0,0
ctrl = 0
anim = 3003

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 1
Anim = 8041
ID = 8041
pos = -50, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 1
Anim = 8042
ID = 8041
pos = -50, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 1100, Effect]
type = PlaySnd
trigger1 = time = 1
value = ifelse (!Var(5), 0, 1300),ifelse (!Var(5), 1, 1)
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = time = 1
value = 100,10
channel = 4

[State 1100, Effect]
type = PlaySnd
trigger1 = time = 1
value = 52,0
channel = 5

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = 13.5

[State 220, Position]
type = PosSet
trigger1 = timemod = 10, 0 || timemod = 10, 1 || timemod = 10, 2 || timemod = 10, 3 || timemod = 10, 4
y = 0

[State 220, Position]
type = PosSet
trigger1 = timemod = 10, 5 || timemod = 10, 6 || timemod = 10, 7 || timemod = 10, 8 || timemod = 10, 9
y = 3

[STate 901,1]
type = targetBind
trigger1 = timemod = 10, 0 || timemod = 10, 1 || timemod = 10, 2 || timemod = 10, 3 || timemod = 10, 4
pos = -25, -75
postype = P1
Time = -1

[STate 901,1]
type = targetBind
trigger1 = timemod = 10, 5 || timemod = 10, 6 || timemod = 10, 7 || timemod = 10, 8 || timemod = 10, 9
pos = -22, -75
postype = P1
Time = -1

[State 1205, ChangeState]
type = ChangeState
trigger1 = Frontedgebodydist <= 0
trigger2 = Time = 150
value = 3006

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（叩き付け）
[Statedef 3006]
type    = S
movetype =  A
physics = S
velset = 0,0
ctrl = 0
anim = 0

[STate 1510,1]
type = changeanim
trigger1 = time = 0
value = ifelse (!var(5), 3004, 3014)

[STate 901,1]
type = targetBind
triggerall = !var(5)
trigger1 = AnimElem = 1
pos = 46, -77
Time = -1
postype = P1

[STate 901,1]
type = targetBind
triggerall = !var(5)
trigger1 = AnimElem = 2
pos = 80, -5
postype = P1

[STate 901,1]
type = targetBind
triggerall = var(5)
trigger1 = AnimElem = 1
pos = 85, -75
postype = P1

[State 901, Throw]
type = TargetState
triggerall = !var(5)
trigger1 = AnimElemTime(2) = 0
value = 3008

[State 901, Throw]
type = TargetState
triggerall = var(5)
trigger1 = AnimElemTime(2) = 3
value = 3017

[State 901, Throw]
type = TargetState
triggerall = var(5)
trigger1 = AnimElem = 8
value = 3018

[State 3001, Add Hits!]
type = HitAdd
trigger1 = AnimElem = 2
value = 1

[STate 901,1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 8041

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 2
Anim = 8315
pos = 95,-77
postype = p1
ownpal = 1
ignorehitpause = 1
scale = .5,.5
sprpriority = 5

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 3
Anim = 8321
pos = 70,-77
postype = p1
ownpal = 1
ignorehitpause = 1
scale = .5,.5
sprpriority = 5

[State 3001, Super]
type = Helper
triggerall = var(5) != 1
trigger1 = AnimElem = 2
id = ifelse (!var(5), 7800, 7810)
name = "orochi_1"
pos = 80, 0
postype = P1
stateno = ifelse (!var(5), 7800, 7810)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000, Spark]
type = PlaySnd
triggerall = var(5) != 1
trigger1 = AnimElem = 2
value = 3000,1
channel = 8

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5100,0
channel = 6

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2,2
channel = 7

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1700, 1

[State 903, EnvShake]
type = EnvShake
triggerall = !var(5)
trigger1 = AnimElem = 2
time = 25

[State 903, EnvShake]
type = EnvShake
triggerall = var(5)
trigger1 = AnimElem = 2
time = 15

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value=ceil(ifelse(((ifelse(!Var(5),-231,ifelse(Var(5)=1,-168,-238)))*fvar(10))>-7,-7,((ifelse(!Var(5),-231,ifelse(Var(5)=1,-168,-238)))*fvar(10))))
kill = ifelse (!var(5), 1, 0)

[State -2, 1]
type = Varadd
trigger1 = AnimElem = 2
var(17) = 1
ignorehitpause = 1

[State 180, 1]
type = VarAdd
triggerall = var(17) >= 2
trigger1 = AnimElem = 2
var(50)=ifelse(var(17)<6,2000,500)
ignorehitpause = 1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 1
x = -20

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 2
x = ifelse (!Var(5), -60, -50)

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = -10

[STate 901,1]
type = targetBind
triggerall = Anim = 3014
trigger1 = animelem = 8
pos = -25, -75
postype = P1
Time = -1

[STate 901,1]
type = targetBind
triggerall = Anim = 3014
trigger1 = animelem = 10
pos = -15, -75
postype = P1
Time = -1

[STate 901,1]
type = targetBind
triggerall = Anim = 3014
trigger1 = animelem = 11
pos = -25, -75
postype = P1
Time = -1

[STate 1510,1]
type = turn
triggerall = Anim = 3014
trigger1 = AnimElem = 8

[State 220, Position]
type = PosAdd
triggerall = Anim = 3004
trigger1 = AnimTime = 0
x = 11

[State 1205, ChangeState]
type = ChangeState
triggerall = Anim = 3014
Trigger1 = AnimTime = 0
value = 3012
ctrl = 0

[State 1205, ChangeState]
type = ChangeState
triggerall = Anim = 3004
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（掴み）（レベル2＆3）
[Statedef 3012]
type    = S
movetype =  A
physics = N
velset = 0,0
ctrl = 0
anim = 3002

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 40,0
channel = 3

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,1
channel = 0

[STate 901,1]
type = targetBind
trigger1 = Time = 0
pos = -25, -75
postype = P1
time = -1

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = 11
y = -.9

[State 3100, VelAdd]
type = veladd
trigger1 = 1
y = .09

[State 1205, ChangeState]
type = ChangeState
trigger1 = FrontEdgeBodyDist <= 0
value = 3006

[STate 1510,1]
type = ChangeState
trigger1 = Pos Y >= 0 && Time > 5
value = 3013

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（掴み）2（レベル2＆3）
[Statedef 3013]
type    = S
movetype =  A
physics = N
velset = 0,0
ctrl = 0
anim = 3003

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 1
Anim = 8041
ID = 8041
pos = -50, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 1
Anim = 8042
ID = 8041
pos = -50, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
sprpriority = 3
scale = .5,.5

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,10
channel = 4

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 52,0
channel = 5

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = 10

[State 220, Position]
type = PosSet
trigger1 = timemod = 10, 0 || timemod = 10, 1 || timemod = 10, 2 || timemod = 10, 3 || timemod = 10, 4
y = 0

[State 220, Position]
type = PosSet
trigger1 = timemod = 10, 5 || timemod = 10, 6 || timemod = 10, 7 || timemod = 10, 8 || timemod = 10, 9
y = 3

[STate 901,1]
type = targetBind
trigger1 = timemod = 10, 0 || timemod = 10, 1 || timemod = 10, 2 || timemod = 10, 3 || timemod = 10, 4
pos = -25, -75
postype = P1
Time = -1

[STate 901,1]
type = targetBind
trigger1 = timemod = 10, 5 || timemod = 10, 6 || timemod = 10, 7 || timemod = 10, 8 || timemod = 10, 9
pos = -22, -75
postype = P1
Time = -1

[State 1205, ChangeState]
type = ChangeState
trigger1 = FrontEdgeBodyDist <= 0
trigger2 = Time = 150
value = 3015

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（叩き付け）（レベル2＆3）
[Statedef 3015]
type    = S
movetype =  A
physics = S
velset = 0,0
ctrl = 0
anim = 3004

[STate 901,1]
type = targetBind
trigger1 = AnimElem = 1
pos = 46, -77
Time = -1
postype = P1

[STate 901,1]
type = targetBind
trigger1 = AnimElem = 2
pos = 80, -5
postype = P1

[State 901, Throw]
type = TargetState
trigger1 = AnimElemTime(2) = 0
value = 3019

[State 3001, Add Hits!]
type = HitAdd
trigger1 = AnimElem = 2
value = 1

[STate 901,1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 8041

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 2
Anim = 8315
pos = 95,-77
postype = p1
ownpal = 1
ignorehitpause = 1
scale = .5,.5
sprpriority = 5

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 3
Anim = 8321
pos = 70,-77
postype = p1
ownpal = 1
ignorehitpause = 1
scale = .5,.5
sprpriority = 5

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 2
id = ifelse (Var(5) != 2, 7800, 7810)
name = "orochi_1"
pos = 80, 0
postype = P1
stateno = ifelse (Var(5) != 2, 7800, 7810)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000, Spark]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5100,0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2,2

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1700, 1

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElem = 2
time = 25

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = ceil(ifelse(((ifelse(Var(5)=1,-168,-245))*fvar(10))>-7,-7,((ifelse(Var(5)=1,-168,-245))*fvar(10))))

[State -2, 1]
type = Varadd
trigger1 = AnimElem = 2
var(17) = 1
ignorehitpause = 1

[State 180, 1]
type = VarAdd
triggerall = var(17) >= 2
trigger1 = AnimElem = 2
var(50)=ifelse(var(17)<6,2000,500)
ignorehitpause = 1

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 1
x = -20

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 2
x = -70

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = -10

[State 220, Position]
type = PosAdd
triggerall = Anim = 3004
trigger1 = AnimTime = 0
x = 11

[State 1205, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（相手）
[Statedef 3007]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 900, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[STate 1510,1]
type = changeanim2
trigger1 = time = 0
value = 3007

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（相手）2
[Statedef 3008]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = -5
y = -10

[STate 1510,1]
type = changeanim2
trigger1 = time = 0
value = 3008

[State 903, Vel]
type = veladd
trigger1 = 1
y = 0.55

[State 1205, ChangeState]
type =  selfstate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 903, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15
y = -40

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（相手）3
[Statedef 3009]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
Anim = 5011

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 220, Position]
type = PosSet
trigger1 = AnimTime = 0
y = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 18
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（相手）（レベル2＆3）
[Statedef 3017]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 900, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[STate 1510,1]
type = changeanim2
trigger1 = time = 0
value = 3017

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（相手）2（レベル2＆3）
[Statedef 3018]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 900, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[STate 1510,1]
type = changeanim2
trigger1 = time = 0
value = 3018

;---------------------------------------------------------------------------
;ギガンテックプレッシャー（相手）3（レベル2＆3）
[Statedef 3019]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 1100, Velocity]
type = VelSet
trigger1 = Time = 0
x = 5
y = -10

[STate 1510,1]
type = changeanim2
trigger1 = time = 0
value = 3019

[State 903, Vel]
type = veladd
trigger1 = 1
y = 0.55

[State 1205, ChangeState]
type =  selfstate
trigger1 = Pos Y >=0 && Vel Y >0 
value = 5100

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 903, Pos]
type = PosAdd
trigger1 = Time = 0
x = -15
y = -40

;---------------------------------------------------------------------------
;オロチエフェクト（青）1
[Statedef 7800]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 5

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1505,0]
type = Bindtoparent
trigger1 = time = 0
pos = 60,0
postype = p1

[State 1100, Fire1]
type = Explod
trigger1 = time = 0
Anim = 7800
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
scale = 1.5,1.5
ID = 7800
sprpriority = 5
supermove = 1
removetime = -1

[State 4900, 16]
type = modifyExplod
triggerall = time > 40
trigger1 = NumExplod(7800)
Id = 7800
scale = 1.5-((time-40)*.1),1.5+((time-40)*.3)
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = time = 55
ID = 7800
ignorehitpause = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 55

;---------------------------------------------------------------------------
;オロチエフェクト（青）2
[Statedef 7801]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 5

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1505,0]
type = Bindtoparent
trigger1 = time = 0
pos = 25,0
postype = p1

[State 1100, Fire1]
type = Explod
trigger1 = time = 0
Anim = 7800
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
scale = 1.5,1.5
ID = 7800
sprpriority = 5
supermove = 1
removetime = -1

[State 4900, 16]
type = modifyExplod
triggerall = time > 40
trigger1 = NumExplod(7800)
Id = 7800
scale = 1.5-((time-40)*.1),1.5+((time-40)*.3)
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = time = 55
ID = 7800
ignorehitpause = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 55

;---------------------------------------------------------------------------
;オロチエフェクト（赤）
[Statedef 7810]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 5

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1505,0]
type = Bindtoparent
trigger1 = time = 0
pos = 60,0
postype = p1

[State 1100, Fire1]
type = Explod
trigger1 = time = 0
Anim = 7810
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
scale = 1.5,1.5
ID = 7810
sprpriority = 5
supermove = 1
removetime = -1

[State 4900, 16]
type = modifyExplod
triggerall = time > 40
trigger1 = NumExplod(7810)
Id = 7810
scale = 1.5-((time-40)*.1),1.5+((time-40)*.3)
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = time = 55
ID = 7810
ignorehitpause = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 55

;------------------------------------------------------------------------------------------
;ジェノサイドヘブン
[Statedef 3100]
type    = S
movetype = A
physics = S
juggle = 8
anim = 0
velset = 0,0
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7400
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 1402
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7300
ignorehitpause = 1

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1100, VarSet]
type = VarSet
triggerall = !var(59)
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 6
trigger1 = Time = 0
var(5) = ifelse ((Command = "heaven2" && Power >= 2000) || (Command = "heaven3" && (Power >= 2000 && Power < 3000)), 1, ifelse (Command = "heaven3" && Power >= 3000, 2, 0))

[State 1100, VarSet]
type = VarSet
triggerall = var(59)
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 6
trigger1 = Time = 0
var(5) = ifelse((Power = [2000,2999]), random%2, ifelse(Power >= 3000, 1+random%2, 0))

[State 1100, VarSet]
type = VarSet
triggerall = !var(15) && !var(16)
triggerall = var(20) = 1 || (var(20) = 3 && (100*life/const(data.life))>30) || (var(20) = 3 && (100*life/const(data.life))<=30 && !var(14)) || var(20) = 4 
trigger1 = Time = 0
var(5) = 0

[State 1100, VarSet]
type = VarSet
triggerall = !var(15) && !var(16)
triggerall = var(20) = 2 || (var(20) = 3 && (100*life/const(data.life))<=30 && var(14)) || var(20) = 5
trigger1 = Time = 0
var(5) = 2

[State 1100, VarSet]
type = VarSet
triggerall = var(15)
trigger1 = Time = 0
var(5) = 2

[State 1100, VarSet]
type = VarSet
triggerall = var(16)
trigger1 = Time = 0
var(5) = 0

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = ifelse (!var(5), 3100, ifelse (Var(5) = 1, 3110, 3120))

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = ifelse (!var(5), 54, ifelse (Var(5) = 1, 60, 65))

[State 3000, Superpause]
type = SuperPause
trigger1 = Time = 5
time = 50+(var(5)*2)
movetime = 50+(var(5)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 6
trigger1 = time = 0
value = ifelse (!var(5), -1000, ifelse (Var(5) = 1, -2000, -3000))

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = var(20) = 4
trigger1 = time = 0
value = -1000

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = var(20) = 1
trigger1 = time = 0
value = -1500

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = var(20) = 2 || (var(20) = 3 && (100*life/const(data.life))>30) || (var(20) = 3 && (100*life/const(data.life))<=30 && var(14)) || var(20) = 5
trigger1 = time = 0
value = -3000

[State 860, 4]
type = PowerAdd
triggerall = var(16)
trigger1 = time = 0
value = -3000

[State 860, 4]
type = PowerAdd
triggerall = var(15)
trigger1 = time = 0
value = -1000

[State 860, 5]
type = Varset
trigger1 = time = 0
fvar(13) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(14) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(15) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 3000, AfterImage]
type = AfterImage
trigger1 = time = 5
time = 999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast = ifelse (!var(5), 128, ifelse (Var(5) = 1, 50, 150)),ifelse (!var(5), 128, ifelse (Var(5) = 1, 50, 50)),ifelse (!var(5), 128, ifelse (Var(5) = 1, 150, 50))
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 3001, Super]
type = Helper
trigger1 = Time = 3
id = 8000
name = "Super"
pos = 30,-120
postype = P1
stateno = 8000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 3000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 0
channel = 0

[State 3000, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3100, 1
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 23
value = 40,0
channel = 1

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 24
trigger4 = var(5) = 2 && AnimElem = 34
value = 1100,1
channel = 2

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 23
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 23
x = 1.5
y = ifelse(!var(5),-8.5,ifelse(var(5)=1,-8,-9))

[State 1100, Vel X]
type = VelMul
triggerall = AnimElemTime(23) > 0
trigger1 = var(5) != 2
trigger2 = var(5) = 2 && AnimElemTime(32) <= 0
x = .95

[State 1100, Gravity]
type = VelAdd
trigger1 = AnimElemTime(23) > 0
y = .45

[State 1100, Velocity]
type = VelSet
trigger1 = var(5) = 2 && AnimElemTime(32) = 0
x = 3.5
y = -6.5

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 23
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 7900
name = "heaven_1"
pos = -5,0
postype = P1
stateno = 7900
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 13
id = 7901
name = "heaven_2"
pos = -5,0
postype = P1
stateno = 7901
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 22
id = 7103
name = "heaven_3"
pos = 0,0
postype = P1
stateno = 7103
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999

[State 3001, Super]
type = Helper
triggerall = var(5) = 2
trigger1 = AnimElem = 32
id = 7104
name = "heaven_4"
pos = 0,0
postype = P1
stateno = 7104
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
animtype  = Heavy
air.animtype  = Back
damage=ceil(ifelse(((ifelse(!Var(5),56,ifelse(Var(5)=1,28,42)))*fvar(10))<7,7,((ifelse(!Var(5),56,ifelse(Var(5)=1,28,42)))*fvar(10)))),ceil(ifelse((42*fvar(10)/8)<7,7,(42*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 8, 9
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -10, -80
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 36
ground.hittime = 36
guard.ctrltime = 20
ground.velocity = 0
guard.velocity = 0
air.velocity = -2,-7
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
persistent = 0
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
getpower = 0,0
givepower = 35,35

[State 1100, HitDef]
type = HitDef
triggerall = Var(5)
trigger1 = AnimElem = 7
attr = S, HA
animtype  = Heavy
air.animtype  = Back
damage=ceil(ifelse(((ifelse(Var(5)=1,28,42))*fvar(10))<7,7,((ifelse(Var(5)=1,28,42))*fvar(10)))),ceil(ifelse(((ifelse(Var(5)=1,28,42))*fvar(10)/8)<7,7,((ifelse(Var(5)=1,28,42))*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 8, 9
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -10, -40
hitsound   = S2,12
guardsound = S1,0
ground.type = High
ground.slidetime = 36
ground.hittime = 36
guard.ctrltime = 20
ground.velocity = 0
guard.velocity = 0
air.velocity = -2,-7
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
persistent = 0
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
getpower = 0,0
givepower = 35,35

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
animtype  = Heavy
air.animtype  = Back
damage=ceil(ifelse(((ifelse(Var(5)=1,21,42))*fvar(10))<7,7,((ifelse(Var(5)=1,21,42))*fvar(10)))),ceil(ifelse(((ifelse(Var(5)=1,21,42))*fvar(10)/8)<7,7,((ifelse(Var(5)=1,21,42))*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 8, 9
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -20, -80
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 36
ground.hittime = 36
guard.ctrltime = 20
ground.velocity = 0
guard.velocity = 0
air.velocity = -2,-7
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
persistent = 0
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
getpower = 0,0
givepower = 35,35

[State 1100, HitDef]
type = HitDef
triggerall = Var(5)
trigger1 = AnimElem = 15
attr = S, HA
animtype  = Heavy
air.animtype  = Back
damage=ceil(ifelse(((ifelse(Var(5)=1,21,49))*fvar(10))<7,7,((ifelse(Var(5)=1,21,49))*fvar(10)))),ceil(ifelse(((ifelse(Var(5)=1,21,49))*fvar(10)/8)<7,7,((ifelse(Var(5)=1,21,49))*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 8, 9
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -20, -40
hitsound   = S2,12
guardsound = S1,0
ground.type = High
ground.slidetime = 36
ground.hittime = 36
guard.ctrltime = 20
ground.velocity = 0
guard.velocity = 0
air.velocity = -2,-7
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.4
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
persistent = 0
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
getpower = 0,0
givepower = 35,35

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 22
attr = S, HA
animtype  = Heavy
damage=ceil(ifelse(((ifelse(!Var(5),84,ifelse(Var(5)=1,35,49)))*fvar(10))<7,7,((ifelse(!Var(5),84,ifelse(Var(5)=1,35,49)))*fvar(10)))),ceil(ifelse((63*fvar(10)/8)<7,7,(63*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 8, 9
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -20, -30
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 36
ground.hittime = 36
guard.ctrltime = 20
ground.velocity = -2, -10
guard.velocity = 0
air.velocity = -2,-10
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.4
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
getpower = 0,0
givepower = 35,35

[State 1100, HitDef]
type = HitDef
triggerall = Var(5)
trigger1 = AnimElem = 23
attr = A, HA
animtype  = Heavy
damage=ceil(ifelse(((ifelse(Var(5)=1,42,49))*fvar(10))<7,7,((ifelse(Var(5)=1,42,49))*fvar(10)))),ceil(ifelse(((ifelse(Var(5)=1,42,49))*fvar(10)/8)<7,7,((ifelse(Var(5)=1,42,49))*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 8, 9
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -20, -65
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
guard.ctrltime = 20
ground.velocity = -2, -10
guard.velocity = 0
air.velocity = -2,-10
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.4
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
getpower = 0,0
givepower = 35,35

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 33
attr = A, HA
animtype  = Heavy
damage=ceil(ifelse(((ifelse(Var(5)=1,49,70))*fvar(10))<7,7,((ifelse(Var(5)=1,49,70))*fvar(10)))),ceil(ifelse(((ifelse(Var(5)=1,49,70))*fvar(10)/8)<7,7,((ifelse(Var(5)=1,49,70))*fvar(10)/8)))
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 8, 9
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -20, -65
hitsound   = S2,12
guardsound = S1,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
guard.ctrltime = 20
ground.velocity = -3, -11
guard.velocity = 0
air.velocity = -3, -11
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.4
envshake.time = 10
envshake.ampl = 3
persistent = 0
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .45
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
getpower = 0,0
givepower = 35,35

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -20

[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(5)>=0&&animelemtime(7)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(5)>=0&&animelemtime(7)<0),-80,-40)

[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(13)>=0&&animelemtime(16)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(13)>=0&&animelemtime(15)<0),-80,-40)

[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(22)>=0&&animelemtime(25)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(22)>=0&&animelemtime(23)<0),-30,-65)

[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(33)>=0&&animelemtime(35)<0
ignorehitpause = 1
var(39)=ifelse((animelemtime(33)>=0&&animelemtime(34)<0),-30,-65)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3105

;---------------------------------------------------------------------------
;ジェノサイドヘヴン（着地）
[Statedef 3105]
type    = S
physics = S
ctrl = 0
anim = 3105

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = .5,.5

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0
channel = 20

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ジェノサイドヘヴン（エフェクト）1
[Statedef 7900]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 3

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = -10,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(5) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(6) < 0
value = 7900
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(6) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(7) < 0
value = 7900
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(7) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(8) < 0
value = 7900
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(8) = 0
value = 7900
elem = 4
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = parent,stateno != 3100
trigger3 = parent,stateno = 3100 && parent,time = 1

;---------------------------------------------------------------------------
;ジェノサイドヘヴン（エフェクト）2
[Statedef 7901]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 3

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = -10,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(13) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(14) < 0
value = 7901
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(14) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(15) < 0
value = 7901
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(15) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(16) < 0
value = 7901
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(16) = 0
value = 7901
elem = 4
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = parent,stateno != 3100
trigger3 = parent,stateno = 3100 && parent,time = 1

;---------------------------------------------------------------------------
;ジェノサイドヘヴン（エフェクト）3
[Statedef 7103]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 3

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = 0,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(22) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(23) < 0
value = 7100
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(23) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(24) < 0
value = 7100
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(24) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(25) < 0
value = 7100
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(25) = 0
value = 7100
elem = 4
persistent = 0

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && !parent,var(5) && parent,animelemtime(33) = 0
trigger2 = parent,stateno = 3100 && parent,var(5) = 1 && parent,animelemtime(31) = 0
trigger3 = parent,stateno = 3100 && parent,var(5) = 2 && parent,animelemtime(29) = 0
value = 7101
elem = 1
persistent = 0

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = anim = 7101 && animtime = 0
trigger2 = parent,stateno != 3100
trigger3 = parent,stateno = 3100 && parent,time = 1

;---------------------------------------------------------------------------
;ジェノサイドヘヴン（エフェクト）4
[Statedef 7104]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1
sprpriority = 3

[State 1505,0]
type = Bindtoparent
trigger1 = 1
pos = 0,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(32) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(33) < 0
value = 7110
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(33) >= 0
trigger1 = parent,stateno = 3100 && parent,animelemtime(34) < 0
value = 7110
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(34) = 0
value = 7110
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = parent,stateno = 3100 && parent,animelemtime(39) = 0
value = 7111
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = anim = 7111 && animtime = 0
trigger2 = parent,stateno != 3100
trigger3 = parent,stateno = 3100 && parent,time = 1

;---------------------------------------------------------------------------
;ラストジャッジメント
[Statedef 3200]
type    = S
movetype =  A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = 2

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 3200

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 64

[State 3000, Superpause]
type = SuperPause
trigger1 = Time = 4
time = 49
movetime = 49
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 2 || var(20) = 6 || (var(20) = 3 && (100*life/const(data.life))<=30 && var(14)) || var(20) = 5
trigger1 = time = 0
value = -3000

[State 860, 4]
type = PowerAdd
triggerall = var(15)
trigger1 = time = 0
value = -1000

[State 860, 5]
type = Varset
trigger1 = time = 0
fvar(13) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(14) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(15) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 3000, AfterImage]
type = AfterImage
trigger1 = Time = 4
time = 999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast =  150,50,50
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 3001, Super]
type = Helper
trigger1 = Time = 2
id = 8000
name = "Super"
pos = 10,-106
postype = P1
stateno = 8000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3000, Voice]
type = PlaySnd
trigger1 = Time = 2
value = 3200,0
channel = 0

[State 3000, Voice]
type = PlaySnd
trigger1 = Time = 50
value = 1800,0
channel = 1

[State 1100, Velocity]
type = VelSet
trigger1 = Time >= 50
x = 3.5

[State 3200]
type = StateTypeSet
triggerall = enemy,movetype = H
trigger1 = Animelem = 2,>= 0
trigger1 = animelem = 3,< 0
movetype = I

[State 3200]
type = StateTypeSet
triggerall = enemy,movetype != H
trigger1 = Animelem = 2,>= 0
trigger1 = animelem = 3,< 0
movetype = A

[State 1200, 1]
type = HitDef
triggerall = P2StateNo != [150,155]
triggerall = P2StateNo != 40
triggerall = enemy,movetype != H
trigger1 = animelem = 2,>= 0
trigger1 = animelem = 3,< 0
attr = S, HT
hitflag = M-
guardflag = -N
numhits = 1
priority = 7, Miss    
sparkno = -1
hitsound   = S900,0
p1stateno = 3201
p2stateno = 3209
p1facing = 1
p2facing = 1
fall = 1
fall.recover = 0
getpower = 0,0
givepower = 35,35

[State 1200, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ラストジャッジメント（発動）
[Statedef 3201]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 3201
velset = 0,0

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 1
value = 3205

[State 3001, Width]
type = Width
trigger1 = Time = 0
edge = 50,0

[STate 901,1]
type = targetBind
trigger1 = animelem = 1
pos = 45,0
postype = P1

[State 200, 2]
type = Playsnd
trigger1 = Time = 1
value = 3000,0
channel = 0

[State 3001, Add Hits!]
type = HitAdd
trigger1 = (Time = [35,100]) && Time % 5 = 0
value = 1

[State -2, Combo]
type = VarAdd
trigger1 = (Time = [35,100]) && Time % 5 = 0
var(17) = 1
ignorehitpause = 1

[State 180, 1]
type = VarAdd
triggerall = var(17) >= 2
trigger1 = (Time = [35,100]) && Time % 5 = 0
var(50)=ifelse(var(17)<6,2000,500)
ignorehitpause = 1
persistent = 1

[State 3105, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [35,100]
;flag = NoBarDisplay
flag = NoBG
flag2 = NoFG
flag3 = timerfreeze

[State 3105, AssertSpecial]
type = AssertSpecial
trigger1 = win
trigger1 = 1
flag = NoMusic

[State -3]
type = AfterImageTime
trigger1 = Time = 10
time = 0

[State 9606, EnvColor]
type = Playsnd
trigger1 = (Time = [35,100]) && Time % 5 = 0
value = 2,22
channel = 5

[State 4110, Explod]
type = Explod
trigger1 = (Time = [35,100]) && Time % 5 = 0
anim = 8200+(random%8)
pos = -15+random%20,-70+random%20
postype = P2
sprpriority = 99
bindtime = 1
ownpal = 1
facing = ifelse(Random<=500,-1,1)
scale = (120+var(17))*.01,(120+var(17))*.01

[State 3105, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = (Time = [35,99]) && Time % 5 = 0
value = ceil(ifelse((-28*fvar(10))>-7,-7,(-28*fvar(10))))
kill=0

[State 3105, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = 99
value = ceil(ifelse((-98*fvar(10))>-7,-7,(-98*fvar(10))))

[State 180, 1]
type = TargetPowerAdd
triggerall = var(17) >= 2
trigger1 = (Time = [35,100]) && Time % 5 = 0
value = 35
ignorehitpause = 1
persistent = 1

[State 901, Throw]
type = TargetState
trigger1 = Time = 100
value = 3206

[State 3105, AssertSpecial]
type = AssertSpecial
triggerall = win
trigger1 = Time >= 99
flag = NoMusic

[State 200, 2]
type = ChangeState
trigger1 = Time = 100
value = 3202

;---------------------------------------------------------------------------
;ラストジャッジメント（発動）（相手）
[Statedef 3205]
type    = S
movetype= H
physics = N
juggle  = 0
ctrl = 0
velset = 0, 0
sprpriority = -1

[State 200, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 3205

;---------------------------------------------------------------------------
;ラストジャッジメント（発動）（相手）2
[Statedef 3206]
type    = L
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 5110
velset = 0, 0
sprpriority = -1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3110, ChangeState]
type = SelfState
trigger1 = Time = 130
value = ifelse(alive, 5120, 5150)

;---------------------------------------------------------------------------
;ラストジャッジメント（発動）（相手）3
[Statedef 3209]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;ラストジャッジメント（終了）
[Statedef 3202]
type = S
ctrl = 0
anim = 3202
velset = 0,0

[State 3105, AssertSpecial]
type = AssertSpecial
trigger1 = win
trigger1 = Time <= 90
flag = NoBarDisplay
flag2 = NoBG
flag3 = noFG

[State 3105, AssertSpecial]
type = AssertSpecial
trigger1 = win
trigger1 = Time <= 90
flag = NoMusic
flag2 = globalnoshadow

[State 3000, AfterImage]
type = AfterImage
trigger1 = Time = 1
time = 999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast =  150,50,50
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State -3]
type = AfterImageTime
trigger1 = animelem = 10
time = 0

[State 900, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 900, 0]
type = VarSet
trigger1 = win
trigger1 = Time = 0
var(13) = 1

[State 900, 0]
type = VarSet
trigger1 = win
trigger1 = Time = 91
var(13) = 0

[State 3830,0]
type = Changeanim
trigger1 = Time = 0
trigger1 = win
value = 3203

[State 9606, EnvColor]
type = EnvColor
trigger1 = Time < 0
value = 0,0,0
color = 0
time = 1

[State 9606, EnvColor]
type = Bgpalfx
trigger1 = Time < 0
add = -255,-255,-255
color = 0
time = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1200, Flames]
type = Explod
trigger1 = Win
anim = 3210
id = 3210
pos = 0,0
postype = Left
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = Playsnd
trigger1 = Win
trigger1 = Time = 0
value = 3200, 1
channel = 15

[State 200, 2]
type = Playsnd
trigger1 = Time = ifelse(win,20,0)
value = 1500, 0
channel = 0

[State 3810,5]
type = Changestate
triggerall = anim = 3203
trigger1 = animTime = 0
value = 3203

[State 3810,5]
type = Changestate
trigger1 = animTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ラストジャッジメント（終了）（KO時1）
[Statedef 3203]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 1
velset = 0,0
anim = 3204

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3810,5]
type = Changestate
trigger1 = p2movetype = A
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ラストジャッジメント（終了）（KO時2）
[Statedef 3204]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3204

[State 184,3]
type = Assertspecial
trigger1 = Time <= 150
flag = roundnotover

;---------------------------------------------------------------------------
;ゴッドエンド
[Statedef 3300]
type    = S
movetype =  A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 0

[State 220, Position]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7400
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 1402
ignorehitpause = 1

[State 52, Ora Remove]
type = RemoveExplod
trigger1 = Time = 0
ID = 7401
ignorehitpause = 1

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(5) = 2

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 3300

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 64

[State 3000, Superpause]
type = SuperPause
trigger1 = Time = 4
time = 49
movetime = 49
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 860, 4]
type = PowerAdd
triggerall = !var(15) && !var(16)
triggerall = !var(20) || var(20) = 2 || var(20) = 6 || (var(20) = 3 && (100*life/const(data.life))<=30 && var(14)) || var(20) = 5
trigger1 = time = 0
value = -3000

[State 860, 4]
type = PowerAdd
triggerall = var(15)
trigger1 = time = 0
value = -1000

[State 860, 5]
type = Varset
trigger1 = time = 0
fvar(13) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(14) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(15) = 0

[State 860, 5]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 3000, AfterImage]
type = AfterImage
trigger1 = Time = 4
time = 999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast =  150,50,50
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 3001, Super]
type = Helper
trigger1 = Time = 2
id = 8000
name = "Super"
pos = 5,-110
postype = P1
stateno = 8000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

[State 3000, Voice]
type = PlaySnd
trigger1 = Time = 1
value = 1300,1
channel = 0

[State 650, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 2
channel = 10

[State 3000, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1
channel = 0

[State 1200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
animtype  = hard
hitflag = MAF
guardflag = MA
priority = 3, Miss    
pausetime = 0, 0
guard.pausetime = 12, 13
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = -10, -68
hitsound   = S2,22
guardsound = S1,0
damage = ceil(ifelse((14*fvar(10))<7,7,(14*fvar(10)))),0
p1stateno = 3301
p2stateno = 3309
p2facing = 1
guard.dist = 0
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
air.juggle = 3
kill = 0
envshake.time = 15
envshake.ampl = 4
palfx.time = 12*var(41)
palfx.add = 255,255,255
palfx.mul = 128,128,128
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
getpower = 0,0
givepower = 35,35

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(38) = -10

[State 3001, VarSet]
type = VarSet
trigger1 = 1
ignorehitpause = 1
var(39) = -68

[State 1200, 2]
type = ChangeState
;triggerall = MoveHit = 0
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ゴッドエンド（発動）
[Statedef 3301]
type    = S
movetype =  A
physics = N
anim = 3301
poweradd = 0

[State 3001, Width]
type = Width
trigger1 = Time = 0
edge = 80,0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 3305

[State 3000, AfterImage]
type = AfterImage
trigger1 = Time = 1
time = 999
TimeGap  = 3
FrameGap = 4
length = 10
PalBright = 1,1,1
PalContrast =  150,50,50
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElemTime(2) = 27
value = 190, 1
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1500, 0

[State 1000, Spark]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
value = 3000,1

[State 1000, Spark]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
value = 2,2

[State 3001, Add Hits!]
type = HitAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
value = 1

[State -2, Combo]
type = VarAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
var(17) = 1
ignorehitpause = 1

[State 180, 1]
type = VarAdd
triggerall = var(17) >= 2
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
var(50)=ifelse(var(17)<6,2000,500)
ignorehitpause = 1
persistent = 1

[STate 901,1]
type = targetBind
trigger1 = animelem = 1
pos = 79,-60
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 3
pos = 77,-86
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 4
pos = 79,-93
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 5
pos = 73,-108
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 6
pos = 40,-143
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 7
pos = 40,-139
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = animelem = 8
pos = 40,-141
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
pos = 46,-140
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = AnimElem = 10
trigger2 = AnimElem = 12
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
trigger6 = AnimElem = 20
trigger7 = AnimElem = 22
trigger8 = AnimElem = 24
trigger9 = AnimElem = 26
trigger10 = AnimElem = 28
trigger11 = AnimElem = 30
pos = 42,-136
postype = P1
time = -1

[STate 901,1]
type = targetBind
trigger1 = AnimElem = 32
pos = 42,-136
postype = P1
time = 1

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
id = 7801
name = "orochi_2"
pos = 15, 0
postype = P1
stateno = 7801
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 32
value = 3306

[State 903, EnvShake]
type = EnvShake
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
trigger12 = AnimElem = 32
time = 15

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
trigger8 = AnimElem = 23
trigger9 = AnimElem = 25
trigger10 = AnimElem = 27
trigger11 = AnimElem = 29
value = ceil(ifelse((-35*fvar(10))>-7,-7,(-35*fvar(10))))
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 32
value = ceil(ifelse((-56*fvar(10))>-7,-7,(-56*fvar(10))))
kill = 1

[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ゴッドエンド（発動）（相手）
[Statedef 3305]
type    = A
movetype =  H
physics = N
velset = 0,0
SprPriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 902, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3305

[STate 901,1]
type = SprPriority
trigger1 = animelem = 5
value = 2

;---------------------------------------------------------------------------
;ゴッドエンド（発動）（相手）2
[Statedef 3306]
type    = A
movetype =  H
physics = N
velset = -1,-12
sprpriority = 2

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 903, Vel]
type = veladd
trigger1 = 1
y = 0.45

[State 903, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 3306

[STate 1510,1]
type = turn
trigger1 = Time = 0

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 903, 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;ゴッドエンド（相手）4
[Statedef 3309]
type    = A
movetype =  H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type =  selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;ブロッキング（立ち）
[Statedef 4000]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
anim = 4000

[State 4000, VarAdd]
type = VarAdd
trigger1 = time = 0
var(50)=2000
ignorehitpause = 1

[State 4000, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(var(20)=2,78,89)*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 4000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 4000, PalFX]
type = PalFX
trigger1 = animelemtime(2)>=0 && animelemtime(3)<0
time = 1
add = 80,80,255

[State 4000, PlaySnd];ガード音
type = PlaySnd
trigger1 = Time = 0
value = 4000,0

[State 4000, PlaySnd];声
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 4000, Explod];エフェクト
type = Explod
trigger1 = Time = 0
anim = 8065
pos = 20,-81
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = -1
ignorehitpause = 1

[State 4000, Pause]
type = Pause
trigger1 = time = 1
time = 14
movetime = 14

[State 4000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ブロッキング（屈）
[Statedef 4010]
type = C
movetype = I
physics = C
ctrl = 0
velset = 0,0
anim = 4010

[State 4010, VarAdd]
type = VarAdd
trigger1 = time = 0
var(50)=2000
ignorehitpause = 1

[State 4010, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(var(20)=2,78,89)*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 4010, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 4010, PalFX]
type = PalFX
trigger1 = animelemtime(2)>=0 && animelemtime(3)<0
time = 1
add = 80,80,255

[State 4010, PlaySnd];ガード音
type = PlaySnd
trigger1 = Time = 0
value = 4000,0

[State 4010, PlaySnd];声
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 4010, Explod];エフェクト
type = Explod
trigger1 = Time = 0
anim = 8065
pos = 10,-43
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = -1
ignorehitpause = 1

[State 4010, Pause]
type = Pause
trigger1 = time = 1
time = 14
movetime = 14

[State 4010, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ブロッキング（空中）
[Statedef 4020]
type = A
movetype = I
physics = N
ctrl = 0
anim = 4020
velset = 0,0

[State 4020, VarAdd]
type = VarAdd
trigger1 = time = 0
var(50)=2000
ignorehitpause = 1

[State 4020, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(var(20)=2,78,89)*ifelse((var(15)||var(16)),0,1)*(10+var(29))/10

[State 4020, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 4020, PalFX]
type = PalFX
trigger1 = animelemtime(2)>=0 && animelemtime(3)<0
time = 1
add = 80,80,255

[State 4020, PlaySnd];ガード音
type = PlaySnd
trigger1 = Time = 0
value = 4000,0

[State 4020, PlaySnd];声
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 4020, Explod];エフェクト
type = Explod
trigger1 = Time = 0
anim = 8065
pos = 23,-83
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = -1
ignorehitpause = 1

[State 4020, Pause]
type = Pause
trigger1 = time = 1
time = 14
movetime = 14

[State 4020, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 4030

;---------------------------------------------------------------------------
;空中ブロッキング後
[Statedef 4030]
type = A
physics = N
velset = 0,-4
ctrl = 1
anim = 4030

[State 4030, Gravity]
type = Gravity
trigger1 = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;上段ジャストディフェンス
[Statedef 4100]
type = S
movetype = I
physics = S
anim = 4100
velset = 0,0
ctrl = 0

[State 4100, VarAdd]
type = VarAdd
trigger1 = time = 0
var(50)=2000
ignorehitpause = 1

[State 4100, PowerAdd]
type = PowerAdd
triggerall = var(20)=6
trigger1 = time = 0
value = 107*ifelse((var(15)||var(16)),0,1)*(10+var(31))/10*(10+var(29))/10

[State 860, VarAdd]
type = VarAdd
triggerall = var(20)=5
trigger1 = time = 0
fvar(13) = 600*ifelse((var(43)||var(15)||var(16)),0,1)*(10+var(31))/10*(10+var(29))/10

[State 4100, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = ifelse(var(46),var(46),25)

[State 4100, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4100, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4100,0

[State 4100, PlaySnd];声
type = Playsnd
trigger1 = Time = 0
value = 0,0

[State 4100, Pause]
type = Pause
trigger1 = time = 0
time = 3

[State 4100, Explod];エフェクト
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 0,-55
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = -1
ignorehitpause = 1

[State 4100, PalFX]
type = PalFX
trigger1 = Time = 0
time = 5
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 4100, ChangeState] 
type = ChangeState 
Trigger1 = var(0) <= 2
value = 130 
ctrl = 1

;---------------------------------------------------------------------------
;下段ジャストディフェンス
[Statedef 4110]
type = C
movetype = I
physics = C
anim = 4110
velset = 0,0
ctrl = 0

[State 4110, VarAdd]
type = VarAdd
trigger1 = time = 0
var(50)=2000
ignorehitpause = 1

[State 4110, PowerAdd]
type = PowerAdd
triggerall = var(20)=6
trigger1 = time = 0
value = 107*ifelse((var(15)||var(16)),0,1)*(10+var(31))/10*(10+var(29))/10

[State 4110, VarAdd]
type = VarAdd
triggerall = var(20)=5
trigger1 = time = 0
fvar(13) = 600*ifelse((var(43)||var(15)||var(16)),0,1)*(10+var(31))/10*(10+var(29))/10

[State 4110, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = ifelse(var(46),var(46),25)

[State 4110, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1211, PlaySnd] 
type = PlaySnd
trigger1 = Time = 0 
value = 4100,0

[State 4110, PlaySnd];声
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 4110, Pause]
type = Pause
trigger1 = time = 0
time = 3

[State 4110, Explod];エフェクト
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 0,-35
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = -1
ignorehitpause = 1

[State 4110, PalFX]
type = PalFX
trigger1 = Time = 0
time = 5
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 4110, ChangeState] 
type = ChangeState 
Trigger1 = var(0) <= 2
value = 131 
ctrl = 1

;---------------------------------------------------------------------------
;空中ジャストディフェンス
[Statedef 4120] 
type = A
movetype = I
physics = N
anim = 4120
velset = 0,0
ctrl = 0

[State 4120, VarAdd]
type = VarAdd
trigger1 = time = 0
var(50)=2000
ignorehitpause = 1

[State 4120, PowerAdd]
type = PowerAdd
triggerall = var(20)=6
trigger1 = time = 0
value = 107*ifelse((var(15)||var(16)),0,1)*(10+var(31))/10*(10+var(29))/10

[State 4120, VarAdd]
type = VarAdd
triggerall = var(20)=5
trigger1 = time = 0
fvar(13) = 600*ifelse((var(43)||var(15)||var(16)),0,1)*(10+var(31))/10*(10+var(29))/10

[State 4120, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = ifelse(var(46),var(46),25)

[State 4120, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4120, PlaySnd] 
type = PlaySnd
trigger1 = Time = 0
value = 4100,0

[State 4120, PlaySnd];声
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[State 4120, Pause]
type = Pause
trigger1 = time = 0
time = 3

[State 4120, Explod];エフェクト
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 13,-93
sprpriority = 3
ownpal = 1
scale = .5,.5
pausemovetime = -1
ignorehitpause = 1

[State 4120, PalFX]
type = PalFX
trigger1 = Time = 0
time = 5
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 4120, ChangeState] 
type = ChangeState 
Trigger1 = var(0) <= 2
value = 4130

;---------------------------------------------------------------------------
;空中ジャストディフェンス後
[Statedef 4130]
type = A
physics = N
velset = -1.5,-5.3
ctrl = 1
anim = 4030

[State 4130, Gravity]
type = Gravity
trigger1 = 1

[State 4130, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 840]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = SelfState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 810,NotHitBy]
type = NotHitBy
trigger1 = movetype = I
value = SCA

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------
; 投げ抜け（byH"さん）
;------------------------ 自分側
[Statedef 950]
type = S
movetype = A
physics = N
anim = 5945
ctrl = 0
velset = -3, 0

[State 810,TargetBind]
type = TargetState
trigger1 = Time = 0
value = 955

[State 812, 1];エフェクト
type = Explod
trigger1 = Time = 0
ignorehitpause = 1
persistent = 0
anim = 8600
pos = 0, -60
sprpriority = 2
ownpal = 1
pausemovetime = -1
scale = .5,.5

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=3
value = 810,0

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=3
value = 5000,2

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .95

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = ChangeState
trigger1 = Time >= 32
value = 0
ctrl = 1

;------------------------ 相手側
[Statedef 955]
type = S
movetype = H
physics = N
ctrl = 0
velset = -3, 0
facing = enemy,facing

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5940)
trigger1 = AuthorName = "Tin" || AuthorName = "Mouser" || AuthorName = "H”" || AuthorName = "adamskie" 
trigger2 = AuthorName = "M.M.R." || AuthorName = "ryokucha" || AuthorName = "Bad Darkness" || AuthorName = "Third"
trigger3 = AuthorName = "CAMRAT Type KOF" || AuthorName = "keyu" || AuthorName = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan☆Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "SUMI" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSS†CAT" || AuthorName = "CrossCat"
value = 5940

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5910) && !SelfAnimExist(5940)
trigger1 = AuthorName = "Tin" || AuthorName = "Mouser" || AuthorName = "H”" || AuthorName = "adamskie" 
trigger2 = AuthorName = "M.M.R." || AuthorName = "ryokucha" || AuthorName = "Bad Darkness" || AuthorName = "Third"
trigger3 = AuthorName = "CAMRAT Type KOF" || AuthorName = "keyu" || AuthorName = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan☆Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "SUMI" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSS†CAT" || AuthorName = "CrossCat"
value = 5910

[State 820,ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 0 && anim != 5940 && anim != 5910
value = 5007

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .95

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = SelfState
trigger1 = Time >= 29
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;削りKO
[Statedef 5950]
physics = S
movetype = H
ctrl = 0
velset = 0,0

[State 52, 1]
type = HitVelSet
trigger1 = Time = 0
x = 2

[State 190, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 860, 4]
type = NotHitBy
trigger1 = 1
value = SCA

[State 190, 4]
type = ChangeAnim
trigger1 = !HitOver
value = ifelse(fvar(1)=0,5010,5020)

[State 190, 4]
type = ChangeAnim
trigger1 = HitOver
value = 5950
persistent = 0

[State 1100, ChangeState]
type = ChangeState
trigger1 = Animelem = 16
value = 5150

;---------------------------------------------------------------------------
;グルーヴセレクト(Cグルーヴ)
[Statedef 6000]
ctrl = 1
anim = 6900
velset = 0,0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
var(20) = 0

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
Anim = ifelse(facing = 1, 6000, 6010)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ontop = 1
ID = 6000
scale = 0.5,0.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6001

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6006

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
ID = 6000

[State 6000, PlaySnd]
type = Playsnd
trigger1 = parent,command = "down" || parent,command = "up"
trigger1 = time > 7
value = 6000,0
channel = 10

[State 6000, PlaySnd]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
value = 6000,1
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "up"
trigger1 = time > 7
value = 6006

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "down"
trigger1 = time > 7
value = 6001

[STate 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"

;---------------------------------------------------------------------------
;グルーヴセレクト(Aグルーヴ)
[Statedef 6001]
ctrl = 1
anim = 6900
velset = 0,0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
var(20) = 1

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
Anim = ifelse(facing = 1, 6001, 6011)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ontop = 1
ID = 6001
scale = 0.5,0.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6002

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6000

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
ID = 6001

[State 6000, PlaySnd]
type = Playsnd
trigger1 = parent,command = "down" || parent,command = "up"
trigger1 = time > 7
value = 6000,0
channel = 10

[State 6000, PlaySnd]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
value = 6000,1
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "up"
trigger1 = time > 7
value = 6000

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "down"
trigger1 = time > 7
value = 6002

[STate 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"

;---------------------------------------------------------------------------
;グルーヴセレクト(Pグルーヴ)
[Statedef 6002]
ctrl = 1
anim = 6900
velset = 0,0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
var(20) = 2

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
Anim = ifelse(facing = 1, 6002, 6012)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ontop = 1
ID = 6002
scale = 0.5,0.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6003

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6001

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
ID = 6002

[State 6000, PlaySnd]
type = Playsnd
trigger1 = parent,command = "down" || parent,command = "up"
trigger1 = time > 7
value = 6000,0
channel = 10

[State 6000, PlaySnd]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
value = 6000,1
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "up"
trigger1 = time > 7
value = 6001

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "down"
trigger1 = time > 7
value = 6003

[STate 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"

;---------------------------------------------------------------------------
;グルーヴセレクト(Sグルーヴ)
[Statedef 6003]
ctrl = 1
anim = 6900
velset = 0,0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
var(20) = 3

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
Anim = ifelse(facing = 1, 6003, 6013)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ontop = 1
ID = 6003
scale = 0.5,0.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6004

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6002

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
ID = 6003

[State 6000, PlaySnd]
type = Playsnd
trigger1 = parent,command = "down" || parent,command = "up"
trigger1 = time > 7
value = 6000,0
channel = 10

[State 6000, PlaySnd]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
value = 6000,1
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "up"
trigger1 = time > 7
value = 6002

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "down"
trigger1 = time > 7
value = 6004

[STate 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"

;---------------------------------------------------------------------------
;グルーヴセレクト(Nグルーヴ)
[Statedef 6004]
ctrl = 1
anim = 6900
velset = 0,0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
var(20) = 4

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
Anim = ifelse(facing = 1, 6004, 6014)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ontop = 1
ID = 6004
scale = 0.5,0.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6005

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6003

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
ID = 6004

[State 6000, PlaySnd]
type = Playsnd
trigger1 = parent,command = "down" || parent,command = "up"
trigger1 = time > 7
value = 6000,0
channel = 10

[State 6000, PlaySnd]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
value = 6000,1
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "up"
trigger1 = time > 7
value = 6003

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "down"
trigger1 = time > 7
value = 6005

[STate 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"

;---------------------------------------------------------------------------
;グルーヴセレクト(Kグルーヴ)
[Statedef 6005]
ctrl = 1
anim = 6900
velset = 0,0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
var(20) = 5

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
Anim = ifelse(facing = 1, 6005, 6015)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ontop = 1
ID = 6005
scale = 0.5,0.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6006

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6004

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
ID = 6005

[State 6000, PlaySnd]
type = Playsnd
trigger1 = parent,command = "down" || parent,command = "up"
trigger1 = time > 7
value = 6000,0
channel = 10

[State 6000, PlaySnd]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
value = 6000,1
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "up"
trigger1 = time > 7
value = 6004

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "down"
trigger1 = time > 7
value = 6006

[STate 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"

;---------------------------------------------------------------------------
;グルーヴセレクト(Exグルーヴ)
[Statedef 6006]
ctrl = 1
anim = 6900
velset = 0,0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
var(20) = 6

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
Anim = ifelse(facing = 1, 6006, 6016)
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 1
ontop = 1
ID = 6006
scale = 0.5,0.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6000

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6005

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
ID = 6006

[State 6000, PlaySnd]
type = Playsnd
trigger1 = parent,command = "down" || parent,command = "up"
trigger1 = time > 7
value = 6000,0
channel = 10

[State 6000, PlaySnd]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
value = 6000,1
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "up"
trigger1 = time > 7
value = 6005

[State 6000, ChangeState]
type = ChangeState
trigger1 = parent,command = "down"
trigger1 = time > 7
value = 6000

[STate 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"

;------------------------ 上矢印
[Statedef 6050]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 4110, PalFX]
type = PalFX
trigger1= Time = 0
add = 0,0,0
Time = 1

[State 4110, Varset]
type = Varset
trigger1= NumExplod(6051)!
var(1) = 0

[State 9100, PosSet]
type = PosSet
trigger1 = 1
y = -25

[State 4110, Explod]
type = Explod
trigger1 = NumExplod(6050)!
anim = 6055
id = 6050
scale = .5,.5
pos = 0,0
postype = P1
sprpriority = 5
bindtime = -1
removetime = -1
ownpal = 1
ontop = 1

[State 4110, Explod]
type = Explod
trigger1 = NumExplod(6051)!
trigger1 = Root,command = "holdup"
anim = 6056
id = 6051
scale = .5,.5
pos = 0,0
vel = 0,-.2
postype = P1
sprpriority = 6
bindtime = 1
removetime = 30
ownpal = 0
ontop = 1

[State 4110, Varadd]
type = Varadd
trigger1= NumExplod(6051)
var(1) = -9

[State 4110, PalFX]
type = PalFX
trigger1= NumExplod(6051)
add = Var(1)-1,Var(1)-1,Var(1)-1
Time = 1

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Root,NumHelper(6000)!
id = 6050
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Root,NumHelper(6000)!
id = 6051

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Root,NumHelper(6000)!

;------------------------ 下矢印
[Statedef 6055]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 4110, PalFX]
type = PalFX
trigger1= Time = 0
add = 0,0,0
Time = 1

[State 4110, Varset]
type = Varset
trigger1= NumExplod(6051)!
var(1) = 0

[State 9100, PosSet]
type = PosSet
trigger1 = 1
y = -5

[State 4110, Explod]
type = Explod
trigger1 = NumExplod(6050)!
anim = 6050
id = 6050
scale = .5,.5
pos = 0,0
postype = P1
sprpriority = 5
bindtime = -1
removetime = -1
ownpal = 1
ontop = 1

[State 4110, Explod]
type = Explod
trigger1 = NumExplod(6051)!
trigger1 = Root,command = "holddown"
anim = 6051
id = 6051
scale = .5,.5
pos = 0,0
vel = 0,.2
postype = P1
sprpriority = 6
bindtime = 1
removetime = 30
ownpal = 0
ontop = 1

[State 4110, Varadd]
type = Varadd
trigger1= NumExplod(6051)
var(1) = -9

[State 4110, PalFX]
type = PalFX
trigger1= NumExplod(6051)
add = Var(1)-1,Var(1)-1,Var(1)-1
Time = 1

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Root,NumHelper(6000)!
id = 6050
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Root,NumHelper(6000)!
id = 6051

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Root,NumHelper(6000)!

;---------------------------------------------------------------------------
;スーパーコンボレベルゲージ
[Statedef 6100]
ctrl = 0
anim = 6900
ownpal = 1

[State 6100, Explod];背景
type = Explod
trigger1 = !NumExplod(6101)
anim = 6101
id = 6101
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime=-1

;ゲージLv.1
[State 6100, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6102)
anim = 6102
id = 6102
postype = Back
pos = 140,227
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime=-1
scale = 1,5

[State 6100, Explod];ゲージMAX
type = Explod
trigger1 = !NumExplod(6103)
anim = 6103
id = 6103
postype = Back
pos = 140,227
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 1,5

;ゲージLv.2
[State 6100, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6104)
anim = 6102
id = 6104
postype = Back
pos = 97,225
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = 1,7

[State 6100, Explod];ゲージMAX
type = Explod
trigger1 = !NumExplod(6105)
anim = 6103
id = 6105
postype = Back
pos = 97,225
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 1,7

;ゲージLv.3
[State 6100, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6106)
anim = 6102
id = 6106
postype = Back
pos = 54,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = 1,8

[State 6100, Explod];ゲージMAX
type = Explod
trigger1 = !NumExplod(6107)
anim = 6103
id = 6107
postype = Back
pos = 54,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 1,8

[State 6100, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6100)
trigger1 = teamside = 1
anim = 6100+ceil(root,fvar(16)*200)
id = 6100
postype = Left
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6100)
trigger1 = teamside = 2
anim = 6200+ceil(root,fvar(16)*200)
id = 6100
postype = Right
pos = -140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime=-1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, Explod];Lv.1_1P
type = Explod
trigger1 = !NumExplod(6201)
trigger1 = teamside = 1
anim = 6104+ceil(root,fvar(16)*200)
id = 6201
postype = Left
pos = 31,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, Explod];1_2P
type = Explod
trigger1 = !NumExplod(6201)
trigger1 = teamside = 2
anim = 6204+ceil(root,fvar(16)*200)
id = 6201
postype = Right
pos = -31,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, Explod];2_1P
type = Explod
trigger1 = !NumExplod(6202)
trigger1 = teamside = 1
anim = 6105+ceil(root,fvar(16)*200)
id = 6202
postype = Left
pos = 31,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, Explod];2_2P
type = Explod
trigger1 = !NumExplod(6202)
trigger1 = teamside = 2
anim = 6205+ceil(root,fvar(16)*200)
id = 6202
postype = Right
pos = -31,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, Explod];3_1P
type = Explod
trigger1 = !NumExplod(6203)
trigger1 = teamside = 1
anim = 6106+ceil(root,fvar(16)*200)
id = 6203
postype = Left
pos = 31,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, Explod];3_2P
type = Explod
trigger1 = !NumExplod(6203)
trigger1 = teamside = 2
anim = 6206+ceil(root,fvar(16)*200)
id = 6203
postype = Right
pos = -31,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6100, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6100)
Id = 6100
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6100)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6100
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6101)
Id = 6101
scale = 1,1
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6101)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6101
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 1000
trigger1 = NumExplod(6102)
Id = 6102
scale = 1,5
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power < 1000
trigger1 = NumExplod(6102)
Id = 6102
scale = (parent,power)/1000.0,5
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6102)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6102
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 2000
trigger1 = NumExplod(6104)
Id = 6104
scale = 1,7
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [1000,1999]
trigger1 = NumExplod(6104)
Id = 6104
scale = ((parent,power-1000)/1000.0),7
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6104)
trigger1 = parent,power < 1000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6104
scale = 0,7
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6106)
Id = 6106
scale = 1,8
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [2000,2999]
trigger1 = NumExplod(6106)
Id = 6106
scale = ((parent,power-2000)/1000.0),8
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6106)
trigger1 = parent,power < 2000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6106
scale = 0,8
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 1000
trigger1 = NumExplod(6103)
Id = 6103
scale = 1,5
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6103)
trigger1 = parent,power < 1000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6103
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 2000
trigger1 = NumExplod(6105)
Id = 6105
scale = 1,7
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6105)
trigger1 = parent,power < 2000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6105
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6107)
Id = 6107
scale = 1,8
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6107)
trigger1 = parent,power < 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6107
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [1000,1999]
trigger1 = NumExplod(6201)
Id = 6201
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6201)
trigger1 = parent,power < 1000 || parent,power >= 2000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6201
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [2000,2999]
trigger1 = NumExplod(6202)
Id = 6202
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6202)
trigger1 = parent,power < 2000 || parent,power >= 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6202
scale = 0,0
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6203)
Id = 6203
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6203)
trigger1 = parent,power < 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6203
scale = 0,0
ignorehitpause = 1

;---------------------------------------------------------------------------
;オリジナルコンボゲージ
[Statedef 6110]
ctrl = 0
anim = 6900
ownpal = 1

[State 6110, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0
ignorehitpause = 1

[State 6110, PalFX]
type = PalFX
triggerall = (GameTime%3)=0
trigger1 = parent,power >= 3000 && !parent,var(16)
trigger2 = parent,stateno = [870,875]
time = 1
add = 256,256,256
ignorehitpause = 1

[State 6110, Explod];背景1P
type = Explod
trigger1 = !NumExplod(6111)
anim = 6111
id = 6111
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6110, Explod];ゲージ1
type = Explod
trigger1 = !NumExplod(6112)
anim = 6112
id = 6112
postype = Back
pos = 140,230
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime=-1
scale = .5,.5

[State 6110, Explod];ゲージ2
type = Explod
trigger1 = !NumExplod(6113)
anim = 6113
id = 6113
postype = Back
pos = 136,230
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6110, Explod];ゲージ3
type = Explod
trigger1 = !NumExplod(6114)
anim = 6114
id = 6114
postype = Back
pos = 77,228
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = .5,.5

[State 6110, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6110)
trigger1 = teamside = 1
anim = 6110+ceil(root,fvar(16)*200)
id = 6110
postype = Left
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6110, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6110)
trigger1 = teamside = 2
anim = 6210+ceil(root,fvar(16)*200)
id = 6110
postype = Right
pos = -140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6110, Explod];FULL
type = Explod
trigger1 = !NumExplod(6115)
anim = 6115+ceil(root,fvar(16)*200)
id = 6115
postype = Back
pos = 31,228
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = ifelse(teamside=1,1,-1)
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6110, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6110)
Id = 6110
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6110)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6110
scale = 0,0
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6111)
Id = 6111
scale = 1,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6111)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6111
scale = 0,0
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 96 && !parent,var(16)
trigger1 = NumExplod(6112)
Id = 6112
scale = 1,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,power < 96 && !parent,var(16)
trigger1 = NumExplod(6112)
Id = 6112
scale = (parent,power)/96.0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) = [1,5]
trigger1 = NumExplod(6112)
Id = 6112
scale = (parent,var(16))/5.0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) > 5
trigger1 = NumExplod(6112)
Id = 6112
scale = 1,1
ignorehitpause = 1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6112)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6112
scale = 0,0
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 1500 && !parent,var(16)
trigger1 = NumExplod(6113)
Id = 6113
scale = 1,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = (parent,power = [96,1499]) && !parent,var(16)
trigger1 = NumExplod(6113)
Id = 6113
scale = (parent,power-96)/1404.0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6113)
trigger1 = parent,power < 96 && !parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6113
scale = 0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) = [6,167]
trigger1 = NumExplod(6114)
Id = 6113
scale = (parent,var(16)-6)/162.0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) > 167
trigger1 = NumExplod(6114)
Id = 6113
scale = 1,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6113)
trigger1 = parent,var(16) = [1,7]
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6113
scale = 0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000 && !parent,var(16)
trigger1 = NumExplod(6114)
Id = 6114
scale = 1,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = (parent,power = [1500,2999]) && !parent,var(16)
trigger1 = NumExplod(6114)
Id = 6114
scale = (parent,power-1500)/1500.0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6114)
trigger1 = parent,power < 1500 && !parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6114
scale = 0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) > 167
trigger1 = NumExplod(6114)
Id = 6114
scale = (parent,var(16)-167)/167.0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6114)
trigger1 = parent,var(16) = [1,167]
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6114
scale = 0,1
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000 && !parent,var(16)
trigger1 = NumExplod(6115)
Id = 6115
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6110, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6115)
trigger1 = parent,power < 3000 || parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6115
scale = 0,0
ignorehitpause = 1

;---------------------------------------------------------------------------
;スーパーコンボゲージ
[Statedef 6120]
ctrl = 0
anim = 6900
ownpal = 1

[State 6120, Explod];背景
type = Explod
trigger1 = !NumExplod(6125)
anim = 6121
id = 6121
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6120, Explod];ゲージ1
type = Explod
trigger1 = !NumExplod(6122)
anim = 6122
id = 6122
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6120, Explod];ゲージ2
type = Explod
trigger1 = !NumExplod(6123)
anim = 6123
id = 6123
postype = Back
pos = 136,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6120, Explod];ゲージ3
type = Explod
trigger1 = !NumExplod(6124)
anim = 6124
id = 6124
postype = Back
pos = 35,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6120, Explod];ゲージMAX
type = Explod
trigger1 = !NumExplod(6125)
anim = 6125
id = 6125
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 6120, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6120)
trigger1 = teamside = 1
anim = 6120+ceil(root,fvar(16)*200)
id = 6120
postype = Left
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6120, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6120)
trigger4 = teamside = 2
anim = 6220+ceil(root,fvar(16)*200)
id = 6120
postype = Right
pos = -140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6120, Explod];Super
type = Explod
trigger1 = !NumExplod(6126)
anim = 6126+ceil(root,fvar(16)*200)
id = 6126
postype = Back
pos = 34,223
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = ifelse(teamside=1,1,-1)
pausemovetime = -1
supermovetime = -1
removetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6120, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6120)
Id = 6120
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6120)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6120
scale = 0,0
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6121)
Id = 6121
scale = 1,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6121)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6121
scale = 0,0
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 96
trigger1 = NumExplod(6122)
Id = 6122
scale = 1,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power < 96
trigger1 = NumExplod(6122)
Id = 6122
scale = (parent,power/96.0),1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6122)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6122
scale = 0,0
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 2520
trigger1 = NumExplod(6123)
Id = 6123
scale = 1,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [96,2519]
trigger1 = NumExplod(6123)
Id = 6123
scale = (parent,power-96)/2424.0,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6123)
trigger1 = parent,power < 96
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6123
scale = 0,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6124)
Id = 6124
scale = 1,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [2520,2999]
trigger1 = NumExplod(6124)
Id = 6124
scale = ((parent,power-2520)/480.0),1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6124)
trigger1 = parent,power < 2520
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6124
scale = 0,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6125)
Id = 6125
scale = 1,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6125)
trigger1 = parent,power < 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6125
scale = 0,1
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6126)
Id = 6126
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6120, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6126)
trigger1 = parent,power < 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6126
scale = 0,0
ignorehitpause = 1

;---------------------------------------------------------------------------
;エクストラゲージ
[Statedef 6130]
ctrl = 0
anim = 6900
ownpal = 1

[State 6130, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0
ignorehitpause = 1

[State 6130, PalFX]
type = PalFX
trigger1 = (100*parent,life/parent,const(data.life))<=30
trigger1 = (GameTime%3)=0
time = 1
add = 144,144,144
ignorehitpause = 1

[State 6130, Explod];背景
type = Explod
trigger1 = !NumExplod(6131)
anim = 6131
id = 6131
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6130, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6132)
anim = 6132
id = 6132
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6130, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6130)
trigger1 = teamside = 1
anim = 6130+ceil(root,fvar(16)*200)
id = 6130
postype = Left
pos = 140,230
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6130, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6130)
trigger1 = teamside = 2
anim = 6230+ceil(root,fvar(16)*200)
id = 6130
postype = Right
pos = -140,230
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6130, Explod];MAX
type = Explod
trigger1 = !NumExplod(6133)
anim = 6133+ceil(root,fvar(16)*200)
id = 6133
postype = Back
pos = 30,220
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = ifelse(teamside=1,1,-1)
pausemovetime = -1
supermovetime = -1
removetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6130, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6130)
Id = 6130
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6130)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6130
scale = 0,0
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6131)
Id = 6131
scale = 1,1
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6131)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6131
scale = 0,0
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
triggerall = !parent,Var(14)
trigger1 = NumExplod(6132)
Id = 6132
scale = ((parent,power)/1000.0),1
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
triggerall = parent,Var(14)
trigger1 = NumExplod(6132)
Id = 6132
scale = (parent,Var(14))/750.0,1
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6132)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6132
scale = 0,0
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
triggerall = parent,Var(14)
trigger1 = NumExplod(6133)
Id = 6133
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6130, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6133)
trigger1 = !parent,Var(14)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6133
scale = 0,0
ignorehitpause = 1

;---------------------------------------------------------------------------
;アドヴァンストパワーゲージ
[Statedef 6140]
ctrl = 0
anim = 6900
ownpal = 1

[State 6140, Explod];背景
type = Explod
trigger1 = !NumExplod(6141)
anim = 6141
id = 6141
postype = Back
pos = 114,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6140, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6142)
anim = 6142
id = 6142
postype = Back
pos = 114,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6140, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6140)
trigger1 = teamside = 1
anim = 6140+ceil(root,fvar(16)*200)
id = 6140
postype = Left
pos = 114,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6140, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6140)
trigger1 = teamside = 2
anim = 6240+ceil(root,fvar(16)*200)
id = 6140
postype = Right
pos = -114,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6140, Explod];PowerUp!
type = Explod
trigger1 = !NumExplod(6143)
anim = 6143+ceil(root,fvar(16)*200)
id = 6143
postype = Back
pos = 30,221
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = ifelse(teamside=1,1,-1)
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6140, Explod];ランプ1
type = Explod
trigger1 = !NumExplod(6144)
anim = 6144
id = 6144
postype = Back
pos = 138,228
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6140, Explod];ランプ2
type = Explod
trigger1 = !NumExplod(6145)
anim = 6144
id = 6145
postype = Back
pos = 130,228
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6140, Explod];ランプ3
type = Explod
trigger1 = !NumExplod(6146)
anim = 6144
id = 6146
postype = Back
pos = 122,228
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6140, Explod];点灯1
type = Explod
trigger1 = !NumExplod(6147)
anim = 6145
id = 6147
postype = Back
pos = 138,228
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6140, Explod];点灯2
type = Explod
trigger1 = !NumExplod(6148)
anim = 6145
id = 6148
postype = Back
pos = 130,228
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6140, Explod];点灯3
type = Explod
trigger1 = !NumExplod(6149)
anim = 6145
id = 6149
postype = Back
pos = 122,228
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6140, PalFX]
type = PalFX
trigger1 = 1
Time = 1
add = 0-var(3)*12,0-var(3)*4,0

[State 6140,VarSet]
type = VarSet
trigger1 = Var(3) <= 0
var(4) = 0

[State 6140,VarAdd]
type = VarAdd
triggerall = Var(3) < 19
trigger1 = Var(4)!
var(3) = 1

[State 6140,VarSet]
type = VarSet
trigger1 = Var(3) >= 19
var(4) = 1

[State 6140,VarAdd]
type = VarAdd
triggerall = Var(3) > 0
trigger1 = Var(4)
var(3) = -1

[State 6140, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6140)
Id = 6140
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6140)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6140
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6141)
Id = 6141
scale = 1,1
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6141)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6141
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power < 1000
trigger1 = NumExplod(6142)
Id = 6142
scale = (parent,power)/1000.0,1
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [1000,1999]
trigger1 = NumExplod(6142)
Id = 6142
scale = ((parent,power-1000)/1000.0),1
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power = [2000,2999]
trigger1 = NumExplod(6142)
Id = 6142
scale = ((parent,power-2000)/1000.0),1
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6142)
Id = 6142
scale = 1,1
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6142)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6142
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6143)
Id = 6143
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6143)
trigger1 = parent,power < 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6143
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 1000
trigger1 = NumExplod(6144)
Id = 6144
scale = .5,.5
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6144)
trigger1 = parent,power < 1000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6144
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 2000
trigger1 = NumExplod(6145)
Id = 6145
scale = .5,.5
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6145)
trigger1 = parent,power < 2000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6145
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6146)
Id = 6146
scale = .5,.5
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6146)
trigger1 = parent,power < 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6146
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 1000
trigger1 = NumExplod(6147)
Id = 6147
scale = .5,.5
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6147)
trigger1 = parent,power < 1000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6147
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 2000
trigger1 = NumExplod(6148)
Id = 6148
scale = .5,.5
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6148)
trigger1 = parent,power < 2000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6148
scale = 0,0
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000
trigger1 = NumExplod(6149)
Id = 6149
scale = .5,.5
ignorehitpause = 1

[State 6140, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6149)
trigger1 = parent,power < 3000
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6149
scale = 0,0
ignorehitpause = 1

;---------------------------------------------------------------------------
;パワーMAXゲージ
[Statedef 6170]
ctrl = 0
anim = 6900
ownpal = 1

[State 6170, PalFX]
type = PalFX
triggerall = parent,var(20) = 6
trigger1 = time = 0
time = 1
add = 0,0,0
color = 256
ignorehitpause = 1

[State 6170, PalFX]
type = PalFX
triggerall = parent,var(20) = 6
trigger1 = time > 0
time = 99999999999999
add = 32,32,32
color = 0
ignorehitpause = 1
persistent = 1

[State 6170, Explod];背景
type = Explod
trigger1 = !NumExplod(6171)
anim = 6171
id = 6171
postype = Back
pos = 142,214
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6170, Explod];背景
type = Explod
trigger1 = !NumExplod(6172)
anim = 6172
id = 6172
postype = Back
pos = 142,214
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6170, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6173)
anim = 6173
id = 6173
postype = Back
pos = 142,214
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6170, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6170)
trigger1 = teamside = 1
anim = 6170+ceil(root,fvar(16)*200)
id = 6170
postype = Left
pos = 142,214
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6170, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6170)
trigger1 = teamside = 2
anim = 6270+ceil(root,fvar(16)*200)
id = 6170
postype = Right
pos = -142,214
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6170, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6171)
Id = 6173
scale = (parent,Var(15))/675.0,1
ignorehitpause = 1

[State 6170, RemoveExplod]
type = RemoveExplod
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = !parent,var(15)
trigger3 = parent,var(13)
ID = 6170

[State 6170, RemoveExplod]
type = RemoveExplod
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = !parent,var(15)
trigger3 = parent,var(13)
ID = 6171

[State 6170, RemoveExplod]
type = RemoveExplod
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = !parent,var(15)
trigger3 = parent,var(13)
ID = 6172

[State 6170, RemoveExplod]
type = RemoveExplod
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = !parent,var(15)
trigger3 = parent,var(13)
ID = 6173

[State 6170, DestroySelf]
type = DestroySelf
trigger1 = !parent,var(15)

;---------------------------------------------------------------------------
;怒りゲージ
[Statedef 6150]
ctrl = 0
anim = 6900
ownpal = 1

[State 6150, Explod];背景
type = Explod
trigger1 = !NumExplod(6151)
anim = 6151
id = 6151
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6150, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6152)
anim = 6152
id = 6152
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1

[State 6150, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6150)
trigger1 = teamside = 1
anim = 6150+ceil(root,fvar(16)*200)
id = 6150
postype = Left
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6150, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6150)
trigger1 = teamside = 2
anim = 6250+ceil(root,fvar(16)*200)
id = 6150
postype = Right
pos = -140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6150, Explod];怒（大）
type = Explod
trigger1 = !NumExplod(6153)
anim = 6153+ceil(root,fvar(16)*200)
id = 6153
postype = Back
pos = 22,225
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = ifelse(teamside=1,1,-1)
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6150, Explod];炎
type = Explod
trigger1 = !NumExplod(6154)
anim = 6154
id = 6154
postype = Back
pos = 22,225
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6150, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6150)
Id = 6150
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6150, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6150)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6150
scale = 0,0
ignorehitpause = 1

[State 6150, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6151)
Id = 6151
scale = 1,1
ignorehitpause = 1

[State 6150, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6151)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6151
scale = 0,0
ignorehitpause = 1

[State 6150, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6151)
Id = 6152
scale = ((parent,fvar(13))/7200.0),1
ignorehitpause = 1

[State 6150, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6152)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6152
scale = 0,0
ignorehitpause = 1

[State 6150, ModifyExplod]
type = ModifyExplod
triggerall = parent,fVar(13) > 0 && parent,Var(43)
trigger1 = NumExplod(6153)
Id = 6153
scale = fvar(1),fvar(1)

[State 6150, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6153)
trigger1 = (!parent,var(43) || !parent,fvar(13) && parent,Var(43))
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6153
scale = 0,0

[State 4100,Varadd]
type = VarSet
trigger1 = Time = 0
fvar(1) = ifelse((!root,fvar(16)),.5,1)

[State 4100,Varadd]
type = Varadd
trigger1 = var(1)!
trigger1 = fvar(1) < ifelse((!root,fvar(16)),.5,1)
fvar(1) = ifelse((!root,fvar(16)),.002,.004)

[State 4100,Varadd]
type = VarSet
trigger1 = fvar(1) >= ifelse((!root,fvar(16)),.5,1)
var(1) = 1

[State 4100,Varadd]
type = Varadd
trigger1 = var(1)
trigger1 = fvar(1) > ifelse((!root,fvar(16)),.4,.75)
fvar(1) = -ifelse((!root,fvar(16)),.0015,.003)

[State 4100,Varadd]
type = VarSet
trigger1 = fvar(1) <= ifelse((!root,fvar(16)),.4,.75)
var(1) = 0

[State 6150, ModifyExplod]
type = ModifyExplod
triggerall = parent,fVar(13) > 0 && parent,Var(43)
trigger1 = NumExplod(6154)
Id = 6154
scale = .5,.5
ignorehitpause = 1

[State 6150, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6154)
trigger1 = (!parent,var(43) || !parent,fvar(13) && parent,Var(43))
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6154
scale = 0,0
ignorehitpause = 1

;---------------------------------------------------------------------------
;エクストラレベルゲージ
[Statedef 6160]
ctrl = 0
anim = 6900
ownpal = 1

[State 6160, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0
color = 256
ignorehitpause = 1

[State 6160, Explod];背景
type = Explod
trigger1 = !NumExplod(6101)
anim = 6101
id = 6101
postype = Back
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime=-1

;ゲージLv.1
[State 6160, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6102)
anim = 6102
id = 6102
postype = Back
pos = 140,227
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime=-1
scale = 1,5

[State 6160, Explod];ゲージMAX
type = Explod
trigger1 = !NumExplod(6103)
anim = 6103
id = 6103
postype = Back
pos = 140,227
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 1,5

;ゲージLv.2
[State 6160, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6104)
anim = 6102
id = 6104
postype = Back
pos = 97,225
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = 1,7

[State 6160, Explod];ゲージMAX
type = Explod
trigger1 = !NumExplod(6105)
anim = 6103
id = 6105
postype = Back
pos = 97,225
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 1,7

;ゲージLv.3
[State 6160, Explod];ゲージ
type = Explod
trigger1 = !NumExplod(6106)
anim = 6102
id = 6106
postype = Back
pos = 54,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
pausemovetime = -1
supermovetime = -1
scale = 1,8

[State 6160, Explod];ゲージMAX
type = Explod
trigger1 = !NumExplod(6107)
anim = 6103
id = 6107
postype = Back
pos = 54,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = 1,8

[State 6160, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6160)
trigger1 = teamside = 1
anim = 6160+ceil(root,fvar(16)*200)
id = 6160
postype = Left
pos = 140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6160)
trigger1 = teamside = 2
anim = 6260+ceil(root,fvar(16)*200)
id = 6160
postype = Right
pos = -140,230
ownpal = 1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime=-1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, Explod];Lv.1_1P
type = Explod
trigger1 = !NumExplod(6201)
trigger1 = teamside = 1
anim = 6104+ceil(root,fvar(16)*200)
id = 6201
postype = Left
pos = 31,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, Explod];1_2P
type = Explod
trigger1 = !NumExplod(6201)
trigger1 = teamside = 2
anim = 6204+ceil(root,fvar(16)*200)
id = 6201
postype = Right
pos = -31,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, Explod];2_1P
type = Explod
trigger1 = !NumExplod(6202)
trigger1 = teamside = 1
anim = 6105+ceil(root,fvar(16)*200)
id = 6202
postype = Left
pos = 31,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, Explod];2_2P
type = Explod
trigger1 = !NumExplod(6202)
trigger1 = teamside = 2
anim = 6205+ceil(root,fvar(16)*200)
id = 6202
postype = Right
pos = -31,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, Explod];3_1P
type = Explod
trigger1 = !NumExplod(6203)
trigger1 = teamside = 1
anim = 6106+ceil(root,fvar(16)*200)
id = 6203
postype = Left
pos = 31,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, Explod];3_2P
type = Explod
trigger1 = !NumExplod(6203)
trigger1 = teamside = 2
anim = 6206+ceil(root,fvar(16)*200)
id = 6203
postype = Right
pos = -31,223
ownpal = 0
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)

[State 6160, PalFX]
type = PalFX
trigger1 = time > 0
time = 99999999999999
add = 32,32,32
color = 0
ignorehitpause = 1
persistent = 1

[State 6160, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6160)
Id = 6160
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6160)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6160
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6101)
Id = 6101
scale = 1,1
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6101)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6101
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 1000 && !parent,var(16)
trigger1 = NumExplod(6102)
Id = 6102
scale = 1,5
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power < 1000 && !parent,var(16)
trigger1 = NumExplod(6102)
Id = 6102
scale = (parent,power)/1000.0,5
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) = [1,111]
trigger1 = NumExplod(6102)
Id = 6102
scale = (parent,var(16))/111.0,5
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) > 111
trigger1 = NumExplod(6102)
Id = 6102
scale = 1,5
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6102)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = parent,var(13)
Id = 6102
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 2000 && !parent,var(16)
trigger1 = NumExplod(6104)
Id = 6104
scale = 1,7
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = (parent,power = [1000,1999]) && !parent,var(16)
trigger1 = NumExplod(6104)
Id = 6104
scale = ((parent,power-1000)/1000.0),7
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) = [112,222]
trigger1 = NumExplod(6104)
Id = 6104
scale = (parent,var(16)-111)/111.0,7
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) > 222
trigger1 = NumExplod(6104)
Id = 6104
scale = 1,7
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6104)
trigger1 = parent,power < 1000 && !parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6104
scale = 0,7
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000 && !parent,var(16)
trigger1 = NumExplod(6106)
Id = 6106
scale = 1,8
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = (parent,power = [2000,2999]) && !parent,var(16)
trigger1 = NumExplod(6106)
Id = 6106
scale = ((parent,power-2000)/1000.0),8
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,var(16) = [223,334]
trigger1 = NumExplod(6106)
Id = 6106
scale = (parent,var(16)-222)/111.0,8
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6106)
trigger1 = parent,power < 2000 && !parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6106
scale = 0,8
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 1000 && !parent,var(16)
trigger1 = NumExplod(6103)
Id = 6103
scale = 1,5
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6103)
trigger1 = parent,power < 1000 || parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6103
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 2000 && !parent,var(16)
trigger1 = NumExplod(6105)
Id = 6105
scale = 1,7
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6105)
trigger1 = parent,power < 2000 || parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6105
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000 && !parent,var(16)
trigger1 = NumExplod(6107)
Id = 6107
scale = 1,8
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6107)
trigger1 = parent,power < 3000 || parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6107
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = (parent,power = [1000,1999]) && !parent,var(16)
trigger1 = NumExplod(6201)
Id = 6201
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6201)
trigger1 = parent,power < 1000 || parent,power >= 2000 || parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6201
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = (parent,power = [2000,2999]) && !parent,var(16)
trigger1 = NumExplod(6202)
Id = 6202
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6202)
trigger1 = parent,power < 2000 || parent,power >= 3000 || parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6202
scale = 0,0
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = parent,power >= 3000 && !parent,var(16)
trigger1 = NumExplod(6203)
Id = 6203
scale = ifelse(!root,fvar(16),.5,1),ifelse(!root,fvar(16),.5,1)
ignorehitpause = 1

[State 6160, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6203)
trigger1 = parent,power < 3000 || parent,var(16)
trigger2 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger3 = parent,var(13)
Id = 6203
scale = 0,0
ignorehitpause = 1

;---------------------------------------------------------------------------
;グルーヴポイント
[Statedef 6500]
ctrl = 0
anim = 6900
ownpal = 1

;KO時
;roundstate=3（KO〜Win）フレーム経過数
[State 6500, VarAdd]
type = VarAdd
trigger1 = roundstate = 3
var(1) = 1
ignorehitpause = 1

;roundstate=4（Win）フレーム経過数
[State 6500, VarAdd]
type = VarAdd
trigger1 = roundstate = 4
var(2) = 1
ignorehitpause = 1

;MAXコンボボーナス
[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = parent,var(47) = [1,9]
var(50)=(parent,var(47))*5000
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = parent,var(47) = [10,17]
var(50)=((parent,var(47)-9)*3000)+45000
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = parent,var(47) >= 18
var(50)=ifelse((((parent,var(47)-17)*1000)+69000)>1000000,999000,(((parent,var(47)-17)*1000)+69000))
ignorehitpause = 1

;バイタリティボーナス
[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = (100*parent,life/parent,const(data.life))=[76,100]
var(50)=20000
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = (100*parent,life/parent,const(data.life))=[26,75]
var(50)=10000
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = (100*parent,life/parent,const(data.life))=[2,25]
var(50)=5000
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = (100*parent,life/parent,const(data.life))=[0,1]
var(50)=30000
ignorehitpause = 1

;パーフェクトボーナス
[State 6500, VarSet]
type = VarSet
triggerall = !var(3)
trigger1 = ceil(100*parent,life/parent,const(data.life))<99
var(3)=1
ignorehitpause = 1

[State 6500, VarSet]
type = VarSet
trigger1 = time = 0
var(3)=0
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = var(2) = 1
trigger1 = !var(3)
var(50)=50000
ignorehitpause = 1

;勝利時ボーナス
[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = parent,var(48) = 1
trigger1 = var(1) = 1
var(50)=ifelse(parent,var(49)=1,10000,ifelse(parent,var(49)=2,20000,ifelse((parent,var(49)=3&&!parent,var(41)),40000,ifelse((parent,var(49)=3&&parent,var(41)),70001,5000))))
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = parent,var(48) = 2
trigger1 = var(1) = 1
var(50)=ifelse(parent,var(49)=1,10000,ifelse(parent,var(49)=2,20000,ifelse((parent,var(49)=3&&!parent,var(41)),40000,ifelse((parent,var(49)=3&&parent,var(41)),70001,5000))))
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = parent,var(48) = 3
trigger1 = var(1) = 1
var(50)=ifelse(parent,var(49)=1,20000,ifelse(parent,var(49)=2,40000,ifelse((parent,var(49)=3&&!parent,var(41)),80001,ifelse((parent,var(49)=3&&parent,var(41)),90001,10000))))
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = parent,win
triggerall = parent,alive
triggerall = parent,var(48) = 4
trigger1 = var(1) = 1
var(50)=ifelse(parent,var(49)=1,40000,ifelse(parent,var(49)=2,50001,ifelse((parent,var(49)=3&&!parent,var(41)),90001,ifelse((parent,var(49)=3&&parent,var(41)),100001,20000))))
ignorehitpause = 1

;敗北時ボーナス
[State 6500, VarAdd]
type = ParentVarAdd
triggerall = !parent,alive
triggerall = parent,var(49) = 1
trigger1 = var(1) = 1
var(50)=ifelse(parent,var(48)=1,-5000,ifelse(parent,var(48)=2,-10000,ifelse(((parent,var(48)=[3,4])&&!parent,var(41)),-20000,ifelse(((parent,var(48)=[3,4])&&parent,var(41)),-40000,-2000))))
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = !parent,alive
triggerall = parent,var(49) = 2
trigger1 = var(1) = 1
var(50)=ifelse(parent,var(48)=1,-10000,ifelse(parent,var(48)=2,-20000,ifelse(((parent,var(48)=[3,4])&&!parent,var(41)),-40000,ifelse(((parent,var(48)=[3,4])&&parent,var(41)),-70001,-5000))))
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = !parent,alive
triggerall = parent,var(49) = 3
trigger1 = var(1) = 1
var(50)=ifelse(parent,var(48)=1,-20000,ifelse(parent,var(48)=2,-40000,ifelse(((parent,var(48)=[3,4])&&!parent,var(41)),-80001,ifelse(((parent,var(48)=[3,4])&&parent,var(41)),-90001,10000))))
ignorehitpause = 1

;コンプリートボーナス用
[State 6500, VarAdd]
type = VarAdd
trigger1 = matchover
var(6) = 1
ignorehitpause = 1

[State 6500, VarAdd]
type = ParentVarAdd
triggerall = var(6) = 1
triggerall = parent,alive
triggerall = parent,win
trigger1 = !parent,var(54)
var(50)=20000*parent,var(55)
ignorehitpause = 1

;GP表示
[State 6500, PalFX];背景1P
type = Explod
trigger1 = !NumExplod(6501)
trigger1 = teamside = 1
anim = 6501
id = 6501
postype = Left
pos = 90,42
ownpal = 0;試験3
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime=-1
scale = 0.5,0.5

[State 6500, Explod];背景2P
type = Explod
trigger1 = !NumExplod(6501)
trigger1 = teamside = 2
anim = 6551
id = 6501
postype = Right
pos = -154,42
ownpal = 0;試験3
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = -1
pausemovetime=-1
scale = 0.5,0.5

[State 6500, Explod];枠1P
type = Explod
trigger1 = !NumExplod(6500)
trigger1 = teamside = 1
anim = 6500
id = 6500
postype = Left
pos = 90,42
ownpal = 1;試験1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = 1
pausemovetime=-1
scale = 0.5,0.5

[State 6500, Explod];枠2P
type = Explod
trigger1 = !NumExplod(6500)
trigger1 = teamside = 2
anim = 6550
id = 6500
postype = Right
pos = -154,42
ownpal = 1;試験1
bindtime = -1
ignorehitpause = 1
ontop = 1
facing = -1
pausemovetime=-1
scale = 0.5,0.5

[State 6500, VarSet]
type = VarSet
trigger1 = 1
var(51)=floor(abs(parent,var(50))*.000001)
ignorehitpause = 1
persistent = 1

[State 6500, VarASet]
type = VarSet
trigger1 = 1
var(52)=floor(abs(parent,var(50))*.00001)-(var(51)*10)
ignorehitpause = 1
persistent = 1

[State 6500, VarASet]
type = VarSet
trigger1 = 1
var(53)=floor(abs(parent,var(50))*.0001)-(var(52)*10)-(var(51)*100)
ignorehitpause = 1
persistent = 1

[State 6500, VarASet]
type = VarSet
trigger1 = 1
var(54)=floor(abs(parent,var(50))*.001)-(var(53)*10)-(var(52)*100)-(var(51)*1000)
ignorehitpause = 1
persistent = 1

[State 6500, VarASet]
type = VarSet
trigger1 = 1
var(55)=floor(abs(parent,var(50))*.01)-(var(54)*10)-(var(53)*100)-(var(52)*1000)-(var(51)*10000)
ignorehitpause = 1
persistent = 1

[State 6500, VarASet]
type = VarSet
trigger1 = 1
var(56)=floor(abs(parent,var(50))*.1)-(var(55)*10)-(var(54)*100)-(var(53)*1000)-(var(52)*10000)-(var(51)*100000)
ignorehitpause = 1
persistent = 1

[State 6500, VarASet]
type = VarSet
trigger1 = 1
var(57)=abs(parent,var(50))-(var(56)*10)-(var(55)*100)-(var(54)*1000)-(var(53)*10000)-(var(52)*100000)-(var(51)*1000000)
ignorehitpause = 1
persistent = 1

[State 6500, Explod]
type = Explod
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6510
name = "gp_1"
pos = 141,47
postype = Left
anim = 6540+var(57)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6510
name = "gp_1"
pos = -103,47
postype = Right
anim = 6590+var(57)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6511
name = "gp_2"
pos = 137,47
postype = Left
anim = 6540+var(56)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6511
name = "gp_2"
pos = -107,47
postype = Right
anim = 6590+var(56)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6512
name = "gp_3"
pos = 133,47
postype = Left
anim = 6540+var(55)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6512
name = "gp_3"
pos = -111,47
postype = Right
anim = 6590+var(55)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6513
name = "gp_4"
pos = 127,45
postype = Left
anim = 6510+var(54)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6513
name = "gp_4"
pos = -118,45
postype = Right
anim = 6560+var(54)
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6514
name = "gp_5"
pos = 121,45
postype = Left
anim = ifelse(!var(51)&&!var(52)&&!var(53),6902,6510+var(53))
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6514
name = "gp_5"
pos = -124,45
postype = Right
anim = ifelse(!var(51)&&!var(52)&&!var(53),6902,6560+var(53))
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6515
name = "gp_6"
pos = 115,45
postype = Left
anim = ifelse(!var(51)&&!var(52),6902,6510+var(52))
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6515
name = "gp_6"
pos = -130,45
postype = Right
anim = ifelse(!var(51)&&!var(52),6902,6560+var(52))
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6516
name = "gp_7"
pos = 109,45
postype = Left
anim = ifelse(!var(51),6902,6510+var(51))
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6516
name = "gp_7"
pos = -136,45
postype = Right
anim = ifelse(!var(51),6902,6560+var(51))
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = parent,var(50) < 0
triggerall = teamside = 1
trigger1 = roundstate >= 2
id = 6517
name = "gp_-"
pos = ifelse((parent,var(50)=[-9999,-1]),120,ifelse((parent,var(50)=[-99999,-10000]),115,ifelse((parent,var(50)=[-999999,-100000]),109,103))),45
postype = Left
anim = 6520
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6500, Explod]
type = Explod
triggerall = parent,var(50) < 0
triggerall = teamside = 2
trigger1 = roundstate >= 2
id = 6517
name = "gp_-"
pos = ifelse((parent,var(50)=[-9999,-1]),-122,ifelse((parent,var(50)=[-99999,-10000]),-128,ifelse((parent,var(50)=[-999999,-100000]),-134,-140))),45
postype = Right
anim = 6570
ownpal = 1;試験2
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6500, VarSet]
type = VarSet
triggerall = time > 1
triggerall = roundstate = 2
trigger1 = root,fvar(24)
trigger2 = (root,stateno = 150 || root,stateno = 152 || root,stateno= 154) && root,time = 1
trigger3 = (root,stateno = 5000 || root,stateno = 5020 || root,stateno = 5070 || root,stateno = 5080) && root,time = 1
trigger4 = root,var(17)-var(13)>0
trigger5 = var(14)-root,fvar(12)>0
trigger5 = (root,stateno != 5000 && root,stateno != 5020 && root,stateno != 5070 && root,stateno != 5080)
var(11) = ifelse((root,var(50)-var(10)>0),1,-1)
ignorehitpause = 1

[State 6500, VarSet]
type = VarSet
triggerall = time > 1
triggerall = roundstate = 2
trigger1 = root,fvar(24)
trigger2 = (root,stateno = 150 || root,stateno = 152 || root,stateno= 154) && root,time = 1
trigger3 = (root,stateno = 5000 || root,stateno = 5020 || root,stateno = 5070 || root,stateno = 5080) && root,time = 1
trigger4 = root,var(17)-var(13)>0
trigger5 = var(14)-root,fvar(12)>0
trigger5 = (root,stateno != 5000 && root,stateno != 5020 && root,stateno != 5070 && root,stateno != 5080)
var(12) = 0
ignorehitpause = 1

[State 6500, VarAdd]
type = VarAdd
trigger1 = var(11)
trigger1 = time > 1
var(12) = 1
ignorehitpause = 1

[State 6500, VarSet]
type = VarSet
trigger1 = var(12) = 18
trigger1 = time > 1
var(11) = 0
ignorehitpause = 1

[State 6500, VarSet]
type = VarSet
trigger1 = var(12) = 18
trigger1 = time > 1
var(12) = 0
ignorehitpause = 1

[State 6500, PalFX]
type = PalFX
triggerall = var(11)
triggerall = roundstate = 2
triggerall = time > 1
trigger1 = var(12) = 1
time = 1
add = 0,0,0
sinadd = 0,0,0,0
ignorehitpause = 1

[State 6500, PalFX]
type = PalFX
triggerall = var(11) = 1
triggerall = roundstate = 2
triggerall = time > 1
trigger1 = var(12) = 1
time = 36
add = 255,120,40
sinadd = 0,88,-32,144
ignorehitpause = 1

[State 6500, PalFX]
type = PalFX
triggerall = var(11) = -1
triggerall = roundstate = 2
triggerall = time > 1
trigger1 = var(12) = 1
time = 24
add = 144,144,255
sinadd = 112,64,-255,96
ignorehitpause = 1

[State 6500, PalFX]
type = PalFX
trigger1 = !var(12)
time = 1
add = 255,208,8
ignorehitpause = 1

[State 6500, VarSet]
type = VarSet
trigger1 = 1
var(10) = root,var(50)
ignorehitpause = 1

[State 6500, VarSet]
type = ParentVarSet
trigger1 = 1
fvar(24) = 0
ignorehitpause = 1

[State 6500, VarSet]
type = VarSet
trigger1 = 1
var(13) = root,var(17)
ignorehitpause = 1

[State 6500, VarSet]
type = VarSet
trigger1 = 1
var(14) = root,life
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6501)
Id = 6501
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6501)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6501
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6500)
Id = 6500
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6500)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6500
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6510)
Id = 6510
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6510)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6510
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6511)
Id = 6511
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6511)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6511
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6512)
Id = 6512
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6512)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6512
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6513)
Id = 6513
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6513)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6513
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6514)
Id = 6514
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6514)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6514
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6515)
Id = 6515
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6515)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6515
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6516)
Id = 6516
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6516)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6516
scale = 0,0
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(6517)
Id = 6517
scale = .5,.5
ignorehitpause = 1

[State 6500, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(6517)
trigger1 = NumHelper(9000)||(parent,var(52)&&enemynear,NumHelper(9000))||parent,fvar(20)
trigger2 = roundstate < 2
trigger3 = parent,var(13)
Id = 6517
scale = 0,0
ignorehitpause = 1

[State 6500, DestroySelf]
type = DestroySelf
trigger1 = parent,fvar(3)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ガード系）（一段目）
[Statedef 6600]
ctrl = 0
anim = 6900
ownpal = 1

[State 6600, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6600, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6600, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6600, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6600, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6600, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6600, ModifyExplod]
type = ModifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6600, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 6600, ChangeState]
type = changestate
triggerall = root,movetype != H
triggerall = root,Time = 1
triggerall = time > 1
trigger1 = root,stateno = 810
trigger2 = root,stateno = 820
trigger3 = root,stateno = 4000 || root,stateno = 4001
trigger4 = root,stateno = 4010 || root,stateno = 4011
trigger5 = root,stateno = 4020 || root,stateno = 4021
trigger6 = root,stateno = 4100
trigger7 = root,stateno = 4110
trigger8 = root,stateno = 4120
trigger9 = root,stateno = 1150
value = 6600

[State 6600, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6600, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6600, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6701

[State 6600, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（カウンターヒット）（一段目）
[Statedef 6601]
ctrl = 0
anim = 6900
ownpal = 1

[State 6601, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6601, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6601, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6601, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6601, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim = ceil(6601+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6601, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim = ceil(6651+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6601, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6601, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 6601, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6601, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6601, ChangeState]
type = changestate
trigger1 = root,fvar(15) = 1
trigger1 = time > 1
value = 6601

[State 6601, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6701

[State 6601, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ファーストアタック）（一段目）
[Statedef 6602]
ctrl = 0
anim = 6900
ownpal = 1

[State 6602, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6602, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6602, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6602, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6602, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim = ceil(6602+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6602, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim = ceil(6652+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6602, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6602, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 6602, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6602, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6602, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6701

[State 6602, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（テックヒット）（一段目）
[Statedef 6603]
ctrl = 0
anim = 6900
ownpal = 1

[State 6603, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6603, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6603, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6603, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6603, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6603, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6603, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6603, ChangeState]
type = changestate
trigger1 = root,fvar(17) = 1
trigger1 = time > 1
value = 6603

[State 6603, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 6603, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6603, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6603, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6701

[State 6603, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（リバーサル）（一段目）
[Statedef 6604]
ctrl = 0
anim = 6900
ownpal = 1

[State 6604, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6604, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6604, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6604, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6604, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim = ceil(6609+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6604, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim = ceil(6659+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6604, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6604, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 4110, changestate]
type = changestate
triggerall = root,fvar(23)
triggerall = root,Time = 1
triggerall = root,movetype != H
triggerall = time > 1
trigger1 = root,stateno = [1000,3999]
value = 6604

[State 6604, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6604, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6604, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6701

[State 6604, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（フィニッシュ）（一段目）
[Statedef 6700]
ctrl = 0
anim = 6900
ownpal = 1

[State 6700, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6700, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6700, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6700, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6700, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim = ceil(6700+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6700, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim = ceil(6750+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6700, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6700, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 6700, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6700, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6701, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6701

[State 6701, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（体力ボーナス）（一段目）
[Statedef 6701]
ctrl = 0
anim = 6900
ownpal = 1

[State 6701, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6701, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6701, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6701, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6701, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim=ifelse(((100*root,life/root,const(data.life))=[76,100]),6707,ifelse(((100*root,life/root,const(data.life))=[26,75]),6708,ifelse(((100*root,life/root,const(data.life))=[2,25]),6709,6710)))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6701, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim=ifelse(((100*root,life/root,const(data.life))=[76,100]),6757,ifelse(((100*root,life/root,const(data.life))=[26,75]),6758,ifelse(((100*root,life/root,const(data.life))=[2,25]),6759,6760)))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6701, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6701, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 6701, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6701, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6701, ChangeState]
type = DestroySelf
trigger1 = roundstate != 4

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（コンプリート）（一段目）
[Statedef 6704]
ctrl = 0
anim = 6900
ownpal = 1

[State 6704, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(5) = 1
ignorehitpause = 1

[State 6704, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(5) = 0
ignorehitpause = 1

[State 6704, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6704, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6704, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,80
postype = Left
anim = 6700
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6704, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,80
postype = Right
anim = 6750
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6704, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),80
ignorehitpause = 1

[State 6704, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),80
ignorehitpause = 1

[State 6704, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6704, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,80
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6704, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6701

[State 6704, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ガード系）（二段目）
[Statedef 6610]
ctrl = 0
anim = 6900
ownpal = 1

[State 6610, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6610, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6610, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6610, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6610, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6610, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6610, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6610, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 6610, ChangeState]
type = changestate
triggerall = root,movetype != H
triggerall = root,Time = 1
triggerall = time > 1
trigger1 = root,stateno = 810
trigger2 = root,stateno = 820
trigger3 = root,stateno = 4000 || root,stateno = 4001
trigger4 = root,stateno = 4010 || root,stateno = 4011
trigger5 = root,stateno = 4020 || root,stateno = 4021
trigger6 = root,stateno = 4100
trigger7 = root,stateno = 4110
trigger8 = root,stateno = 4120
trigger9 = root,stateno = 1150
value = 6610

[State 6610, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6610, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6610, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = ifelse(!root,fvar(14),6712,6713)

[State 6610, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（カウンターヒット）（二段目）
[Statedef 6611]
ctrl = 0
anim = 6900
ownpal = 1

[State 6611, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6611, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6611, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6611, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6611, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = ceil(6601+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6611, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = ceil(6651+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6611, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6611, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 6611, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6611, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6611, ChangeState]
type = changestate
trigger1 = root,fvar(15) = 1
trigger1 = time > 1
value = 6611

[State 6611, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = ifelse(!root,fvar(14),6712,6713)

[State 6611, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ファーストアタック）（二段目）
[Statedef 6612]
ctrl = 0
anim = 6900
ownpal = 1

[State 6612, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6612, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6612, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6612, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6612, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = ceil(6602+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6612, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = ceil(6652+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6612, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6612, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 6612, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6612, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6612, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = ifelse(!root,fvar(14),6712,6713)

[State 6612, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（テックヒット）（二段目）
[Statedef 6613]
ctrl = 0
anim = 6900
ownpal = 1

[State 6613, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6613, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6613, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6613, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6613, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6613, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6613, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6613, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 4110, changestate]
type = changestate
trigger1 = root,fvar(17) = 1
trigger1 = time > 1
value = 6613

[State 6613, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6613, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6613, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = ifelse(!root,fvar(14),6712,6713)

[State 6613, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（リバーサル）（二段目）
[Statedef 6614]
ctrl = 0
anim = 6900
ownpal = 1

[State 6614, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6614, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6614, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6614, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6614, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = ceil(6609+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6614, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = ceil(6659+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6614, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6614, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 4110, changestate]
type = changestate
triggerall = root,fvar(23)
triggerall = root,Time = 1
triggerall = root,movetype != H
triggerall = time > 1
trigger1 = root,stateno = [1000,3999]
value = 6614

[State 6614, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6614, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6614, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = ifelse(!root,fvar(14),6712,6713)

[State 6614, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（フィニッシュ）（二段目）
[Statedef 6710]
ctrl = 0
anim = 6900
ownpal = 1

[State 6710, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6710, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6710, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6710, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6710, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = ceil(6700+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6710, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = ceil(6750+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6710, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6710, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 6710, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6710, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6710, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = ifelse(!root,fvar(14),6712,6713)

[State 6710, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（パーフェクト）（二段目）
[Statedef 6712]
ctrl = 0
anim = 6900
ownpal = 1

[State 6712, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6712, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6712, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6712, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6712, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = 6704
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6712, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = 6754
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6712, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6712, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 6712, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6712, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6712, ChangeState]
type = DestroySelf
trigger1 = roundstate != 4

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（MAXコンボボーナス）（二段目）
[Statedef 6713]
ctrl = 0
anim = 6900
ownpal = 1

[State 6713, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6713, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6713, VarAdd]
type = VarAdd
trigger1 = roundstate = 4
var(1) = 1
ignorehitpause = 1

[State 6713, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6713, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6713, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6720
persistent = 1

[State 6713, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6721
persistent = 1

[State 6713, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6722
persistent = 1

[State 6713, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6723
persistent = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) = [1,9]
trigger1 = var(1) = 1
var(20)=root,var(47)*5
ignorehitpause = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) = [10,17]
trigger1 = var(1) = 1
var(20)=((root,var(47)-9)*3)+45
ignorehitpause = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 18
trigger1 = var(1) = 1
var(20)=ifelse((((root,var(47)-17)*1)+69)>1000,999,(((root,var(47)-17)*1)+69))
ignorehitpause = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 2
trigger1 = var(1) = 1
var(21)=floor(var(20)*.01)
ignorehitpause = 1
persistent = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 2
trigger1 = var(1) = 1
var(22)=floor(var(20)*.1)-(var(21)*10)
ignorehitpause = 1
persistent = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 2
trigger1 = var(1) = 1
var(23)=var(20)-(var(22)*10)-(var(21)*100)
ignorehitpause = 1
persistent = 1

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = 6702
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = 6752
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6720
name = "max_1"
pos = 69,99
postype = Left
anim = 6720+var(23)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6720
name = "max_1"
pos = 74,99
postype = Right
anim = 6770+var(23)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6721
name = "max_2"
pos = 74,99
postype = Left
anim = ifelse(var(21)=0&&var(22)=0,6730,6720+var(22))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6721
name = "max_2"
pos = 69,99
postype = Right
anim = ifelse(var(21)=0&&var(22)=0,6780,6770+var(22))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6722
name = "max_3"
pos = 79,99
postype = Left
anim = ifelse(var(21)=0&&var(22)=0,6900,ifelse(var(21)=0&&var(22)!=0,6730,6720+var(21)))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6722
name = "max_3"
pos = 64,99
postype = Right
anim = ifelse(var(21)=0&&var(22)=0,6900,ifelse(var(21)=0&&var(22)!=0,6780,6770+var(21)))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6723
name = "max_4"
pos = 84,99
postype = Left
anim = ifelse(var(21)!=0,6730,6900)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6713, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6723
name = "max_4"
pos = 59,99
postype = Right
anim = ifelse(var(21)!=0,6780,6900)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6720)
Id = 6720
postype = left
pos = ceil(-69+(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6720)
Id = 6720
postype = Right
pos = ceil(74-(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6721)
Id = 6721
postype = left
pos = ceil(-74+(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6721)
Id = 6721
postype = Right
pos = ceil(69-(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6722)
Id = 6722
postype = left
pos = ceil(-79+(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6722)
Id = 6722
postype = Right
pos = ceil(64-(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6723)
Id = 6723
postype = left
pos = ceil(-84+(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6723)
Id = 6723
postype = Right
pos = ceil(59-(time*10)),99
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6720)
Id = 6720
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6721)
Id = 6721
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6722)
Id = 6722
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6713, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6723)
Id = 6723
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6713, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6713, ChangeState]
type = DestroySelf
trigger1 = roundstate != 4

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（コンプリート）（二段目）
[Statedef 6714]
ctrl = 0
anim = 6900
ownpal = 1

[State 6714, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(6) = 1
ignorehitpause = 1

[State 6714, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(6) = 0
ignorehitpause = 1

[State 6714, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6714, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6714, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,99
postype = Left
anim = 6700
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6714, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,99
postype = Right
anim = 6750
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6714, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),99
ignorehitpause = 1

[State 6714, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),99
ignorehitpause = 1

[State 6714, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6714, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,99
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6714, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = ifelse(!root,fvar(14),6712,6713)

[State 6714, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ガード系）（三段目）
[Statedef 6620]
ctrl = 0
anim = 6900
ownpal = 1

[State 6620, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6620, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6620, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6620, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6620, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6620, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6620, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6620, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 6620, changestate]
type = changestate
triggerall = root,movetype != H
triggerall = root,Time = 1
triggerall = time > 1
trigger1 = root,stateno = 810
trigger2 = root,stateno = 820
trigger3 = root,stateno = 4000 || root,stateno = 4001
trigger4 = root,stateno = 4010 || root,stateno = 4011
trigger5 = root,stateno = 4020 || root,stateno = 4021
trigger6 = root,stateno = 4100
trigger7 = root,stateno = 4110
trigger8 = root,stateno = 4120
trigger9 = root,stateno = 1150
value = 6620

[State 6620, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6620, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6620, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(14)
trigger1 = root,win
trigger1 = root,alive
value = 6723

[State 6620, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（カウンターヒット）（三段目）
[Statedef 6621]
ctrl = 0
anim = 6900
ownpal = 1

[State 6621, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6621, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6621, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6621, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6621, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = ceil(6601+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6621, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = ceil(6651+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6621, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6621, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 6621, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6621, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6621, ChangeState]
type = changestate
trigger1 = root,fvar(15) = 1
trigger1 = time > 1
value = 6621

[State 6621, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(14)
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6723

[State 6621, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ファーストアタック）（三段目）
[Statedef 6622]
ctrl = 0
anim = 6900
ownpal = 1

[State 6622, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6622, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6622, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6622, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6622, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = ceil(6602+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6622, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = ceil(6652+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6622, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6622, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 6622, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6622, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6622, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(14)
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6723

[State 6622, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（テックヒット）（三段目）
[Statedef 6623]
ctrl = 0
anim = 6900
ownpal = 1

[State 6623, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6623, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6623, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6623, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6623, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6623, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6623, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6623, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 4110, changestate]
type = changestate
trigger1 = root,fvar(17) = 1
trigger1 = time > 1
value = 6623

[State 6623, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6623, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6623, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(14)
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6723

[State 6623, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（リバーサル）（三段目）
[Statedef 6624]
ctrl = 0
anim = 6900
ownpal = 1

[State 6624, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6624, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6624, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6624, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6624, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = ceil(6609+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6624, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = ceil(6659+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6624, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6624, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 4110, changestate]
type = changestate
triggerall = root,fvar(23)
triggerall = root,Time = 1
triggerall = root,movetype != H
triggerall = time > 1
trigger1 = root,stateno = [1000,3999]
value = 6624

[State 6624, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6624, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6624, ChangeState]
type = changestate
trigger1 = !root,fvar(14)
trigger1 = !root,fvar(3)
trigger1 = root,fvar(11) = 1
trigger1 = root,win
trigger1 = root,alive
value = 6723

[State 6624, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（フィニッシュ）（三段目）
[Statedef 6720]
ctrl = 0
anim = 6900
ownpal = 1

[State 6720, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6720, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6720, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6720, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6720, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = ceil(6700+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6720, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = ceil(6750+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6720, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6720, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 6720, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6720, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6720, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(14)
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6723

[State 6720, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（MAXコンボボーナス）（三段目）
[Statedef 6723]
ctrl = 0
anim = 6900
ownpal = 1

[State 6723, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6723, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6723, VarAdd]
type = VarAdd
trigger1 = roundstate = 4
var(1) = 1
ignorehitpause = 1

[State 6723, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6723, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6723, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6720
persistent = 1

[State 6723, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6721
persistent = 1

[State 6723, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6722
persistent = 1

[State 6723, RemoveExplod]
type = RemoveExplod
trigger1 = time = 110
ID = 6723
persistent = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) = [1,9]
trigger1 = var(1) = 1
var(20)=root,var(47)*5
ignorehitpause = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) = [10,17]
trigger1 = var(1) = 1
var(20)=((root,var(47)-9)*3)+45
ignorehitpause = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 18
trigger1 = var(1) = 1
var(20)=ifelse((((root,var(47)-17)*1)+69)>1000,999,(((root,var(47)-17)*1)+69))
ignorehitpause = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 2
trigger1 = var(1) = 1
var(21)=floor(var(20)*.01)
ignorehitpause = 1
persistent = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 2
trigger1 = var(1) = 1
var(22)=floor(var(20)*.1)-(var(21)*10)
ignorehitpause = 1
persistent = 1

[State 6713, VarSet]
type = VarSet
trigger1 = root,var(47) >= 2
trigger1 = var(1) = 1
var(23)=var(20)-(var(22)*10)-(var(21)*100)
ignorehitpause = 1
persistent = 1

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = 6702
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = 6752
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6720
name = "max_1"
pos = 69,118
postype = Left
anim = 6720+var(23)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6720
name = "max_1"
pos = 74,118
postype = Right
anim = 6770+var(23)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6721
name = "max_2"
pos = 74,118
postype = Left
anim = ifelse(var(21)=0&&var(22)=0,6730,6720+var(22))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6721
name = "max_2"
pos = 69,118
postype = Right
anim = ifelse(var(21)=0&&var(22)=0,6780,6770+var(22))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6722
name = "max_3"
pos = 79,118
postype = Left
anim = ifelse(var(21)=0&&var(22)=0,6900,ifelse(var(21)=0&&var(22)!=0,6730,6720+var(21)))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6722
name = "max_3"
pos = 64,118
postype = Right
anim = ifelse(var(21)=0&&var(22)=0,6900,ifelse(var(21)=0&&var(22)!=0,6780,6770+var(21)))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 1
id = 6723
name = "max_4"
pos = 84,118
postype = Left
anim = ifelse(var(21)!=0,6730,6900)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = 1
scale = 0.5,0.5

[State 6723, Explod]
type = Explod
trigger1 = var(1) = 1
trigger1 = teamside = 2
id = 6723
name = "max_4"
pos = 59,118
postype = Right
anim = ifelse(var(21)!=0,6780,6900)
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
persistent = 1
facing = -1
scale = 0.5,0.5

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6720)
Id = 6720
postype = left
pos = ceil(-69+(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6720)
Id = 6720
postype = Right
pos = ceil(74-(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6721)
Id = 6721
postype = left
pos = ceil(-74+(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6721)
Id = 6721
postype = Right
pos = ceil(69-(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6722)
Id = 6722
postype = left
pos = ceil(-79+(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6722)
Id = 6722
postype = Right
pos = ceil(64-(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6723)
Id = 6723
postype = left
pos = ceil(-84+(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6723)
Id = 6723
postype = Right
pos = ceil(59-(time*10)),118
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6720)
Id = 6720
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6721)
Id = 6721
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6722)
Id = 6722
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6723, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6723)
Id = 6723
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6723, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6720, ChangeState]
type = DestroySelf
trigger1 = roundstate != 4

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（コンプリート）（三段目）
[Statedef 6724]
ctrl = 0
anim = 6900
ownpal = 1

[State 6724, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 1
ignorehitpause = 1

[State 6724, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6724, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6724, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6724, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,118
postype = Left
anim = 6700
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6724, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,118
postype = Right
anim = 6750
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6724, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),118
ignorehitpause = 1

[State 6724, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),118
ignorehitpause = 1

[State 6724, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6724, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,118
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6724, ChangeState]
type = changestate
trigger1 = root,fvar(11) = 1
trigger1 = !root,fvar(14)
trigger1 = !root,fvar(3)
trigger1 = root,win
trigger1 = root,alive
value = 6723

[State 6724, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ガード系）（四段目）
[Statedef 6630]
ctrl = 0
anim = 6900
ownpal = 1

[State 6630, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 2
ignorehitpause = 1

[State 6630, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6630, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6630, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 3001, Super]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,137
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6630, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,137
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6630, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),137
ignorehitpause = 1

[State 6630, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),137
ignorehitpause = 1

[State 6630, changestate]
type = changestate
triggerall = root,movetype != H
triggerall = root,Time = 1
triggerall = time > 1
trigger1 = root,stateno = 810
trigger2 = root,stateno = 820
trigger3 = root,stateno = 4000 || root,stateno = 4001
trigger4 = root,stateno = 4010 || root,stateno = 4011
trigger5 = root,stateno = 4020 || root,stateno = 4021
trigger6 = root,stateno = 4100
trigger7 = root,stateno = 4110
trigger8 = root,stateno = 4120
trigger9 = root,stateno = 1150
value = 6630

[State 6630, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6630, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,137
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6330, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（カウンターヒット）（四段目）
[Statedef 6631]
ctrl = 0
anim = 6900
ownpal = 1

[State 6631, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 2
ignorehitpause = 1

[State 6631, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6631, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6631, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6631, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,137
postype = Left
anim = ceil(6601+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6631, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,137
postype = Right
anim = ceil(6651+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6631, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),137
ignorehitpause = 1

[State 6631, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),137
ignorehitpause = 1

[State 6631, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6630, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,137
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6631, ChangeState]
type = changestate
trigger1 = root,fvar(15) = 1
trigger1 = time > 1
value = 6631

[State 6331, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（ファーストアタック）（四段目）
[Statedef 6632]
ctrl = 0
anim = 6900
ownpal = 1

[State 6632, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 2
ignorehitpause = 1

[State 6632, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6632, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6632, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6632, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,137
postype = Left
anim = ceil(6602+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6632, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,137
postype = Right
anim = ceil(6652+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6632, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),137
ignorehitpause = 1

[State 6632, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),137
ignorehitpause = 1

[State 6632, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6632, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,137
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6332, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（テックヒット）（四段目）
[Statedef 6633]
ctrl = 0
anim = 6900
ownpal = 1

[State 6633, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 2
ignorehitpause = 1

[State 6633, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6633, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6633, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6633, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,137
postype = Left
anim = ceil(6600+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6633, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,137
postype = Right
anim = ceil(6650+root,fvar(8)+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6633, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),137
ignorehitpause = 1

[State 6633, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),137
ignorehitpause = 1

[State 4110, changestate]
type = changestate
trigger1 = root,fvar(17) = 1
trigger1 = time > 1
value = 6633

[State 6633, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6633, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,137
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6333, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（リバーサル）（一段目）
[Statedef 6634]
ctrl = 0
anim = 6900
ownpal = 1

[State 6634, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 2
ignorehitpause = 1

[State 6634, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6634, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6634, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6634, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,137
postype = Left
anim = ceil(6609+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6634, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,137
postype = Right
anim = ceil(6659+(root,fvar(3)*10))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6634, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),137
ignorehitpause = 1

[State 6634, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),137
ignorehitpause = 1

[State 4110, changestate]
type = changestate
triggerall = root,fvar(23)
triggerall = root,Time = 1
triggerall = root,movetype != H
triggerall = time > 1
trigger1 = root,stateno = [1000,3999]
value = 6634

[State 6634, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6634, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,137
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6334, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（フィニッシュ）（四段目）
[Statedef 6730]
ctrl = 0
anim = 6900
ownpal = 1

[State 6730, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 2
ignorehitpause = 1

[State 6730, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6730, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6730, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6730, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,137
postype = Left
anim = ceil(6700+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6730, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,137
postype = Right
anim = ceil(6750+root,fvar(9))
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6730, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),137
ignorehitpause = 1

[State 6730, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),137
ignorehitpause = 1

[State 6730, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6730, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,137
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6730, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ボーナスメッセージアイコン（コンプリート）（四段目）
[Statedef 6734]
ctrl = 0
anim = 6900
ownpal = 1

[State 6734, VarSet]
type = ParentVarSet
trigger1 = time = 0
fvar(7) = 2
ignorehitpause = 1

[State 6734, VarSet]
type = ParentVarSet
trigger1 = time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)
fvar(7) = 0
ignorehitpause = 1

[State 6734, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = root,fvar(20)
trigger3 = root,var(13)
ID = 6505
persistent = 1

[State 6734, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
trigger2 = time = 110
trigger3 = root,fvar(20)
trigger4 = root,var(13)
ID = 6600
persistent = 1

[State 6734, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 1
id = 6600
pos = -96,137
postype = Left
anim = 6700
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6734, Explod]
type = Explod
trigger1 = time = 1
trigger1 = teamside = 2
id = 6600
pos = 96,137
postype = Right
anim = 6750
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
facing = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6734, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 1
trigger1 = Numexplod(6600)
Id = 6600
postype = left
pos = ceil(-96+(time*10)),137
ignorehitpause = 1

[State 6734, ModifyExplod]
type = modifyExplod
triggerall = time <= 10
triggerall = teamside = 2
trigger1 = Numexplod(6600)
Id = 6600
postype = Right
pos = ceil(96-(time*10)),137
ignorehitpause = 1

[State 6734, ModifyExplod]
type = modifyExplod
trigger1 = time > 100
trigger1 = Numexplod(6600)
Id = 6600
scale = .5,.5-((time-100)*.05)
ignorehitpause = 1

[State 6734, Explod]
type = Explod
trigger1 = time = 110
id = 6505
pos = 60,137
postype = Back
anim = 6505
ownpal = 1
ontop = 1
bindtime = -1
ignorehitpause = 1
pausemovetime = -1
supermovetime = -1
scale = 0.5,0.5

[State 6730, DestroySelf]
type = DestroySelf
trigger1 = Time = 120
trigger2 = root,fvar(20)
trigger3 = root,var(13)

;---------------------------------------------------------------------------
;ナレーション（ファーストアタック）ナレーション（何もなし）
[Statedef 6800]
ctrl = 0
anim = 6900
ownpal = 1

[State 6800, PlaySnd]
type = Playsnd
trigger1 = Time = 0
value = 10000,0
ignorehitpause = 1
channel = 0

[State 6800, StopSnd]
type = StopSnd
trigger1 = roundstate != 2
channel = 0

[State 6800, DestroySelf]
type = DestroySelf
trigger1 = Time = 360

;---------------------------------------------------------------------------
;ナレーション（ファーストアタック）
[Statedef 6801]
ctrl = 0
anim = 6900
ownpal = 1

[State 6801, PlaySnd]
type = Playsnd
trigger1 = Time = 0
value = 10000,1
ignorehitpause = 1
channel = 0

[State 6801, StopSnd]
type = StopSnd
trigger1 = roundstate != 2
channel = 0

[State 6801, DestroySelf]
type = DestroySelf
trigger1 = Time = 360

;---------------------------------------------------------------------------
;ナレーション（コンボ）
[Statedef 6802]
ctrl = 0
anim = 6900
ownpal = 1

[State 6802, PlaySnd]
type = Playsnd
trigger1 = Time = 0
value = 10000,2
ignorehitpause = 1
channel = 0

[State 6802, StopSnd]
type = StopSnd
trigger1 = roundstate != 2
channel = 0

[State 6802, DestroySelf]
type = DestroySelf
trigger1 = P2movetype != H && Time >= 360

;---------------------------------------------------------------------------
;ナレーション（大ダメージ）
[Statedef 6803]
ctrl = 0
anim = 6900
ownpal = 1

[State 6803, PlaySnd]
type = Playsnd
trigger1 = Time = 0
value = 10000,3
ignorehitpause = 1
channel = 0

[State 6803, StopSnd]
type = StopSnd
trigger1 = roundstate != 2
channel = 0

[State 6803, DestroySelf]
type = DestroySelf
trigger1 = P2movetype != H && Time >= 360

;---------------------------------------------------------------------------
; ジャンプエフェクト
;------------------------ 1
[Statedef 8020]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 1000, 0]
type = BindToRoot
trigger1 = Time > 0
pos = 0,0

[State 4110, Explod]
type = Explod
trigger1 = Time = 0
anim = 8025
pos = 0,0
postype = P1
scale = .5,.5
sprpriority = 5
ownpal = 0

[State 4110, Explod]
type = Explod
trigger1 = Time = 0 || Time = 2 || Time = 6
anim = 8020
pos = 0,0
postype = P1
scale = .5,.5
sprpriority = 5
ownpal = 0

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Time >= 20

;---------------------------------------------------------------------------
; パワー溜めエフェクト
;------------------------ 
[Statedef 8500]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0

[State 4110, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 820, Voice]
type = Playsnd
trigger1 = Time = 0
value = 850,10
channel = 13

[State 4110, Explod]
type = Explod
trigger1 = Time = 0 && NumExplod(8500) = 0
anim = 8500
id = 8500
pos = 0,0
scale = .5,.5
postype = P1
sprpriority = -1
bindtime = -1
ownpal = 0
removetime = -1
facing = 1
persistent = 0

[State 4110, Explod]
type = Explod
trigger1 = Time = 0 && NumExplod(8505) = 0
anim = 8505
id = 8505
pos = 0,0
scale = .5,0
postype = P1
sprpriority = 2
bindtime = -1
ownpal = 0
removetime = -1
facing = 1
persistent = 0

[State 4110, ModifyExplod];0〜20%
type = ModifyExplod
trigger1 = root,var(20) = 3 && power = [0,199]
trigger2 = root,var(20) = 6 && power = [0,599]
ID = 8505
scale  = .5,0

[State 4110, ModifyExplod];20〜30%
type = ModifyExplod
trigger1 = root,var(20) = 3 && power = [200,299]
trigger2 = root,var(20) = 6 && power = [600,899]
ID = 8505
scale  = .5,.0625

[State 4110, ModifyExplod];30〜50%
type = ModifyExplod
trigger1 = root,var(20) = 3 && power = [300,499]
trigger2 = root,var(20) = 6 && power = [900,1499]
ID = 8505
scale  = .5,.1275

[State 4110, ModifyExplod];50〜80%
type = ModifyExplod
trigger1 = root,var(20) = 3 && power = [500,799]
trigger2 = root,var(20) = 6 && power = [1500,2399]
ID = 8505
scale  = .5,.25

[State 4110, ModifyExplod];80〜100%
type = ModifyExplod
trigger1 = root,var(20) = 3 && power = [800,1000]
trigger2 = root,var(20) = 6 && power = [2400,3000]
ID = 8505
scale  = .5,.5

[State 820, Voice]
type = Stopsnd
trigger1 = Root,StateNo != 850
channel = 13

[State 4110, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 850
id = 8500

[State 4110, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 850
id = 8505

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 850

;---------------------------------------------------------------------
; オリコン発動エフェクト
;------------------------ 
[Statedef 8080]
type    = A
movetype= I
physics = N
anim = 6900
velset = 0,0
ctrl = 0

[State 1000, 0]
type = BGPalFX
trigger1 = 1
time = 1
invertall = 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 870,0
persistent = 0

[State -2, 1]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0

[State -2, Explod(P1)]
type = Explod
trigger1 = Time = 1
anim = 8080
id = 8080
pos = 0,0
postype = P1
scale = 1,1
sprpriority = 5
supermove = 1
bindtime = -1
ownpal = 0
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -2, 1]
type = PalFX
trigger1 = time = 18
time = 1
add = -100,-100,-100

[State -3, Burst]
type = VarSet
trigger1 = Time = 1
fvar(1) = 1

[State -3, Burst]
type = VarAdd
trigger1 = Time < 18
trigger1 = fvar(1) > 0
fvar(1) = -.06

[State -3, Burst]
type = VarSet
trigger1 = Time = 19
fvar(1) = 1

[State -3, Burst]
type = VarAdd
trigger1 = Time > 19
fvar(1) = .5

[State 4900, 16]
type = modifyExplod
trigger1 = 1
Id = 8080
scale = fvar(1),fvar(1)

[State -2, Explod(P1)]
type = Explod
trigger1 = Time = 2
anim = 8081
id = 8081
pos = 0,0
postype = P1
scale = .075,.075
sprpriority = 5
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -3, Burst]
type = VarSet
trigger1 = Time = 2
fvar(2) = .075

[State -3, Burst]
type = VarAdd
trigger1 = Time > 2
trigger1 = fvar(1) < .875
fvar(2) = .07

[State 4900, 16]
type = modifyExplod
trigger1 = 1
Id = 8081
scale = fvar(2),fvar(2)

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 29
id = 8080

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 29
id = 8081

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 29
id = 8082

[State 1150, ChangeState]
type = DestroySelf
trigger1 = Time = 29

;---------------------------------------------------------------------
; カウンターヒットエフェクト
;------------------------ 1
[Statedef 8130]
type    = A
movetype= I
physics = N
anim = 6900
velset = 0,0
ctrl = 0

[State -2, 1]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0

[State -2, Explod(P1)]
type = Explod
trigger1 = Time = 0
anim = 8130
id = 8130
pos = 0,0
postype = P1
scale = .275,.275
sprpriority = 5
supermove = 1
bindtime = -1
removetime = -1
ownpal = 0
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -3, Burst]
type = VarSet
trigger1 = Time = 0
fvar(1) = .275

[State -3, Burst]
type = VarAdd
trigger1 = fvar(1) > 0
fvar(1) = .05

[State 4900, 16]
type = modifyExplod
trigger1 = 1
Id = 8130
scale = fvar(1),fvar(1)

[State -2, 1]
type = PalFX
trigger1 = time = 5
time = 1
add = -50,-50,-50

[State -2, 1]
type = PalFX
trigger1 = time = 6
time = 1
add = -120,-120,-120

[State -2, 1]
type = PalFX
trigger1 = time = 7
time = 1
add = -190,-190,-190

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Time > 7
id = 8130

[State 1150, ChangeState]
type = DestroySelf
trigger1 = Time > 7

;---------------------------------------------------------------------
; ガードキャンセルエフェクト
;------------------------ 
[Statedef 8070]
type    = A
movetype= I
physics = N
anim = 6900
velset = 0,0
ctrl = 0

[State -2, 1]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0

[State -2, Explod(P1)]
type = Explod
trigger1 = Time = 0
anim = 8070
id = 8070
pos = 0,0
postype = P1
scale = 0,0
sprpriority = 5
supermove = 1
bindtime = -1
removeTime = -1
ownpal = 0
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -3, Burst]
type = VarSet
trigger1 = Time = 0
fvar(1) = .15

[State -3, Burst]
type = VarAdd
trigger1 = Time > 0
fvar(1) = .05

[State 4900, 16]
type = modifyExplod
trigger1 = 1
Id = 8070
scale = fvar(1),fvar(1)

[State -3, Burst]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State -3, Burst]
type = VarAdd
trigger1 = Time > 3
var(1) = -43

[State -2, 1]
type = PalFX
trigger1 = Time > 3
time = 1
add = var(1),var(1),var(1)

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Time > 10
id = 8070

[State 1150, ChangeState]
type = DestroySelf
trigger1 = Time > 10

;---------------------------------------------------------------------
; スパコン発動エフェクト
;------------------------ 1
[Statedef 8000]
type    = A
movetype= I
physics = N
anim = 6900
velset = 0,0
ctrl = 0

[State 200,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 8300,ifelse((Root,Var(20)=[3,5]),1,0)

[State 3000, BG Cleaner]
type = AssertSpecial
triggerall = parent,var(20) = [3,5]
trigger1 = time = [1,47]
flag = noFG
flag2 = noBG

[State 3000, BGInvert]
type = BGPalFX
triggerall = (parent,var(20) = [0,2]) || parent,var(20) = 6
trigger1 = time < 47
time = 1
invertall = 1
ignorehitpause = 1

[State -2, 1]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0

[State -2, Explod(P1)]
type = Explod
triggerall = (parent,var(20) = [0,2]) || parent,var(20) = 6
trigger1 = Time = 1
anim = 8002
id = 8002
pos = 0,0
postype = P1
scale = .75,.75
sprpriority = 5
supermove = 1
bindtime = -1
removetime = 10
ownpal = 0
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -3, Burst]
type = VarSet
trigger1 = Time = 1
fvar(2) = .5

[State -3, Burst]
type = VarAdd
trigger1 = fvar(2) > 0
fvar(2) = .15

[State 4900, 16]
type = modifyExplod
trigger1 = 1
Id = 8002
scale = fvar(2),fvar(2)

[State -2, Explod(P1)]
type = Explod
triggerall = (parent,var(20) = [0,2]) || parent,var(20) = 6
trigger1 = Time = 1
anim = 8000
id = 8000
pos = 0,0
postype = P1
scale = 1,1
sprpriority = 5
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -3, Burst]
type = VarSet
trigger1 = Time = 1
fvar(1) = 1

[State -3, Burst]
type = VarAdd
trigger1 = Time < 25
trigger1 = fvar(1) > .5
fvar(1) = -.02

[State 4900, 16]
type = modifyExplod
trigger1 = 1
Id = 8000
scale = fvar(1),fvar(1)

[State 3000, Super]
type = Helper
triggerall = (parent,var(20) = [0,2]) || parent,var(20) = 6
trigger1 = Time = 1 || Time = 6 || Time = 11 || Time = 16
id = 8001
pos = 0,0
postype = P1
stateno = 8001
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999999
pausemovetime = 99999999

[State -2, Explod(P1)]
type = Explod
triggerall = parent,var(20) = [3,5]
trigger1 = Time = 1
anim = 8010
id = 8010
pos = 0,0
postype = P1
;scale = .5,.5
sprpriority = 5
supermove = 1
bindtime = -1
ownpal = 0
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = time = 48
id = 8000

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = time = 48
id = 8010

[State 1150, ChangeState]
type = DestroySelf
trigger1 = time = 48

;------------------------ 2
[Statedef 8001]
type    = A
movetype= I
physics = N
anim = 6900
velset = 0,0
ctrl = 0

[State 1000, 0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State -2, 1]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0

[State -2, Explod(P1)]
type = Explod
trigger1 = Time = 0
anim = 8001
id = 8001
pos = 0,0
postype = P1
scale = .5,.5
sprpriority = 5
supermove = 1
bindtime = -1
removetime = -1
ownpal = 0
persistent = 0
pausemovetime = 999999
Supermovetime = 999999

[State -3, Burst]
type = VarSet
trigger1 = Time = 0
fvar(1) = .5

[State -3, Burst]
type = VarAdd
trigger1 = Time > 0
fvar(1) = .025

[State 4900, 16]
type = modifyExplod
trigger1 = 1
Id = 8001
scale = fvar(1),fvar(1)

[State -3, Burst]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State -3, Burst]
type = VarAdd
trigger1 = Time > 0
var(1) = -15

[State -2, 1]
type = PalFX
trigger1 = 1
time = 1
add = var(1),var(1),var(1)

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 17
id = 8001

[State 1150, ChangeState]
type = DestroySelf
trigger1 = Time = 17

;---------------------------------------------------------------------------
;燃焼エフェクト（ダウン）
[Statedef 8300]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 18600, PosSet]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y
ignorehitpause = 1

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 1
range = -20,20

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 2
range = -20,20

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 3
range = -25,25

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 4
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 5
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 6
range = -25,25

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 7
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 8
range = -25,25

[State -2, 3]
type = VarSet
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
var(10) = 1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8300) < 4
trigger1 = Time = 0
anim = 8300
id = 8300
postype = p2
pos = enemynear, const(size.mid.pos.x)+15+var(1), enemynear, const(size.mid.pos.y)-10+var(2)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8300) < 4
trigger1 = Time = 0
anim = 8300
id = 8300
postype = p2
pos = enemynear, const(size.mid.pos.x)+10+var(3), enemynear, const(size.mid.pos.y)+10+var(4)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8300) < 4
trigger1 = Time = 0
anim = 8302
id = 8300
postype = p2
pos = enemynear, const(size.mid.pos.x)+var(5), enemynear, const(size.mid.pos.y)+5+var(6)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8300) < 4
trigger1 = Time = 0
anim = 8302
id = 8300
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(7), enemynear, const(size.mid.pos.y)-5+var(8)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L
anim = 8301
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)+15+var(1), enemynear, const(size.mid.pos.y)-10+var(2)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L
anim = 8301
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)+10+var(3), enemynear, const(size.mid.pos.y)+10+var(4)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L
anim = 8303
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)+var(5), enemynear, const(size.mid.pos.y)+5+var(6)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L
anim = 8303
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(7), enemynear, const(size.mid.pos.y)-5+var(8)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -2, 3]
type = VarSet
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
var(10) = ceil(parent,fvar(25))

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 0
ID = 8301

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 0
ID = 8302

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L
ID = 8300

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 1
value = 8300

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 3
value = 8305

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L

;---------------------------------------------------------------------------
;燃焼エフェクト（のけぞり）
[Statedef 8301]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 18600, PosSet]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y
ignorehitpause = 1

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 1
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 2
range = -10,10

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 3
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 4
range = -10,10

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 5
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 6
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 7
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 8
range = -15,15

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8301) < 4
trigger1 = Time = 0
anim = 8302
id = 8301
postype = p2
pos = enemynear, const(size.mid.pos.x)+var(1), enemynear, const(size.mid.pos.y)+var(2)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8301) < 4
trigger1 = Time = 0
anim = 8302
id = 8301
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(3), enemynear, const(size.mid.pos.y)-25+var(4)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8301) < 4
trigger1 = Time = 0
anim = 8300
id = 8301
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(5), enemynear, const(size.mid.pos.y)+30+var(6)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8301) < 4
trigger1 = Time = 0
anim = 8300
id = 8301
postype = p2
pos = enemynear, const(size.mid.pos.x)+10+var(7), enemynear, const(size.mid.pos.y)+30+var(8)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 33
trigger2 = !parent,numtarget
anim = 8303
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)+var(1), enemynear, const(size.mid.pos.y)+var(2)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 33
trigger2 = !parent,numtarget
anim = 8303
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(3), enemynear, const(size.mid.pos.y)-25+var(4)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 33
trigger2 = !parent,numtarget
anim = 8301
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(5), enemynear, const(size.mid.pos.y)+30+var(6)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -3, Burn sparks]
type = Explod
trigger1 = Time = 33
trigger2 = !parent,numtarget
anim = 8301
id = 8302
postype = p2
pos = enemynear, const(size.mid.pos.x)+10+var(7), enemynear, const(size.mid.pos.y)+30+var(8)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5

[State -2, 3]
type = VarSet
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
var(10) = ceil(parent,fvar(25))

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 0
ID = 8300

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 0
ID = 8302

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 33
trigger2 = !parent,numtarget
ID = 8301

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 1
value = 8300

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 2
value = 8301

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 3
value = 8305

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 4
value = 8306

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Time = 33
trigger2 = !parent,numtarget

;---------------------------------------------------------------------------
;感電エフェクト（ダウン）
[Statedef 8305]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 18600, PosSet]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y
ignorehitpause = 1

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 1
range = -20,20

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 2
range = -20,20

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 3
range = -25,25

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 4
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 5
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 6
range = -25,25

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 7
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 8
range = -25,25

[State -2, 3]
type = VarSet
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
var(10) = 2

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8305) < 4
trigger1 = Time = 0
anim = 8305
id = 8305
postype = p2
pos = enemynear, const(size.mid.pos.x)+15+var(1), enemynear, const(size.mid.pos.y)-10+var(2)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8305) < 4
trigger1 = Time = 0
anim = 8306
id = 8305
postype = p2
pos = enemynear, const(size.mid.pos.x)+10+var(3), enemynear, const(size.mid.pos.y)+10+var(4)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8305) < 4
trigger1 = Time = 0
anim = 8307
id = 8305
postype = p2
pos = enemynear, const(size.mid.pos.x)+var(5), enemynear, const(size.mid.pos.y)+5+var(6)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8305) < 4
trigger1 = Time = 0
anim = 8307
id = 8305
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(7), enemynear, const(size.mid.pos.y)-5+var(8)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -2, 3]
type = VarSet
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
var(10) = ceil(parent,fvar(25))

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 0
ID = 8306

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L
ID = 8305

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 1
value = 8300

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 3
value = 8305

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Time = 90
trigger2 = !parent,numtarget
trigger3 = enemynear,statetype = L

;---------------------------------------------------------------------------
;感電エフェクト（のけぞり）
[Statedef 8306]
type = A
movetype = I
physics = N
ctrl = 0
anim = 6900
velset = 0,0
ownpal = 1

[State 18600, PosSet]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y
ignorehitpause = 1

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 1
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 2
range = -10,10

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 3
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 4
range = -10,10

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 5
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 6
range = -15,15

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 7
range = -5,5

[State -2, 3]
type = VarRandom
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
persistent = 0
v = 8
range = -15,15

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8306) < 4
trigger1 = Time = 0
anim = 8307
id = 8306
postype = p2
pos = enemynear, const(size.mid.pos.x)+var(1), enemynear, const(size.mid.pos.y)+var(2)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8306) < 4
trigger1 = Time = 0
anim = 8306
id = 8306
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(3), enemynear, const(size.mid.pos.y)-25+var(4)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8306) < 4
trigger1 = Time = 0
anim = 8305
id = 8306
postype = p2
pos = enemynear, const(size.mid.pos.x)-15+var(5), enemynear, const(size.mid.pos.y)+30+var(6)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -3, Burn sparks]
type = Explod
triggerall = NumExplod(8306) < 4
trigger1 = Time = 0
anim = 8305
id = 8306
postype = p2
pos = enemynear, const(size.mid.pos.x)+10+var(7), enemynear, const(size.mid.pos.y)+30+var(8)
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 1
scale = .5,.5
removetime = -1

[State -2, 3]
type = VarSet
triggerall = var(10) != ceil(parent,fvar(25))
trigger1 = time = 0
var(10) = ceil(parent,fvar(25))

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 0
ID = 8305

[State -2, Power Chage]
type = RemoveExplod
trigger1 = Time = 33
trigger2 = !parent,numtarget
ID = 8306

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 1
value = 8300

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 2
value = 8301

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 3
value = 8305

[State 4110, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = parent,fvar(25) = 4
value = 8306

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Time = 33
trigger2 = !parent,numtarget

;---------------------------------------------------------------------------
;超必KO時演出
[Statedef 9000]
ctrl = 0
anim = 6900

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time <= 40
flag = NoBarDisplay
flag2 = NoMusic

[State 3105, AssertSpecial]
type = AssertSpecial
trigger1 = Time <= 31
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[State 9606, EnvColor]
type = EnvColor
trigger1 = time < 8
value = (time*2)**2,(time*2)**2,(time*2)**2
time = 1
ignorehitpause = 1
under = 1

[State 9606, EnvColor]
type = EnvColor
trigger1 = time = [8,31]
value = ceil(255-((time-8)**1.5)),ceil(255-((time-8)**1.5)),ceil(255-((time-8)**1.5))
time = 1
ignorehitpause = 1
under = 1

[State 9606, EnvColor]
type = BGPalFX
trigger1 = time >= 32
mul = 128+((time-31)*16),128+((time-31)*16),128+((time-31)*16)
time = 1
ignorehitpause = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 40

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = PrevStateNo = 20 || PrevStateNo = 21 || PrevStateNo = 100
X = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= I
physics = N
anim = 5200
ctrl = 0
velset = 0,0

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -6

[State 5201, 2]
type = VelSet
trigger1 = vel X > -.1
x = 0

[State 5201, 2]
type = VelMul
trigger1 = 1
x = .95

[State 1000, Spark]
type = Explod
trigger1 = Time = 1
Anim = 8030
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermove = 1
ignorehitpause = 1
scale = .5,.5

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 1
value = 52, 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

;---------------------------------------------------------------------------
[Statedef -2]

;グルーヴポイント用ヘルパー
[State 3001, Super]
type = Helper
triggerall = numenemy
triggerall = !fvar(3)
trigger1 = !NumHelper(6500)
id = 6500
name = "groove point"
pos = 0,300
postype = Left
stateno = 6500
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999

;config呼び出し
[State 3001, Super]
type = Helper
trigger1 = roundsexisted <= 0
trigger1 = roundstate = 0
id = 10000
name = "config"
pos = -300,0
postype = Left
stateno = 10000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999

;グルーヴセレクト
[State -2, 3]
type = VarRandom
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
persistent = 0
v = 20
range = 0,6

[state 190, groove]
type = helper
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
ID = 6000
stateno = 6000+var(20)
postype = p1
pos = 0,-15
name = "groove"
ontop = 1
bindtime = -1

[state 190, groove]
type = helper
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
ID = 6050
stateno = 6050
postype = p1
scale = .5,.5
pos = 0,0
name = "Up-Arrow"
ontop = 1
bindtime = -1
keyctrl = 1
ownpal = 1

[state 190, groove]
type = helper
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
ID = 6050
stateno = 6055
postype = p1
scale = .5,.5
pos = 0,0
name = "Down-Arrow"
ontop = 1
bindtime = -1
keyctrl = 1
ownpal = 1

;AI判別
[State -2, 3]
type = VarSet
trigger1 = IsHomeTeam && Roundstate = 0 && Pos X > 0
var(59) = 1

[State 20, 4]
type = AssertSpecial
trigger1 = var(59)
flag = nowalk

[State -2, 1]
type = DefenceMulSet
triggerall = !var(59)
trigger1 = Time = 0
value = 1.6

[State -2, 1]
type = DefenceMulSet
triggerall = var(59)
trigger1 = Time = 0
value = 0.8

;チームモードイントロ判定（自分交代時）
[State -3, Turns Mode Intro]
type = ChangeState
trigger1 = roundsexisted <= 0
trigger1 = roundstate = 0
trigger1 = time = 0
value = 190

;崩れダウン音
[State -3, Bounding Sound]
type = PlaySnd
triggerall = anim = 5950
trigger1 = Animelem = 7
value = 52, 0

[State -3, Bounding Sound]
type = PlaySnd
triggerall = anim = 5950
trigger1 = Animelem = 12
value = 5100,0

[State -3, Bounding Sound]
type = PlaySnd
triggerall = anim = 5950 && roundstate = 2
triggerall = random%2 = 0
trigger1 = Animelemtime(1) = 2
value = 5000, 1
channel = 0

;ラウンド開始時音楽消去
[State 3105, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = NoMusic

;パーフェクト判定
[State -2, Combo]
type = VarSet
triggerall = roundstate = 2
trigger1 = fvar(12) - Life > 0
fvar(14) = 1
ignorehitpause = 1

;ラウンド勝敗判定
[State -2, 1]
type = VarSet
trigger1 = Win
var(26) = 1

[State -2, 1]
type = VarSet
trigger1 = Lose
var(26) = 2

[State -2, 1]
type = VarSet
trigger1 = Lose || DrawGame
var(54) = 1

[State -2,KO]
type = Varadd
trigger1 = matchover
ignorehitpause = 1
var(56) = 1

[State -2,KO]
type = Varset
trigger1 = !matchover
ignorehitpause = 1
var(56) = 0

[State 180, 1]
type = VarAdd
triggerall = var(56) = 1
trigger1 = !var(54)
var(55)=1
ignorehitpause = 1
persistent = 0

[State 180, 1]
type = VarSet
trigger1 = var(54)
var(55)=0
ignorehitpause = 1

;状態判定
[State -2, 1]
type = VarSet
triggerall = movetype != H && roundstate = 2 && time = 1
trigger1 = (stateno = [0,199]) && !var(18)
var(48) = 0

[State -2, 1]
type = VarSet
triggerall = movetype != H && roundstate = 2 && time = 1
trigger1 = (stateno = [200,999]) && !var(18)
var(48) = 1

[State -2, 1]
type = VarSet
triggerall = movetype != H && roundstate = 2 && time = 1
trigger1 = (stateno = [1000,2999]) && !var(18)
var(48) = 2

[State -2, 1]
type = VarSet
triggerall = movetype != H && roundstate = 2 && time = 1
trigger1 = ((stateno = [3000,3999]) && var(5)!=2) || var(18)
var(48) = 3

[State -2, 1]
type = VarSet
triggerall = movetype != H && roundstate = 2 && time = 1
trigger1 = (stateno = [3000,3999]) && var(5) = 2
var(48) = 4

[State -2, 1]
type = VarSet
triggerall = P2movetype != H && roundstate = 2 && time = 1
trigger1 = P2stateno = [0,199]
var(49) = 0

[State -2, 1]
type = VarSet
triggerall = P2movetype != H && roundstate = 2 && time = 1
trigger1 = stateno = [200,999]
var(49) = 1

[State -2, 1]
type = VarSet
triggerall = P2movetype != H && roundstate = 2 && time = 1
trigger1 = P2stateno = [1000,2999]
var(49) = 2

[State -2, 1]
type = VarSet
triggerall = P2movetype != H && roundstate = 2 && time = 1
trigger1 = P2stateno = [3000,3999]
var(49) = 3

;ダークバリア処理
[State -2, Combo]
type = VarSet
trigger1 = projguarded1500 = 1 || projhit1500 = 1
fvar(18) = 1
ignorehitpause = 1

;Cグルーヴゲージ表示
[State 3001, Super]
type = Helper
trigger1 = !NumHelper(6100)
trigger1 = !var(20)
trigger1 = roundstate >= 2
id = 6100
name = "c_gauge"
pos = 0,300
postype = P1
stateno = 6100
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

;Aグルーヴゲージ表示
[State 3001, Super]
type = Helper
trigger1 = !NumHelper(6110)
trigger1 = var(20) = 1
trigger1 = roundstate >= 2
id = 6110
name = "a_gauge"
pos = 0,300
postype = P1
stateno = 6110
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

;Pグルーヴゲージ表示
[State 3001, Super]
type = Helper
trigger1 = !NumHelper(6120)
trigger1 = var(20) = 2
trigger1 = roundstate >= 2
id = 6120
name = "p_gauge"
pos = 0,300
postype = P1
stateno = 6120
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

;SグルーヴパワーMAX
[State 3001, Super]
type = Helper
trigger1 = !NumHelper(6130)
trigger1 = var(20) = 3
trigger1 = roundstate >= 2
id = 6130
name = "s_gauge"
pos =0,0
postype = P1
stateno = 6130
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

[State -2, 1]
type = VarSet
triggerall = var(20) = 3
trigger1 = !var(14)
trigger1 = roundstate >= 2
trigger1 = Power >= 1000
var(14) = 750

[State -2, 1]
type = PowerSet
trigger1 = var(14) = 750
value = 0
ignorehitpause = 1

[State -2, 1]
type = PowerSet
trigger1 = var(14) = 1
value = 0
ignorehitpause = 1

[State 200, 3]
type = Playsnd
trigger1 = var(14) = 750
value = 6000,10

[State -2, 1]
type = Varadd
trigger1 = var(14)
var(14) = -1
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = var(14)
var(42) = 1

[State -2, 1]
type = VarSet
trigger1 = !var(14) && ctrl
var(42) = 0

;Nグルーヴゲージ表示
[State 3001, Super]
type = Helper
trigger1 = !NumHelper(6140)
trigger1 = var(20) = 4
trigger1 = roundstate >= 2
id = 6140
name = "n_gauge"
pos = 0,300
postype = P1
stateno = 6140
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

;Kグルーヴ怒りゲージシステム
[State 3001, Super]
type = Helper
trigger1 = !NumHelper(6150)
trigger1 = var(20) = 5
trigger1 = roundstate >= 2
id = 6150
name = "k_gauge"
pos =0,0
postype = P1
stateno = 6150
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

[State -2, Combo]
type = VarAdd
triggerall = var(20) = 5
triggerall = !var(43)
triggerall = roundstate = 2
triggerall = fvar(13) < 7200
trigger1 = fvar(12) - Life > 0
fvar(13) = ceil((fvar(12)-Life)*14*(10+var(29))/10*(10+var(31))/10)
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = fvar(13) > 7200
fvar(13) = 7200

[State -2, 1]
type = VarSet
trigger1 = fvar(13) = 7200
var(43) = 1

[State -2, 1]
type = VarSet
trigger1 = fvar(13) <= 1 && ((stateno != [3000,3999]) || roundstate != 2)
var(43) = 0

[State 860, 1]
type = Explod
trigger1 = fvar(13) = 7200 && !NumExplod(8420)
anim = 8420
pos = 0,-70
postype = p1
ontop = 0
ownpal = 1
id = 8420
persistent = 0
pausemovetime = -1
scale = .5,.5

[State 200, 3]
type = Playsnd
trigger1 = fvar(13) = 7200
value = 6000,11

[State -2, 1]
type = Poweradd
trigger1 = fvar(13) = 7200
value = -3000
ignorehitpause = 1

[State -2, 1]
type = Varadd
triggerall = var(20) = 5
triggerall = var(43)
trigger1 = fvar(13) > 0
fvar(13) = -7.2
ignorehitpause = 1

[State -2, 1]
type = PalFX
triggerall = var(20) = 5
trigger1 = fvar(13) && var(43)
Time = 1
mul = 230,ceil(152-abs(76*sin(gametime*.05))),ceil(128-abs(64*sin(gametime*.05)))
ignorehitpause = 1
persistent = 0

[State -2, 1]
type = DefenceMulSet
triggerall = var(20) = 5
triggerall = fvar(13) && var(43)
trigger1 = !var(59)
value = 1.55

[State -2, 1]
type = DefenceMulSet
triggerall = var(20) = 5
triggerall = fvar(13) && var(43)
trigger1 = var(59)
value = 0.515

;NグルーヴMAX発動
[State -2, 1]
type = Varadd
trigger1 = var(15)
var(15) = -1
ignorehitpause = 1

[State -2, 1]
type = PalFX
triggerall = var(20) = 4 || var(20) = 6
trigger1 = (GameTime%2)=0
trigger1 = var(15)
time = 1
add = 128,128,0
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = !var(15) && ctrl
var(40) = 0

;Exグルーヴゲージ表示
[State 3001, Super]
type = Helper
trigger1 = !NumHelper(6160)
trigger1 = var(20) = 6
trigger1 = roundstate >= 2
id = 6160
name = "ex_gauge"
pos = 0,300
postype = P1
stateno = 6160
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999
facing = facing*ifelse(teamside=1,1,-1)

;パワー溜まった時の音
[State -2, PlaySnd]
type = PlaySnd
triggerall = roundstate = 2
trigger1 = (floor(power*.001) - floor(fvar(21)*.001) > 0) && (!var(20) || var(20) = 4 || var(20) = 6)
trigger2 = (floor(power/1500) - floor(fvar(21)/1500) > 0) && var(20) = 2
trigger3 = (floor(power/3000) - floor(fvar(21)/3000) > 0) && var(20) = 3
value = 6000,ifelse(var(20)=6,10,ifelse(var(20)=4,13,12))
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = 1
fvar(21) = power
ignorehitpause = 1

;オリコン
[State -2, 1]
type = Varadd
triggerall = roundstate = 2
trigger1 = var(16)
var(16) = -1
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = MoveType = H
var(16) = 0

[State -2, 1]
type = VarSet
trigger1 = !var(16) && ctrl
trigger2 = LoseKO
var(18) = 0

[State -2, 1]
type = Varadd
trigger1 = var(16)
var(19) = -9
ignorehitpause = 1

[State -2, 1]
type = PowerSet
triggerall = var(18)
trigger1 = MoveType = H
value = var(19)/2

[State -3, Kill Juggle Checking]
type = assertspecial
trigger1 = var(18)
trigger1 = P2MoveType = H && P2stateType = A
flag = nojugglecheck

[State -3, No Blocking]
type = assertspecial
trigger1 = var(16)
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

;コンボダメージ
[State -2, PowerReset]
type = VarSet
trigger1 = P2movetype != H
var(53) = P2life

[State 3001, Super]
type = Helper
triggerall = numenemy
triggerall = roundstate = 2
triggerall = (var(53)-P2life)>250
trigger1 = !NumHelper(6800)&&!NumHelper(6801)&&!NumHelper(6802)&&!NumHelper(6803)&&!var(52)
trigger2 = !NumHelper(6800)&&!NumHelper(6801)&&!NumHelper(6802)&&!NumHelper(6803)&&var(52)=1&&!enemynear,NumHelper(6800)&&!enemynear,NumHelper(6801)&&!enemynear,NumHelper(6802)&&!enemynear,NumHelper(6803)
id = 6803
name = "naration_1"
pos = 0,300
postype = Left
stateno = 6803
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999

;グルーヴポイント初期数値＆時間による減少
[State -2, PowerReset]
type = VarSet
triggerall = MatchNo = 1
triggerall = RoundNo = 1
trigger1 = roundstate = 0
var(50) = 100000

[State -2, PowerReset]
type = VarSet
trigger1 = var(50) > 9999999
var(50) = 9999999
persistent = 1

[State -2, PowerReset]
type = VarSet
trigger1 = var(50) < -9999999
var(50) = -9999999
persistent = 1

[State -2, PowerReset]
type = VarAdd
trigger1 = roundstate = 2
var(51) = 1
persistent = 1

[State -2, PowerReset]
type = VarAdd
triggerall = roundstate = 2
triggerall = var(50) = [-9999999,9999999]
trigger1 = var(51) >= 600
trigger1 = gametime%60 = 0
var(50) = -500
persistent = 1

[State 3001, Super]
type = Helper
triggerall = !var(58)
triggerall = numenemy
triggerall = roundstate = 2
triggerall = var(51) = 400
trigger1 = !NumHelper(6800)&&!NumHelper(6801)&&!NumHelper(6802)&&!NumHelper(6803)&&!var(52)
trigger2 = !NumHelper(6800)&&!NumHelper(6801)&&!NumHelper(6802)&&!NumHelper(6803)&&var(52)=1&&!enemynear,NumHelper(6800)&&!enemynear,NumHelper(6801)&&!enemynear,NumHelper(6802)&&!enemynear,NumHelper(6803)
id = 6800
name = "naration_1"
pos = 0,300
postype = Left
stateno = 6800
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999

;スーパーキャンセル用
[State -2, PowerReset]
type = VarSet
triggerall = P2MoveType = H && P2stateType = A
triggerall = ((prevstateno=[1000,2999]) && !fvar(27)) || ((prevstateno=[1000,2999]) && fvar(27) = -1 && time = 1)
trigger1 = stateno=3000
trigger2 = stateno=3100
trigger3 = stateno=3200
trigger4 = stateno=3300
fvar(27) = 1
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
trigger1 = fvar(27) > 0
fvar(27) = 1

[State -3, Kill Juggle Checking]
type = assertspecial
trigger1 = fvar(27) > 0
flag = nojugglecheck

[State -2, PowerReset]
type = VarSet
triggerall = fvar(27) > 1
trigger1 = movehit
trigger2 = projhit = 1
fvar(27) = -1
ignorehitpause = 1

[State -2, PowerReset]
type = VarSet
trigger1 = fvar(27) > 120
trigger2 = numenemy
trigger2 = enemy,MoveType != H
fvar(27) = 0
ignorehitpause = 1

;空中コンボ制限
[State -2, PowerReset]
type = VarSet
trigger1 = fvar(4) = 1
trigger2 = P2MoveType != H
fvar(26) = 0
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
triggerall = !fvar(4)
triggerall = P2MoveType = H && P2stateType = A
trigger1 = movehit
fvar(26) = 1
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
triggerall = !fvar(4)
triggerall = P2MoveType = H && P2stateType = A
triggerall = fvar(28) >= 0
trigger1 = projhit = 1
fvar(28) = 1
ignorehitpause = 1

[State -2, PowerReset]
type = VarSet
triggerall = fvar(28) >= 0
trigger1 = !NumProj
fvar(28) = 0
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
triggerall = !fvar(4)
triggerall = P2MoveType = H && P2stateType = A
triggerall = !fvar(28)
trigger1 = projhit = 1
fvar(26) = 1
ignorehitpause = 1

[State -2, PowerReset]
type = VarSet
triggerall = fvar(28) < 0
trigger1 = !NumProj
fvar(28) = 0
ignorehitpause = 1

[State -3, Kill Juggle Checking]
type = assertspecial
triggerall = P2MoveType = H && P2stateType = A
trigger1 = stateno = 3100 && !var(5) && fvar(26) < 3
trigger2 = stateno = 3100 && var(5) = 1 && fvar(26) < 6
trigger3 = stateno = 3100 && var(5) = 2 && fvar(26) < 7
flag = nojugglecheck

;Lv.2キャンセル追撃用
[State -2, PowerReset]
type = VarAdd
trigger1 = fvar(4)
fvar(4) = 1

[State -2, PowerReset]
type = VarSet
triggerall = prevstateno=[3000,3999]
triggerall = time = 1
triggerall = P2MoveType = H && P2stateType = A
trigger1 = stateno=195
trigger2 = stateno=1000
trigger3 = stateno=1100
trigger4 = stateno=1200
trigger5 = stateno=1300
trigger6 = stateno=1400
trigger7 = stateno=1450
trigger8 = stateno=1500
trigger9 = stateno=1600
trigger10 = stateno=1700
trigger11 = stateno=1800
trigger12 = stateno=3000
trigger13 = stateno=3100
fvar(4) = 1
ignorehitpause = 1

[State -3, Kill Juggle Checking]
type = assertspecial
trigger1 = fvar(4)
flag = nojugglecheck

[State -2, PowerReset]
type = VarSet
triggerall = fvar(4) > 1
trigger1 = movehit
trigger2 = projhit = 1
trigger3 = fvar(4) > 120
trigger4 = numenemy
trigger4 = enemy,MoveType != H
fvar(4) = 0
ignorehitpause = 1

;空中復帰誘導
[State -2, PowerReset]
type = VarSet
trigger1 = !NumTarget
trigger2 = P2MoveType != H
trigger3 = movehit
trigger4 = projhit = 1
fvar(38) = 0
ignorehitpause = 1

[State -2, PowerReset]
type = VarSet
triggerall = P2MoveType = H && P2stateType = A
triggerall = !var(16)
triggerall = movehit
triggerall = (stateno = [200,799])
trigger1 = stateno != 450
trigger1 = !(stateno = 250 && prevstateno = 830)
fvar(38) = 1
ignorehitpause = 1

[State 901, Throw]
type = TargetState
triggerall = Numtarget
triggerall = fvar(38)
trigger1 = target,stateno = 5050
value = 840

;ガード時グルーヴポイント増減
[State 180, 1]
type = VarAdd
triggerall = roundstate = 2
triggerall = stateno = 150 || stateno = 152 || stateno= 154
trigger1 = time = 1
trigger1 = Var(25) > 6
var(50)=50
ignorehitpause = 1

[State 180, 1]
type = VarAdd
triggerall = roundstate = 2
triggerall = stateno = 150 || stateno = 152 || stateno= 154
trigger1 = time = 1
trigger1 = Var(25) <= 6
var(50)=ifelse((enemynear,hitdefattr=SCA,NA,NP,NT),101,ifelse((enemynear,hitdefattr=SCA,SA,SP,ST),201,301))
ignorehitpause = 1

;食らい時グルーヴポイント増減
[State 180, 1]
type = VarAdd
triggerall = roundstate = 2
triggerall = stateno = 5000 || stateno = 5020 || stateno= 5070 || stateno= 5080
trigger1 = time = 1
var(50)=ifelse((enemynear,hitdefattr=SCA,NA,NP,NT),-500,ifelse((enemynear,hitdefattr=SCA,SA,SP,ST),-300,-200))
ignorehitpause = 1

[State 180, 1]
type = VarAdd
triggerall = roundstate = 2
triggerall = movetype = H
triggerall = (stateno != 5000 && stateno != 5020 && stateno != 5070 && stateno != 5080)
trigger1 = fvar(12) - Life > 0
var(50)=ifelse((enemynear,stateno=[195,999]),-500,ifelse((enemynear,stateno=[1000,2999]),-300,-200))
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = 1
fvar(12) = life
ignorehitpause = 1

;リバーサル判定1
[State 180, 1]
type = VarSet
trigger1 = movetype = H
fvar(22) = 2
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = ctrl
trigger1 = fvar(22) = 2
fvar(22) = 1
ignorehitpause = 1

[State 180, 1]
type = VarAdd
trigger1 = fvar(22) = 1
fvar(23) = 1
ignorehitpause = 1

;ボーナスメッセージアイコン表示
[State 180, 1]
type = VarSet
triggerall = Time = 1
trigger1 = stateno = 4000 || stateno = 4001
trigger2 = stateno = 4010 || stateno = 4011
trigger3 = stateno = 4020 || stateno = 4021
fvar(8) = 0
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = var(41)
triggerall = p2movetype = H
trigger1 = (stateno != [900,999]) && (stateno != [1700,1799])&& (stateno != [3200,3299])
trigger1 = movehit
trigger2 = projhit = 1
fvar(8) = 1
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = !var(58)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projHit = 1
fvar(8) = 2
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = Time = 1
trigger1 = stateno = 810
fvar(8) = 3
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = Time = 1
trigger1 = stateno = 1150
fvar(8) = 4
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = Time = 1
trigger1 = stateno = 820
fvar(8) = 5
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = Time = 1
trigger1 = stateno = 4100
trigger2 = stateno = 4110
trigger3 = stateno = 4120
fvar(8) = 6
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = NumHelper(1505)
trigger1 = helper(1505),StateNo = 1510 && helper(1505),time = 1
fvar(8) = 7
ignorehitpause = 1

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = fvar(7)
triggerall = movetype != H
triggerall = !NumHelper(6600)
triggerall = Time = 1
trigger1 = stateno = 810
trigger2 = stateno = 820
trigger3 = stateno = 4000 || stateno = 4001
trigger4 = stateno = 4010 || stateno = 4011
trigger5 = stateno = 4020 || stateno = 4021
trigger6 = stateno = 4100
trigger7 = stateno = 4110
trigger8 = stateno = 4120
trigger9 = stateno = 1150
id = 6600
name = "Guard"
pos =0,0
postype = P1
stateno = 6630
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = !fvar(7)
triggerall = movetype != H
triggerall = !NumHelper(6600)
triggerall = Time = 1
trigger1 = stateno = 810
trigger2 = stateno = 820
trigger3 = stateno = 4000 || stateno = 4001
trigger4 = stateno = 4010 || stateno = 4011
trigger5 = stateno = 4020 || stateno = 4021
trigger6 = stateno = 4100
trigger7 = stateno = 4110
trigger8 = stateno = 4120
trigger9 = stateno = 1150
id = 6600
name = "Guard"
pos =0,0
postype = P1
stateno = 6620
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = !fvar(6)
triggerall = movetype != H
triggerall = !NumHelper(6600)
triggerall = Time = 1
trigger1 = stateno = 810
trigger2 = stateno = 820
trigger3 = stateno = 4000 || stateno = 4001
trigger4 = stateno = 4010 || stateno = 4011
trigger5 = stateno = 4020 || stateno = 4021
trigger6 = stateno = 4100
trigger7 = stateno = 4110
trigger8 = stateno = 4120
trigger9 = stateno = 1150
id = 6600
name = "Guard"
pos =0,0
postype = P1
stateno = 6610
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = movetype != H
triggerall = !NumHelper(6600)
triggerall = Time = 1
trigger1 = stateno = 810
trigger2 = stateno = 820
trigger3 = stateno = 4000 || stateno = 4001
trigger4 = stateno = 4010 || stateno = 4011
trigger5 = stateno = 4020 || stateno = 4021
trigger6 = stateno = 4100
trigger7 = stateno = 4110
trigger8 = stateno = 4120
trigger9 = stateno = 1150
id = 6600
name = "Guard"
pos =0,0
postype = P1
stateno = 6600
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = fvar(7)
triggerall = !NumHelper(6601)
triggerall = var(41)
triggerall = p2movetype = H
trigger1 = (stateno != [900,999]) && (stateno != [1700,1799])&& (stateno != [3200,3299])
trigger1 = movehit
trigger2 = projhit = 1
id = 6601
name = "Counter Hit"
pos =0,0
postype = P1
stateno = 6631
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = !fvar(7)
triggerall = !NumHelper(6601)
triggerall = var(41)
triggerall = p2movetype = H
trigger1 = (stateno != [900,999]) && (stateno != [1700,1799])&& (stateno != [3200,3299])
trigger1 = movehit
trigger2 = projhit = 1
id = 6601
name = "Counter Hit"
pos =0,0
postype = P1
stateno = ifelse(var(58)=0,6631,6621)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = !fvar(6)
triggerall = !NumHelper(6601)
triggerall = var(41)
triggerall = p2movetype = H
trigger1 = (stateno != [900,999]) && (stateno != [1700,1799])&& (stateno != [3200,3299])
trigger1 = movehit
trigger2 = projhit = 1
id = 6601
name = "Counter Hit"
pos =0,0
postype = P1
stateno = ifelse(var(58)=0,6621,6611)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = !NumHelper(6601)
triggerall = var(41)
triggerall = p2movetype = H
trigger1 = (stateno != [900,999]) && (stateno != [1700,1799])&& (stateno != [3200,3299])
trigger1 = movehit
trigger2 = projhit = 1
id = 6601
name = "Counter Hit"
pos =0,0
postype = P1
stateno = ifelse(var(58)=0,6611,6601)
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = fvar(7)
triggerall = !NumHelper(6602)
triggerall = !var(58)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projHit = 1
id = 6602
name = "First Attack"
pos =0,0
postype = P1
stateno = 6632
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = !fvar(7)
triggerall = !NumHelper(6602)
triggerall = !var(58)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projHit = 1
id = 6602
name = "First Attack"
pos =0,0
postype = P1
stateno = 6622
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = !fvar(6)
triggerall = !NumHelper(6602)
triggerall = !var(58)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projHit = 1
id = 6602
name = "First Attack"
pos =0,0
postype = P1
stateno = 6612
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = !NumHelper(6602)
triggerall = !var(58)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projHit = 1
id = 6602
name = "First Attack"
pos =0,0
postype = P1
stateno = 6602
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = fvar(7)
triggerall = !NumHelper(6603)
trigger1 = fvar(17) = 1
id = 6603
name = "Tech Hit"
pos =0,0
postype = P1
stateno = 6633
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = !fvar(7)
triggerall = !NumHelper(6603)
trigger1 = fvar(17) = 1
id = 6603
name = "Tech Hit"
pos =0,0
postype = P1
stateno = 6623
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = !fvar(6)
triggerall = !NumHelper(6603)
trigger1 = fvar(17) = 1
id = 6603
name = "Tech Hit"
pos =0,0
postype = P1
stateno = 6613
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = !NumHelper(6603)
trigger1 = fvar(17) = 1
id = 6603
name = "Tech Hit"
pos =0,0
postype = P1
stateno = 6603
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = fvar(7)
triggerall = !NumHelper(6604)
triggerall = Time = 1
triggerall = fvar(23)
triggerall = movetype != H
trigger1 = stateno = [1000,3999]
id = 6604
name = "Reversal"
pos =0,0
postype = P1
stateno = 6634
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = !fvar(7)
triggerall = !NumHelper(6604)
triggerall = Time = 1
triggerall = fvar(23)
triggerall = movetype != H
trigger1 = stateno = [1000,3999]
id = 6604
name = "Reversal"
pos =0,0
postype = P1
stateno = 6624
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = !fvar(6)
triggerall = !NumHelper(6604)
triggerall = Time = 1
triggerall = fvar(23)
triggerall = movetype != H
trigger1 = stateno = [1000,3999]
id = 6604
name = "Reversal"
pos =0,0
postype = P1
stateno = 6614
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = !NumHelper(6604)
triggerall = Time = 1
triggerall = fvar(23)
triggerall = movetype != H
trigger1 = stateno = [1000,3999]
id = 6604
name = "Reversal"
pos =0,0
postype = P1
stateno = 6604
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 180, 1]
type = VarAdd
triggerall = Time = 1
triggerall = fvar(23)
triggerall = movetype != H
trigger1 = stateno = [1000,3999]
var(50) = 2000
ignorehitpause = 1

[State 180, 1]
type = VarSet
trigger1 = fvar(23) = 3
trigger2 = (stateno = [1000,3999]) && time = 1
fvar(22) = 0
ignorehitpause = 1

[State 180, 1]
type = VarSet
trigger1 = fvar(23) = 3
trigger2 = (stateno = [1000,3999]) && time = 1
fvar(23) = 0
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = alive
triggerall = var(48) = [0,1]
trigger1 = var(32) = 1
fvar(9) = 1
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = alive
triggerall = var(48) = 2
trigger1 = var(32) = 1
fvar(9) = 5
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = alive
triggerall = var(48) = 3 || var(48) = 4
trigger1 = var(32) = 1
fvar(9) = 6
ignorehitpause = 1

[State 180, 1]
type = VarSet
triggerall = alive
triggerall = var(18)
trigger1 = var(32) = 1
fvar(9) = 3
ignorehitpause = 1

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = fvar(7)
triggerall = !NumHelper(6700)
triggerall = winKO
triggerall = alive
trigger1 = var(32) = 2
id = 6700
name = "Finish Hit"
pos =0,0
postype = P1
stateno = 6730
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = !fvar(7)
triggerall = !NumHelper(6700)
triggerall = winKO
triggerall = alive
trigger1 = var(32) = 2
id = 6700
name = "Finish Hit"
pos =0,0
postype = P1
stateno = 6720
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = !fvar(6)
triggerall = !NumHelper(6700)
triggerall = winKO
triggerall = alive
trigger1 = var(32) = 2
id = 6700
name = "Finish Hit"
pos =0,0
postype = P1
stateno = 6710
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = !NumHelper(6700)
triggerall = winKO
triggerall = alive
trigger1 = var(32) = 2
id = 6700
name = "Finish Hit"
pos =0,0
postype = P1
stateno = 6700
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = fvar(7)
triggerall = !NumHelper(6704)
triggerall = win
triggerall = alive
trigger1 = var(56) = 5
trigger1 = fvar(14) = 1
trigger1 = !var(54)
id = 6704
name = "Complete"
pos =0,0
postype = P1
stateno = 6734
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = fvar(6)
triggerall = !fvar(7)
triggerall = !NumHelper(6704)
triggerall = win
triggerall = alive
trigger1 = var(56) = 5
trigger1 = fvar(14) = 1
trigger1 = !var(54)
id = 6704
name = "Complete"
pos =0,0
postype = P1
stateno = 6724
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = fvar(5)
triggerall = !fvar(6)
triggerall = !NumHelper(6704)
triggerall = win
triggerall = alive
trigger1 = var(56) = 5
trigger1 = fvar(14) = 1
trigger1 = !var(54)
id = 6704
name = "Complete"
pos =0,0
postype = P1
stateno = 6714
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = !NumHelper(6704)
triggerall = win
triggerall = alive
trigger1 = var(56) = 5
trigger1 = fvar(14) = 1
trigger1 = !var(54)
id = 6704
name = "Complete"
pos =0,0
postype = P1
stateno = 6704
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(5)
triggerall = !fvar(3)
triggerall = win
triggerall = alive
trigger1 = fvar(11) = 1
id = 6701
name = "Vital"
pos =0,0
postype = P1
stateno = 6701
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(6)
triggerall = !fvar(3)
triggerall = win
triggerall = alive
trigger1 = fvar(11) = 1
trigger1 = !fvar(14)
id = 6702
name = "Perfect"
pos =0,0
postype = P1
stateno = 6712
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(6)
triggerall = !fvar(3)
triggerall = win
triggerall = alive
trigger1 = fvar(11) = 1
trigger1 = fvar(14) = 1
id = 6703
name = "Max Combo"
pos =0,0
postype = P1
stateno = 6713
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

[State 3001, Super]
type = Helper
triggerall = !fvar(7)
triggerall = !fvar(3)
triggerall = win
triggerall = alive
trigger1 = fvar(11) = 1
trigger1 = !fvar(14)
id = 6703
name = "Max Combo"
pos =0,0
postype = P1
stateno = 6723
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)

;燃焼、感電エフェクト継続処理
[State -2, Combo]
type = VarSet
trigger1 = fvar(25)
fvar(25) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = p2movetype = H
trigger1 = projhittime(1805) = 1
fvar(25) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = p2movetype = H
trigger1 = projhittime(1805) = 1
fvar(25) = 2
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = p2movetype = H
trigger1 = movehit && stateno = 1400
trigger2 = movehit && stateno = 1450
trigger3 = projhittime(1605) = 1
fvar(25) = 3
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = p2movetype = H
trigger1 = projhittime(4005) = 1
fvar(25) = 4
ignorehitpause = 1

;燃焼エフェクト発生（ダウン）
[State 3001, Super]
type = Helper
triggerall = !NumHelper(8300)
trigger1 = fvar(25) = 1
id = 8300
name = "FireEffect_Down"
pos = 0,0
postype = P2
stateno = 8300
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;燃焼エフェクト発生（のけぞり）
[State 3001, Super]
type = Helper
triggerall = !NumHelper(8300)
trigger1 = fvar(25) = 2
id = 8300
name = "FireEffect_KnockBack"
pos =0,0
postype = P2
stateno = 8301
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;感電エフェクト発生（ダウン）
[State 3001, Super]
type = Helper
triggerall = !NumHelper(8305)
trigger1 = fvar(25) = 3
id = 8305
name = "SparkEffect_KnockBack"
pos =0,0
postype = P2
stateno = 8305
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;感電エフェクト発生（のけぞり）
[State 3001, Super]
type = Helper
triggerall = !NumHelper(8305)
trigger1 = fvar(25) = 4
id = 8305
name = "SparkEffect_Down"
pos =0,0
postype = P2
stateno = 8306
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;飛び道具ヒットエフェクト発生1
[State 3001, Super]
type = Explod
triggerall = p2movetype = H
trigger1 = projhittime(1305) = 1
id = 8210
name = "projhit_s"
pos = Ceil(var(44)),Ceil(-enemy,Pos Y+var(45))
postype = P2
anim = 8210+(random%8)
ownpal = 1
ontop = 1
ignorehitpause = 1
pausemovetime = 99999

;カウンターヒットエフェクト発生
[State -2, Combo]
type = VarSet
trigger1 = fvar(15) = 1
fvar(15) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = p2movetype = H
triggerall = (stateno != [900,999]) && (stateno != [1700,1799])&& (stateno != [3200,3299])
triggerall = movehit
trigger1 = var(41)
fvar(15) = 1
ignorehitpause = 1

[State -3, Blocking5]
type = helper
triggerall = p2movetype = H
triggerall = (stateno != [900,999]) && (stateno != [1700,1799])&& (stateno != [3200,3299])
triggerall = movehit
trigger1 = var(41)
id = 8130
name = "COUNTER HIT EFFECT"
pos = Ceil(enemy,Const(size.ground.front)+var(38)),Ceil(Pos Y-enemy,Pos Y+var(39))
postype = P2
stateno = 8130
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999

[State -3, Blocking5]
type = helper
triggerall = p2movetype = H
triggerall = var(41)
trigger1 = projhit1005 = 1
trigger2 = projhit1305 = 1
trigger3 = projhit1500 = 1
trigger4 = projhit1505 = 1
trigger5 = projhit1605 = 1
id = 8130
name = "COUNTER HIT EFFECT"
pos = Ceil(var(44)),Ceil(-enemy,Pos Y+var(45))
postype = P2
stateno = 8130
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999

;ヒット管理
[State -2, Combo]
type = VarSet
trigger1 = numenemy
trigger1 = enemy,MoveType != H
var(17) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
trigger1 = movehit
trigger2 = projhit = 1
var(17) = 1
ignorehitpause = 1

[State 3001, Super]
type = Helper
triggerall = numenemy
triggerall = roundstate = 2
triggerall = (var(17) = 5 && !var(18)) || (var(17) = 10 && var(18))
trigger1 = NumHelper(6800)=0&&NumHelper(6801)=0&&NumHelper(6802)=0&&NumHelper(6803)=0&&var(52)=0
trigger2 = NumHelper(6800)=0&&NumHelper(6801)=0&&NumHelper(6802)=0&&NumHelper(6803)=0&&var(52)=1&&enemynear,NumHelper(6800)=0&&enemynear,NumHelper(6801)=0&&enemynear,NumHelper(6802)=0&&enemynear,NumHelper(6803)=0
id = 6802
name = "naration_3"
pos =0,0
postype = P1
stateno = 6802
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999

[State 180, 1];ファーストストライク判別
type = VarAdd
triggerall = !var(58)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projhit = 1
var(50) = 5000
ignorehitpause = 1

[State 3001, Super]
type = Helper
triggerall = roundstate = 2
triggerall = !var(58)
triggerall = p2movetype = H
triggerall = var(51) < 400
triggerall = movehit||projhit = 1
trigger1 = NumHelper(6800)=0&&NumHelper(6801)=0&&NumHelper(6802)=0&&NumHelper(6803)=0&&var(52)=0
trigger2 = NumHelper(6800)=0&&NumHelper(6801)=0&&NumHelper(6802)=0&&NumHelper(6803)=0&&var(52)=1&&enemynear,NumHelper(6800)=0&&enemynear,NumHelper(6801)=0&&enemynear,NumHelper(6802)=0&&enemynear,NumHelper(6803)=0
id = 6801
name = "naration_2"
pos = 0,300
postype = Left
stateno = 6801
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999999999999

[State -2, Combo]
type = VarSet
triggerall = !var(58)
trigger1 = movehit && p2movetype = H
trigger2 = projhit = 1 && p2movetype = H
trigger3 = MoveType = H && (stateno != [150,159]) && (stateno != [4100,4199])
var(58) = 1
ignorehitpause = 1
persistent = 0

[State 180, 1];ヒットボーナス
type = VarAdd
triggerall = roundstate = 2
triggerall = var(17) < 2
trigger1 = moveguarded
trigger2 = projguarded = 1
var(50)=ifelse((hitdefattr=SCA,NA,NP,NT),-50,ifelse((hitdefattr=SCA,SA,SP,ST),-30,-20))
ignorehitpause = 1
persistent = 1

[State 180, 1]
type = VarAdd
triggerall = roundstate = 2
triggerall = var(17) < 2
triggerall = var(41) = 0
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projhit = 1
var(50)=500
ignorehitpause = 1
persistent = 1

[State 180, 1]
type = VarAdd
triggerall = roundstate = 2
triggerall = var(17) < 2
triggerall = var(41)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projhit = 1
var(50)=ifelse((hitdefattr=SCA,NA,NP,NT),1001,ifelse((hitdefattr=SCA,SA,SP,ST),3001,5001))
ignorehitpause = 1
persistent = 1

[State 180, 1]
type = VarAdd
triggerall = roundstate = 2
triggerall = var(41)
triggerall = p2movetype = H
trigger1 = movehit
trigger2 = projhit = 1
var(50)=1000
ignorehitpause = 1
persistent = 1

[State -2, Combo];MAXコンボ数判別
type = VarSet
trigger1 = P2MoveType = H
trigger1 = var(47) < var(17)
var(47) = var(17)
ignorehitpause = 1
persistent = 1

[State 180, 1];コンボボーナス
type = VarAdd
triggerall = roundstate = 2
triggerall = var(17) >= 2
trigger1 = movehit
trigger2 = projhit = 1
var(50)=ifelse(var(17)<6,2000,500)
ignorehitpause = 1
persistent = 1

[State -2, Combo]
type = VarSet
trigger1 = movehit
trigger2 = projhit = 1
var(36) = ifelse(movehit,1,3)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = moveguarded
trigger2 = projguarded = 1
var(36) = ifelse(moveguarded,2,4)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = Time = 1
trigger1 = stateno != 1105
trigger1 = stateno != 1455
trigger1 = stateno != 3105
var(36) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = 1
fvar(24) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = movehit
trigger2 = projHit = 1
fvar(24) = ifelse(movehit,1,3)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = moveguarded
trigger2 = projGuarded = 1
fvar(24) = ifelse(moveguarded,2,4)
ignorehitpause = 1

[State -2, MoveContact]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1

;パワー増加量判定
[State -2, PowerReset]
type = VarSet
trigger1 = !var(20)
var(24) = 0

[State -2, PowerReset]
type = VarSet
trigger1 = var(20) = 1
var(24) = 167

[State -2, PowerReset]
type = VarSet
trigger1 = var(20) = 2
var(24) = -125

[State -2, PowerReset]
type = VarSet
trigger1 = var(20) = 4
var(24) = -222

[State -2, PowerReset]
type = VarSet
trigger1 = var(20) = 6
var(24) = -360

[State -2, PowerReset]
type = VarSet
trigger1 = var(20) = 3 || var(20) = 5
var(24) = -1000

[State -2, 1]
type = VarSet
triggerall = !var(59)
triggerall = roundstate = 2
trigger1 = Time = 0
var(29) = 0

[State -2, 1]
type = VarSet
triggerall = var(59)
triggerall = roundstate = 2
trigger1 = Time = 0
var(29) = 6

[State -2, PowerReset2]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*life/const(data.life))<=100
trigger1 = (100*life/const(data.life))>30
var(31) = 0

[State -2, PowerReset3]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*life/const(data.life))<=30
trigger1 = (100*life/const(data.life))>15
var(31) = 2

[State -2, PowerReset4]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*life/const(data.life))<=15
trigger1 = (100*life/const(data.life))>0
var(31) = 4

[State -2, PowerReset]
type = VarSet
triggerall = roundstate = 2
trigger1 = 1
var(46) = gethitvar(damage)

;攻撃力変動判定
[State -2, PowerReset]
type = VarSet
triggerall = !var(20) || var(20) = 6
triggerall = !var(18)
triggerall = roundstate = 2
trigger1 = power = [0,999]
var(7) = 0

[State -2, PowerReset]
type = VarSet
triggerall = var(20) != 0 && var(20) != 6
trigger1 = roundstate = 2
var(7) = 0

[State -2, PowerReset]
type = VarSet
triggerall = !var(20) || var(20) = 6
triggerall = !var(18)
triggerall = roundstate = 2
trigger1 = power = [1000,1999]
var(7) = 1

[State -2, PowerReset]
type = VarSet
triggerall = !var(20) || var(20) = 6
triggerall = !var(18)
triggerall = roundstate = 2
trigger1 = power = [2000,2999]
var(7) = 2

[State -2, PowerReset]
type = VarSet
triggerall = !var(20) || var(20) = 6
triggerall = !var(18)
triggerall = roundstate = 2
trigger1 = power >= 3000
var(7) = 5

[State -2, PowerReset]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*life/const(data.life))<=100
trigger1 = (100*life/const(data.life))>30
var(8) = 0

[State -2, PowerReset2]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*life/const(data.life))<=30
trigger1 = (100*life/const(data.life))>15
var(8) = 5

[State -2, PowerReset3]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*life/const(data.life))<=15
trigger1 = (100*life/const(data.life))>0
var(8) = 10

[State -2, PowerReset4]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*enemy,life/enemy,const(data.life))<=100
trigger1 = (100*enemy,life/enemy,const(data.life))>30
var(9) = 0

[State -2, PowerReset5]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*enemy,life/enemy,const(data.life))<=30
trigger1 = (100*enemy,life/enemy,const(data.life))>15
var(9) = -10

[State -2, PowerReset6]
type = VarSet
triggerall = roundstate = 2
trigger1 = (100*enemy,life/enemy,const(data.life))<=15
trigger1 = (100*enemy,life/enemy,const(data.life))>0
var(9) = -25

[State -2, PowerReset]
type = VarSet
triggerall = var(20) = 5
triggerall = roundstate = 2
trigger1 = var(43)
var(21) = ifelse((stateno = [195,999]),35,ifelse((stateno = [1000,2999]),30,10))

[State -2, PowerReset]
type = VarSet
triggerall = var(20) = 5
triggerall = roundstate = 2
trigger1 = !var(43)
var(21) = 0

[State -2, PowerReset]
type = VarSet
triggerall = var(20) != 5
triggerall = roundstate = 2
trigger1 = 1
var(21) = 0

[State -2, PowerReset]
type = VarSet
triggerall = var(20) = 3
triggerall = roundstate = 2
trigger1 = var(42)
var(22) = 15

[State -2, PowerReset]
type = VarSet
triggerall = var(20) = 3
triggerall = roundstate = 2
trigger1 = !var(42)
var(22) = 0

[State -2, PowerReset]
type = VarSet
triggerall = var(20) != 3
triggerall = roundstate = 2
trigger1 = 1
var(22) = 0

[State -2, PowerReset]
type = VarSet
triggerall = var(20) = 4 || var(20) = 6
triggerall = roundstate = 2
trigger1 = var(40)
var(23) = 20

[State -2, PowerReset]
type = VarSet
triggerall = var(20) = 4 || var(20) = 6
triggerall = roundstate = 2
trigger1 = !var(40)
var(23) = 0

[State -2, PowerReset]
type = VarSet
triggerall = var(20) != 4 && var(20) != 6
triggerall = roundstate = 2
trigger1 = 1
var(23) = 0

[State -2, 1]
type = VarSet
triggerall = !var(59)
triggerall = roundstate = 2
trigger1 = Time = 0
var(28) = 0

[State -2, 1]
type = VarSet
triggerall = var(59)
triggerall = roundstate = 2
trigger1 = Time = 0
var(28) = 2

[State -2, 1]
type = VarSet
trigger1 = P2movetype != H
var(17) = 0

[State -2]
type = VarSet
trigger1 = (var(17)-var(1)) < 10
trigger1 = var(18)
trigger1 = stateno = [0, 2999]
fvar(0) = (10-(var(17)-var(1)))*.1*.72
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = (var(17)-var(1)) >= 10
trigger1 = var(18)
trigger1 = stateno = [0, 2999]
fvar(0) = .072
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = var(18)
trigger1 = stateno = [3000, 3999]
fvar(0) = .8
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = !var(18)
trigger1 = var(17) = [6,29]
trigger1 = stateno = [0, 2999]
fvar(0) = (25-(var(17)-5))*.02
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = !var(18)
trigger1 = var(17) > 30
trigger1 = stateno = [0, 2999]
fvar(0) = .02
ignorehitpause = 1

[State -2]
type = VarSet
triggerall = !var(18)
trigger1 = var(17) <= 5
trigger2 = stateno = [3000, 3999]
fvar(0) = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = 1
fvar(10) = (100+var(7))*.01*(100+var(8))*.01*(100+var(9))*.01*(100+var(21))*.01*(100+var(22))*.01*(100+var(23))*.01*(10+(var(41)*2))*.1*fvar(0);*.7
ignorehitpause = 1

;カウンターヒット
[State -2, PowerReset]
type = VarSet
trigger1 = P2MoveType = A
var(41) = 1

[State -2, PowerReset]
type = VarSet
trigger1 = P2MoveType != A
var(41) = 0

;振り向き
[State 1300,Turn]
type = Turn
triggerall = P2Dist X < 0
trigger1 = prevstateno = 52
trigger1 = stateno = [1000,3999]
trigger1 = time = 1
ignorehitpause = 1

;削りKO移行
[State -2, 3] 
type = ChangeState
trigger1 = !alive
trigger1 = prevstateno = 130 || prevstateno = 131 || prevstateno = [150,153]
trigger1 = Stateno = [5000,5050]
value = 5950

[State -2,KO]
type = Varset
triggerall = stateno = [120,159]
trigger1 = StateType = S
ignorehitpause = 1
fvar(1) = 0

[State -2,KO]
type = Varset
triggerall = stateno = [120,159]
trigger1 = StateType = C
ignorehitpause = 1
fvar(1) = 1

[State -2,KO]
type = Varset
triggerall = stateno = [120,159]
trigger1 = StateType = A
ignorehitpause = 1
fvar(1) = 2

;ブロッキング入力
[State -2, Blocking-1]
type = VarSet
trigger1 = var(10) >= 20
trigger2 = (stateno = [4000,4020]) && time = 1
var(34) = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = var(10) >= 20
trigger2 = (stateno = [4000,4020]) && time = 1
var(10) = 0

[State -2, Blocking-1]
type = VarAdd
trigger1 = var(10)
var(10) = 1
ignorehitpause = 1

[State -2, Blocking-1]
type = VarSet
triggerall = !var(59)
triggerall = !var(10)
triggerall = var(20) = 2 || var(20) = 6
trigger1 = command = "block" && command != "holddown"&& Command != "holdup"
var(10) = 1

[State -2, Blocking-1]
type = VarSet
trigger1 = var(10) = [1,4]
trigger1 = command != "holdfwd" && Command != "holdback" && command != "holdup" && Command != "holddown"
var(34) = 1

[State -2, Blocking-12
type = VarSet
trigger1 = var(11) >= 20
trigger2 = (stateno = [4000,4020]) && time = 1
var(35) = 0

[State -2, Blocking-2]
type = VarSet
trigger1 = var(11) >= 20
trigger2 = (stateno = [4000,4020]) && time = 1
var(11) = 0

[State -2, Blocking-2]
type = VarAdd
trigger1 = var(11)
var(11) = 1
ignorehitpause = 1

[State -2, Blocking-2]
type = VarSet
triggerall = !var(59)
triggerall = !var(11)
triggerall = var(20) = 2 || var(20) = 6
trigger1 = command = "block2" && command != "holdfwd"&& Command != "holdback"
var(11) = 1

[State -2, Blocking-2]
type = VarSet
trigger1 = var(11) = [1,4]
trigger1 = command != "holdfwd" && Command != "holdback" && command != "holdup" && Command != "holddown"
var(35) = 1

;上段ブロッキング移行
[State -2, 4000] 
type = HitOverride
triggerall = var(20) = 2 || var(20) = 6
triggerall = statetype != A && ctrl
trigger1 = (var(10) = [1,4]) && !var(59)
trigger2 = (var(10) = [5,8]) && var(34) && !var(59)
trigger3 = Random <= 600 && var(59)
slot = 0
stateno = 4000
attr = SA, AA, AP
time = 1

;下段ブロッキング移行
[State -2, 4010]
type = HitOverride
triggerall = var(20) = 2 || var(20) = 6
triggerall = statetype != A && ctrl
trigger1 = (var(11) = [1,4]) && !var(59)
trigger2 = (var(11) = [5,8]) && var(35) && !var(59)
trigger3 = Random <= 600 && var(59)
slot = 0
stateno = 4010
attr = C, AA, AP
time = 1

;空中ブロッキング移行
[State -2, 4020]
type = HitOverride
triggerall = !var(4)
triggerall = var(20) = 2 || var(20) = 6
triggerall = statetype = A && ctrl
trigger1 = (var(10) = [1,4]) && !var(59)
trigger2 = (var(10) = [5,8]) && var(34) && !var(59)
trigger3 = Random <= 600 && var(59)
slot = 0
stateno = 4020
attr = SCA, AA, AP
time = 1

;ジャストディフェンス入力
[State -2, 47]
type = VarAdd
trigger1 = 1
var(25) = 1
ignorehitpause = 1

[State -2, 46]
type = VarSet
triggerall = !var(59)
triggerall = var(25) > 14
triggerall = var(20) = 5 || var(20) = 6
trigger1 = command = "back"
trigger2 = command = "downback"
var(25) = 0

;ジャストディフェンス硬直時間
[State 180, 1]
type = VarAdd
trigger1 = var(0)
var(0) = -1
ignorehitpause = 1

[State 180, 1]
type = VarSet
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger1 = time = 0
var(0) = GetHitVar(hitshaketime)
ignorehitpause = 1

;上段ジャストディフェンス移行
[State -2, 3] 
type = ChangeState
triggerall = var(20) = 5 || var(20) = 6
triggerall = stateno = 150
triggerall = time = 0
trigger1 = Var(25) <= 5 && !var(59)
trigger2 = Random <= 400 && var(59)
value = 4100

;下段ジャストディフェンス移行
[State -2, 3]
type = ChangeState
triggerall = var(20) = 5 || var(20) = 6
triggerall = stateno = 152
triggerall = time = 0
trigger1 = Var(25) <= 5 && !var(59)
trigger2 = Random <= 400 && var(59)
value = 4110

;空中ジャストディフェンス移行
[State -2, 3]
type = ChangeState
triggerall = var(20) = 5 || var(20) = 6
triggerall = stateno = 154
triggerall = time = 0
triggerall = !var(4)
trigger1 = Var(25) <= 5 && !var(59)
trigger2 = Random <= 400 && var(59)
value = 4120

;KO後AI暴れ防止
[State -2,AI]
type = Varset
trigger1 = roundstate = 3
trigger1 = var(59) = 1
ignorehitpause = 1
var(59) = 2

[State -2,AI]
type = Varset
trigger1 = roundstate = 1
trigger1 = var(59) = 2
ignorehitpause = 1
var(59) = 1

;KO時ボイス
[State -2,AI]
type = Varset
trigger1 = 1
ignorehitpause = 1
fvar(19) = 0

[State -2,AI]
type = Varset
trigger1 = anim = 5950 || stateno = 5950
ignorehitpause = 1
fvar(19) = 1

[State -2,AI]
type = Varset
trigger1 = movetype != H
trigger1 = roundstate = 2
ignorehitpause = 1
var(37) = 0

[State -2,AI]
type = Varset
trigger1 = stateno = 5000 || stateno = 5020 || stateno = 5070 || stateno = 5080
trigger1 = roundstate = 2
trigger1 = time = 0
ignorehitpause = 1
var(37) = gethitvar(hitshaketime)

[State -2, KO]
type = PlaySnd
triggerall = roundstate = 3
trigger1 = !fvar(19) && !fvar(20)
trigger1 = Var(27) = ifelse(!var(37),1,ifelse(var(37)>20,20,var(37)))
trigger2 = !fvar(19) && fvar(20)
trigger2 = Var(27) = 12
ignorehitpause = 1
value = 110, 0

[State -2, KO]
type = PlaySnd
triggerall = roundstate = 3
triggerall = fvar(19)
trigger1 = anim = 5950 && animelemtime(1) = 2
ignorehitpause = 1
value = 5950, 0

[State -2,KO]
type = Varadd
trigger1 = !alive
ignorehitpause = 1
var(27) = 1

[State -2,KO]
type = Varset
trigger1 = alive
ignorehitpause = 1
var(27) = 0

;KO時演出
[State -2,KO]
type = Varadd
trigger1 = roundstate = 3
ignorehitpause = 1
var(32) = 1

[State -2,KO]
type = Varset
trigger1 = roundstate != 3
ignorehitpause = 1
var(32) = 0

[State -2,KO]
type = Varadd
trigger1 = roundstate = 4
ignorehitpause = 1
fvar(11) = 1

[State -2,KO]
type = Varset
trigger1 = roundstate != 4
ignorehitpause = 1
fvar(11) = 0

[State -2, HyperComboFinish]
type = Helper
triggerall = WinKo && var(32) = 1 && stateno != [3200,3299]
trigger1 = stateno = [3000, 3999]
trigger2 = Var(18)
trigger3 = projhittime(3005) = 1 || projhittime(3405) = 1
ID = 9000
stateno = 9000
postype = left
pos = -50,0
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
persistent = 0

[State -2, HyperComboFinish]
type = PlaySnd
trigger1 = WinKo && var(32) = 1 && stateno != [3200,3299]
value = 9000,0
ignorehitpause = 1

;エフェクト除去
[State -2, Power Chage]
type = RemoveExplod
trigger1 = MoveType = H
ID = 7300

[State -2, Power Chage]
type = RemoveExplod
trigger1 = MoveType = H
ID = 7400

[State -2, Power Chage]
type = RemoveExplod
trigger1 = MoveType = H
ID = 7450

[State -2, Power Chage]
type = RemoveExplod
trigger1 = MoveType = H
ID = 7500

[State -2, Power Chage]
type = RemoveExplod
trigger1 = MoveType = H
ID = 1702

[State -2, Power Chage]
type = RemoveExplod
trigger1 = MoveType = H
ID = 1703

:残像消去
[State -2]
type = AfterImageTime
triggerall = !var(16)
trigger1 = MoveType = H
trigger2 = StateNo = [0,49]
trigger3 = StateNo = [100,189]
trigger4 = StateNo = 195
trigger5 = StateNo = [200,799]
trigger6 = StateNo = [850,859]
trigger7 = StateNo = [900,1799]
time = 0

;ラウンド開始時等パワーリセット等
[State -2, 1]
type = PowerSet
triggerall = roundstate = 0
trigger1 = fvar(13) || var(18)
trigger2 = var(20) = 3
value = 0

[State -2, 1]
type = PowerSet
triggerall = roundstate = 0
triggerall = var(20) = 5
trigger1 = var(26) = 2
value = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0 && (var(43) || var(26) = 2) && roundno != 1
trigger2 = roundstate = 0 && roundno = 1
fvar(13) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(14) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(15) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(16) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(18) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0 && roundno = 1
var(43) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(47) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(51) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(52) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0 && roundno = 1
var(54) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
var(58) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
fvar(5) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
fvar(6) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
fvar(7) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0 && roundno = 1
fvar(13) = 0

[State -2, 1]
type = VarSet
trigger1 = roundstate = 0
fvar(14) = 0

[State 3001, VarSet]
type = VarSet
trigger1 = fvar(17) = 1
ignorehitpause = 1
fvar(17) = 0

[State -2, 1]
type = PalFX
trigger1 = roundstate = 0
Time = 1
add   = 0,0,0
ignorehitpause = 1

;原作判別
[State -2, 1]
type = VarSet
trigger1 = 1
fvar(39) = 1;CAPCOM VS SNK 2

;キャラ判別
[State -2, 1]
type = VarSet
triggerall = numenemy
triggerall = roundstate = 2
trigger1 = enemy,authorname = "warusaki3" && enemy,fvar(39) = 1
trigger2 = enemy,authorname = "mouser" && (P2Name = "Hibiki Takane" || P4Name = "Hibiki Takane")
var(52) = 1

;やられ時にゲージ消去する相手動作の判定
[State -2, 1]
type = VarSet
triggerall = numenemy
trigger1 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgouki"&&enemynear,var(13))
trigger2 = (enemynear,authorname="SUMI"&&enemynear,name="Destrudo Ryu"&&enemynear,var(16)=1)
trigger3 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsrugal"&&enemynear,var(13))
trigger4 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsryu"&&enemynear,var(13))
trigger5 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsg_rugal"&&enemynear,var(13))
trigger6 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgeese"&&enemynear,var(13))
trigger7 = (enemynear,authorname="warusaki3"&&enemynear,name="cvssakura"&&enemynear,var(13))
fvar(20) = 1

[State -2, 1]
type = VarSet
triggerall = numenemy
trigger1 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgouki"&&enemynear,var(13)=0)
trigger2 = (enemynear,authorname="SUMI"&&enemynear,name="Destrudo Ryu"&&enemynear,var(16)=0)
trigger3 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsrugal"&&enemynear,var(13)=0)
trigger4 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsryu"&&enemynear,var(13)=0)
trigger5 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsg_rugal"&&enemynear,var(13)=0)
trigger6 = (enemynear,authorname="warusaki3"&&enemynear,name="cvsgeese"&&enemynear,var(13)=0)
trigger7 = (enemynear,authorname="warusaki3"&&enemynear,name="cvssakura"&&enemynear,var(13)=0)
fvar(20) = 0

;製作用関数表示
[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "Groove VAR = %d Parry= %d JD =%d Parry = %d Oricom = %d \n "
params = var(5) , var(11), var(26) ,var(14) , ceil(fvar(10)*1000)

[Statedef -3]

[State -3, Bounding Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 5100 || StateNo = 5110
value = 5100, 0
channel = 20

[State -3, GetHurt Sound]
type = PlaySnd
triggerall = Random < 500
triggerall = Time = 1
triggerall = alive
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5100
value = 5000, ifelse (StateNo = 5100 || GetHitVar(animtype) = 2, 2, ifelse (GetHitVar(animtype) = 1, 1, 0))
channel = 10

[State 3000, Voice]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 5201 || StateNo = 5210
value = 3200,0
channel = 0

[State 820, Voice]
type = Stopsnd
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5100
trigger2 = StateNo = [150,159]
channel = 0
