;==============================
;"Cell", from Super Boutuden 2
;==============================

;----------------------------------------
;Author:	The Necromancer
;		flowergirl@cutey.com
;----------------------------------------

;===========================================================================
;-| Notes |-----------------------------------------------------------------
;None!

;--------------
;Integer Variables:
;--------------

;0: Long Jump
;1: Intro/Win/Lose
;2: AI Activation
;3: Combo Detection
;4: Corner Push
;5: Command
;6: Zanzouken
;7: Chou KameHameHa
;8: HitSpark Position X
;9: HitSpark Position Y
;10: Corner Juggle Limit

;--------------
;Float Variables:
;--------------

;0: Velocity X
;1: Velocity Y

;===========================================================================
;-| Data |------------------------------------------------------------------

;---------------------------------------------------------------------------
[Data]
life 			= 2600
attack 		= 140
defence 		= 130
power			= 3000
fall.defence_up 	= 50
liedown.time 	= 40
airjuggle 		= 15
sparkno 		= S9010
guard.sparkno 	= -1
KO.echo 		= 0
volume 		= 255
IntPersistIndex 	= 60
FloatPersistIndex = 40

[Size]
xscale 		= 1
yscale 		= 1
ground.back 	= 20
ground.front 	= 20
air.back 		= 20
air.front 		= 20
height 		= 75
attack.dist 	= 160
proj.attack.dist 	= 90
proj.doscale 	= 0
head.pos 		= 9,-76
mid.pos 		= 1,-55
shadowoffset 	= 0
draw.offset 	= 0,0

[Velocity]
walk.fwd  		= 1.6
walk.back 		= -1.5
run.fwd  		= 6,0
run.back 		= -8.1,0
jump.neu 		= 0,-8.8
jump.back 		= -3.5
jump.fwd 		= 3
runjump.back 	= -2.0,-8
runjump.fwd 	= 4,-8
airjump.neu 	= 0,-8
airjump.back 	= -2.0.-8
airjump.fwd 	= 2.0,-8

[Movement]
airjump.num 	= 0
airjump.height 	= 35
yaccel 		= .45
stand.friction 	= .85
crouch.friction 	= .82

;===========================================================================
;-| Intro/Win/Lose |--------------------------------------------------------

;---------------------------------------------------------------------------
;Lose State
[Statedef 170]
type 			= S
movetype		= I
physics		= S
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 170: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 120)
flag 			= RoundNotOver

[State 170: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Win State Decider
[Statedef 180]
type 			= S
movetype		= I
physics		= S
;anim			= 180
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 180: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag 			= RoundNotOver

[State 180: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 180:		ChangeState]
type			= ChangeState
trigger1		= (Time)
value			= (IfElse((Life > 700),181,(IfElse((Life = [300,699]),182,183))))

;---------------------------------------------------------------------------
;Win001
[Statedef 181]
type 			= S
movetype		= I
physics		= S
anim			= 181
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 181: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 200)
flag 			= RoundNotOver

[State 181: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,0
channel		= 0

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,1
channel		= 1

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%50) = 0)
value			= S1,5
channel		= 2

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 3

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%70) = 0)
value			= S0,4
lowpriority		= 1
channel		= 4

[State 181:		BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 20) && ((GameTime%70) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 181:		EnvShake]
type			= EnvShake
trigger1 		= ((Time > 20) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90

[State 181:		Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9020
id			= 9020
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 181:		Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 181:		Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 181:		Helper]
type			= Helper
trigger1		= (Time = 23)
helpertype		= Normal
name			= "Flame Effect"
id			= 9001
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 181:		Helper]
type			= Helper
trigger1		= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock000"
id			= 7032
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7032
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 799,0.75,3))
size.yscale		= (IfElse(Random <= 799,0.75,3))

[State 181:		Helper]
type			= Helper
trigger1		= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock001"
id			= 7033
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7033
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))

[State 181:		Helper]
type			= Helper
trigger1		= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock002"
id			= 7034
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7034
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

;---------------------------------------------------------------------------
;Win002
[Statedef 182]
type 			= S
movetype		= I
physics		= S
anim			= 182
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 182: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 200)
flag 			= RoundNotOver

[State 182: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Win003
[Statedef 183]
type 			= S
movetype		= I
physics		= S
anim			= 183
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 183: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 200)
flag 			= RoundNotOver

[State 183: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 183:		PlaySnd]
type			= PlaySnd
trigger1		= (Random < 250) && (AnimElem = 2)
value			= S0,7

;---------------------------------------------------------------------------
;PreIntro
[Statedef 190]
type 			= S
movetype		= I
physics		= N
;anim			= 190
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 190:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoBarDisplay
flag3			= NoMusic

[State 190: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(190))
value 		= 190

[State 190: 	ChangeState] 
type 			= ChangeState
trigger1		= (!Time)
value 		= 191

;---------------------------------------------------------------------------
;Intro001:
[Statedef 191]
type 			= S
movetype		= I
physics		= N
anim			= 191
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= (Time < 150)
flag			= Intro
flag2			= NoBarDisplay
flag3			= NoMusic

[State 191:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;===========================================================================
;-| Basic |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Stand Weak Punch
[Statedef 200]
type 			= S
movetype		= A
physics		= S
anim			= 200
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 2
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 200:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 200:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 0,-59
hitsound		= S2,9
guardsound		= S0,9
ground.type		= High
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 200
getpower		= 20
givepower		= 20

[State 200:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand Strong Punch
[Statedef 210]
type 			= S
movetype		= A
physics		= S
anim			= 210
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 210:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 210:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-67
hitsound		= S2,3
guardsound		= S0,9
ground.type		= High
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id			= 210
getpower		= 40
givepower		= 40

[State 210:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand High Punch
[Statedef 215]
type 			= S
movetype		= A
physics		= S
anim			= 215
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 215:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 215:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 0,-100
hitsound		= S2,3
guardsound		= S0,9
ground.type		= High
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -5,-5.7
airguard.velocity	= -5,-5.7
ground.cornerpush.veloff = -8
air.fall		= 1
id			= 215
getpower		= 40
givepower		= 40

[State 215:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand Weak Kick
[Statedef 220]
type 			= S
movetype		= A
physics		= S
anim			= 220
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 200:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 220:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-73
hitsound		= S2,8
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 220
getpower		= 20
givepower		= 20

[State 220:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand Strong Kick
[Statedef 230]
type 			= S
movetype		= A
physics		= S
anim			= 230
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 230:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,5

[State 230:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-64
hitsound		= S2,0
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -5.5,-5.7
airguard.velocity	= -5.5,-5.7
ground.cornerpush.veloff = -8
air.fall		= 1
id			= 230
getpower		= 40
givepower		= 40

[State 230:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand High Kick
[Statedef 235]
type 			= S
movetype		= A
physics		= S
anim			= 235
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 235:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,5

[State 235:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= DiagUp
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-91
hitsound		= S2,0
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3,-8
guard.velocity	= -3
air.velocity	= -3,-8
airguard.velocity	= -3,-8
ground.cornerpush.veloff = -8
fall			= 1
fall.recover	= 0
id			= 235
getpower		= 40
givepower		= 40

[State 235:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Crouch Weak Punch
[Statedef 400]
type 			= C
movetype		= A
physics		= C
anim			= 400
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 400:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 400:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-46
hitsound		= S2,9
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 400
getpower		= 20
givepower		= 20

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Punch
[Statedef 410]
type 			= C
movetype		= A
physics		= C
anim			= 410
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 4
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 410:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 410:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-46
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id			= 410
getpower		= 40
givepower		= 40

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Weak Kick
[Statedef 420]
type 			= C
movetype		= A
physics		= C
anim			= 420
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 420:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= C, NA
hitflag		= M
guardflag		= L
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-3
hitsound		= S2,8
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 420
getpower		= 20
givepower		= 20

[State 420:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 430]
type 			= C
movetype		= A
physics		= N
anim			= 430
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 430:		PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (!MoveContact)
value			= 0

[State 430:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 8.5

[State 430:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0

[State 430:		VelAdd]
type 			= VelAdd
trigger1 		= (AnimElem = 2, > 10) && (AnimElem = 2, < 19)
x			= -0.8

[State 430:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,1

[State 430:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 430:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= C, NA
hitflag		= MA
guardflag		= L
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 78
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-6
hitsound		= S2,0
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -1.5,-3
guard.velocity	= -1.5
air.velocity	= -1.5,-3
airguard.velocity	= -1.5,-3
ground.cornerpush.veloff = -1.5
fall			= 1
fall.recover	= 0
id			= 460
getpower		= 40
givepower		= 40
persistent		= 0

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Jump Weak Punch
[Statedef 600]
type 			= A
movetype		= A
physics		= A
anim			= 600
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 2
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 600:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 600:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= A, NA
hitflag		= MAF
guardflag		= H
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= -5,-31
hitsound		= S2,9
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id			= 600
getpower		= 20
givepower		= 20

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 610]
type 			= A
movetype		= A
physics		= A
anim			= 610
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 610:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 610:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= A, NA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= -5,-31
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,-5
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -3
id			= 610
getpower		= 40
givepower		= 40

;---------------------------------------------------------------------------
;Jump Weak Kick
[Statedef 620]
type 			= A
movetype		= A
physics		= A
anim			= 620
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 3
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 620:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,7

[State 620:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 1, = 0)
attr			= A, NA
hitflag		= MAF
guardflag		= H
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 11,11
guard.pausetime	= 11,11
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= -5,-33
hitsound		= S2,8
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id			= 620
getpower		= 20
givepower		= 20

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 630]
type 			= A
movetype		= A
physics		= A
anim			= 630
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 630:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 630:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= A, NA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= -5,-24
hitsound		= S2,0
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,-5
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -3
id			= 630
getpower		= 40
givepower		= 40

;---------------------------------------------------------------------------
;Kikou Ha
[Statedef 700]
type 			= S
movetype		= A
physics		= S
;anim			= 700
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 700:		ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time)
value			= 700
elem			= IfElse(PrevStateNo = 700,2,1)

[State 700:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 700: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (AnimElem = 2)
value 		= -140

[State 700: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S1,1

[State 700: 	PlaySnd]
type 			= PlaySnd
trigger1		= (AnimElem = 2)
value 		= S1,4

[State 700:		BGPalFX]
type			= BGPalFX
trigger1		= (ProjHit9070 = 1)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256

[State 700:		Helper]
type			= Helper
trigger1		= (AnimElem = 2) && (Power > 50)
helpertype		= Normal
name			= "Kikou Ha"
id			= 9070
pos			= 41,-60
postype		= p1
facing		= 1
stateno		= 9070
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 700:		Projectile]
type			= Projectile
trigger1		= (AnimElem = 2) && (Power > 50)
projid		= 9070
projanim		= 9070
projhitanim		= 9030
projremanim		= 9030
projcancelanim	= 9030
projscale		= 1,1
projremove		= 1
projremovetime	= 200
velocity		= 14,(IfElse(Command = "holdup",-6.666666,(IfElse(Command = "holddown",6.666666,0))))
remvelocity		= 0,0
accel			= 0,0
velmul		= 1.1,1.1
projhits		= 1
projmisstime	= 0
projpriority	= 100
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 41,-60
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, NP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 50,25
pausetime		= 12,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 5,-8
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Low
air.type		= Trip
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity	= -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
guard.kill		= 0
getpower		= 0
givepower		= 35
palfx.time		= 25
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 700:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Power > 25,0,5300)

;---------------------------------------------------------------------------
;Throw001
[Statedef 800]
type 			= S
movetype		= A
physics		= S
anim			= 800
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 800:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,7

[State 800:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NT
hitflag		= -M
priority		= 1, Miss
sparkno		= -1
guard.dist		= 0
snap			= 40,0
p2facing		= 1
p1stateno		= 805
p2stateno		= 806
forcestand		= 1
fall			= 1
id			= 800
getpower		= 50
givepower		= 50

[State 800:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Throw001: Success
[Statedef 805]
type 			= S
movetype		= A
physics		= S
anim			= 805
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 805:		NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 3, < 6)
value			= SCA

[State 805:		PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 805:		SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2)
value			= -1

[State 805:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S4,3

[State 805:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,0

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0)
time			= 1
id			= -1
pos			= 40,0

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 5)
time			= 1
id			= -1
pos			= 33,-5

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2, > 5) && (AnimElem = 3, < 0)
time			= 1
id			= -1
pos			= 20,-10

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 3, < 4)
time			= 1
id			= -1
pos			= -20,-20

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3, = 4)
time			= 1
id			= -1
pos			= -41,-40

[State 805:		TargetVelSet]
type			= TargetVelSet
trigger1		= (AnimElem = 3, = 5)
id			= -1
x			= -3
y			= -7

[State 805:		TargetLifeAdd]
type			= TargetLifeAdd
trigger1		= (AnimElem = 3, = 5)
value			= -80
id			= -1
kill			= 1

[State 805:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Throw001: Opponent
[Statedef 806]
type 			= A
movetype		= H
physics		= N
;anim			= 806
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 806:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 806

[State 806:		ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 806)
value			= 5070

[State 806:		Turn]
type			= Turn
trigger1		= (Anim = 5070)
persistent		= 0

[State 806:		VelAdd]
type			= VelAdd
trigger1		= (Anim = 5070)
y			= 0.45

[State 806:		SelfState]
type			= SelfState
trigger1		= (Pos Y >= -10) && (Anim = 5070)
value			= 5100

;===========================================================================
;-| Special |---------------------------------------------------------------

;---------------------------------------------------------------------------
;Ki Barrier
[Statedef 1000]
type 			= S
movetype		= A
physics		= S
anim			= 1000
velset		= 0,0
ctrl			= 0
poweradd		= 40
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1000:	NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 2, < 0)
time			= 1
value			= SCA, NA

[State 1000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,0

[State 1000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,3

[State 1000:	VelSet]
type			= VelSet
trigger1		= (Var(4) = 1) && (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x			= -4
persistent		= 0

[State 1000:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(4)		= 0

[State 1000:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 1000:	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 2)
time			= 12
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 1000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 2)
time			= 12
freq			= 120
ampl			= -7
phase			= 90

[State 1000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "Ki Barrier"
id			= 9060
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9060
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent		= 0
ignorehitpause	= 1

[State 1000:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Power < 50,5300,0)

;---------------------------------------------------------------------------
;Jishin Ha
[Statedef 1010]
type 			= S
movetype		= A
physics		= S
anim			= 1010
;velset		= 0,0
ctrl			= 0
poweradd		= 40
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1010:	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S4,0

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 1010:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(4)		= 0

[State 1010:	VelSet]
type			= VelSet
trigger1		= (Var(4) = 1) && (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x			= -4
persistent		= 0

[State 1010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3
y			= 0

[State 1010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0
y			= 0

[State 1010:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
x			= 0.85

[State 1010:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9) || (AnimElem = 2, = 11)
trigger2		= (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
x			= -0.85

[State 1010:	Helper]
type			= Helper
trigger1		= (AnimElem = 2) && (NumHelper(9110) = 0)
helpertype		= Normal
name			= "Jishin Ha"
id			= 9110
pos			= 41,-60
postype		= p1
facing		= 0
stateno		= 9110
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Bakuretsu Kyaku: Sliding Kick
[Statedef 1020]
type 			= C
movetype		= A
physics		= N
anim			= 1020
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1020: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(5) 		= IfElse(Command = "holda",1,2)

[State 1020:	PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (!MoveContact)
value			= 0

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= IfElse(Var(5) = 1,6,9)

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0

[State 1020:	VelAdd]
type 			= VelAdd
trigger1 		= (AnimElem = 2, > 10) && (AnimElem = 2, < 19) && (Vel X > 0.5)
x			= IfElse(Var(5) = 1,-0.8,-1)

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,1

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 1020:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= C, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 50
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-6
hitsound		= S2,0
guardsound		= S0,9
ground.type		= Low
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,-3
airguard.velocity	= -2,-3
ground.cornerpush.veloff = -1.5
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-4
id			= 1020
getpower		= 40
givepower		= 40
persistent		= 0

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (MoveContact)
value			= 1021

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Bakuretsu Kyaku: Strong Kick
[Statedef 1021]
type 			= S
movetype		= A
physics		= S
anim			= 1021
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1021:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,5

[State 1021:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S4,1

[State 1021:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0)
attr			= S, SA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 50
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-64
hitsound		= S2,0
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -4.2,-5.4
guard.velocity	= -4
air.velocity	= -4.2,-5.4
airguard.velocity	= -4.2,-5.4
ground.cornerpush.veloff = -4
fall			= 1
id			= 1021
getpower		= 20
givepower		= 20

[State 1021:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Zanzouken
[Statedef 1030]
type 			= A
movetype		= I
physics		= N
anim			= 1030
;velset		= 0,0
ctrl			= 0
poweradd		= 20
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1030: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(5) 		= IfElse(Command = "holda",1,2)

[State 1030:	AssertSpecial]
type			= AssertSpecial
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
flag			= Invisible
flag2			= NoShadow

[State 1030: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= 0

[State 1030: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= SCA
time 			= 1

[State 1030:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
pos 			= -5, 0
spacing 		= 4

[State 1030:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10) && ((GameTime%2) = 0)
value			= 255,255,255
time			= 1

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2) || (AnimElem = 2, = 31)
x 			= IfElse(Var(5) = 1,15,25)
y			= 0

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2, = 5)
x 			= 0
y			= 0

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3, = 0)
x 			= 1
y			= 0

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3, = 5)
x 			= 0
y			= 0

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 30)
x			= 50

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 6) || (AnimElem = 3, = 8) || (AnimElem = 3, = 10) || (AnimElem = 3, = 12)
x			= 0.95

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 5) || (AnimElem = 3, = 7) || (AnimElem = 3, = 9) || (AnimElem = 3, = 11)
x			= -0.95

[State 1030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S3,0

[State 1030:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(6)		= 100

[State 1030:	VarSet]
type			= VarSet
trigger1		= (AnimElem = 2, = 30)
var(6)		= 80

[State 1030:	VarAdd]
type			= VarAdd
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10)
var(6)		= -2

[State 1030:	VarAdd]
type			= VarAdd
trigger1 		= (AnimElem = 2, > 30) && (AnimElem = 2, < 35)
var(6)		= 2

[State 1030: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10)
time 			= 5
timegap		= 1
framegap 		= 1
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(6),var(6),var(6)
trans 		= add

[State 1030: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2, > 30) && (AnimElem = 2, < 35)
time 			= 5
timegap		= 1
framegap 		= 1
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(6),var(6),var(6)
trans 		= add

[State 1030:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "AfterImage"
id			= 1031
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 1031
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1030: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Zanzouken: AfterImage
[Statedef 1031]
type 			= A
movetype		= I
physics		= N
anim			= 1030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1031:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= Invisible
flag2			= NoShadow

[State 1031: 	PlayerPush]
type 			= PlayerPush
trigger1		= 1
value 		= 0

[State 1031: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 1031: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(0) 		= (Parent, Var(5))

[State 1031:	VelSet]
type			= VelSet
trigger1		= (!Time)
x 			= IfElse(Var(0) = 1,15,25)
y			= 0

[State 1031: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
timegap		= 3
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 1031:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 15) || (Parent, StateNo != 1030)

;---------------------------------------------------------------------------
;Raigeki Shuu
[Statedef 1040]
type 			= A
movetype		= A
physics		= N
anim			= 1040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1040: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(5) 		= IfElse(Command = "holda",3,5)

[State 1040:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1040:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= Var(5)
y			= 8

[State 1040:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0)
x			= 0
y			= 0.45

[State 1040:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,0
channel		= 0

[State 1040:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 1040:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 40
pausetime		= 0,12
guard.pausetime	= 0,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= -5,-24
hitsound		= S2,8
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -3,-2.5
airguard.velocity	= -3,-2.5
ground.cornerpush.veloff = -3
id			= 1040
getpower		= 20
givepower		= 20

[State 1040:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Taiyoken
[Statedef 1050]
type 			= S
movetype		= A
physics		= S
anim			= 1050
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1050:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,1
channel		= 0

[State 1050:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S3,4

[State 1050:	PowerAdd]
type			= PowerAdd
trigger1		= (AnimElem = 3)
value			= -100

[State 1050:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 3, < 15) && ((GameTime%2) = 0)
value			= 5,5,5
time			= 1

[State 1050:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 1050:	Helper]
type			= Helper
trigger1		= (AnimElem = 3)
helpertype		= Normal
name			= "Taiyoken"
id			= 9120
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9120
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent		= 0
ignorehitpause	= 1

[State 1050:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Power < 50,5300,0)

;---------------------------------------------------------------------------
;Renzokou Kikou Ha
[Statedef 1060]
type 			= S
movetype		= A
physics		= S
anim			= 1060
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1060:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (PrevStateNo = 1060)
value			= 1060
elem			= 4

[State 1060: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6)
value 		= -80

[State 1060: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6)
value 		= S1,1
channel		= 0

[State 1060: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6)
value 		= S1,4

[State 1060:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2) || (AnimElem = 6)
helpertype		= Normal
name			= "Renzokou Kikou Ha"
id			= (IfElse(Command = "holdup",9132,(IfElse(Command = "holddown",9131,9130))))
pos			= 41,-60
postype		= p1
facing		= 1
stateno		= (IfElse(Command = "holdup",9132,(IfElse(Command = "holddown",9131,9130))))
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1060:	Helper]
type			= Helper
trigger1 		= (AnimElem = 4)
helpertype		= Normal
name			= "Renzokou Kikou Ha"
id			= (IfElse(Command = "holdup",9132,(IfElse(Command = "holddown",9131,9130))))
pos			= 37,-66
postype		= p1
facing		= 1
stateno		= (IfElse(Command = "holdup",9132,(IfElse(Command = "holddown",9131,9130))))
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1060:	ChangeState]
type			= ChangeState
trigger1		= (Command = "Renzokou Kikou Ha") && (AnimElem = 7, > 0) && (PrevStateNo != 1060)
value			= 1060

[State 1060:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Power > 50,0,5300)

;---------------------------------------------------------------------------
;Kienzan
[Statedef 1070]
type 			= S
movetype		= A
physics		= S
anim			= 1070
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1070: 	PowerAdd]
type 			= PowerAdd
trigger1 		= (AnimElem = 2)
value 		= -200

[State 1070: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 3)
value 		= S1,1
channel		= 0

[State 1070: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2, = 15)
value 		= S0,4

[State 1070:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2, = 15)
helpertype		= Normal
name			= "Kienzan"
id			= 9150
pos			= 45,-60
postype		= p1
facing		= 1
stateno		= 9150
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 1.25
size.yscale		= 0.75

[State 1070:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Power > 50,0,5300)

;---------------------------------------------------------------------------
;Kantsu Energy Dan
[Statedef 1080]
type 			= S
movetype		= A
physics		= S
anim			= 1080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1080:	PowerAdd]
type 			= PowerAdd
trigger1 		= (AnimElem = 2, = 5)
value 		= -200

[State 1080: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2, = 5)
value 		= S1,4

[State 1080:	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2, = 5)
value 		= S3,9

[State 1080:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
x			= 0.85

[State 1080:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9) || (AnimElem = 2, = 11)
trigger2		= (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
x			= -0.85

[State 1080:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2, = 5)
helpertype		= Normal
name			= "Ki Blast Effect"
id			= 9040
pos			= 45,-65
postype		= p1
facing		= 1
stateno		= 9040
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1080:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2, = 5)
helpertype		= Normal
name			= "Kantsu Energy Dan"
id			= 9170
pos			= 45,-65
postype		= p1
facing		= 1
stateno		= 9170
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.25

[State 1080:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Power > 25,0,5300)

;---------------------------------------------------------------------------
;Geshiki Naraku Otoshi
[Statedef 1090]
type 			= S
movetype		= I
physics		= S
anim			= 1090
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 2
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1090: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(5) 		= IfElse(Command = "holdx",1,2)

[State 1090:	MakeDust]
type 			= MakeDust
trigger1 		= (!AnimTime)
pos 			= -5, 0
spacing 		= 4

[State 1090:	PlaySnd]
type			= PlaySnd
trigger1		= (!AnimTime)
value			= S1,6

[State 1090:	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 1091

;---------------------------------------------------------------------------
;Geshiki Naraku Otoshi: Attack
[Statedef 1091]
type 			= A
movetype		= A
physics		= A
anim			= 1091
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 1091:	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= IfElse(Var(5) = 1,4,6.5)
y			= -7

[State 1091:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1, = 5)
value			= S3,7
channel		= 0

[State 1091:	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

[State 1091:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= DiagUp
priority		= 5, Hit
damage		= 80,10
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= -5,-31
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -5.5,-6.2
guard.velocity	= -5.5
air.velocity	= -5.5,-6.2
airguard.velocity	= -5.5,-6.2
ground.cornerpush.veloff = -3
fall			= 1
fall.recover	= 0
id			= 1091
getpower		= 80
givepower		= 80

;===========================================================================
;-| Hyper |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Makankosappou
[Statedef 3000]
type 			= S
movetype		= A
physics		= S
anim			= 3000
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3000:	SuperPause]
type			= SuperPause
trigger1		= (!Time)
time			= 50
anim			= -1
sound			= S2,6
pos			= 0,0
movetime		= 0
darken		= 0
p2defmul		= 1
poweradd		= -1000
unhittable		= 1

[State 3000:	AttackDist]
type			= AttackDist
trigger1		= 1
value			= 0

[State 3000:	PowerAdd]
type			= PowerAdd
trigger1		= ((GameTime%4) = 0)
value			= -1

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 15)
value			= S1,7

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 60)
value			= S1,8

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,4
channel		= 0
loop			= 1

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 60)
value			= S4,2

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, > 0) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 1

[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 2, > 0) && ((GameTime%10) = 0)
time			= 10
freq			= 120
ampl			= -6
phase			= 90

[State 3000:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && ((GameTime%100) = 0)
time			= 60
add			= 100,100,100
mul			= 256,256,256
sinadd		= -80,-80,-80,60
invertall		= 0
color			= 256

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9020
id			= 9020
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9250
id			= 9250
pos			= 9,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2) || (AnimElem = 2, = 15)
anim			= 9210
id			= 9210
pos			= 9,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3000:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, = 15)
helpertype		= Normal
name			= "Flame Effect"
id			= 9001
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3000:	Helper]
type			= Helper
trigger1 		= (!Time)
helpertype		= Normal
name			= "SuperPause"
id			= 9190 
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9190
keyctrl		= 0
ownpal		= 1
supermovetime	= 50
pausemovetime	= 0

[State 3000:	ChangeState]
type			= ChangeState
triggerall		= (AnimElem = 2, > 75)
trigger1		= (Command = "z") || (RoundState != 2)
value			= 3005

;---------------------------------------------------------------------------
;Makankosappou: Release
[Statedef 3005]
type 			= S
movetype		= A
physics		= S
anim			= 3005
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3005:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3005:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3005:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3005:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3005:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3005:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2, > 5) && (NumHelper(9230) = 0)
id			= 9240

[State 3005:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9250

[State 3005:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3005:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9240
id			= 9240
pos			= 42,-61
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3005:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2)
helpertype		= Normal
name			= "Makankosappou"
id			= 9230
pos			= 42,-61
postype		= p1
facing		= 1
stateno		= 9230
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3005:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,0,100))

;---------------------------------------------------------------------------
;Big Bang Attack
[Statedef 3010]
type 			= S
movetype		= A
physics		= S
anim			= 3010
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3010:	SuperPause]
type			= SuperPause
trigger1		= (!Time)
time			= 50
anim			= -1
sound			= S2,6
pos			= 0,0
movetime		= 0
darken		= 0
p2defmul		= 1
poweradd		= -1000
unhittable		= 1

[State 3010:	AttackDist]
type			= AttackDist
trigger1		= 1
value			= 0

[State 3010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= -3

[State 3010:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3010:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, > 0) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 1

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 15)
value			= S1,7

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 15)
value			= S1,8

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S4,2

[State 3010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S0,0

[State 3010:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%10) = 0)
time			= 10
freq			= 120
ampl			= -6
phase			= 90

[State 3010:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%100) = 0)
time			= 60
add			= 100,100,100
mul			= 256,256,256
sinadd		= -80,-80,-80,60
invertall		= 0
color			= 256

[State 3010:	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && ((GameTime%40) = 0)
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 3010:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 3, = 10)
value			= 255,255,255
time			= 5

[State 3010:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 3)
id			= 9050

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3010:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9160
id			= 9160
pos			= 45,-65
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 3010:	Explod]
type			= Explod
trigger1		= (ProjHit9260 = 1)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 3010:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, = 15)
helpertype		= Normal
name			= "Flame Effect"
id			= 9001
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3010:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3)
helpertype		= Normal
name			= "Ki Blast Effect"
id			= 9040
pos			= 45,-65
postype		= p1
facing		= 1
stateno		= 9040
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3010:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "Ki Barrier"
id			= 9060
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9060
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent		= 0
ignorehitpause	= 1

[State 3010:	Helper]
type			= Helper
trigger1 		= (!Time)
helpertype		= Normal
name			= "SuperPause"
id			= 9190 
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9190
keyctrl		= 0
ownpal		= 1
supermovetime	= 50
pausemovetime	= 0

[State 3010:	Projectile]
type			= Projectile
trigger1		= (AnimElem = 3)
projid		= 9260
projanim		= 9260
projhitanim		= 9220
projremanim		= 9220
projcancelanim	= 9220
projscale		= 1,0.75
projremove		= 1
projremovetime	= 200
velocity		= 25,0
remvelocity		= 0,0
accel			= 0,0
velmul		= 1.1,1.1
projhits		= 1
projmisstime	= 0
projpriority	= 500000
projsprpriority	= 3
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset		= 45,-65
postype		= p1
projshadow		= 0,0,0
supermovetime	= 0
pausemovetime	= 0
;------------------
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 275,50
pausetime		= 0,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 40
ground.hittime	= 40
air.hittime		= 15
ground.velocity	= -20,-4
guard.velocity	= -8
air.velocity	= -20,-4
airguard.velocity	= -20,-4
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
getpower		= 50
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 40
envshake.freq 	= 140
envshake.ampl 	= -12

[State 3010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Chou KameHameHa
[Statedef 3020]
type 			= S
movetype		= A
physics		= S
anim			= 3020
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3020:	SuperPause]
type			= SuperPause
trigger1		= (!Time)
time			= 50
anim			= -1
sound			= S2,6
pos			= 0,0
movetime		= 0
darken		= 0
p2defmul		= 1
poweradd		= -2000
unhittable		= 1

[State 3020:	AttackDist]
type			= AttackDist
trigger1		= (AnimElem = 3, > 0)
value			= 0

[State 3020:	PowerAdd]
type			= PowerAdd
trigger1		= ((GameTime%4) = 0)
value			= -1

[State 3020:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(7)		= 200

[State 3020:	VarAdd]
type			= VarAdd
trigger1		= (Time > 100) && (Var(7) < 750)
var(7)		= 1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,4

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,7

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S0,4
channel		= 0
loop			= 1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, = 15)
value			= S3,1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, = 60)
value			= S1,3

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, > 0) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 1

[State 3020:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 3, > 0) && ((GameTime%10) = 0)
time			= 10
freq			= 120
ampl			= -6
phase			= 90

[State 3020:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && ((GameTime%100) = 0)
time			= 60
add			= 100,100,100
mul			= 256,256,256
sinadd		= -80,-80,-80,60
invertall		= 0
color			= 256

[State 3020:	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 3, > 50) && ((GameTime%40) = 0) && (NumHelper(9270) = 0)
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9020
id			= 9020
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 3)
anim			= 9200
id			= 9200
pos			= -20,-52
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.75,0.75
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3020:	Explod]
type			= Explod
trigger1		= (AnimElem = 3) || (AnimElem = 3, = 15)
anim			= 9210
id			= 9210
pos			= -20,-52
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3020:	Helper]
type			= Helper
trigger1		= (AnimElem = 3, = 15)
helpertype		= Normal
name			= "Flame Effect"
id			= 9001
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3020:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "Ki Barrier"
id			= 9060
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9060
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent		= 0
ignorehitpause	= 1

[State 3020:	Helper]
type			= Helper
trigger1 		= (!Time)
helpertype		= Normal
name			= "SuperPause"
id			= 9190 
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9190
keyctrl		= 0
ownpal		= 1
supermovetime	= 50
pausemovetime	= 0

[State 3020:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3, = 20)
helpertype		= Normal
name			= "KameHameHa Force"
id			= 9270 
pos			= -20,-52
postype		= p1
facing		= 1
stateno		= 9270
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3020:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(3021) < 5)
helpertype		= Normal
name			= "Rock000"
id			= 3021
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 3021
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 799,0.75,3))
size.yscale		= (IfElse(Random <= 799,0.75,3))

[State 3020:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(3022) < 5)
helpertype		= Normal
name			= "Rock001"
id			= 3022
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 3022
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))

[State 3020:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(3023) < 5)
helpertype		= Normal
name			= "Rock002"
id			= 3023
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 3023
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 3020:	Helper]
type			= Helper
trigger1 		= (AnimElem = 3)
helpertype		= Normal
name			= "KameHameHa Barrier"
id			= 3024
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 3024
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3020:	ChangeState]
type			= ChangeState
triggerall		= (AnimElem = 3, > 95)
trigger1		= (Command = "z") || (RoundState != 2)
value			= 3025

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock000
[Statedef 3021]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3021:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3021:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3021:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3021:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1,-2))

[State 3021:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = 3025) && (Parent, AnimElem = 2)
x			= 15

[State 3021:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3021:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3020)
y			= 0.05

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) <= 1)
value			= S2,2

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) > 1)
value			= S0,1

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3021:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3021:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock001
[Statedef 3022]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3022:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3022:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3022:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3022:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 3022:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = 3025) && (Parent, AnimElem = 2)
x			= 15

[State 3022:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3022:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3020)
y			= 0.05

[State 3022:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 3022:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3022:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3022:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock002
[Statedef 3023]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3023:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3023:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3023:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3023:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 3023:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-2,-3))

[State 3023:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = 3025) && (Parent, AnimElem = 2)
x			= 15

[State 3023:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3023:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3020)
y			= 0.05

[State 3023:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 3023:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3023:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3023:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;KameHameHa Barrier
[Statedef 3024]
type 			= S
movetype		= A
physics		= N
anim			= 3024
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3024:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3024:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 3024:	HitBy]
type			= HitBy
trigger1		= 1
value			= , NP, SP, HP
ignorehitpause	= 1

[State 3024:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= , NP, SP, HP
slot			= 0
stateno		= 9060
ignorehitpause	= 1

[State 3024:	HitDef]
type			= HitDef
trigger1		= 1
attr			= A, SP
hitflag		= P
priority		= 7, Hit
guard.dist		= 0

[State 3024:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != 3020)

;---------------------------------------------------------------------------
;Chou KameHameHa: Release
[Statedef 3025]
type 			= S
movetype		= A
physics		= S
anim			= 3025
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3025:	ScreenBound]
type			= ScreenBound
trigger1		= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value			= 0
movecamera		= 0,0

[State 3025:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3

[State 3025:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3025:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3025:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3025:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3025:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3025:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9200

[State 3025:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3025:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9160
id			= 9160
pos			= 37,-70
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 3025:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2)
helpertype		= Normal
name			= "Chou KameHameHa"
id			= 9180
pos			= 37,-70
postype		= p1
facing		= 1
stateno		= 9180
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 1
size.yscale		= 0.75

[State 3025:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,0,100))

;---------------------------------------------------------------------------
;Gekitotsu Urutora Barebo Ru
[Statedef 3030]
type 			= S
movetype		= A
physics		= S
anim			= 3030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3030:	SuperPause]
type			= SuperPause
trigger1		= (!Time)
time			= 50
anim			= -1
sound			= S2,6
pos			= 0,0
movetime		= 0
darken		= 0
p2defmul		= 1
poweradd		= -3000
unhittable		= 1

[State 3030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,5

[State 3030:	Helper]
type			= Helper
trigger1 		= (!Time)
helpertype		= Normal
name			= "SuperPause"
id			= 9190 
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9190
keyctrl		= 0
ownpal		= 1
supermovetime	= 50
pausemovetime	= 0

[State 3030:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3, = 0)
attr			= S, HA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 50,12
pausetime		= 0,15
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-67
hitsound		= S2,3
guardsound		= S0,9
ground.type		= High
air.type		= Low
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 20
yaccel		= 0.45
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -3,-3.5
airguard.velocity	= -3,-3.5
ground.cornerpush.veloff = -4
snap			= 15,0
id			= 3030
kill			= 0
getpower		= 0
givepower		= 0
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3030:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 7, = 0)
attr			= S, HA
hitflag		= MAF
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 250,25
pausetime		= 12,12
guard.pausetime	= 12,20
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,-91
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 20
ground.hittime	= 20
air.hittime		= 20
ground.velocity	= -2,-13.7
guard.velocity	= -1
air.velocity	= -2,-13.7
airguard.velocity	= -2,-13.7
ground.cornerpush.veloff = 0
snap			= 15,0
p1stateno		= 3035
id			= 3030
kill			= 0
getpower		= 0
givepower		= 0
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3030:	ChangeState]
type			= ChangeState
trigger1		= ((AnimElem = 4, = 9) && (!MoveContact)) || (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Gekitotsu Urutora Barebo Ru: Success
[Statedef 3035]
type 			= A
movetype		= A
physics		= N
anim			= 3035
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3035:	AssertSpecial]
type			= AssertSpecial
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
flag			= Invisible
flag2			= NoShadow

[State 3035: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= 0

[State 3035: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= SCA
time 			= 1

[State 3035:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 3035:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10) && ((GameTime%2) = 0)
value			= 255,255,255
time			= 1

[State 3035:	EnvColor]
type			= EnvColor
trigger1		= (MoveHit)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 3035:	Pause]
type			= Pause
trigger1		= (AnimElem = 2, > 15) && (AnimElem = 5, < 0) && ((GameTime%3) = 0)
time			= 3
movetime		= 3

[State 3035: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2) || (AnimElem = 2, = 31)
x 			= 3
y			= -20

[State 3035: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2, = 5)
x 			= 0
y			= 0

[State 3035: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3, = 0)
x 			= 0
y			= 0

[State 3035:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 6)
x			= 2

[State 3035:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 6, > 0)
y			= 0.45

[State 3035:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 30)
x			= (P2Dist X - 15)
y			= (P2Dist Y + 50)

[State 3035:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 6) || (AnimElem = 3, = 8) || (AnimElem = 3, = 10) || (AnimElem = 3, = 12)
x			= 0.95

[State 3035:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 5) || (AnimElem = 3, = 7) || (AnimElem = 3, = 9) || (AnimElem = 3, = 11)
x			= -0.95

[State 3035: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S3,0

[State 3035: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 5)
value 		= S1,0

[State 3035: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 5)
value 		= S2,5

[State 3035:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(6)		= 100

[State 3035:	VarSet]
type			= VarSet
trigger1		= (AnimElem = 2, = 30)
var(6)		= 80

[State 3035:	VarAdd]
type			= VarAdd
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10)
var(6)		= -2

[State 3035:	VarAdd]
type			= VarAdd
trigger1 		= (AnimElem = 2, > 30) && (AnimElem = 2, < 35)
var(6)		= 2

[State 3035: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10)
time 			= 5
timegap		= 1
framegap 		= 1
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(6),var(6),var(6)
trans 		= add

[State 3035: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2, > 30) && (AnimElem = 2, < 35)
time 			= 5
timegap		= 1
framegap 		= 1
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(6),var(6),var(6)
trans 		= add

[State 3035:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "AfterImage"
id			= 3036
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 3036
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3035:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 5, = 0)
attr			= A, HA
hitflag		= MAF
;guardflag		= H
animtype		= Hard
air.animtype	= Back
priority		= 7, Hit
damage		= 250
pausetime		= 12,12
guard.pausetime	= 12,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= -5,-31
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.6
ground.velocity	= -8,15
guard.velocity	= -8
air.velocity	= -8,15
airguard.velocity	= -8,15
ground.cornerpush.veloff = -3
id			= 3035
getpower		= 0
givepower		= 50
envshake.time 	= 20
envshake.freq 	= 130
envshake.ampl 	= -8

[State 3035:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (AnimElem = 6, > 0)
value			= 52

;---------------------------------------------------------------------------
;Zanzouken: AfterImage
[Statedef 3036]
type 			= A
movetype		= I
physics		= N
anim			= 3030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3036:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= Invisible
flag2			= NoShadow

[State 3036: 	PlayerPush]
type 			= PlayerPush
trigger1		= 1
value 		= 0

[State 3036: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 3036:	VelSet]
type			= VelSet
trigger1		= (!Time)
x 			= 3
y			= -20

[State 3036: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
timegap		= 3
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 3036:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 15) || (Parent, StateNo != 3035)

;===========================================================================
;-| Misc |------------------------------------------------------------------

;---------------------------------------------------------------------------
;Short Jump
[Statedef 7000]
type 			= A
movetype		= I
physics		= A
;anim			= 7000
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 7000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= IfElse((Vel X) = 0, 41, IfElse((Vel X) > 0, 42, 43))

[State 7000: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= IfElse(Vel X = 0,0,IfElse(Vel X < 0,-3.1,3.4))
y 			= -6.5

[State 7000: 	VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0))
x 			= IfElse(Vel X = 0,0,IfElse(Vel X < 0,-5,5))

[State 7000: 	AfterImage]
type 			= AfterImage
trigger1 		= ((!Time) && (Vel X != 0)) && (Var(0))
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7000: 	ChangeState]
type 			= ChangeState
trigger1 		= (Pos Y >= 0) && (Vel Y > 0)
value 		= 52

;---------------------------------------------------------------------------
;Evade Forward
[Statedef 7010]
type 			= S
movetype		= I
physics		= N
;anim			= 7010
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7010:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time)
value			= 7010
elem			= IfElse(PrevStateNo = 100,2,1)

[State 7010:	Turn]
type			= Turn
trigger1		= (P2BodyDist X < 0) && (!AnimTime)

[State 7010:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2, > 0)
value			= -2

[State 7010: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0)
value 		= 0

[State 7010: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (!Time)
value 		= SCA
time 			= IfElse(PrevStateNo = 100,10,17)

[State 7010:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time) && ((PrevStateNo = 150) || (PrevStateNo = 152))
value			= -500

[State 7010:	EnvColor]
type			= EnvColor
trigger1		= (!Time) && ((PrevStateNo = 150) || (PrevStateNo = 152))
value			= 255,255,255
time			= 7

[State 7010:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0)
pos 			= -5, 0
spacing 		= 4

[State 7010: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2)
x 			= 8.5

[State 7010: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3)
x 			= 1

[State 7010:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && ((PrevStateNo = 150) || (PrevStateNo = 152))
value			= S0,9

[State 7010: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S1,1
channel		= 0

[State 7010: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 10
timegap		= 4
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 7010: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Evade Backward
[Statedef 7020]
type 			= S
movetype		= I
physics		= N
;anim			= 7020
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time)
value			= 7020
elem			= IfElse(PrevStateNo = 105,2,1)

[State 7020:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2, > 0)
value			= -2

[State 7020: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0)
value 		= 0

[State 7020: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (!Time)
value 		= SCA
time 			= IfElse(PrevStateNo = 105,10,17)

[State 7020:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0)
pos 			= 5, 0
spacing 		= 4

[State 7020: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2)
x 			= -8.5

[State 7020: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3)
x 			= -1

[State 7020: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S1,1
channel		= 0

[State 7020: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 10
timegap		= 4
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 7020: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Ki Charge
[Statedef 7030]
type 			= S
movetype		= I
physics		= S
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7030:	PowerAdd]
type			= PowerAdd
trigger1		= (Time = [12,60])
value			= 1

[State 7030:	PowerAdd]
type			= PowerAdd
trigger1		= (Time > 60)
value			= 3

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,0
channel		= 0

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,1
channel		= 1

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%50) = 0)
value			= S1,5
channel		= 2

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 3

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%70) = 0)
value			= S0,4
lowpriority		= 1
channel		= 4

[State 7030:	BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 100) && ((GameTime%70) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 7030:	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 100) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90

[State 7030:	Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9020
id			= 9020
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7030:	Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7030:	Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 7030:	Helper]
type			= Helper
trigger1		= (Time = 23)
helpertype		= Normal
name			= "Flame Effect"
id			= 9001
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 7030:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock000"
id			= 7032
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7032
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 799,0.75,3))
size.yscale		= (IfElse(Random <= 799,0.75,3))

[State 7030:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock001"
id			= 7033
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7033
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))

[State 7030:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock002"
id			= 7034
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7034
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 7030:	ChangeState]
type			= ChangeState
trigger1		= ((Command != "holda") || (Command != "holdx")) && (Var(2) <= 0)
value			= 7035

;---------------------------------------------------------------------------
;Ki Charge: Rock000
[Statedef 7032]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7032:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7032:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7032:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 7032:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7032:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1,-2))

[State 7032:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) <= 1)
value			= S2,2

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) > 1)
value			= S0,1

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7032:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7032:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge: Rock001
[Statedef 7033]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7033:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7033:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7033:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 7033:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7033:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 7033:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 7033:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 7033:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7033:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7033:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge: Rock002
[Statedef 7034]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7034:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7034:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7034:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 7034:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7034:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 7034:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-2,-3))

[State 7034:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 7034:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 7034:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7034:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7034:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge - End
[Statedef 7035]
type 			= S
movetype		= I
physics		= S
anim			= 7035
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7035:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 7035:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 0

[State 7035:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 1

[State 7035:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 9050

[State 7035:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;===========================================================================
;-| Effects |---------------------------------------------------------------

;---------------------------------------------------------------------------
;Flame Effect
[Statedef 9001]
type 			= S
movetype		= I
physics		= N
anim			= 9001
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 9001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9001:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 9001:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 9001:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 9001:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 9001:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(2)		= (Parent, StateNo)

[State 9001:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 9001: 	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9001:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != Var(2)) || ((Parent, StateNo = 3010) && (Parent, AnimElem = 3, = 60))

;---------------------------------------------------------------------------
;HitSpark: Orange
;[Statedef 9010]

;---------------------------------------------------------------------------
;Dust
;[Statedef 9020]

;---------------------------------------------------------------------------
;Small Explosion
;[Statedef 9030]

;---------------------------------------------------------------------------
;Ki Blast Effect
[Statedef 9040]
type 			= S
movetype		= I
physics		= N
anim			= 9040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 9040:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9040:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 200

[State 9040:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= -2

[State 9040:	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 120, 120, 120
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9040:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Shockwave
;[Statedef 9050]

;---------------------------------------------------------------------------
;Ki Barrier
[Statedef 9060]
type 			= A
movetype		= A
physics		= N
;anim			= 9060
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9060:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 9060)
value			= 9060

[State 9060:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9060:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= -5,-55

[State 9060:	HitBy]
type			= HitBy
trigger1		= 1
value			= , NP, SP, HP
ignorehitpause	= 1

[State 9060:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= , NP, SP, HP
slot			= 0
stateno		= 9060
ignorehitpause	= 1

[State 9060:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 100

[State 9060:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= -1

[State 9060:	ParentVarSet]
type			= ParentVarSet
trigger1		= (MoveContact) && ((EnemyNear, BackEdgeBodyDist < 10) || (EnemyNear, FrontEdgeBodyDist < 10))
var(4)		= 1
ignorehitpause	= 1

[State 9060:	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9060:	HitDef]
type			= HitDef
trigger1		= (!MoveContact) && (Parent, StateNo = 1000)
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Low
air.animtype	= DiagUp
priority		= 7, Hit
damage		= 70,35
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S0,9
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 38
ground.hittime	= 38
air.hittime		= 12
ground.velocity	= (IfElse(P2Dist X > 0,-1.5,1.5)),-8.5
guard.velocity	= (IfElse(P2Dist X > 0,-4,4))
air.velocity	= (IfElse(P2Dist X > 0,-1.5,1.5)),-8.5
airguard.velocity	= (IfElse(P2Dist X > 0,-1.5,1.5)),-8.5
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9060
guard.kill		= 0
getpower		= 0
givepower		= 20
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -7
persistent		= 0

[State 9060:	HitDef]
type			= HitDef
trigger1		= (!MoveContact) && (Parent, StateNo = 3010)
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= DiagUp
priority		= 7, Hit
damage		= 75,12
pausetime		= 0,20
guard.pausetime	= 0,20
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S0,9
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -3,-11
guard.velocity	= -10
air.velocity	= -3,-11
airguard.velocity	= -3,-11
ground.cornerpush.veloff = 0
yaccel		= 0.35
fall			= 1
fall.recover	= 0
down.bounce		= 1
id			= 9060
kill			= 0
guard.kill		= 0
getpower		= 0
givepower		= 50
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -6
persistent		= 0

[State 9060:	HitDef]
type			= HitDef
trigger1		= (!MoveContact) && (Parent, StateNo = 3020)
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= DiagUp
priority		= 7, Hit
damage		= 100,25
pausetime		= 0,80
guard.pausetime	= 0,20
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S0,9
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -3,-12
guard.velocity	= -10
air.velocity	= -3,-12
airguard.velocity	= -3,-12
ground.cornerpush.veloff = 0
yaccel		= 0.35
fall			= 1
fall.recover	= 0
down.bounce		= 1
id			= 9060
kill			= 0
guard.kill		= 0
getpower		= 0
givepower		= 20
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -6
persistent		= 0

[State 9060:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, MoveType = H)

;---------------------------------------------------------------------------
;Small Projectile
[Statedef 9070]
type 			= S
movetype		= I
physics		= N
anim			= 9070
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 9070:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 9070:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9070:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9070:	MakeDust]
type			= MakeDust
trigger1		= (Vel Y = 0)
pos 			= 0,60
spacing 		= 2

[State 9070:	EnvShake]
type			= EnvShake
trigger1		= (Pos Y >= 0)
time			= 12
freq			= 120
ampl			= -4
phase			= 90

[State 9070:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= (IfElse((Parent,Command = "holdup"),-6.666666,(IfElse((Parent,Command = "holddown"),6.666666,0))))

[State 9070:	VelMul]
type			= VelMul
trigger1		= (Time > 0)
x			= 1.1
y			= 1.1

[State 9070:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 10
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 200, 50, 10
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock000"
id			= 9080
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9080
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock001"
id			= 9090
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9090
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock002"
id			= 9100
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9100
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	DestroySelf]
type			= DestroySelf
trigger1 		= (Parent, NumProjID(9070) = 0)

;---------------------------------------------------------------------------
;Debris000
[Statedef 9080]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9080:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9080:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9080:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9080:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9080:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9080:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,3,-3))
y			= (IfElse(Random <= 499,-8,-4))

[State 9080:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9080:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9080:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Debris001
[Statedef 9090]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9090:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9090:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9090:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9090:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9090:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9090:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,2,-5))
y			= (IfElse(Random <= 499,-10,-5))

[State 9090:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9090:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9090:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Debris002
[Statedef 9100]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9100:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9100:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9100:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9100:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9100:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9100:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,4,-5))
y			= (IfElse(Random <= 499,-6,-3))

[State 9100:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9100:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9100:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Jishin Ha: Projectile
[Statedef 9110]
type 			= A
movetype		= A
physics		= N
anim			= 9110
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9110:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9110:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9110:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9110:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 41,-60
ignorehitpause	= 1

[State 9110:	ParentVarSet]
type			= ParentVarSet
trigger1		= (MoveContact) && (EnemyNear, BackEdgeBodyDist < 10) && (Parent, P2BodyDist X < 25)
var(4)		= 1
ignorehitpause	= 1

[State 9110:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S3,6

[State 9110:	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 25
timegap		= 2
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110, 110, 110
trans 		= add

[State 9110:	EnvColor]
type			= EnvColor
trigger1		= (MoveHit)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 9110:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= S, SP
hitflag		= MAFP
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 70
pausetime		= 0,12
guard.pausetime	= 0,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S2,3
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -10
guard.velocity	= -10
air.velocity	= -8,-4.7
airguard.velocity	= -8,-4.7
ground.cornerpush.veloff = 0
air.fall		= 1
id			= 9110
getpower		= 0
givepower		= 70

[State 9110:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, StateNo != 1010)

;---------------------------------------------------------------------------
;Taiyoken: Flash
[Statedef 9120]
type 			= A
movetype		= A
physics		= N
anim			= 9120
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 9120:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9120:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9120:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9120:	AllPalFX]
type			= AllPalFX
trigger1		= 1
time			= 1
add			= 100+(Time*3),100+(Time*3),100+(Time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,1
invertall		= 0
color			= 256

[State 9120:	HitDef]
type			= HitDef
trigger1		= (!MoveContact) && (Parent, P2Dist X < 150)
attr			= S, SP
hitflag		= MAF
guardflag		= MA
animtype		= Low
air.animtype	= DiagUp
priority		= 1, Miss
damage		= 40
pausetime		= 0,12
guard.pausetime	= 0,12
sparkno		= S9101
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S0,8
guardsound		= S0,8
ground.type		= High
air.type		= Trip
ground.slidetime	= 30
ground.hittime	= 30
air.hittime		= 12
ground.velocity	= (IfElse(P2Dist X > 0,-20,20))
guard.velocity	= (IfElse(P2Dist X > 0,-5,5))
air.velocity	= (IfElse(P2Dist X > 0,-12,12)),-4
airguard.velocity	= (IfElse(P2Dist X > 0,-12,12)),-4
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
id			= 9120
guard.kill		= 0
getpower		= 0
givepower		= 40
persistent		= 0

[State 9120:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 30)

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Straight
[Statedef 9130]
type 			= A
movetype		= A
physics		= N
anim			= 9130
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9130:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9130:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= IfElse(Random <= 499,-0.5,0.5)

[State 9130:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9130:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9130: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9130:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9130:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9130:	Helper]
type			= Helper
trigger1		= (!Time)
helpertype		= Normal
name			= "Projectile Tail"
id			= 9140
pos			= 11,0
postype		= p1
facing		= 1
stateno		= 9140
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 9130:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 20,5
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9130:	ChangeState]
type			= ChangeState
triggerall		= (P2Dist X < 75)
trigger1		= (P2Dist Y > 100) || (P2StateType = L) || (P2StateType = C) || ((P2Dist X = [0,10]) && (EnemyNear, Pos Y = 0))
value			= 9131

[State 9130:	ChangeState]
type			= ChangeState
trigger1		= (P2Dist X < 75) && (P2Dist Y < -40)
value			= 9132

[State 9130:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Down
[Statedef 9131]
type 			= A
movetype		= A
physics		= N
anim			= 9131
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9131:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9131:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= 6.666666

[State 9131:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9131:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9131: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9131:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9131:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9131:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= HA
animtype		= Hard
priority		= 7, Hit
damage		= 20,5
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9131:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) || (Pos Y >= 1)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Up
[Statedef 9132]
type 			= A
movetype		= A
physics		= N
anim			= 9132
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9132:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9132:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= -6.666666

[State 9132:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9132:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9132: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9132:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9132:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9132:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 20,5
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,3.5
airguard.velocity	= -8,3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9132:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) || (Pos Y < -1000)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Tail
[Statedef 9140]
type 			= A
movetype		= I
physics		= N
anim			= 9140
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 9140:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9140:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9140:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9140:	VelSet]
type			= VelSet
trigger1		= 1
x			= Parent, Vel X
y			= Parent, Vel Y

[State 9140: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 30
timegap		= 1
framegap 		= 3
length 		= 60
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9140:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, MoveContact) || (Parent, FrontEdgeBodyDist < -10) || (Parent, StateNo != 9130)

;---------------------------------------------------------------------------
;Kienzan: Disc
[Statedef 9150]
type 			= A
movetype		= A
physics		= N
anim			= 9150
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9150:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9150:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9150:	Turn]
type			= Turn
trigger1		= (P2Dist X < 10) && (Time > 15)

[State 9150:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 0

[State 9150:	VarAdd]
type			= VarAdd
trigger1		= (Var(0) = 0) && (MoveHit)
var(0)		= 1
ignorehitpause	= 1
persistent		= 0

[State 9150:	VarAdd]
type			= VarAdd
trigger1		= (Var(0) = [1,30])
var(0)		= 1

[State 9150:	VarAdd]
type			= VarAdd
trigger1		= (Var(0) = 31) && (HitCount = 2)
var(0)		= 1

[State 9150:	VelSet]
type			= VelSet
trigger1		= (Parent, AnimElem = 3) && (Parent, Name = "[Necromancer's] Cell")
x			= 12

[State 9150:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Parent, IsHelper)
x			= (Parent, Vel X)
y			= (Parent, Vel Y*(-1))

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (P2Dist X < 0) && (Vel X > -12) && (Parent, StateNo != 1070)
x			= -0.2

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (P2Dist X > 0) && (Vel X < 12) && (Parent, StateNo != 1070)
x			= 0.2

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (EnemyNear, Pos Y > Pos Y) && (Vel Y < 8) && (Parent, StateNo != 1070)
y			= 0.2

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (EnemyNear, Pos Y <= Pos Y) && (Vel Y > -8) && (Parent, StateNo != 1070)
y			= -0.2

[State 9150:	BGPalFX]
type			= BGPalFX
trigger1		= (Var(0) = 32) || (MoveGuarded)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9150: 	AfterImage]
type 			= AfterImage
trigger1 		= ((GameTime%5) = 0)
time 			= 5
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9150:	Explod]
type			= Explod
trigger1		= (Var(0) = 32) || (MoveGuarded)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9150:	Helper]
type			= Helper
trigger1		= (Root, Command = "Kienzan") && (Root, NumHelper(9150) < 2)
helpertype		= Normal
name			= "Kienzan"
id			= 9150
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 9150
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 1
size.yscale		= 0.75

[State 9150:	HitDef]
type			= HitDef
trigger1		= (Var(0) = 0)
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,10
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S4,4
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -5
guard.velocity	= -5
air.velocity	= -5,-3.5
airguard.velocity	= -5,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9150
getpower		= 0
givepower		= 25
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9150:	HitDef]
type			= HitDef
trigger1		= (Var(0) = 31)
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,10
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -5,-3.5
guard.velocity	= -5
air.velocity	= -5,-3.5
airguard.velocity	= -5,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9150
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9150:	DestroySelf]
type			= DestroySelf
trigger1		= (Var(0) = 32) || (MoveGuarded) || (Time > 300)

;---------------------------------------------------------------------------
;Projectile Smoke
;[Statedef 9160]

;---------------------------------------------------------------------------
;Large Projectile: Straight
[Statedef 9170]
type 			= A
movetype		= A
physics		= N
anim			= 9170
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9170:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9170:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= 0

[State 9170:	VelMul]
type			= VelMul
trigger1		= 1
x			= 1.1

[State 9170:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9170:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9170: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9170:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9170:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9170:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 80,20
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8,-3.5
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9170:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Chou KameHameHa: Projectile
[Statedef 9180]
type 			= A
movetype		= A
physics		= N
anim			= 9180
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9180:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, Var(7) > 600)
flag			= UnGuardable

[State 9180:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9180:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9180:	BGPalFX]
type			= BGPalFX
trigger1		= (Time < 25) && ((GameTime%2) = 0)
time			= 1
add			= (200-Time*3),(200-Time*3),(255-Time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[State 9180:	Explod]
type			= Explod
trigger1		= (MoveContact) && ((GameTime%4) = 0)
anim			= 9010
id			= 9010
pos			= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 30,40
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9180:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9220
id			= 9220
pos			= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9180:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9180:	HitDef]
type			= HitDef
trigger1		= (!MoveContact)
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/3)
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9180
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0

[State 9180:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, StateNo != 3025)

;---------------------------------------------------------------------------
;SuperPause
[Statedef 9190]
type 			= S
movetype		= I
physics		= N
anim			= 9190
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9190:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= GlobalNoShadow
flag2			= NoBarDisplay

[State 9190:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoMusic
flag2			= NoFG

[State 9190:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9190:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9190:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 12,-61

[State 9190: 	AfterImage]
type 			= AfterImage
trigger1		= (!Time)
time 			= 25
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9190:	BGPalFX]
type			= BGPalFX
trigger1		= (!Time)
time			= 50
add			= -100,-100,-100
mul			= 256,256,256
sinadd		= 100,100,100,50
invertall		= 1
color			= 256

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= 0,0
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -20,53
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -10,106
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -10,158
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= 0,210
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;SuperPause: BG
;[Statedef 9191]

;---------------------------------------------------------------------------
;Projectile Charge
;[Statedef 9200]

;---------------------------------------------------------------------------
;Ripple
;[Statedef 9210]

;---------------------------------------------------------------------------
;Big Explosion
;[Statedef 9220]

;---------------------------------------------------------------------------
;Makankosappou: Projectile
[Statedef 9230]
type 			= A
movetype		= A
physics		= N
anim			= 9230
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9230:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9230:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9230:	VelSet]
type			= VelSet
trigger1		= (!Time)
value			= 0.5

[State 9230:	BGPalFX]
type			= BGPalFX
trigger1		= (!Time)
time			= 40
add			= 200,200,200
mul			= 256,256,256
sinadd		= -200,-200,-200,40
invertall		= 0
color			= 256

[State 9230:	Explod]
type			= Explod
trigger1		= (MoveContact) && ((GameTime%4) = 0)
anim			= 9010
id			= 9010
pos			= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 30,40
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9230:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9230:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9030
id			= 9030
pos			= 0,-61
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9230:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9230:	HitDef]
type			= HitDef
trigger1		= (Time < 8)
attr			= S, HP
hitflag		= MAFDP
;guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
;hitsound		= S0,5
;guardsound		= S0,9
ground.type		= Low
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.35
ground.velocity	= -6
guard.velocity	= -6
air.velocity	= -6,-4.5
airguard.velocity	= -6,-4.5
ground.cornerpush.veloff = 0
id			= 9230
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1

[State 9230:	HitDef]
type			= HitDef
trigger1		= (Time = 8)
attr			= S, HP
hitflag		= MAFDP
;guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 80
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
;hitsound		= S0,5
;guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.35
ground.velocity	= -5,-4
guard.velocity	= -5
air.velocity	= -5,-4
airguard.velocity	= -5,-4
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9230
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1

[State 9230:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, StateNo != 3005)

;---------------------------------------------------------------------------
;Makankosappou: Tail
;[Statedef 9240]

;---------------------------------------------------------------------------
;Projectile Charge; Yellow
;[Statedef 9250]

;---------------------------------------------------------------------------
;Large Projectile; Blue: Straight
;[Statedef 9260]

;---------------------------------------------------------------------------
;KameHameHa Force
[Statedef 9270]
type 			= S
movetype		= I
physics		= N
anim			= 9270
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11000:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9270:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= -20,-52

[State 9270:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 9270:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 9270:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 9270:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,5,-5)

[State 9270:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(2)		= (Parent, StateNo)

[State 9270:	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9270:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != Var(2)) || (!AnimTime)

;===========================================================================
;-| Helper |----------------------------------------------------------------

;---------------------------------------------------------------------------
;Artificial Intelligence
[Statedef 11000]
type 			= S
movetype		= I
physics		= N
;anim			= 11000
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11000:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 11000:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 11000:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 11000:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 11000: 	ParentVarSet]
type 			= ParentVarSet
triggerall 		= (Parent, Var(2) != 1)
trigger1 		= ((Parent, Command = "x") && (Command != "x")) || ((Parent, Command = "y") && (Command != "y")) || ((Parent, Command = "z") && (Command != "z"))
trigger2 		= ((Parent, Command = "a") && (Command != "a")) || ((Parent, Command = "b") && (Command != "b")) || ((Parent, Command = "c") && (Command != "c"))
trigger3 		= ((Parent, Command = "holdfwd") && (Command != "holdfwd")) || ((Parent, Command = "holdback") && (Command != "holdback")) 
trigger4 		= ((Parent, Command = "holdup") && (Command != "holdup")) || ((Parent, Command = "holddown") && (Command != "holddown")) 
var(2)		= 1

[State 11000: 	ParentVarSet]
type 			= ParentVarSet
triggerall 		= (Parent, Var(2) != -1)
trigger1 		= ((Parent, Command = "x") && (Command = "x")) || ((Parent, Command = "y") && (Command = "y")) || ((Parent, Command = "z") && (Command = "z"))
trigger2 		= ((Parent, Command = "a") && (Command = "a")) || ((Parent, Command = "b") && (Command = "b")) || ((Parent, Command = "c") && (Command = "c"))
trigger3 		= ((Parent, Command = "holdfwd") && (Command = "holdfwd")) || ((Parent, Command = "holdback") && (Command = "holdback")) 
trigger4 		= ((Parent, Command = "holdup") && (Command = "holdup")) || ((Parent, Command = "holddown") && (Command = "holddown")) 
var(2)		= -1

[State 11000:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, Var(2) = -1)

;---------------------------------------------------------------------------
;WinKO Finish
[Statedef 11010]
type 			= S
movetype		= I
physics		= N
;anim			= 11010
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11010:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 11010:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 11010:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Time < 50) && (Parent, StateNo = [3000,4999])
flag			= NoMusic

[State 11010:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 11010:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 11010:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
value			= S3,2

[State 11010:	Pause]
type			= Pause
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
time			= 12
movetime		= 12

[State 11010:	EnvColor]
type			= EnvColor
trigger1		= (Time < 12) && (Parent, StateNo = [3000,4999])
value			= (Time*4),(Time*4),(Time*4)
time			= 1
under			= 1

[State 11010:	EnvShake]
type			= EnvShake
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
time			= 12
freq			= 120
ampl			= -3
phase			= 90

[State 11010:	AllPalFX]
type			= AllPalFX
trigger1		= (Time < 50)
time			= 1
add			= 0,0,0
mul			= 256,256,256
sinadd		= 0,0,0,1
invertall		= 0
color			= (Time*5)

;===========================================================================
;-| Common |----------------------------------------------------------------

;---------------------------------------------------------------------------
;Stand
[Statedef 0]
type 			= S
movetype		= I
physics		= S
;anim			= 0
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 0:		ChangeAnim]
type 			= ChangeAnim
trigger1 		= ((Anim != 0) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value			= 0

[State 0: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
y 			= 0

[State 0: 		VelSet] 
type 			= VelSet
trigger1 		= (Abs(Vel X) < 2) || (Time = 4)
x 			= 0

;---------------------------------------------------------------------------
;Stand to Crouch
[Statedef 10]
type 			= C
movetype		= I
physics		= C
anim			= 10
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 10: 		VelMul]
type 			= VelMul
trigger1 		= (!Time)
x 			= .75

[State 10: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 11

[State 10:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Crouching
[Statedef 11]
type 			= C
movetype		= I
physics		= C
anim			= 11
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11: 		ChangeAnim] 
type 			= ChangeAnim
trigger1 		= (Anim = 6) && (!AnimTime)
value 		= 11

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (RoundState != 2)
value			= 0

;---------------------------------------------------------------------------
;Crouch to Stand
[Statedef 12]
type 			= S
movetype		= I
physics		= S
anim			= 12
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 12: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

[State 12:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Walk
[Statedef 20]
type 			= S
movetype		= I
physics		= S
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdfwd")
x 			= Const(Velocity.Walk.Fwd.X)

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdback")
x 			= Const(Velocity.Walk.Back.X)

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X > 0)
trigger1 		= ((Anim != 20) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 20

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X < 0)
trigger1 		= ((Anim != 21) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 21

[State 20:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Jump Start
[Statedef 40]
type 			= S
movetype		= I
physics		= S
anim			= 40
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (EnemyNear, Facing = Facing)
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback") && (Var(20) != 1)
sysvar(1) 		= -1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(0) 		= 0

[State 40: 		VarSet]
type 			= VarSet
triggerall		= (Var(0) = 0)
trigger1		= ((PrevStateNo = [100,101]) && (Command = "holdfwd")) || ((PrevStateNo = [105,106]) && (Command = "holdback")) || (Command = "Long Jump")
var(0) 		= 1

[State 40: 		MakeDust]
type 			= MakeDust
trigger1 		= (!AnimTime)
pos 			= -5, 0
spacing 		= 4

[State 40:		PlaySnd]
type			= PlaySnd
trigger1		= (!AnimTime)
value			= S1,6

[State 40:		VelSet]
type			= VelSet
trigger1		= (Pos Y < 0)
x			= 0
y			= 0

[State 40: 		VelSet]
type 			= VelSet
trigger1 		= (!AnimTime)
x 			= IfElse(SysVar(1) = 0,Const(Velocity.Jump.Neu.X),IfElse(SysVar(1) = 1,Const(Velocity.Jump.Fwd.X),Const(Velocity.Jump.Back.X)))
y 			= Const(Velocity.Jump.Y)

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) && (Command != "holdup")
value 		= 7000
ctrl 			= 1

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;AirJump Start
[Statedef 45]
type 			= A
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(44))
value 		= 44

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!SelfAnimExist(44))
value 		= 41

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback")
sysvar(1) 		= -1

[State 45: 		VelSet]
type 			= VelSet
trigger1 		= (Time = 2)
x 			= IfElse(SysVar(1) = 0, Const(Velocity.AirJump.Neu.X), IfElse(SysVar(1) = 1, Const(Velocity.AirJump.Fwd.X), Const(Velocity.AirJump.Back.X)))
y 			= Const(Velocity.AirJump.Y)

[State 45: 		ChangeState]
type 			= ChangeState
trigger1 		= (Time = 2)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;Jump Up
[Statedef 50]
type 			= A
movetype		= I
physics		= A
;anim			= 50
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= IfElse((Vel X) = 0,41,IfElse((Vel X) > 0,42,43))

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (SelfAnimExist(Anim + 3))
value 		= (Anim + 3)
persistent 		= 0

[State 50: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 50: 		VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0) = 1)
x 			= IfElse((Vel X) = 0,0,IfElse((Vel X) < 0,-5,6.7))

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (!Time) && (Var(0) = 1)
y			= -0.30

[State 50: 		AfterImage]
type 			= AfterImage
trigger1 		= (!Time) && (Var(0) = 1) && (Vel X != 0)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

;---------------------------------------------------------------------------
;Jump Land
[Statedef 52]
type 			= S
movetype		= I
physics		= S
anim			= 47
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 52:		CtrlSet]
type			= CtrlSet
trigger1		= (Time = 2)
value			= 1

[State 52: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
x			= 0
y 			= 0

[State 52: 		PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 52:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,6

[State 52: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Run_Fwd
[Statedef 100]
type 			= S
movetype		= I
physics		= N
anim			= 100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoWalk
flag2			= NoAutoTurn

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoStandGuard
flag2			= NoCrouchGuard

[State 100:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 100:		CtrlSet]
type			= CtrlSet
trigger1		= 1
value			= (IfElse(BackEdgeBodyDist > -5,1,0))

[State 100:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 0

[State 100: 	VelSet]
type 			= VelSet
trigger1 		= (Time > 6)
x 			= Const(Velocity.Run.Fwd.X)
y			= 0

[State 100:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) && (BackEdgeBodyDist <= -1)
value			= S0,2

[State 100: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 100: 	AfterImage]
type 			= AfterImage
trigger1 		= (Time = 6)
time 			= 15
timegap		= 2
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 100:		ChangeState]
type			= ChangeState
trigger1		= (Command != "holdfwd") && (AnimElem = 2, > 5) && (BackEdgeBodyDist > -1)
value			= 101

;---------------------------------------------------------------------------
;Run_Fwd - Stop
[Statedef 101]
type 			= S
movetype		= I
physics		= N
anim			= 101
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 101:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 101:		VelSet]
type			= VelSet
trigger1		= 1
x			= 1
y			= 0

[State 101: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 101: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Run_Back
[Statedef 105]
type 			= S
movetype		= I
physics		= N
anim			= 105
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 105: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 105:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 0

[State 105: 	VelSet]
type 			= VelSet
trigger1 		= (Time > 6)
x 			= Const(Velocity.Run.Back.X)
y			= 0

[State 105: 	AfterImage]
type 			= AfterImage
trigger1 		= (Time = 6)
time 			= 15
timegap		= 2
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 105:		ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 2, > 9)
value			= 106

;---------------------------------------------------------------------------
;Run_Back - Stop
[Statedef 106]
type 			= S
movetype		= I
physics		= N
anim			= 106
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 106: 	VelSet]
type 			= VelSet
trigger1 		= 1
x 			= -1
y			= 0

[State 106: 	MakeDust]
type 			= MakeDust
trigger1 		= Time = 2
pos 			= -5,-2
spacing 		= 4

[State 106: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
;Run_Up
[Statedef 110]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 110: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 110: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, NT, ST, HT
time 			= 30

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= -7

[State 110: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 110: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Run_Down
[Statedef 115]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 115: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 115: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, AT
time 			= 30

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= 7

[State 115: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 115: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Guard Start
[Statedef 120]
type 			= U 
physics 		= U

[State 120: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 120 + (StateType = C) + (StateType = A)*2

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

[State 120: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 130 + (StateType = C) + (StateType = A)*2

;---------------------------------------------------------------------------
;Stand Guard (Guarding)
[Statedef 130]
type 			= S
physics		= S

[State 130:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 130: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 130)
value 		= 130

[State 130:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

;---------------------------------------------------------------------------
;Crouch Guard (Guarding)
[Statedef 131]
type 			= C
physics		= C

[State 131:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 131: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 131)
value 		= 131

[State 131:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

;---------------------------------------------------------------------------
;Air Guard (Guarding)
[Statedef 132]
type 			= A
physics		= N

[State 132: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 132: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 132: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 132: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command != "holdback")
value 		= 52

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Guard End
[Statedef 140]
type 			= U
physics 		= U
ctrl 			= 1

[State 140: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 140 + (StateType = C) + (StateType = A)*2

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

;---------------------------------------------------------------------------
;Stand GuardHit (Shaking)
[Statedef 150]
type 			= S
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 150: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 150

[State 150: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 151

[State 150: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 3

;---------------------------------------------------------------------------
;Stand GuardHit (Knocked Back)
[Statedef 151]
type 			= S
movetype		= H
physics		= S
anim			= 150
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 151: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 151: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 151: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(ctrltime))
value 		= 1

[State 151: 	ChangeState]
type 			= ChangeState
trigger1 		= Time >= GetHitVar(hittime)
value 		= 130
ctrl 			= 1

;---------------------------------------------------------------------------
;Crouch GuardHit (Shaking)
[Statedef 152]
type 			= C
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 152: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 151

[State 152: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 153

[State 152: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Crouch GuardHit2 (Knocked Back)
[Statedef 153]
type 			= C
movetype		= H
physics		= C
anim			= 151
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 153: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 153: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 153: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 153: 	ChangeState]
type 			= ChangeState
trigger1 		= (Time >= GetHitVar(HitTime))
value 		= 131
ctrl 			= 1

;---------------------------------------------------------------------------
;Air GuardHit (Shaking)
[Statedef 154]
type 			= A
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 154: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 152

[State 154: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 155 

[State 154: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Air GuardHit2 (Knocked Away)
[Statedef 155]
type 			= A
movetype		= H
physics		= N
anim			= 152
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 155: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 155: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 155: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 155: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 155: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
trigger1 		= Command != "holdback"
value 		= 52

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Air Guard (Guarding)
;Used, to prevent an error message flow I could not fix any other way... =|
[Statedef 51]
type 			= A
physics		= N

[State 51: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 51: 		VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= 0.45

[State 51: 		VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 51: 		VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 51: 		PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 51: 		ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command != "holdback")
value 		= 52

[State 51: 		ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Lose (Time Over)
[Statedef 170]
type 			= S
movetype		= I
physics		= N
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 170: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Draw Game (Time Over)
[Statedef 175]
type 			= S
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 175: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (!SelfAnimExist(175))
value 		= 170

[State 175: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 175

[State 175: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;HitGround_Shake
[Statedef 5000]
type 			= S
movetype		= H
physics		= N
;anim			= 5000
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= IfElse((GetHitVar(GroundType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType))) && (GetHitVar(HitCount) >= 2)
value 		= 5047 + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Time > 0)
value 		= Anim

[State 5000: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (GetHitVar(YVel) != 0) && (GetHitVar(Fall)) || (Pos Y != 0)
type 			= A

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(YVel) = 0)
value 		= 5001

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5000) || (Anim = 5010)
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5001) || (Anim = 5011)
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030)
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    		= S
movetype		= H
physics 		= S

[State 5001:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
physics		= N

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y >= 0)
x 			= 1

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y < 0)
x 			= 1
y			= 1

[State 5001: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(slidetime)) && (Pos Y >= 0)
x 			= .6

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y >= 0)
x 			= 0

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y < 0)
x 			= 0
y			= 0

[State 5001: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= HitOver
value 		= 1

[State 5001: 	ChangeState]
type 			= ChangeState
trigger1 		= HitOver
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    		= C
movetype		= H
physics 		= N
velset 		= 0,0

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= 5020 + GetHitVar(AnimType)

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && ((GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype))))
value 		= 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= Time > 0
value 		= Anim

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(yvel) = 0)
value 		= 5011

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5010: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= Anim = 5020
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5010: 	FFB Medium]
type 			= ForceFeedback
trigger1 		= Anim = 5021
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5010: 	FFB Hard]
type 			= ForceFeedback
trigger1 		= Anim = 5022
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    		= C
movetype		= H
physics 		= C

[State 5011: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 5011: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5025 + GetHitVar(AnimType)

[State 5011: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(SlideTime))
x 			= .6

[State 5011: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver)
x 			= 0

[State 5011: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= (HitOver)
value 		= 1

[State 5011: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitOver)
value 		= 11
ctrl 			= 1

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = !Time
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = !Time
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = !Time
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = Anim = 5000 || (Anim = 5010)
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = Anim = 5001 || (Anim = 5011)
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012 || (Anim = 5002) || (Anim = 5030) || (Anim = [5051,5059])
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    	= A
movetype	= H
physics 	= N
ctrl 		= 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = !Time
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value = 5040

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value = 5050

[State 5030, 5]
type = ChangeState
trigger1 = (!AnimTime)
value = 5035

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = !Time && SelfAnimExist(5035) && (Anim != [5051,5059]) && Anim != 5090
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = (!HitFall) || (HitFall)
trigger1 = (HitOver) || (!AnimTime) || ((Vel Y > 0) && (Pos Y >= 10)) || ((!Time) && (Anim != 5035))
value = IfElse(!HitFall,5040,5050)

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = (!AnimTime)
trigger1 = Anim != 5040
trigger2 = !Time
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = 0.48

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    		= A
movetype		= H
physics		= N

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 5035)
trigger2		= (!Time) && (Anim != 5035) && (Anim != [5051, 5059]) && (Anim != [5061, 5069]) && (Anim != 5090)
value			= 5050

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = [5050,5059]) && (Vel Y >= IfElse(Anim = 5050,1,-2)) && (SelfAnimExist(Anim+10))
value			= (Anim+10)
persistent		= 0

[State 5050:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(yaccel)

[State 5050:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= -20) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5200

[State 5050:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > -1) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5210

[State 5050:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= IfElse((Anim = [5051,5059]) || (Anim = [5061,5069]), 0, 25))
value			= 5100

;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 5070]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
trigger1 		= (PrevStateNo != 100) || (Vel X < 5)
value 		= 5070

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5071

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (!SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5070

[State 5070:	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= 5071

[State 5070:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
time			= 12
waveform		= sinesquare
ampl			= 140

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    		= A
movetype		= H
physics 		= N

[State 5071: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 5071:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= GetHitVar(yaccel)

[State 5071:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= -20) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5200

[State 5071:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > -1) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5210

[State 5071: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 15)
value 		= 5110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = !Time
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = !Time
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = !Time
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;HITL_SLIDE

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;HITA_UP

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = !Time
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = !Time
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;HIT_LIEDOWN

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type			= L
movetype		= H
physics		= N

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0) && (Vel X > 1)
x			= 1

[State 5100:	EnvShake]
type			= FallEnvShake
trigger1		= (!Time)

[State 5100:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(1)		= Floor(Vel Y)

[State 5100:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= (Anim != [5051,5059]) && (Anim != [5061,5069])
trigger2		= (!SelfAnimExist(5100 + (anim % 10)))
value			= 5100

[State 5100:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5051,5059]) || (Anim = [5061,5069])) && (SelfAnimExist(5100 + (Anim%10)))
value			= 5100 + (Anim%10)

[State 5100:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelMul]
type			= VelMul
trigger1		= (!Time)
x			= 0.75

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Random < 125) && (Time = 1)
value 		= S0,7

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Random = [126,250]) && (Time = 1)
value 		= S3,8

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Time = 1)
value 		= S0,6

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0)
value			= 5110

[State 5100:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (Time = 1)
value			= 60 + (SysVar(1) > 5) + (SysVar(1) > 14)
pos			= 0, 0
under			= SysVar(1) <= 10

[State 5100:	HitFallDamage]
type			= HitFallDamage
trigger1		= (Time = 3)

[State 5100:	PosFreeze]
type			= PosFreeze
trigger1		= 1

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 5101

[State 5100:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
waveform		= sinesquare
ampl			= 128,-3,-.2,.005
time			= 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = !Time
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = !Time
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = !Time

[State 5101, 4]
type = PosSet
trigger1 = !Time
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = !Time

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = !Time
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = !Time
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = !Time

[State 5110, 5]
type = PosSet
trigger1 = !Time
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = !Time
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 7]
type = GameMakeAnim
trigger1 = !Time
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5110, 8]
type = VelSet
trigger1 = !Time
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = !Time
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time) && (!SysVar(0))
value 		= S0,6

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = !Time
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = !Time
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = !Time
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = !Time
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = !Time
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 5120, 4]
type = HitFallSet
trigger1 = (!AnimTime)
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = (!AnimTime)
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = (!AnimTime)
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = (!AnimTime)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = (!Time) && (SelfAnimExist(5140))
trigger1 = ((Anim != [5111,5119]) && (Anim != [5171,5179])) || (!SelfAnimExist(5140 + (Anim % 10)))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = (!Time) && ((Anim = [5111,5119]) || (Anim = [5171,5179])) && (SelfAnimExist(5140 + (Anim % 10)))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
trigger1 = (MatchOver = 1) && (Anim = [5140,5149]) && (SelfAnimExist(Anim+10))
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = (!Time) && (Anim != [5140,5159]) && (Anim != [5110,5119])
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel X < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type			= A
movetype		= H
physics 		= N

[State 5200:	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim = 5035) && (!AnimTime)
value 		= 5050

[State 5200:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= GetHitVar(yaccel)

[State 5200:	SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= 10)
value 		= 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201: 	Turn]
type 			= Turn
trigger1 		= (!Time) && (P2Dist X < -5)

[State 5201: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= -.15
y 			= -3.5

[State 5201: 	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 5201: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 5201: 	PalFX]
type 			= PalFX
trigger1 		= (!Time)
time 			= 5
add 			= 128,128,128

[State 5201:	Explod]
type			= Explod
trigger1 		= (Time = 1)
anim			= F60
id			= 60
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1]
type = PalFX
trigger1 = !Time
time = 5
add = 128,128,128

[State 5210, 1]
type = PosFreeze
trigger1 = !Time
value = 4

[State 5210, 2]
type = Turn
trigger1 = !Time
trigger1 = p2dist X < -20

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -8

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = !Time
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = .35

[State 5210: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 0)
value 		= 52
ctrl 			= 1

;---------------------------------------------------------------------------
;Dizzy State
[Statedef 5300]
type 			= S
movetype		= I
physics 		= S
anim 			= 5300
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5300: 	SelfState]
type 			= SelfState
trigger1 		= (Time > 200)
value 		= 0
ctrl 			= 1

[State 5300:	PlaySnd]
type			= PlaySnd
trigger1		= (Random < 250) && (AnimElem = 2)
value			= S0,7

;---------------------------------------------------------------------------
;Continue?
[Statedef 5500]
type 			= S
anim 			= 5300
velset 		= 0,0
ctrl 			= 0

[State 5500: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (SelfAnimExist(5500))
value 		= 5500

;---------------------------------------------------------------------------
;Initialize
[Statedef 5900]
type 			= S
;anim			= 5900

[State 5900:	AssertSpecial]
type			= AssertSpecial
trigger1		= (RoundNo = 1)
flag			= Invisible

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (RoundNo = 1) && (Time = 1)
value 		= 190

;===========================================================================
;-| Effects |---------------------------------------------------------------

;---------------------------------------------------------------------------

;===========================================================================
;-| Constants |-------------------------------------------------------------

[Statedef -2]

;---------------------------------------------------------------------------
;Artificial Intelligence

[State -2:		Helper]
type			= Helper
trigger1 		= (NumHelper(11000) = 0) && (Var(2) = 0)
helpertype		= Normal
name			= "Artificial Intelligence"
id			= 11000
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11000
keyctrl		= 1
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State -2:		VarSet]
type			= VarSet
trigger1		= (NumHelper(11000) = 0) && (Var(2) > 0)
var(2)		= -1

[State -2:		VarSet]
type			= VarSet
trigger1		= (Var(2) = 1)
var(2)		= 2

[State -2:		VarSet]
type			= VarSet
trigger1		= (Var(2) != 0) && (RoundState != 2)
var(2)		= 0

[State -2:		ChangeState]
type			= ChangeState
trigger1		= (RoundState = 3) && (StateType != A) && (Ctrl)
value			= 0

;---------------------------------------------------------------------------
;WinKO Finish

[State -2:		Helper]
type			= Helper
trigger1		= (WinKO) && (NumHelper(11010) = 0)
helpertype		= Normal
name			= "WinKO"
id			= 11010
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 11010
keyctrl		= 0
ownpal		= 1
supermovetime	= 1000
pausemovetime	= 1000
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Combo Detection

[State -2:		VarSet]
type			= VarSet
trigger1		= 1
v			= 3
value			= 0
ignorehitpause	= 1

[State -2:		VarSet]
type			= VarSet
triggerall		= (MoveContact)
trigger1		= ((StateNo = 200) && (AnimElem = 2, < 5)) || ((StateNo = 210) && (AnimElem = 2, < 5)) || ((StateNo = 220) && (AnimElem = 2, < 5)) || ((StateNo = 230) && (AnimElem = 3, < 5))
trigger2		= ((StateNo = 400) && (AnimElem = 2, < 5)) || ((StateNo = 410) && (AnimElem = 2, < 5)) || ((StateNo = 420) && (AnimElem = 2, < 5))
v			= 3
value			= 1
ignorehitpause	= 1

[State -2:		VarSet]
type			= VarSet
trigger1		= ((HitDefAttr = S, SA) && (MoveContact)) || ((StateNo = 1000) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15)) || ((StateNo = 1010) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15))
trigger2		= ((StateNo = 1050) && (AnimElem = 3, > 0) && (AnimElem = 3, < 15)) || ((StateNo = 1060) && (AnimElem = 2, > 0) && (AnimElem = 7, < 5))
trigger3		= ((StateNo = 1070) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15)) || ((StateNo = 1080) && (AnimElem = 2, > 0) && (AnimElem = 2, < 15))
v			= 3
value			= 2
ignorehitpause	= 1

;---------------------------------------------------------------------------
;PowerAdd

[State -2:		PowerAdd]
type			= PowerAdd
trigger1		= (RoundState = 2) && ((GameTime%4) = 0) && (MoveType != H)
value			= 1

;---------------------------------------------------------------------------
;Corner Juggle Limit

[State -2:		AssertSpecial]
type			= AssertSpecial
trigger1		= Var(10) = 0
flag			= NoJuggleCheck

[State -2:		VarSet]
type			= VarSet
trigger1		= 1
v			= 10
value			= IfElse((EnemyNear, BackEdgeBodyDist < 20) || (EnemyNear, FrontEdgeBodyDist < 20),1,0)

;===========================================================================
;-| Artificial Intelligence |-----------------------------------------------

;[Statedef -3]
