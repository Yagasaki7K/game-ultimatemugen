;===========================================================
;CNS for K'
;===========================================================
;
; Var(0)  - 1,facing right(1P)  2,facing left(2P) detect in beginning
; Var(1)  - Winning random selections, Temporarily vars (crawbite A hit)
; Var(2)  - Command changing vars
; Var(3)  - Flaming effect vars
; Var(4)  - Slow motion ON!
; Var(5)  - Slow motion details
; Var(6)  - Counter Mode vars
; Var(7)  - Armor Mode vars
; Var(8)  - Kof Jumping system
; Var(9)* - Extension System
; Var(11) - 2nd shell juggle var -> testing 
; Var(12) - eine trigger, 2nd shot/shell juggle
; Var(13) - enemy falling juggle -> new and testing
; Var(35) - KOF counter hit variable
; Var(57) - AI combo trigger vars
; Var(50) - Var(58) - AI memory control Vars
; Var(59) - main AI trigger Vars
; Var(40Å`) - vs intro Vars

;
;===========================================================

[Data]
life = 1000
attack = 100
defence = 100
power = 5000
fall.defence_up = 50
liedown.time = 38
airjuggle = 10
sparkno = s8035
guard.sparkno = s80350
KO.echo = 0
volume = 255
IntPersistIndex = (40,43),55

[Size]
xscale = 1
yscale = 1
ground.back = 16
ground.front = 16
stand.height = 70
head.pos = -5,-90
mid.pos = -10,-60
air.back = 15
air.front = 15
z.width = 3
attack.width = 0
attack.dist = 160
proj.attack.dist = 90

[Velocity]
walk.fwd  = 3
walk.back = -3
run.fwd  = 6, 0
jump.neu = 0,-10
jump.back = -3
jump.fwd = 3
runjump.fwd= 4.6,-8

[Movement]
airjump.num=0
airjump.height=35
yaccel=0.583
crouch.friction=0.82
stand.friction=0.85


;=================================================================
; 99 jumping system
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0

[State 40, turn]
type = turn
trigger1 = time = 0 && P2dist X < 0

[State 40, Disable AI jump]
type = ChangeState
trigger1 = Var(58)
trigger1 = time = 0
trigger1 = Pos Y = 0
value = 105 + (BackEdgeDist < 50)*9939; hop back
ctrl = 1

[State 40, AI jump]
type = VarSet
trigger1 = stateno = 40
trigger1 = var(59)
trigger1 = p2bodydist x <= 55
trigger1 = p2bodydist x >= 10
trigger1 = var(8) != 2
var(8) = 1

[State 40, AI jump]
type = VarSet
trigger1 = stateno = 40
trigger1 = var(59)
trigger1 = p2bodydist x <= 10
trigger1 = var(8) != 2
var(8) = 0

[State 40, AI long jump]
type = VarSet
triggerall = stateno = 40
trigger1 = var(59)
trigger1 = p2bodydist x > 55
trigger2 = PrevStateNo = 100
var(8) = 2

[State 40, 0]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 40, 1]
type = VarSet
triggerall = !var(59)
trigger1 = command = "holdfwd"
trigger1 = var(8) != 2
var(8) = 1

[State 40, 2]
type = VarSet
triggerall = !var(59)
trigger1 = command = "holdback"
trigger1 = var(8) != -2
var(8) = -1

[State 40, 3]
type = VarSet
triggerall = !var(59)
triggerall = Time = 0
triggerall = command = "holdfwd"
trigger1 = command = "longjump"
trigger2 = prevstateno = 100 ;RUN_FWD
var(8) = 2

[State 40, 3]
type = VarSet
triggerall = var(59) = 1
triggerall = prevstateno = 2999
trigger1 = time = 0
var(8) = 2

[State 40, 4]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = command = "holdback"
trigger1 = command = "longjump"
var(8) = -2

[State 40, 5]
type = Afterimage
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
time = 15
length = 6
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1,1,1
FrameGap = 4
Trans = Add1

[State 40, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(8) != 0
trigger1 = var(8) != 1
trigger1 = var(8) != -1
trigger1 = command = "holdup"
trigger2 = command != "holdup"
value = 2041

[State 40, 7]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(var(8)=0, const(velocity.jump.neu.x), ifelse(var(8)>0, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 8]
type = ChangeState
triggerall = !var(59)
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 40, 8]
type = ChangeState
triggerall = var(59) = 1
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;---------------------------------------------------------------------------
; JUMP_UP (short)
[Statedef 2041]
type    = A
physics = A
velset = 0, -8
ctrl = 1

[State 2041, AI anim]
type = ChangeAnim
triggerall = var(59)
trigger1 = Time = 0
trigger1 = Vel X = 0
value = 2041

[State 2041, AI anim]
type = ChangeAnim
triggerall = var(59)
trigger1 = Time = 0
trigger1 = Vel X >  0
value = 2042

;[State 2041, 1] ; Play sound when jumping (normal)
;type = PlaySnd
;trigger1 = Time = 0
;trigger1 = var(8) != -2
;trigger1 = var(8) != 2
;value = 40,0

[State 2041, 2] ; Play sound when jumping (long)
type = PlaySnd
triggerall = Time = 0
trigger1 = var(8) = -2
trigger2 = var(8) = 2
value = 2041,0

[State 50]
Type = Afterimage
TriggerAll = Time = 1
Trigger1 = var(8) = -2
Trigger2 = var(8) = 2
time = 37
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 5] ;Holding up?
type = VelSet
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = command = "holdup"
y = -10

[State 2041, 6]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 1
x = 3.4

[State 2041, 7]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 2
x = 4.725

[State 2041, 8]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -1
x = -3.4

[State 2041, 9]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -2
x = -4.725

[State 2041, 10]
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command = "holdup"
value = 41

[State 2041, 11] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command != "holdup"
value = 2041

[State 2041, 12]
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
value = 42

[State 2041, 13] ;Short
type = ChangeAnim
triggerall = !var(59)
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command != "holdup"
value = 2042

[State 2041, 3.1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X < 0
value = 43

;---------------------------------------------------------------------------
; Jump Up for gravity
[Statedef 50]
type    = A
physics = A

[State 50]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = var(2) = 2
x = 4.725

[State 50]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = var(2) = -2
x = -4.725

[State 50]
Type = VarSet
Trigger1 = Time = 0
sysvar(1) = 0

[State 50]
Type = ChangeAnim
Trigger1 = Time = 0
value =  ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50]
Type = ChangeAnim
Trigger1 = Vel y > -2
Trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = p2bodydist x <= 10
triggerall = p2bodydist Y >= -80
triggerall = p2statetype = A
trigger1 = time >= 0
value = 1307

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = p2bodydist x <= 30
triggerall = p2bodydist Y <= 70
triggerall = p2statetype != A
trigger1 = time >= 10
value = 630

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = var(8) = 2
triggerall = p2bodydist x <= 30
triggerall = p2bodydist Y <= -60
triggerall = p2statetype = A
trigger1 = time >= 10
value = 630

;--------------
; Jump Landing
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 1]
type = Playsnd
trigger1 = Time = 0
value = 47,0

[State 52, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 3]
type = changestate
trigger1 = time = 1 && command = "holdup"
value = 40
ctrl = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

; 100 running
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, AI run]
type = ChangeState
trigger1 = var(59)
trigger1 = PrevStateNo != 10044 && PrevStateNo != 100
value = 10044 ; AI temp run state

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100,3]
type = playsnd
trigger1 = time = 0
trigger1 = !var(59) ; prevent double run sound for AI
value = 100,0
channel = 4
loop = 1

[State 100, 4]
type = StopSnd
trigger1 = (command != "holdfwd") && (time >= 12)
channel = 4

[State 100, 3]
type = ChangeState
trigger1 = (command != "holdfwd") && (time >= 12)
value = 101
ctrl = 0

[Statedef 2044]
type    = S
physics = S
sprpriority = 0

;fwd
[State 2044, 1]
type = VelSet
trigger1 = Var(59)
trigger1 = P2BodyDist X >= 38
trigger1 = FrontEdgeDist >=50
x = const(velocity.walk.fwd.x)

;bak
[State 2044, 2]
type = VelSet
triggerall = Var(59)
trigger1 = P2BodyDist X < 20
trigger1 = BackEdgeDist >= 45
;trigger2 = P2BodyDist X < 28 && P2Statetype = L
x = const(velocity.walk.back.x)

[State 2044, 3]
type = ChangeAnim
triggerall = vel x > 0
triggerall = var(59) = 1
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 2044, 4]
type = ChangeAnim
triggerall = vel x < 0
triggerall = var(59) = 1
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

; go back to neutral state
[State 2044, Ai end walk]
type = ChangeState
triggerall = Var(59)
triggerall = stateno != 0
trigger1 = P2BodyDist X > 235
trigger1 = P2BodyDist X < 15
trigger2 = P2MoveType = A
trigger2 = Vel X <= 0
trigger3 = RoundState = 3
trigger4 = Vel X = 0
trigger4 = Anim != 0
value = 0

;---------------------------------------------------------------------------

; 10044 AI run state
; can only access if var(59) is activated
[Statedef 10044]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 10044, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 10044, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 10044,3]
type = playsnd
trigger1 = time = 0
value = 100,0
channel = 4
loop = 1

[State 100, 4]
type = StopSnd
trigger1 = (p2bodydist X <= 85) && (time >= 12)
channel = 4

[State 10044, 3]
type = ChangeState
triggerall = p2stateno != 1042
trigger1 = (p2bodydist X <= 85) && (time >= 12)
value = 101 ; run friction
ctrl = 0

[State 10044, 3]
type = ChangeState
triggerall = p2stateno = 1042
trigger1 = (p2bodydist X <= 80) && (time >= 12) && (p2bodydist Y > -90)
value = 1503 ; run friction
ctrl = 0

;---------------------------------------------------------------------------
;  101 slide
[Statedef 101]
type = S
physics = S
anim = 101

[State 101, 1]
type = VelSet
trigger1 = Time = 0
x = 2

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; hopback - start
[Statedef 105]
type = S
movetype = I
physics = S
anim = 105
velset = 0
ctrl = 0

[State 105, 1]
type = PlaySnd
trigger1 = Time = 2
value = 105,0

[State 105, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 106

; hopback in air
[Statedef 106]
type = A
movetype = I
physics = N
anim = 106
velset = -6,-2.4

[State 106, 2]
type = VelAdd
trigger1 = Time > 0
y = 0.4

[State 106, 3]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 107

; hopback landing
[Statedef 107]
type = S
movetype = I
physics = S
anim = 107
velset = 0,0

[State 107, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 107, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------
; dodge forward 110
[Statedef 110]
type    = S
movetype= I
physics = S
velset = 0,0,0
ctrl = 0
anim = 10000
sprpriority = -1

[State 700, 2]
type = AfterImage
Trigger1 = Time = 0
time = 22
palcontrast = 130,130,130
paladd = 0,0,0
palmul = 1,1,1
length = 10
framegap = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1700,2
volume = 255


[State 700, 3]
type = HitBy
Trigger1 = AnimElem = 7, <= 0
value = SC, NT, ST, HT

[State 700, 4]
type = NotHitBy
Trigger1 = Animelem = 7,<= 0
value =  SCA

[State 700, 5]
type = VelSet
Trigger1 = AnimElemTime(2) >= 0
x = 5.2

[State 700, 6]
type = VelSet
Trigger1 = AnimElem = 7, >= 0
x = 0

[State 700, 7]
type = PlayerPush
Trigger1 = AnimElemTime(2) > 0
value = 0

[State 700, 8]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------
; 111 dodge forward attack
[Statedef 111]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0
ctrl = 0
anim = 351

[State 111, 1]
type = PlaySnd
trigger1 = Time = 1
value = 400,0

[State 111, 1]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 111, 1]
type = VelSet
trigger1 = Time >= 0
x = 0

[State 111, 2]
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 10

[State 111, 3]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage    = 50
guardflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -20,-60
hitsound   = S220,0
guardsound = S150,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -6
air.animtype = Back
air.velocity = -3,-4

[State 111, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;--------------------------------------------------------
; 112 dodge forward during guard
[Statedef 112]
type    = S
movetype= I
physics = N
velset = 0,0,0
ctrl = 0
anim = 352
power = -1000

[State 112, 4]
type = Explod
trigger1 = time = 0
anim = 820
pos = 30,-90
sprpriority = 2
bindtime = 1
ownpal = 1

[State 112, 3] ;Flash
type = EnvColor
Trigger1 = Time = 0
value = 240,240,240
under = 1
time = 3

[State 112, 1]
type = PlaySnd
trigger1 = Time = 0
value = 400,0

[State 112, afterimage]
type = AfterImage
trigger1 = time = 17
time = 16
Trans = Add1
length = 14

[State 112, Vel X]
type = VelSet
trigger1 = animelemtime(4) >= 1
trigger1 = animelemtime(7) <= 1
x = 6

[State 112, Vel X]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 112, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 112, 4]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 112, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;--------------------------------------------------------
; 113 dodge backward during guard
[Statedef 113]
type    = S
movetype= I
physics = N
velset = 0,0,0
ctrl = 0
anim = 353
poweradd = -1000

[State 113, 4]
type = Explod
trigger1 = time = 0
anim = 820
pos = 30,-90
sprpriority = 2
bindtime = 1
ownpal = 1

[State 113, 3] ;Flash
type = EnvColor
Trigger1 = Time = 0
value = 240,240,240
under = 1
time = 3

[State 113, 1]
type = PlaySnd
trigger1 = Time = 0
value = 400,0

[State 113, afterimage]
type = AfterImage
trigger1 = time = 10
time = 16
Trans = Add1
length = 14

[State 113, Vel Y]
type = VelSet
trigger1 = animelemtime(4) >= 1
trigger1 = animelemtime(7) <= 5
x = -6

[State 112, Vel X]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 113, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 113, 4]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 113, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;å„ï˚ãŸã}âÒî
[Statedef 355]
type    = S
movetype= I
physics = N
velset = 0,0,0
ctrl = 0
anim = 10001

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 1700,3
volume = 255

[State 710, 2]
type = AfterImage
Trigger1 = Time = 0
time = 24
palcontrast = 130,130,130
paladd = 0,0,0
palmul = 1,1,1
length = 10
framegap = 3

[State 710, 3]
type = NotHitBy
Trigger1 = Animelem = 6,<= 0
value =  SCA

[State 710, 4]
type = HitBy
Trigger1 = AnimElem = 6, <= 0
value = SC, NT, ST, HT

[State 710, 5]
type = VelSet
Trigger1 = AnimElemTime(2) > 0
x = -5.4

[State 710, 6]
type = VelSet
Trigger1 = AnimElem = 7, >= 0
x = 0

[State 710, 8]
type = PlayerPush
Trigger1 = AnimElemTime(2) > 0
value = 0

[State 710, 9]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; overwrite common state 120, KOF pre-guard state
; GUARD (start) 
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = statetype = S
value = 130

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = statetype = C
value = 131

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = statetype = A
value = 132

;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 120, 5]
type = ChangeAnim
triggerall = Anim != 135
triggerall = time >= 0
trigger1 = P2stateno != [400,410]
trigger1 = P2stateno = (210,999) 
trigger1 = P2dist X < 35
trigger2 = p2stateno >= 1000
value = 135 ; hard guard

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
trigger1 = Anim != 135
value = 130

[State 1000]
type =changestate
triggerall = life < 1
trigger1 = time = 0
value = 5950
ctrl = 0
ignorehitpause = 1

[state 1000]
type = nothitby
trigger1 = life < 1
trigger1 = time >= 0
value = SCA
ignorehitpause = 1

;------------------------------------------------------------------
; Time over
[Statedef 170]
type = S
anim = 170

[State 170, 1]
type = AssertSpecial
trigger1 = Time = [0,110]
flag = RoundNotOver

;---------------
; winning pose
[Statedef 180]
type = S

[state 184]
type = changestate
trigger1 = var(1) = 4
value = 184

[state 184]
type = changestate
trigger1 = var(41) = 1
value = 183

[state 184]
type = changestate
trigger1 = var(42) = 1
value = 183

[state 184]
type = changestate
trigger1 = time = 1
trigger1 = var(1) = 3
value = 185

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,4

[State 180, 2] ;Choose win1
type = VarSet
trigger1 = Command = "hold_A"
var(1) = 0

[State 180, 3] ;Choose win2
type = VarSet
trigger1 = Command = "hold_B"
var(1) = 1

[State 180, 5] ;Choose win1
type = VarSet
trigger1 = Command = "hold_C"
var(1) = 2

[State 180, 8]
type = ChangeState
trigger1 = time = 1
trigger1 = Var(1) = 0
value = 181

[State 180, 9]
type = ChangeState
trigger1 = time = 1
trigger1 = Var(1) = 1
value = 182

[State 180, 9]
type = ChangeState
trigger1 = time = 1
trigger1 = Var(1) = 2
value = 183

[Statedef 172]
type = S
movetype = I
physics = S
anim = 172
velset = 0
ctrl = 0


[State 730, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 173

; Power up
[Statedef 173]
type = S
movetype = I
physics = S
anim = 173

[State 705, 2]
type = Explod
trigger1 = time = 1
anim = 4022
ID = 173
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
removeongethit = 1

[State 1000]
type = playsnd
trigger1 = timemod = 110,0
value = 6865,34
volume = -100
ignorehitpause = 1
channel = -1


[State 735, 1]
type = ChangeState
trigger1 = command != "hold_B"
trigger3 = command != "hold_C"
value = 174

[State 735, 2]
type = PowerAdd
trigger1 = Time > 0
value = 9

[State 735, 2]
type = ChangeState
trigger1 = Power >= 5000
value = 174

[State 735, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 173

; Power up (end)
[Statedef 174]
type = S
movetype = I
physics = S
anim = 174

[State 912, StopSnd]
type = StopSnd
trigger1 = animtime = 0
channel = -1

[State 912, StopSnd]
type = StopSnd
trigger1 = animtime = 0
channel = 2

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 173

[State 740, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
; Win pose A
[Statedef 181]
type = S
physics = S
velset = 0
anim = 181
ctrl = 0

[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 181, 2]
type = Explod
trigger1 = animelem = 5,5
anim = 2227
pos = 15,-75
supermove = 1
supermovetime = 2
sprpriority = 2
bindtime = 1
removetime = -2
scale = .7,.7
ownpal = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5,5
value = 181,1
volume = 255

[State 181, 2]
type = Explod
trigger1 = animelem = 5,10
anim = 2207
id = 2207
pos = 20,-85
supermove = 1
supermovetime = 2
postype = p1
sprpriority = 2
bindtime = 1
removetime = 25
scale = .6,.6
ownpal = 1

[State 181, 2]
type = Explod
trigger1 = animelem = 6
anim = 2207
id = 2207
pos = 5,-93
supermove = 1
supermovetime = 2
postype = p1
sprpriority = 2
bindtime = 1
removetime = 7
scale = .6,.6
ownpal = 1

[State 181, 2]
type = Explod
trigger1 = animelem = 7
anim = 2207
id = 2207
supermove = 1
supermovetime = 2
postype = p1
sprpriority = 2
bindtime = 1
removetime = 6
scale = .6,.6
ownpal = 1
pos = -15,-101

[State 181, 2]
type = Explod
trigger1 = animelem = 8
anim = 2207
id = 2207
supermove = 1
supermovetime = 2
postype = p1
sprpriority = -2
bindtime = 1
removetime = -1
scale = .5,.5
ownpal = 1
pos = -30,-103

[State 1000]
type = playsnd
trigger1 = animelem = 11,2
value = 181,0
volume = 255

[State 1000]
type = removeexplod
trigger1 = animelem = 104
id = 2207

[State 1000]
type = playsnd
trigger1 = animelem = 104
value = 181,2
volume = -100

[State 1000]
type = explod
trigger1 = animelem = 104
anim = 2217
removetime = -2
bindtime = 1
ownpal = 1
pos = -30,-92
scale = .7,.7
sprpriority = 2
removeongethit

[State 181, 6]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = RoundNotOver

[State 181, 7]
type = varset
trigger1 = animtime = 0
var(1) = 0

;------------
; Win pose B
[Statedef 182]
type = S
physics = S
velset = 0
anim = 11000
ctrl = 0

[State 182, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 182,0+(random%2)
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 8
value = 600,0
volume = 100

[State 182, 3]
type = AssertSpecial
trigger1 = Time = [0,170]
flag = RoundNotOver

[State 182, 4]
type = varset
trigger1 = animtime = 0
var(1) = 0

;-----------------
; Win pose C
[Statedef 183]
type = S
physics = S
velset = 0
anim = 183
ctrl = 0

[State 183, 0]
type = PlaySnd
trigger1 = Time = 4
trigger1 = var(41) != 1
trigger1 = var(42) != 1
value = 183,0

[State 183, 0]
type = PlaySnd
trigger1 = Time = 4
trigger1 = var(41) = 1
trigger1 = var(42) != 1
value = 221,20

[State 183, 0]
type = PlaySnd
trigger1 = animelem = 6,10
trigger1 = var(42) = 1
value = 183,0

[State 183, 1]
type = AssertSpecial
trigger1 = Time = [0,150]
flag = RoundNotOver

[State 183, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 183, 3]
type = varset
trigger1 = animtime = 0
var(1) = 0

;-----------------
; Win pose D(vs KULA By NAO&M.)
[Statedef 184]
type = S
physics = S
velset = 0
anim = 182
ctrl = 0

[State 183, 0]
type = PlaySnd
trigger1 = animelem = 5
value = 180,0
volume = 255

[State 0, ]
type = Helper
trigger1 = animelem = 17,25
helpertype = normal
name = "AfterImage"
ID = 1074
stateno = 1074
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000]
type = explod
trigger1 = animelem = 18
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1
supermovetime = 99999
sprpriority = -2
postype = p1
pos = 50,10

[State 1000]
type = explod
trigger1 = animelem = 18
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -50,10

[State 1000]
type = playsnd
trigger1 = animelem = 10
value = 180,1
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 18
value = 1700,2
volume = 255





[State 183, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 183, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 183, 3]
type = varset
trigger1 = time = 180
var(1) = 3


;-----------------
; Win pose E
[Statedef 185]
type = S
physics = S
velset = 0
anim = 185
ctrl = 0

[State 183, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 1000]
type = playsnd
trigger1 = animelem = 8
value = 6865,27
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 11,5
value = 192,1
volume = 255

[State 183, 2]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 183, 3]
type = varset
trigger1 = animtime = 0
var(1) = 1


;============================
; intro
[Statedef 191]
type = S
movetype = I
physics = S
velset = 0
anim = 191
ctrl = 0
sprpriority = 2

[State 191, 2]
type = AssertSpecial
trigger1 = Time = [0,370]
flag = Intro

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8156
ID = 8156
pos = 5,-15
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
pausemovetime = 99999
scale = .8,.8
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = explod
trigger1 = animelem = 1,>= 2 && animelem = 29,<= 4
trigger1 = timemod = 3,0
anim = 2211
removetime = -2
bindtime = 1
vel = 0,-6
scale = .6,.6
supermovetime = 99999
ownpal = 1
sprpriority = 1
postype = p1
pos = 0,-10
random = 120,20
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 1,>= 2 && animelem = 29,<= 4
trigger1 = timemod = 3,0
anim = 2211
removetime = -2
bindtime = 1
vel = 0,-9
scale = .6,.6
supermovetime = 99999
ownpal = 1
sprpriority = 4
postype = p1
pos = 0,-10
random = 120,20
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 14500
ID = 14500
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = 237
pausemovetime = 99999
scale = 1,1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 230
anim = 14501
ID = 14501
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
pausemovetime = 99999
scale = 1,1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 237
value = S6865,31
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6865,53
volume = 255

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 247
channel = 2
;ignorehitpause =
;persistent =


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6865,37
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,62
volume = -100
channel = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S6865,59
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 29
value = S221,19
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 32
value = S6865,60
volume = 255

[State 0, VarSet]
type = VarSet
trigger1 = time = 370
v = 1
value = 0

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 190]
type = S
movetype = I
physics = N
velset = 0
anim = 190
ctrl = 0

[State 191, 2]
type = AssertSpecial
trigger1 = anim = 190
trigger1 = Time = [0,507]
flag = Intro

[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 = (p2name = "Krizalid") || (p4name = "Krizalid")
trigger2 = (p2name = "Y'") || (p4name = "Y'")
trigger3 = (p2name = "kyozalid") || (p4name = "kyozalid")
trigger4 = (p2name = "asasd") || (p4name = "asasd")
trigger5 = (p2name = "Zero") || (p4name = "Zero")
trigger6 = (p2name = "C-Orochi") || (p4name = "C-Orochi")
trigger7 = (p2name = "SHIN KRIZ") || (p4name = "SHIN KRIZ")
trigger8 = (p2name = "Another K'") || (p4name = "Another K'")
value = 192

[State 1000]
type = changestate
triggerall = time = 0
triggerall = var(59) != 1
trigger1 = random < 333
value = 194
persistent = 0

[State 1000]
type = changestate
triggerall = time = 0
triggerall = var(59) != 1
trigger1 = random < 333
value = 191
persistent = 0

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = roundstate = 2
trigger1 = time = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) != 1
triggerall = roundstate != 2
triggerall = time = 0
trigger1 = random < 333
value = 196
persistent = 0

[State 191, 1]
type = varset
triggerall = Time = 0
trigger1 = (p2name = "Nao") || (p4name = "Nao")
var(42) = 1
[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 = (p2name = "Nao") || (p4name = "Nao")
value = 952

[State 191, 3]
type = PlaySnd
trigger1 = time = 0
value = 6865,61
channel = 2

[State -2]
type=helper
triggerall = animelem = 1,190
trigger1= !numhelper(777)
helpertype=normal
stateno=777
ID=777
name="Beat"
postype=p1
pausemovetime=65535
supermovetime=65535
persistent = 0
unhittable = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,40
helpertype = normal ;player
name = "K-BLOOD"
ID = 1905
stateno = 1905
pos = 30,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,105
helpertype = normal ;player
name = "K-BLOO"
ID = 1906
stateno = 1906
pos = -30,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 170
ampl = -2
ignorehitpause = 1


[State 1000]
type = envcolor
trigger1 = animelem = 2
time = 5
ontop = 1
value = 240,240,240

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 6865,9
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 6865,24
volume = 255
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 8,70
channel = 2
;ignorehitpause =
;persistent =


[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 4022
ID = 4022
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = 190
pausemovetime = 99999
scale = 1,1
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 1,190
anim = 4023
ID = 4023
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
pausemovetime = 99999
scale = 1,1
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = envshake
trigger1 = animelem = 2
time = 30
ampl = 15
freq = 75
phase = 75
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 8165
ID = 8165
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = 90
pausemovetime = 99999
scale = 1,1
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = explod
trigger1 = animelem = 2,>= 0 && animelem = 8,<= 68
trigger1 = timemod = 1,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-4
scale = 1,1
supermovetime = 99999
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 200,20
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 2,>= 1 && animelem = 8,<= 48
trigger1 = timemod = 2,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-4
scale = 1,1
supermovetime = 99999
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 200,20
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 2,>= 2 && animelem = 10,<= 1
trigger1 = timemod = 3,0
anim = 2211
removetime = -2
bindtime = 1
vel = 0,-6
scale = .8,.8
supermovetime = 99999
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 200,20
ignorehitpause = 1


[State 0, Explod]
type = Explod
trigger1 = animelem = 8,38
anim = 8167
ID = 8167
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
pausemovetime = 99999
scale = 1,1
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 8100
ID = 8100
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = 112
pausemovetime = 99999
scale = .8,.8
sprpriority = -5
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 8,60
anim = 8105
ID = 8105
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
pausemovetime = 99999
scale = .8,.8
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 1000]
type = playsnd
trigger1 = animelem = 8,60
value = 6865,65
volume = -200

[State 1000]
type = playsnd
trigger1 = animelem = 10
value = 191,0+(random%3)
volume = 255

[State 0, VarSet]
type = VarSet
trigger1 = time = 430
v = 1
value = 0

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 194]
type = S
movetype = I
physics = N
anim = 194

[State 1000]
type = assertspecial
trigger1 = anim = 194
trigger1 = time = [0,220]
flag = intro

[State 1000]
type = playsnd
trigger1 = time = 40
value = 3220,1
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 60
value = 6865,26
volume = 255

[State 1000, ÉwÉãÉpÅ[ÇèoÇ∑]
type = Helper
trigger1 = AnimElem = 1,40
stateno = 19961
ID = 19961
helpertype = normal
pos = 0,45
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000]
type = playsnd
trigger1 = animelem = 8
value = 194,0+(random%2)
volume = 255

[State 0, VarSet]
type = VarSet
trigger1 = time = 220
v = 1
value = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0

[Statedef 196]
type = S
movetype = I
physics = N
anim = 195

[State 1000]
type = assertspecial
trigger1 = anim = 195
trigger1 = time = [0,271]
flag = intro

[State 1000]
type = playsnd
trigger1 = time = 68
value = 181,1
volume = 255

[State 0, Explod]
type = Explod
trigger1 = animelem = 5,10
anim = 2003
ID = 2003
pos = 22,-88
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
pausemovetime = 99999
scale = .45,.3
sprpriority = -2
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 5,>= 10 && animelem = 35,<= 2
trigger1 = timemod = 4,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = -2
postype = p1
pos = 23,-93
random = 4,4
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 5,>= 10 && animelem = 35,<= 2
trigger1 = timemod = 3,0
anim = 2211
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .3,.3
supermovetime = 99999
ownpal = 1
sprpriority = -1
postype = p1
pos = 23,-93
random = 6,6
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 35,>= 0 && animelem = 35,<= 11
trigger1 = timemod = 2,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = 5
postype = p1
pos = 24,-83
random = 4,2
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 35,>= 0 && animelem = 35,<= 11
trigger1 = timemod = 2,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = 5
postype = p1
pos = 23,-89
random = 4,2
ignorehitpause = 1

[State 1000]
type = removeexplod
trigger1 = animelem = 35
id = 2003
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 35
anim = 2004
ID = 2004
pos = 22,-88
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 99999
scale = .5,.35
sprpriority = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 8
value = 6865,75
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 35
value = 221,68
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 35
value = 3220,2
volume = 255

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0

[Statedef 1905]
type = S
movetype = I
physics = N
anim = 1905

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = .3
y = 0


[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 191,3
volume = 255

[State 54321, ]
type = trans
trigger1 = AnimElem = 1, >= 0
trans = addalpha
alpha = 256 - (5*time), (5*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1


[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 1906]
type = S
movetype = I
physics = N
anim = 1906

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -.3
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 191,4
volume = -100

[State 54321, ]
type = trans
trigger1 = AnimElemtime(1) >= 0
trans = addalpha
alpha = 256 - (5*time), (5*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

; Pre-fight intro (vs. Krizalid etc)
[Statedef 192]
type = S
movetype = I
physics = S
velset = 0
anim = 192
;-----------------------------------------------


[State 192, 1]
type = AssertSpecial
trigger1 = anim = 192
trigger1 = Time = [0,180]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = anim = 192
trigger1 = AnimElem = 5
value = 192,1
volume = 255

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Pre-fight intro (vs. maxima)
[Statedef 953]
type = S
movetype = I
physics = S
velset = 0
anim = 953

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 221,17

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 221,2

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. whip)
[Statedef 954]
type = S
movetype = I
physics = S
velset = 0
anim = 951

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 221,16

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Pre-fight intro (vs. kula)
[Statedef 950]
type = S
movetype = I
physics = S
velset = 0
anim = 950

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,510]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 221,9

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 221,10

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

---------------
; Pre-fight intro (vs. kula byNAO&M.)
[Statedef 961]
type = S
movetype = I
physics = S
velset = 0
anim = 961

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,1000]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 1,25
value = 221,31

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 15
value = 221,9

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 23
value = 221,10

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 30
value = 221,32

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 37
value = 221,30

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. k9999)
[Statedef 951]
type = S
movetype = I
physics = S
velset = 0
anim = 951

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,410]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 221,15

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. Nao)
[Statedef 952]
type = S
movetype = I
physics = S
velset = 0
anim = 952

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,510]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 221,18

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 12,2
value = 221,19

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. K/)
[Statedef 955]
type = S
movetype = I
physics = S
velset = 0
anim = 955

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 221,23

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 221,22


[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. Eiji Shirow Ver.2)
[Statedef 958]
type = S
movetype = I
physics = S
velset = 0
anim = 958

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,600]
flag = Intro

[state 192]
type = posadd
trigger1 = time = 0
x = -22

[State 192, 1]
type = veladd
trigger1 = AnimElem = 5
x = 16

[State 192, 1]
type = velset
trigger1 = AnimElem = 6
x = 15

[State 192, 1]
type = velset
trigger1 = AnimElem = 7
x = 8

[State 192, 1]
type = velset
trigger1 = AnimElem = 7,3
x = 4

[State 192, 1]
type = veladd
trigger1 = AnimElem = 8
x = 0

[State 192, 1]
type = veladd
trigger1 = AnimElem = 11
x = -19

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1300,1

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 221,19

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 11
value = 105,0

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 2400,0

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 15
value = 47,0

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 21
value = 221,23

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 28
value = 221,22


[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. Eiji Shirow)
[Statedef 956]
type = S
movetype = I
physics = S
velset = 0
anim = 956

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 221,23

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 221,22


[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. kriz)
[Statedef 957]
type = S
movetype = I
physics = S
velset = 0
anim = 957

;ÇuÇrÅ@yagami by jin--------------------
[State 191, 2]
type = Changeanim
triggerall = Time = 0
trigger1 = enemy, Name = "yagami-akof" && enemy,authorname = "jin"
value = 10190

[State 191, 2]
type = AssertSpecial
trigger1 = anim = 10190
trigger1 = Time = [0,500]
flag = Intro

[State 191, 3]
type = PlaySnd
trigger1 = anim = 10190
trigger1 = AnimElem = 2
value = 221,46
;-----------------------------------------------
;ÇuÇrÅ@may by ahuron--------------------
[State 191, 2]
type = Changeanim
triggerall = Time = 0
trigger1 = enemy, Name = "Maylee" && enemy,authorname = "ahuron"
value = 10191

[State 191, 2]
type = AssertSpecial
trigger1 = anim = 10191
trigger1 = Time = [0,500]
flag = Intro

[State 191, 3]
type = PlaySnd
trigger1 = anim = 10191
trigger1 = AnimElem = 2
value = 221,47
;-----------------------------------------------

[State 192, 1]
type = AssertSpecial
trigger1 = anim = 957
trigger1 = Time = [0,500]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = anim = 957
trigger1 = AnimElem = 2
value = 195,0

[State 192, 2]
type = PlaySnd
trigger1 = anim = 957
trigger1 = AnimElem = 6,2
value = 221,19

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. AK')
[Statedef 959]
type = S
movetype = I
physics = S
velset = 0
anim = 959

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,700]
flag = Intro

[state 192]
type = posadd
trigger1 = time = 0
x = 50

[state 197]
type = playsnd
trigger1 = animelem = 2
value = 221,16

[state 197]
type = playsnd
trigger1 = animelem = 9
value = 221,10

[state 197]
type = playsnd
trigger1 = animelem = 17
value = 221,14

;[State 192, 1]
;type = veladd
;trigger1 = AnimElem = 25
;x = -9

[state 199]
type = posadd
trigger1 = animelem = 25,1
trigger2 = animelem = 25,2
trigger3 = animelem = 25,3
trigger4 = animelem = 26,1
trigger5 = animelem = 26,2
trigger6 = animelem = 26,3
trigger7 = animelem = 26,4
trigger8 = animelem = 27,1
trigger9 = animelem = 27,2
trigger10 = animelem = 27,3
x = -4

[state 199]
type = posadd
trigger1 = animelem = 27,4
trigger2 = animelem = 28,1
trigger3 = animelem = 28,2
trigger4 = animelem = 28,3
trigger5 = animelem = 28,4
x = -2

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 24
ampl = 1
time = 60

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 25
ampl = -5
time = 30

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 26
ampl = -2
time = 60

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. Igniz)
[Statedef 960]
type = S
movetype = I
physics = S
velset = 0
anim = 960

[State 192, 1]
type = AssertSpecial
trigger1 = Time = [0,1000]
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 1,350
value = 3000,0

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 221,24

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 221,19


[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------
; Pre-fight intro (vs. Kyo)
[Statedef 193]
type = S
movetype = I
physics = S
velset = 0
anim = 193

[State 193, 1]
type = AssertSpecial
trigger1 = Time = [0,210]
flag = Intro

[State 193,3]
type = Helper
trigger1 = animelemtime(3) = 3
name = "flame"
pos = 8, 4
postype = p1
stateno = 2000
helpertype = normal
keyctrl = 0
ownpal = 1

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 13
ampl = -2
time = 15

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 13
value = 2300,0

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 5950]
Type = S
moveType = H
physics = S
ctrl = 0
velset = 0, 0
sprpriority = -3

[State 5950, 1]
Type = NotHitBy
Trigger1 = 1
value = SCA,AA,AT,AP

[State 1000]
type = playsnd
trigger1 = animelem = 4
value = 5000,0+(random%2)
volume = -100
ignorehitpause = 1

[State 5950, 2]
Type = ChangeAnim
Trigger1 =!HitOver
value = ifelse(PrevStateNo = 132,131,130)

[State 5950, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5950, 4]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 5950, 5]
Type = ChangeAnim
Trigger1 = HitOver
Trigger1 = anim != 5950
value = 5950

[State 5950, 6]
Type = ChangeState
Trigger1 = anim = 5950
Trigger1 = AnimTime = 0
value = 5150
ctrl = 0

[Statedef 5150]
Type    = L
moveType= H
physics = N
sprpriority = -4

[State 5150, 5]
Type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 5950
value = 5111
;elem = 10

[State 5150, 1]
Type = ChangeAnim
TriggerAll = PrevStateNo != 5950
TriggerAll = Time = 0
TriggerAll = SelfAnimExist(5140)
Trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
Trigger2 =!SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 2]
Type = ChangeAnim
TriggerAll = PrevStateNo != 5950
Trigger1 = Time = 0
Trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
Trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 3]
Type = ChangeAnim
persistent = 0
TriggerAll = PrevStateNo != 5950
;Trigger1 = Time = 0
Trigger1 = MatchOver = 1
Trigger1 = Anim = [5140,5149]
Trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 4]
Type = ChangeAnim
TriggerAll = PrevStateNo != 5950
Trigger1 = Time = 0
Trigger1 = Anim != [5140,5159]
Trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6]
Type = VelMul
Trigger1 = 1
x = 0.85

[State 5150, 7]
Type = VelSet
Trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
Type = NotHitBy
Trigger1 = 1
value = SCA,AA,AT,AP
time = 1

;--------------------------
; helper flame 2000
[Statedef 2000]
type = A
movetype = I
physics = N
anim = 2001
velset = 0
ctrl = 0
sprpriority = 3

[State 2000, 3]
type = Changeanim
trigger1 = Time = 51
value = 2002

[State 2000, 3]
type = destroyself
trigger1 = anim = 2002 && animtime = 0


;--------------
; helper flame 2018
[Statedef 2018]
type = S
movetype = I
physics = N
anim = 2001
velset = 0
ctrl = 0

[State 2018, 1]
type = posadd
trigger1 = time = 6
trigger2 = time = 18
trigger3 = time = 30
trigger4 = time = 42
trigger5 = time = 54
trigger6 = time = 66
trigger7 = time = 78
trigger8 = time = 90
trigger9 = time = 102
trigger10 = time = 114
y = 2

[State 2000, 1]
type = posadd
trigger1 = time = 12
trigger2 = time = 24
trigger3 = time = 36
trigger4 = time = 48
trigger5 = time = 60
trigger6 = time = 72
trigger7 = time = 84
trigger8 = time = 96
trigger9 = time = 108
trigger10 = time = 120
y = -2

[State 2000, 3]
type = Changestate
trigger1 = Time = 120
value = 2019
ctrl = 0

;--------------
[Statedef 2019]
type = S
movetype = I
physics = N
anim = 2002
velset = 0
ctrl = 0
sprpriority = 2

[State 110, 1]
type = PlaySnd
trigger1 = Time = 5
value = 2300,0

[State 2000, 3]
type = destroyself
trigger1 = Time = 5

;=============================
; Taunt
[Statedef 195]
type = S
movetype = I
physics = S
anim = 12000
velset = 0
ctrl = 0

[State 195, 1]
type = PlaySnd
trigger1 = Time = 0
value = 195,0+(random%4)
channel = 3

[State 195, 2]
type = CtrlSet
trigger1 = time >= 45
value = 1

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;============================================================
; §pµ¥©€ eine trigger 
;============================================================
; 1000 iron trigger
[Statedef 1000]
type    = S
movetype= A
physics = S
ctrl = 0
poweradd = 63
anim = 1000
velset = 0,0,0
juggle = 8


[State 1000, 0] ; voice
type = PlaySnd
trigger1 = Time = 0
value = 1000,1

[State 1000, 0] ;flame burst
type = PlaySnd
trigger1 = AnimElem = 3, = 1
value = 1000,0
volume = 40

[State 1000, ÉwÉãÉpÅ[ÇèoÇ∑]
type = Helper
trigger1 = time = 6
name = "AT01"
stateno = 1016
ID = 1016
helpertype = normal
pos = -4,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

; AI use Shell 
[State 1000, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = ProjHit(1001) >= 1
triggerall = P2statetype != C
trigger1 = FrontEdgeDist <= 100
trigger2 = P2statetype = A && p2stateno != [105,107] 
trigger2 = P2BodyDist X = [0,135]
trigger2 = P2BodyDist Y = [-99,0]
trigger2 = P2stateno != (105,106)
trigger3 = projhit(1001) = 1
trigger3 = P2bodydist X = (0,72)
value = ifelse(random <= 500,1040,1062)

; AI use Shoot  1st use
[State 1000, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = Animtime = 0
trigger1 = projhit(1001) = 1
trigger1 = FrontEdgeDist > 50
trigger2 = p2bodydist X >= 160 ;126, 175 max range for AI eine trigger use
trigger3 = p2statetype = C
trigger4 = p2stateno = (105,106)
value = 1010 + (p2bodydist X > 120)
ctrl = 0

[State 1000, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = Animtime = 0
trigger1 = ProjHit(1001) >= 1
trigger1 = FrontEdgeDist > 50
trigger2 = p2bodydist X >= 160 ;126, 175 max range for AI eine trigger use
trigger3 = p2statetype = C
trigger4 = p2stateno = (105,106)
value = ifelse(random <= 500,1060,1062) && ifelse(random <= 500,1010,1720)
ctrl = 0

; AI use 2nd shoot 2nd use
[State 1000, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = Animtime = 0
trigger1 = p2bodydist X = (15,89)
trigger1 = p2statetype != A
trigger1 = FrontEdgeDist >= 88
trigger2 = ProjGuarded(1001) >= 1
value = ifelse(random <= 500,1060,1062)
ctrl = 0

; AI use Eine blackout B
[State 1000, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = Animtime = 0
;trigger1 = projhit1001 != 1
;trigger1 = projcontact1001 != 1
trigger1 = p2bodydist X = (90,159)
trigger1 = FrontEdgeDist >= 100
trigger2 = p2bodydist X < 0 ; when opponent is behind
value = 1720 - (projhit(1001) = 1 || p2movetype = H)*710
ctrl = 0
ignorehitpause = 1

[State 1000, 3]   ;shell
type = ChangeState
triggerall = command = "B"
triggerall = command = "holdfwd"
trigger1 = time >= 5
value = 1040
ctrl = 0

[State 1000, 3]   ;second shoot
type = ChangeState
triggerall = command = "A"
triggerall = command = "holdfwd"
trigger1 = time >= 5
value = 1010

[State 1000, 3]   ;blackout B
type = ChangeState
triggerall = command = "A"
triggerall = command = "holdback"
triggerall = command != "Minute_spike_B"
trigger1 = time >= 5
value = 1700
ctrl = 0

[State 1000, 3]   ;blackout D
type = ChangeState
triggerall = command = "B"
triggerall = command = "holdback"
triggerall = command != "Minute_spike_D"
trigger1 = time >= 5
value = 1710
ctrl = 0

[State 1000]
type = changestate
triggerall = command = "Minute_spike_B"
trigger1 = time >= 5
value = 1060
ctrl = 0

[State 1000]
type = changestate
triggerall = command = "Minute_spike_D"
trigger1 = time >= 5
value = 1062
ctrl = 0

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1005
ctrl = 0

;---------------
; end of eine trigger
[Statedef 1005]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1005
velset = 0,0,0

;[State 1005, 1]
;type = Explod
;trigger1 = time = 0
;anim = 1002 ;fire end
;bindtime = 1
;postype = P1
;pos = 4,-45
;sprpriority = 2

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 21
offset = 4,-45

[State 1000, var]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1000, 3]   ;shell
type = ChangeState
triggerall = command = "B"
triggerall = command = "holdfwd"
trigger1 = time >= 0
value = 1040
ctrl = 0

[State 1000, 3]   ;second shoot
type = ChangeState
triggerall = command = "A"
triggerall = command = "holdfwd"
trigger1 = time >= 0
value = 1010

[State 1005 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 1050]
type     = S
movetype = A
physics  = S
poweradd = 50
velset   = 0,0
anim     = 1100
ctrl     = 0
sprpriority = 2
juggle = 8

[State 1000, âπÇñ¬ÇÁÇ∑]
type = PlaySnd
trigger1 = AnimElem = 3
value = s1000,1

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 6865,25
volume = 255


[State 1000, ÉwÉãÉpÅ[ÇèoÇ∑]
type = Helper
trigger1 = AnimElem = 1
name = "AT01"
stateno = 1015
ID = 1015
helpertype = normal
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 1000,]
type = ChangeState
triggerall = command = "A"
triggerall = command = "holdfwd"
trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(10) < 0
value = 1011

[State 1000,]
type = ChangeState
triggerall = command = "B"
triggerall = command = "holdfwd"
trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(10) < 0
value = 1020

[State 1000,]
type = ChangeState
triggerall = command = "A"
triggerall = command = "holdback"
triggerall = command != "Minute_spike_B"
trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(10) < 0
value = 1700

[State 1000,]
type = ChangeState
triggerall = command = "B"
triggerall = command = "holdback"
triggerall = command != "Minute_spike_D"
trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(10) < 0
value = 1710

[State 1000]
type = changestate
triggerall = command = "Minute_spike_B"
trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(10) < 0
value = 1070

[State 1000]
type = changestate
triggerall = command = "Minute_spike_D"
trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(10) < 0
value = 1070

[State 1000,]
type = ChangeState
triggerall = !var(59)
triggerall = command = "C"
triggerall = command = "holdback"
trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(10) < 0
value = 1080

[State 1000,]
type = ChangeState
triggerall = !var(59)
triggerall = command = "D"
triggerall = command = "holdback"
trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(10) < 0
value = 1090

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 2999
trigger1 = time >= 22
value = 1070

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 312
trigger1 = animelem = 6
value = 1070




[State 1000, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno != 2999
trigger1 = animelemtime(7) >= 0
trigger1 = p2bodydist x <= 75
trigger1 = p2statetype != A
trigger1 = random < 500
value = 1020

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno != 2999
trigger1 = animelemtime(7) >= 0
trigger1 = p2bodydist x <= 75
trigger1 = p2statetype != A
trigger1 = random < 500
value = 1070

[Statedef 1015]
type     = S
movetype = A
physics  = N
ctrl     = 0
anim     = 14000
sprpriority = 10
juggle = 8

[State 1001, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;âeÇè¡Ç∑

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <=15
POS = 0,0

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =



[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 5

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = time = 0
attr = A, SP
damage = 40, 5
animtype = Hard
guardflag = MA
hitflag = MA
priority = 3, Hit
pausetime = 0, 8
sparkno = s8025
guard.sparkno = s8056
sparkxy = -20, -80
hitsound = s6865,19
guardsound = s150,1
ground.type = High
ground.slidetime = 23
guard.sparkno = s8056
ground.hittime  = 23
ground.velocity = -3.5
guard.velocity = -8
air.type = High
air.velocity = -4,-5
air.fall = 1
air.animtype = Back
fall.recovertime = 30
palfx.time = 30
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3000]
type = Projectile
trigger1 = time = 0
projID = 1151
projanim = 1151
projremove = 0
projpriority = 2
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 20
offset = 0,0
velocity = 0,0

[State -2,]
type = Explod
trigger1 = Movehit
trigger1 = Random < 300
anim = 2201
pos = -20,-40
postype = p2
sprpriority = 6
bindtime = 1
random = 60,60
scale = .6,.6
ownpal = 1

[State 1001, Ç±ÇÃÉwÉãÉpÅ[Çè¡Ç∑]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,MOVETYPE = H
trigger3 = anim != 14000
;trigger2 = Root,Anim = 1015 && Root,AnimElem = 5
;trigger3 = Root,Anim = 1030 && Root,AnimElem = 5

[Statedef 1016]
type     = S
movetype = A
physics  = N
ctrl     = 0
anim     = 1001
sprpriority = 10

[State 1001, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;âeÇè¡Ç∑

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <=1
POS = -4,-45

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1



[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 5

[State 1000, 1]
type = Projectile
triggerall = p2stateno != 1042
trigger1 = time = 0
ProjAnim = 1001
ProjID = 1001
ProjHitAnim = 1001
ProjRemoveTime = 15
offset = 0,0
accel = 0, 0
hitflag = MAF
guardflag = MA
attr = A, SP
damage = 30,5
animtype = Hard
getpower = 57
givepower = 50
pausetime = 0,5
sparkno = s8025
sparkxy = 60,-10
guard.pausetime = 0,2
guard.sparkno = s8056
hitsound = S2000,0
guardsound = S150,1
ground.type = High
ground.slidetime = 18
ground.hittime = 17
ground.velocity = -4.5,-9
guard.velocity = -7
ground.hittime = 18
ground.slidetime = 18
ground.velocity = -7.2,-4.5
air.velocity = -3.6,-4.5
air.fall = 1
air.recover = 0
fall.recover = 0
air.animtype = Back
fall = 1
yaccel = 0.72
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 30
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 10
envshake.ampl = 3

[State 3000]
type = Projectile
trigger1 = time = 0
projID = 1151
projanim = 1151
projremove = 0
projpriority = 2
projhitanim = -1
projremanim = -1
projsprpriority = 0
projshadow = 0,0,0
projremovetime = 20
offset = 0,0
velocity = 0,0

[State -2,]
type = Explod
trigger1 = Movehit
trigger1 = Random < 300
anim = 2201
pos = -20,-60
postype = p2
sprpriority = 6
bindtime = 1
random = 60,60
scale = .6,.6
ownpal = 1

[State 1001, Ç±ÇÃÉwÉãÉpÅ[Çè¡Ç∑]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,MOVETYPE = H
trigger3 = anim != 1001
;trigger2 = Root,Anim = 1015 && Root,AnimElem = 5
;trigger3 = Root,Anim = 1030 && Root,AnimElem = 5

[Statedef 1020]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 0
velset   = 0,0
anim     = 1105
ctrl     = 0
sprpriority = 2

[State 1000, âπÇñ¬ÇÁÇ∑]
type = PlaySnd
trigger1 = AnimElem = 3
value = 700,0
volume = 255

[State 1000, âπÇñ¬ÇÁÇ∑]
type = PlaySnd
trigger1 = Movehit = 1
value = 6865,19
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 1010,0
volume = 255

;[State 700, ÉGÉtÉFÉNÉgï\é¶]
;type = Explod
;trigger1 = AnimElem = 4
;anim = 1035
;postype = P1
;pos = 38, -68
;sprpriority = 5
;ownpal = 1
;scale = 1,1

[State 3000]
type = Projectile
trigger1 = AnimElem = 4
projID = 1150
projanim = 1150
projscale = 1,1
projpriority = 1
afterimage.time = 60
afterimage.length = 5
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = 27
getpower = 20
ownpal = 0
offset = 38,-68
velocity =  0,0



[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 60, 6
id = 1020
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 10
sparkno = s8025
sparkxy = -15, -95
guard.sparkno = s8056
hitsound = s1,3
guardsound = s150,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -1.9,-8.7
airguard.velocity = -3.1,-4.3
air.type = High
air.velocity = -2.0,-8.5
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 70
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 1042

[State 1000, ÉXÉeÅ[ÉgïœçX]
type = ChangeState
triggerall = !var(59)
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1040, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = animtime = 0
triggerall = p2statetype = A
triggerall = stateno != 2999
trigger1 = P2dist Y = (-170,-30)
trigger1 = p2statetype = A
value = 2999
ctrl = 0

[State 1040, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = animtime = 0
triggerall = p2statetype != A
triggerall = stateno != 2999
trigger1 = p2statetype != A
value = 0
ctrl = 1
;----------------------------
; 1006 Eine Trigger C
[Statedef 1006]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1000
poweradd = 63
velset = 0,0,0

[State 1006, var-reset]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1006, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1000,1

[State 1006, 0] ;flame burst
type = PlaySnd
trigger1 = AnimElem = 3, = 1
value = 1000,0
volume = 40

[State 1006, 1]
type = Projectile
trigger1 = AnimElem = 3, = 1
ProjAnim = 1001
ProjID = 1001
ProjHitAnim = 1001
ProjRemoveTime = 15
offset = 4,-45
accel = 0, 0
hitflag = MA
guardflag = MA
attr = S, SP
projshadow = 68,68,68
damage = 115,20
animtype = Hard
getpower = 57
givepower = 50
pausetime = 4,3
sparkno = s8035
sparkxy = 60,-50
hitsound = S2000,0
guard.sparkno = s8056
guardsound = S150,1
ground.type = High
ground.slidetime = 23
ground.hittime = 23
ground.velocity = -2.9
guard.velocity = -6.9
airguard.velocity = -4.0,-3.0
air.velocity = -4,-5
;air.juggle = 1 + var(12)
air.fall = 1
air.animtype = Back
air.recover = 0
fall.recover = 0 
palfx.time = 23
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 12 
envshake.ampl = 3

; AI use Shell 
[State 1006, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = Animtime = 0
trigger1 = P2statetype != C
trigger2 = p2bodydist X < 68
value = ifelse(random < 500,1040,1062)
ctrl = 0

[State 1006, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = Animtime = 0
trigger1 = P2statetype = C
trigger2 = p2bodydist X >= 68
value = 1011
ctrl = 0

[State 1006, 2]   ;second shoot fast type
type = ChangeState
triggerall = command = "A"
triggerall = command = "holdfwd"
trigger1 = time >= 5
value = 1011

[State 1006, 3]   ;shell
type = ChangeState
triggerall = command = "B"
triggerall = command = "holdfwd"
trigger1 = time >= 5
value = 1040

[State 1006, 3]   ;blackout B
type = ChangeState
triggerall = command = "A"
triggerall = command = "holdback"
trigger1 = time >= 5
value = 1060
ctrl = 0

[State 1006, 3]   ;blackout D
type = ChangeState
triggerall = command = "B"
triggerall = command = "holdback"
trigger1 = time >= 5
value = 1730
ctrl = 0

[State 1006, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1005
ctrl = 0

[Statedef 1060]
type = S
movetype = A
physics = N
velset = 0,0,0
anim = 1050

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1061

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1003
ProjID = 1003
afterimage.time = 6
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 6
offset = 4,-45

[Statedef 1062]
type = S
movetype = A
physics = N
velset = 0,0,0
anim = 1050

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1063

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1003
ProjID = 1003
afterimage.time = 6
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 6
offset = 4,-45

[Statedef 1061]
type = A
movetype = A
physics = N
anim = 1051

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 21
offset = 4,-45

[State 1000, 1]
type = Projectile
trigger1 = animelem = 3
ProjAnim = 2011
ProjID = 2011
pos = -60,-25
postype = p1
bindtime = 15
projscale = .4,.7
afterimage.time = 27
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 27
velocity = 2,-2
offset = 20,-50

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 7,>=0 || MoveGuarded
Value = 0

[State 1051]
type = StateTypeSet
Trigger1 = AnimElem = 8
movetype = I

[State 1051]
type = VelSet
Trigger1 = AnimElem = 1
x = 8.4
y = -3.7

[State 1051]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .48

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 221,13
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 221,53
volume = 255
ignorehitpause = 1
persistent = 0



[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = diagup
air.animtype = diagup
priority = 4,Hit
damage = 50,0
pausetime = 25 ,25
guard.pausetime = 8,8
sparkno = S8025
guard.sparkno = S8056
sparkxy = -25,-110
hitsound = S240,0
guardsound = S150,0
ground.type = high      ;Low,Trip,None
air.type = high
ground.velocity = -3,-4
air.velocity = -3,-4
fall = 1
fall.recover = 0
id = 0
chainID = -1
kill = 1
guard.kill = 1
envshake.time = 25
envshake.freq = 75
envshake.ampl = 8
envshake.phase = 90
palfx.time = 50
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1051]
type = ChangeState
Trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1065

[Statedef 1063]
type = A
movetype = A
physics = N
anim = 1052
juggle = 4

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 21
offset = 4,-45

[State 1000, 1]
type = Projectile
trigger1 = animelem = 4
ProjAnim = 2011
ProjID = 2011
pos = 10,-40
postype = p1
projscale = .6,.8
afterimage.time = 27
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 27
velocity = 2
offset = 10,-40

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0
y = -15
ignorehitpause =  1
;persistent =


[State 1052]
type = VelSet
Trigger1 = AnimElem = 1
x = 7.4
y = -3.7

[State 1052]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .28

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 6865,40
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 221,53
volume = 255
ignorehitpause = 1
persistent = 0



[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = hard
priority = 4,Hit
damage = 20,0
pausetime = 3 ,3
guard.pausetime = 8,8
sparkno = S8025
guard.sparkno = S8056
sparkxy = -25,-80
hitsound = S230,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
air.type = High
ground.velocity = -3,-6
air.velocity = -5,-3
fall = 1
fall.recover = 0
id = 1062
nochainID = 1063
kill = 0
guard.kill = 0
envshake.time = 5
envshake.freq = 75
envshake.ampl = 8
envshake.phase = 90
palfx.time = 50
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 11
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = up
air.animtype = up
priority = 4,Hit
damage = 30,0
pausetime = 0 ,5
guard.pausetime = 8,8
sparkno = S8025
guard.sparkno = S8056
sparkxy = -25,-80
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
air.type = hard
ground.velocity = -0,-19
air.velocity = -0,-19
fall = 1
fall.recover = 0
id = 1063
nochainID = 1063
kill = 1
guard.kill = 0
envshake.time = 15
envshake.ampl = 12
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2facing = 1
p1stateno = 1064
p2stateno = 1066

[State 1000]
type = envcolor
triggerall = movehit
trigger1 = animelem = 11
time = 2
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
trigger1 = enemy,stateno = 3010
trigger1 = animelem = 12
value = 1064

[State 1051]
type = ChangeState
trigger1 = enemy,stateno != 3010
Trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1065

[Statedef 1064]
type = A
movetype = I
anim = 1053
physics = N

[State 1052]
type = VelSet
triggerall = facing = 1
Trigger1 = AnimElem = 1
x = ifelse(frontedgedist > 60,3.5,-2.5)
y = -7

[State 1052]
type = VelSet
triggerall = facing = -1
Trigger1 = AnimElem = 1
x = ifelse(frontedgedist > 60,3.5,-2.5)
y = -7

[State 0, Width]
type = Width
trigger1 = 1
edge = 20,0
ignorehitpause = 1


[State 1052]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .35

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 50
value = -2
ignorehitpause = 1



[State 1051]
type = Changeanim
Trigger1 = time = 32
value = 1054
persistent = 0

[State 1051]
type = ChangeState
Trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1065





[Statedef 1065]
type = S
movetype = I
physics = S
anim = 1055
velset = 0,0,0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255
ignorehitpause = 1

[State 0, PosAdd]
type = Posset
trigger1 = prevstateno = 1064
y = 0
ignorehitpause = 1
persistent = 0




[State 1000]
type = changeanim
trigger1 = prevstateno = 1061
elem = 2
value = 1055
persistent = 0


[State 1000]
type = changestate
triggerall = prevstateno = 1061
trigger1 = animelem = 8
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = prevstateno = 1063
trigger1 = animelem = 8
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) != 1
triggerall = prevstateno = 1064
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
trigger1 = animtime = 0
value = 2999
ctrl = 1



[State 0, Turn]
type = Turn
triggerall = p2bodydist x < -11
trigger1 = animelem = 10
ignorehitpause = 1
value = 1

[Statedef 1066];3331
Type    = A
MoveType= H
Physics = N
VelSet = 0,-12.2

[State 3005, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 90
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5061)
Trigger1 = Time <= 10
Value = 5061

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time <= 10
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050


[State -1]
Type = VelAdd
Trigger1 = 1
y = .245

[State -1]
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100



[Statedef 1070]
type = S
movetype = A
physics = N
anim = 1056
poweradd = 300

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 6865,26
volume = 255

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1071

[Statedef 1071]
type = S
movetype = A
physics = N
anim = 1057
poweradd = 150
juggle = 0

[State 1000, 1]
type = Projectile
trigger1 = animelem = 1
ProjAnim = 2012
ProjID = 2012
postype = p1
projscale = .6,.8
afterimage.time = 48
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 48
velocity = 1
offset = 120,20

[State 1000]
type = explod
trigger1 = animelem = 1
persistent = 0
anim = 1090
posType = P1
pos = -20,0
sprpriority = 3
removeTime = 15
bindTime = 1

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 6865,54
volume = 255



[State -2]
Type = AttackDist
Trigger1 = AnimElem = 7,>=0 || MoveGuarded
Value = 0

[State 2100]
type = Width
Trigger1 = (animelem = 2,>=0 && animelem = 12,<0)
edge = 10,0

[State 2100]
type = VelSet
Trigger1 = animelem = 1,>=0 && animelem = 5,<0
x = ifelse(animelem = 4,<5,11,9)

[State 2100]
type = VelAdd
Trigger1 = animelem = 7,>=0
x = -1

[State 2100]
type = VelSet
Trigger1 = Vel X <= 0
x = 0

[State 2100]
type = PlayerPush
Trigger1 = (animelem = 1,>0 && animelem = 10,<0)
value = 0

[State 1000]
type = envcolor
trigger1 = movehit
ontop = 1
time = 3
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 3102, 6]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S,HA
animtype = up
damage = 60,25 ; 0,10
priority = 6
hitflag = MAF
sparkno = s8025
sparkxy = -40,-100
pausetime = 0,0
guardflag = MA
hitsound = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 18
ground.hittime = 5
ground.velocity = 0,-15
ground.type = high
air.velocity = 0,-14
airguard.velocity = -3,-3
guard.slidetime = 12
guard.hittime  = 12
guard.velocity = -9.4
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.animtype = up
fall = 1
fall.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
yaccel = .3
p2facing = -1
id = 3010
p2stateno = 3110

[State 1000]
type = playsnd
trigger1 = movehit
value = 6865,35
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = explod
trigger1 = movehit
anim = 2013
removetime = -2
bindtime = 1
postype = p1
pos = 40,-100
persistent = 0
supermovetime = 99999
ownpal = 1
sprpriority = 2
scale = .5,.5

[State 0, VarSet]
type = VarSet
triggerall = command = "Phase_X"
trigger1 = time = [11,32]
trigger1 = p2stateno = 3110
v = 9
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "Phase_Y"
trigger1 = time = [11,32]
trigger1 = p2stateno = 3110
v = 9
value = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = var(59) = 1
trigger1 = time = 21
trigger1 = p2stateno = 3110
trigger1 = random < 499
v = 9
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = var(59) = 1
trigger1 = time = 21
trigger1 = p2stateno = 3110
trigger1 = random < 499
v = 9
value = 2
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = Var(9) = 1
trigger1 = animelem = 11
value = 1072

[State 1000]
type = changestate
triggerall = Var(9) = 2
trigger1 = animelem = 11
value = 10725


[State 1000]
type = changestate
trigger1 = animtime = 0
ctrl = 1
value = 0

[Statedef 1072]
type = S
movetype = A
physics = N
anim = 1058


[State 0, ]
type = Helper
trigger1 = animelem = 6,2
helpertype = normal
name = "AfterImage"
ID = 1074
stateno = 1074
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7,7
value = S400,3
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 6,2
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1
scale = .5,.5
vel = 1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = 30,0

[State 1000]
type = explod
trigger1 = animelem = 6,2
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
removeongethit = 1
scale = .5,.5
vel = -1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -30,0

[State 1000]
type = playsnd
trigger1 = animelem = 6,3
value = 6865,15
volume = 255
ignorehitpause = 1


[State 0, PosSet]
type = PosSet
triggerall = enemy,facing = 1
trigger1 = animelem = 7,10
x = (enemy,pos X) - 60
y = (enemy,pos Y) + 80
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
triggerall = enemy,facing = -1
trigger1 = animelem = 7,10
x = (enemy,pos X) + 60
y = (enemy,pos Y) + 80
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1073

[Statedef 1073]
type = A
movetype = A
physics = N
anim = 1061

[State 1000]
type = velset
trigger1 = time = 0
x = 4
y = -2

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,3
volume = 255

[State 700, Effect]
type = Helper
trigger1 = animelem = 1
name = "AfterImage2"
stateno = 1075
pos = 0,0
keyctrl = 0
postype = p1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
IgnoreHitPause = 1
persistent = 0

[State 0, ]
type = Palfx
trigger1 = time <= 5
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[State 1000]
type = veladd
trigger1 = animelem = 8, <= 0
x = 0
y = .09
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = animelem = 8, >= 0
x = 0
y = .3

[State 1000]
type = varset
trigger1 = time = 0
v = 9
value = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S400,1+(random%2)
volume = 255
ignorehitpause = 1



[State 1000]
type = envcolor
trigger1 = movehit
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0


[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = hard
priority = 4,Hit
damage = 40,0
pausetime = 4 ,4
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -40,-105
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
air.velocity = -2,-1.8
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
fall = 1
air.fall = 1
fall.recover = 0
air.fall.recover = 0
p2facing = 1
sprpriority = 1
envshake.time = 6
envshake.ampl = 8
kill = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 11
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
priority = 4,Hit
damage = 50,0
pausetime = 10 ,10
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -50,-72
hitsound = S240,0
guardsound = S150,0
air.animtype = diagup
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.velocity = -8,-1.5
fall = 1
air.fall = 1
fall.recover = 0
air.fall.recover = 0
p2facing = 1
sprpriority = 1
envshake.time = 12
envshake.ampl = 8
kill = 1

[State 1301, 5]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

[Statedef 1074]
type    = S
movetype = I
physics = S
sprpriority = 4
anim = 99999
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = 0
y = 0


[State 0, VarSet]
type = VarSet
trigger1 = !time
var(0) = parent,anim

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(1) = parent,animelemno(0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time
value = var(0)
elem = var(1)

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(0) = 11.2

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(1) = 0.015

[State 0, Trans]
type = Trans
trigger1 = .5
trans = add


[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = floor(0-fvar(0)),floor(0-fvar(0)),floor(0-fvar(0))

[State 0, ]
type = DestroySelf
trigger1 = time >= 30

[Statedef 1075]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 99997
SprPriority = 7


[State 0, ]
type = Palfx
trigger1 = 1
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[State 0, ]
type = BindToRoot
trigger1 = time = 0
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 0,1]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1
persistent = 1

[State 0,1]
type = Explod
trigger1 = 1
anim = (parent, anim)
postype = p1
pos = 0,0
scale = 1,1
sprpriority = 7
bindtime = -1
ignorehitpause = 1
removeongethit = 1
supermove = 1
supermovetime = 99999999
pausemovetime = 99999999
ID = 95
trans = add


[State 0,1]
type = ModifyExplod
trigger1 = 1
scale = 1+(time*.01),1+(time*.01)
ID = 95

[State 0, 1]
type = RemoveExplod
trigger1 = Time >= 15
ID = 95

[State 0,1]
type = DestroySelf
trigger1 = Time = 15

[Statedef 10725]
type = S
movetype = A
physics = N
anim = 1058


[State 0, ]
type = Helper
trigger1 = animelem = 6,2
helpertype = normal
name = "AfterImage"
ID = 1074
stateno = 1074
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7,7
value = S400,3
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 6,2
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1
scale = .5,.5
vel = 1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = 30,0

[State 1000]
type = explod
trigger1 = animelem = 6,2
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
removeongethit = 1
scale = .5,.5
vel = -1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -30,0

[State 1000]
type = playsnd
trigger1 = animelem = 6,3
value = 6865,15
volume = 255
ignorehitpause = 1

[State 1000]
type = turn
triggerall = backedgedist > 30
trigger1 = animelem = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 1000]
type = turn
triggerall = backedgedist < 30
trigger1 = animelem = 4
value = -1
persistent = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
triggerall = backedgedist > 30
triggerall = enemy,facing = 1
trigger1 = animelem = 7,10
x = (enemy,pos X) + 60
y = (enemy,pos Y) + 80
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
triggerall = backedgedist > 30
triggerall = enemy,facing = -1
trigger1 = animelem = 7,10
x = (enemy,pos X) - 60
y = (enemy,pos Y) + 80
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
triggerall = backedgedist < 30
triggerall = enemy,facing = 1
trigger1 = animelem = 7,10
x = (enemy,pos X) - 60
y = (enemy,pos Y) + 80
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
triggerall = backedgedist < 30
triggerall = enemy,facing = -1
trigger1 = animelem = 7,10
x = (enemy,pos X) + 60
y = (enemy,pos Y) + 80
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1076

[Statedef 1076]
type = A
movetype = A
physics = N
anim = 3223

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,3
volume = 255

[State 700, Effect]
type = Helper
trigger1 = animelem = 1
name = "AfterImage2"
stateno = 1075
pos = 0,0
keyctrl = 0
postype = p1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
IgnoreHitPause = 1
persistent = 0

[State 0, ]
type = Palfx
trigger1 = time <= 5
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[state a]
type = turn
trigger1 = Time = 0
trigger1 = p2bodydist  x <-1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 5


[State 1000]
type = veladd
trigger1 = time > 0
x = -.08
y = .5
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, HA
animtype  = hard
damage    = 30 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,0
sparkno = s8035
sparkxy = -28,-52
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.velocity = 0,0
kill = 0
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
envshake.time = 15
envshake.ampl = -9
envshake.freq = 75
fall.recover = 0
p2stateno = 3227
p1stateno = 1077
p2facing = 1
hitonce = 1
kill = 0

[State 1000]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1077
ctrl = 0

[Statedef 1077]
type = S
movetype = A
physics = N
anim = 3224



[State 1000]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
time = 200
pos = 30,25
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time > 0
x = -.08
y = .5
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 5

[State 1000]
type = changestate
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1078
ignorehitpause = 1

[Statedef 1078]
type = S
movetype = A
physics = N
anim = 1078
velset = 0,0,0
sprpriority = 2

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
time = 50
pos = 10,0
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = time = 0
value = 10795
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = animelem = 6
value = 10796
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 370,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 7
value = 600,2
volume = 255
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 9
time = 2
pos = 30,-60
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 10
time = 1
pos = 30,-105
ignorehitpause = 1
persistent = 0

[State 1000]
type = targetstate
trigger1 = animelem = 10
value = 10797
ignorehitpause = 1


[State 3202, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, HA
animtype  = hard
damage    = 30 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,0
forcestand = 1
sparkno = -1
sparkxy = -28,-52
hitsound   = -1
guardsound = S150,1
guard.sparkno = s8056
ground.velocity = 0,0
kill = 0
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
p2stateno = 3237
p2facing = 1
hitonce = 1
kill = 0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,1
volume = -100

[State 1000]
type = envshake
trigger1 = time = 0
time = 15
ampl = 12
ignorehitpause = 1

[State 1000]
type = explod
triggerall = enemy,stateno = 10795
trigger1 = time = 0
anim = 3228
removetime = -2
bindtime = 1
supermovetime = 99999
sprpriority = 3
postype = p2
pos = 0,0
ownpal = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1079

[Statedef 10795]
type = S
movetype = H
physics = N
velset = 0,0,0

[State 1000]
type = changeanim2
trigger1 = time = 0
value = 3234
ignorehitpause = 1

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = lifeadd
trigger1 = time = 0
value = -30
kill = 0
ignorehitpause = 1

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 10796];3331
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 3005, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 1075

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1


[State -1]
Type = SelfState
Trigger1 = animtime = 0
Value = 10797

[Statedef 10797];3331
Type    = A
MoveType= H
Physics = N
VelSet = -.7,-10.2

[State 3005, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 1076
persistent = 0

[State -1]
Type = ChangeAnim2
triggerall = vel Y > 0
Trigger1 = Time >= 0
Value = 1077
persistent = 0


[State -1]
Type = VelAdd
Trigger1 = 1
y = .435

[State -1]
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

[statedef 1079]
type = S
movetype = A
physics = N
anim = 1079
velset = 0,0,0

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 6865,27
volume = 255

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 9
value = 0
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = movehit = 1
value = 240,240,240
time = 2
ontop = 1
ignorehitpause = 1
persistent = 0


[State 1000]
type = playsnd
trigger1 = animelem = 7
value = 221,54
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 7
value = 600,1
volume = 255
ignorehitpause = 1

[state 1000]
type = posadd
trigger1 = animelem = 7
trigger2 = animelem = 8
x = 10
ignorehitpause = 1


[State 0, HitDef]
type = HitDef
trigger1 = animelem = 8
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
priority = 4,Hit
damage = 90,0
pausetime = 20 ,20
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -50,-72
hitsound = S240,0
guardsound = S150,0
air.animtype = diagup
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.velocity = -7,-3.5
ground.velocity = -7,-3.5
fall = 0
fall.recover = 0
air.fall = 1
air.fall.recover = 0
p2facing = 1
sprpriority = 1
envshake.time = 20
envshake.ampl = 12
kill = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


[Statedef 1080]
type = S
movetype = A
physics = S
juggle = 0
ctrl = 0
velset = 0,0
anim = 1091
facep2 = 1

[State 1000]
type = posadd
trigger1 = animelem = 1, >= 0 && animelem = 5, <= 0
x = 1.6

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 6
sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 10
projscale = .6,.6
offset = 15,-72

[State 1000, 1]
type = Projectile
trigger1 = time = 10
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 6
afterimage.trans = add
sprpriority = 5
ProjRemoveTime = 15
offset = 15,-67
projscale = .6,.6
velocity = 2

[State 1710]
type = HitDef
triggerall = p2movetype = H && p2statetype != A
Trigger1 = animelem = 5
attr = S, SA
givepower = 40
hitflag = MAF
guardflag = MAF
priority = 5,hit
hitsound   = s370,0
guard.sparkno = -1
sparkno = -1
sparkxy = -20,-90
numhits = 0
p2facing = 1
p1stateno = 1081
p2stateno = 3218
guard.dist = 0

[State 1710]
type = HitDef
triggerall = p2movetype != H && p2statetype != A
Trigger1 = animelem = 5
attr = S, SA
givepower = 40
hitflag = MAF
priority = 5,hit
hitsound   = s370,0
guard.sparkno = -1
sparkno = -1
sparkxy = -20,-90
numhits = 0
p2facing = 1
p1stateno = 1081
p2stateno = 3218
guard.dist = 0

[State 1710]
type = changestate
Trigger1 = animtime = 0
value = 0
ctrl = 1


[Statedef 1081]
type = S
movetype = A
physics = S
juggle = 0
ctrl = 0
anim = 1092
sprpriority = -5

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 5,>=0 || MoveGuarded
Value = 0

[State 1711]
type = Width
Trigger1 = AnimElem = 1
edge = 40, 0

[State 1711]
type = TargetBind
Trigger1 = AnimElem = 1
pos = 48, 0



[State 1711]
type = TargetBind
Trigger1 = AnimElem = 2
pos = 60, 0

[State 1711]
type = sprpriority
Trigger1 = AnimElem = 2
value = 5

[State 1000]
type = playsnd
trigger1 = movehit = 1
value = 2200,0
volume = 255
persistent = 0

[State 3280 , 5]
type = Explod
triggerall = time <= 35
trigger1 = timemod = 5,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[State 3280 , 6]
type = Explod
triggerall = Random < 699
trigger1 = time <= 35
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[State 3280 , 7]
type = Explod
triggerall = Random < 549
trigger1 = time <= 35
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[state 1000]
type = playsnd
trigger1 = time = 0
value = 6867,5
volume = 255
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = Random < 599
trigger1 = time <= 35
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[State 1711]
type = HitDef
Trigger1 = Time = 0
attr = S, SA
animtype  = diagup
air.animtype  = diagup
hitflag = MAF
damage    = 90,0
guardflag = MAF
getpower = 11,60
givepower = 20,0
pausetime = 0,0
guard.pausetime = 0,0
sparkno = s8025
guard.sparkno = S10150
sparkxy = -50,-90
hitsound   = s240,0
guardsound = s0,9
ground.type = High
ground.slidetime = 18
ground.hittime  = 5
ground.cornerpush.veloff = 0
ground.velocity = -6,-10.25
air.velocity = -6,-10.25
airguard.velocity = -3,-5
guard.slidetime = 12
guard.hittime  = 12
guard.velocity = -9.4
air.type = Low
yaccel = 0.54
fall = 1
fall.recover = 0
palfx.time = 60
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1711]
type = EnvColor
Trigger1 = MoveHit = 1
value = 255, 255, 255
time = 3
under = 0

[State 1711]
type = envshake
Trigger1 = MoveHit = 1
ampl = 12
time = 24

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "burst"
ID = 936
stateno = 936
pos = 5,-50
bindtime = 1
postype = p2    ;p2,front,back,left,right
facing = -1
size.xscale = .85
size.yscale = .85
ownpal = 1
supermovetime = 99999
persistent = 0

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
ignorehitpause = 1

[Statedef 1090]
type     = S
movetype = A
physics  = N
juggle   = 0
velset   = 0,0
ctrl     = 0
anim     = 1080
sprpriority = 2

[State 1000]
type = posadd
trigger1 = animelem = 1, >= 0 && animelem = 5, <= 0
x = 1.6

[State 1000]
type = playsnd
trigger1 = time = 10
value = 2300,0
volume = -250
ignorehitpause = 1

[State 1711]
type = Width
Trigger1 = movehit = 1
edge = 80, 0

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 6
sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 10
offset = 4,-40

[State 1000, 1]
type = Projectile
trigger1 = time = 10
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 6
afterimage.trans = add
sprpriority = 5
ProjRemoveTime = 15
offset = 4,-25
velocity = 2


[state -2]
type = TargetBind
triggerall = movehit = 1
triggerall = enemy,statetype != A
triggerall = enemy,statetype != L
Trigger1 = AnimElem = 6,1
time = 50
pos = 55,0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6,15
value = 6865,40
volume = 255



[State 0, Helper]
type = Helper
triggerall= movehit = 1
trigger1 = animelem = 6,1
helpertype = normal
name = "Fireball"
ID = 3368
stateno = 1091
pos = 74,-62
postype = p1
bindtime = -1
unhittable = 1
facing = 1
ownpal = 1
keyctrl = 0
supermovetime = 99999
pausetime = 99999
size.xscale = .2
size.yscale = .2
ignorehitpause = 1

[state -2]
type = HitDef
Trigger1 = AnimElem = 6
animtype = low
attr = S,SA
hitflag = MAF
guardflag = MAF
damage = 20,0
pausetime = 0,10
getpower = 16,32
sparkno = s8025
guard.sparkno = S8056
sparkxy = -39,-63
hitsound = s240,0
ground.type = low
guardsound = s150,0
ground.slidetime = 12
ground.hittime  = 65
ground.velocity = -4,-10.5
ground.cornerpush.veloff = 0
air.velocity = -4,-10.5
guard.velocity = -10
envshake.time = 20
envshake.ampl = 12
p2stateno = 3371
kill=0
yaccel = .55

[state -2]
type = HitDef
triggerall = p2life >= 120
Trigger1 = AnimElem = 7
animtype = Up
attr = S,SA
hitflag = MAF
damage = 180,0
pausetime = 0,5
getpower = 32,32
sparkno = s8025
guard.sparkno = S8056
sparkxy = -61,-65
hitsound = s2200,0
guardsound = s100,9
ground.slidetime = 12
ground.hittime = 12
ground.cornerpush.veloff = 0
ground.velocity = -5,-6.5
air.velocity = -5,-6.5
guard.velocity = -10
envshake.time = 24
envshake.ampl = 12
palfx.time = 60
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
P2StateNo = 305
fall.recover = 0
kill= 1
yaccel = .4

[state -2]
type = HitDef
triggerall = p2life <= 120
Trigger1 = AnimElem = 7
animtype = Up
attr = S,SA
hitflag = MAF
damage = 120,0
pausetime = 0,5
getpower = 32,32
sparkno = s8025
guard.sparkno = S8056
sparkxy = -61,-65
hitsound = s2200,0
guardsound = s100,9
ground.slidetime = 12
ground.hittime = 12
ground.cornerpush.veloff = 0
ground.velocity = -5,-6.5
air.velocity = -5,-6.5
guard.velocity = -10
envshake.time = 24
envshake.ampl = 12
palfx.time = 60
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
P2StateNo = 305
fall.recover = 0
kill= 1
yaccel = .4

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = enemy,alive = 1
trigger1 = animelem = 7,4
value = 1080
elem = 8
ignorehitpause = 1


[State 1000]
type = explod
triggerall = p2life <= 1
triggerall = movehit
trigger1 = animelem = 7, >= 0 && animelem = 8, <= 20
trigger1 = timemod = 3,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = 5
postype = p1
pos = 75,-60
random = 15,10
ignorehitpause = 1

[State 1000]
type = explod
triggerall = p2life <= 1
triggerall = movehit
trigger1 = animelem = 8, >= 20 && animelem = 8, <= 40
trigger1 = timemod = 5,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = 5
postype = p1
pos = 75,-60
random = 15,10
ignorehitpause = 1

[State 1000]
type = explod
triggerall = animelem = 7
trigger1 = movehit
anim = 937
facing = -1
removetime = -2
bindtime = 1
postype = p2
pos = -20,-40
vel = 0,-.5
pausetime = 99999
ignorehitpause = 1
persistent = 0
ownpal = 1
sprpriority = 2

[State 1500, burn]
type = varset
triggerall = animelem = 7
trigger1 = movehit
var(3) = 1

[State 1000]
type = playsnd
triggerall = animelem = 7
trigger1 = movehit
value = 2200,2
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = animelem = 7
trigger1 = movehit
value = 245,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = animelem = 7
triggerall = p2life <= 1
trigger1 = movehit
value = 2200,12
volume = -100
ignorehitpause = 1

[state -2]
type = EnvColor
triggerall = enemy,alive = 1
Trigger1 = AnimElem = 7, >0
Trigger1 = MoveHit = 1
value = 255,255,255
time = 5
under = 0
ignorehitpause = 1
persistent = 0

[state -2]
type = EnvColor
triggerall = enemy,alive = 0
Trigger1 = AnimElem = 7, >0
Trigger1 = MoveHit = 1
value = 255,255,255
time = 3
under = 0
ignorehitpause = 1
persistent = 0

[state -2]
type = Changeanim
Triggerall = movehit = 0
trigger1  = animelem = 6,10
value = 1080
elem = 9
ctrl = 0

[state -2]
type = ChangeState
Trigger1 = AnimTime=0
value = 0
ctrl = 1

[Statedef 1091]
movetype = I
physics = N
anim = 1081
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 221,67
volume = 255
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 74,-62
ignorehitpause = 1


[State 1711]
type = Width
Trigger1 = AnimElem = 1
edge = 20, 0

[State 54321, ]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - (10*time),255 + (10*time)
time = -1
ignorehitpause = 1
persistent = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = 6866,5
volume = 255
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "flamehit"
ID = 13513
stateno = 1092
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
size.xscale = .2
size.yscale = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(0) = 11.2

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(1) = 0.015


[State 0, PalFX]
type = PalFX
trigger1 = time >= 30
time = 1
add = floor(0-fvar(0)),floor(0-fvar(0)),floor(0-fvar(0))

[State 3280 , 5]
type = Explod
trigger1 = time = 0
anim = 3365
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
bindtime = -1
removetime = 50
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
scale = .25,.25

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 5,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[State 3280 , 6]
type = Explod
triggerall = Random < 699
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[State 3280 , 7]
type = Explod
triggerall = Random < 549
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[State 3280, 8]
type = Explod
triggerall = Random < 599
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 12,5
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .25,.25

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = time >= 50
ignorehitpause = 1
persistent = 1

[Statedef 1092]
type = S
movetype = A
physics = N
anim = 885
velset = 0,0,0
sprpriority = 5

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = time = 0
anim = 885
bindtime = 1
removetime = -2
facing = -1
supermovetime = 99999
ownpal = 1
sprpriority = 5
ignorehitpause = 1
scale = .2,.2
pos = 0,0
postype = p1

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 1000]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1


;----------------------
; fwd Kick_B second shoot
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1010
poweradd = 42
velset = 0,0,0

[State 1000, 0]
type = PlaySnd
trigger1 = animelemtime(3) = 1
value = 221,7

[State 1000, 0]
type = PlaySnd
trigger1 = AnimElemTime(5) = 3
value = 1010,0

[State 1010, 1]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1010, 2]
type = posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 8

[State 1010, 3]
type = posadd
trigger1 = animelem = 7
trigger2 = animelem = 8
x = -8

;[State 1010, 4]
;type = Explod
;trigger1 = time = 0
;Anim = 1002
;;Removetime = 10
;Bindtime = 1
;pos = 4,-45
;shadow = 68,68,68
;sprpriority = 2

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 10
offset = 4,-45

[State 1000, 1]
type = Projectile
trigger1 = time = 10
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 15
offset = 4,-30
velocity = 2

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 1025
projanim = 1025
projscale = 0.45,0.35
Projremove = 1
projpriority = 1
projhitanim = 1026
projremanim = 1026
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = -1
getpower = 50
ownpal = 0
offset = 12,-35
velocity =  6.3, 0
attr = S, SP
animtype = Hard
damage = 60 ,6
hitflag = MAF
guard.sparkno = s8056
guardflag = M
hitsound = s6865,19
guardsound = s150,1
pausetime = 0,10
sparkno = s8025
guard.sparkno = 6
sparkxy = 25,-30
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
air.fall.recover = 0
palfx.time = 35
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1010, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 312
ctrl = 0

[State 1000]
type = changestate
triggerall = command = "holdfwd"
triggerall = command = "A"
trigger1 = time >= 15
value = 964

[State 1000]
type = changestate
triggerall = command = "holdfwd"
triggerall = command = "B"
trigger1 = time >= 15
value = 964

;------------------------
; fwd Kick_B second shoot (hard)
[Statedef 1011]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 1010
poweradd = 42
velset = 0,0,0

[State 1011, 1]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1000, 0]
type = PlaySnd
trigger1 = animelemtime(3) = 3
value = 221,7

[State 1000, 0]
type = PlaySnd
trigger1 = AnimElemTime(4) = 3
value = 1010,0

[State 1000, 0]
type = null
trigger1 = AnimElemTime(11) = 2
value = 1010,0

[State 1000, 0]
type = null
trigger1 = AnimElemTime(11) = 1
value = 400,2

[State 1011, 2]
type = posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 8

[State 1011, 3]
type = posadd
trigger1 = animelem = 7
trigger2 = animelem = 8
x = -8

[STate 968]
type=null
trigger1=Animelem=12
x=-4
y=-4

[STate 968]
type=null
trigger1=Animelem=12,>=0
x=.1

[STate 968]
type=null
trigger1=Animelem=12,>=0
y=.2

[STate 968]
type=null
trigger1=Animelem=14,>=0
y=.3

[STate 968]
type=null
trigger1=Animelem=12
value=A

;[State 1011, 4]
;type = Explod
;trigger1 = time = 0
;Anim = 1002
;Removetime = 10
;Bindtime = 1
;pos = 4,-45
;shadow = 68,68,68
;sprpriority = 2

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 10
offset = 4,-45


[State 1000, 1]
type = Projectile
trigger1 = time = 10
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 15
offset = 4,-30
velocity = 3

[State 1000, 1]
type = null
trigger1 = animelem = 11,1
ProjAnim = 965
ProjID = 965
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 14
offset = 7,-73

[State 1000, 1]
type = null
trigger1 = animelem = 12
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 15
offset = -23,-43
velocity = 4.5,3

[State 3000]
type = Projectile
trigger1 = time = 10
projID = 1025
projanim = 1025
projremove = 1
projpriority = 1
projscale = 0.45,0.35
projhitanim = 1026
projremanim = 1026
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = -1
getpower = 50
ownpal = 0
guard.sparkno = s8056
offset = 12,-35
velocity = 8, 0
attr = S, SP
animtype = Hard
damage = 60 ,6
hitflag = MAF
guardflag = M
hitsound = s6865,19
guardsound = s150,1
pausetime = 0,10
sparkno = s8025
guard.sparkno = 6
sparkxy = 25,-30
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
air.fall.recover = 0
palfx.time = 35
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 3000]
type = null
trigger1 = time = 28
projID = 1025
projanim = 1025
projremove = 1
projpriority = 1
projscale = 0.45,0.35
projhitanim = 1026
projremanim = 1026
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = -1
getpower = 50
ownpal = 0
guard.sparkno = s8056
offset = 12,-35
velocity = 8, 0
attr = S, SP
animtype = Hard
damage = 60 ,6
hitflag = MAF
guardflag = M
hitsound = s6865,19
guardsound = s150,1
pausetime = 0,10
sparkno = s8025
guard.sparkno = 6
sparkxy = 25,-30
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
fall.recovertime = 30
palfx.time = 35
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1011, 6]
type = ChangeState
trigger1 = animtime = 0
value = 312
ctrl = 0

[State 1000]
type = changestate
triggerall = command = "holdfwd"
triggerall = command = "A"
trigger1 = time >= 15
value = 964
ctrl = 0

[State 1000]
type = changestate
triggerall = command = "holdfwd"
triggerall = command = "B"
trigger1 = time >= 15
value = 964
ctrl = 0

;---------------------
; 1040 fwd_D shell
[Statedef 1040]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1040
poweradd = 42
velset = 0,0,0
juggle = 1

[State 1040, 0]
type = PlaySnd
trigger1 = Time = 1
value = 221,8

[State 1040, 0]
type = PlaySnd
trigger1 = animelem = 5
value = 221,53

[State 1040, 1]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1040, Nothitby]
type = NotHitBy
trigger1 = Time = 5
value = SA
time = 3

[State 1040, 2]
type = explod
trigger1 = time = 0
Anim = 1003
Removetime = 7
bindtime = 1
pos = 4, -45
sprpriority = 2
shadow = 68,68,68

[State 1000, 1]
type = Projectile
trigger1 = time = 0
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 21
offset = 4,-45

[State 1040, 4]
type = Projectile
trigger1 = AnimElem = 5
ProjRemoveTime = 20
ProjAnim = 1030
ProjHitAnim = 1030
ProjID = 1030
offset = 63,-109  ; 54, -120
velocity = 0,0;    0,-1.4
accel = 0, 0


[State 0, HitDef]
type = HitDef
triggerall = p2stateno != 1042
trigger1 = time = 0
attr = S, SA
hitflag = MAF
guardflag = MA ; MA
damage = 30,5
animtype = Hard
getpower = 42
givepower = 50
pausetime = 6,14
guard.pausetime = 0,8
sparkno = s8025
sparkxy = -23,-109
yaccel = 0.48
hitonce = 1
hitsound = s221,52
guard.sparkno = s8056
guardsound = 150,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -1.5, -10.5    ; -1.3,-10
air.velocity = -1.5, -11           ; -1.3,-9
air.animtype = Back
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 60
id = 1030
nochainid = 1001
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
P2stateno = 1041
envshake.time = 14
envshake.ampl = 3

; auto AI use
; heat drive combo, if not enough power, see def 2999
[State 1040, 4] 
type = ChangeState
triggerall = var(59) = 1
triggerall = animtime = 0
triggerall = p2statetype = A
triggerall = stateno != 2999
trigger1 = projhit(1030) = 1
trigger2 = p2statetype = A
value = ifelse(power > 1000,2999,2998)
ctrl = 0

;[State 1040, 5]
[State 1040, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------
;been hit by 2nd shell
[Statedef 1041]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1041, 0]
type = ChangeAnim2
trigger1 = hitshakeover = 0
value = 1041

[State 1041, 0]
type = ForceFeedBack
trigger1 = hitshakeover = 0
time = 1
waveform = square

[State 1041, 0]
type = ChangeState
trigger1 = hitshakeover = 1
value = 1042

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = S,SP
time = 1
ignorehitpause = 1
persistent = 1


;part2
[Statedef 1042]
type = A
movetype= H
physics = N
ctrl = 0

[State 1042, 0]
type = changeanim2
triggerall = hitshakeover = 0
trigger1 = time = 0
value = 1041

[State 0, PosFreeze]
type = PosFreeze
trigger1 = hitshakeover = 0
value = 1
;ignorehitpause =
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
;ignorehitpause =
;persistent =




[State 1042, 2]
type = ChangeAnim
trigger1 = anim = 1041
trigger1 = animtime = 0
trigger1 = AnimExist(5035)
value = 5030

[State 1042, 2]
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animtime = 0
trigger1 = AnimExist(5035)
value = 5035

[State 1042, 2]
type = ChangeAnim
triggerall = Anim = 5030 || Anim = 5035
trigger1 = AnimTime = 0
trigger1 = AnimExist(5050)
value = 5050

[State 1042, 2]
type = ChangeAnim
triggerall = Anim = 5050
trigger1 = AnimTime = 0
trigger1 = AnimExist(5060)
value = 5060

[State 1042, 0]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1


[State 1042, 1]
type = VelAdd
triggerall = hitshakeover = 1
trigger1 = 1
y = ifelse( GetHitVar(yaccel)!=0 , GetHitVar(yaccel) , 0.45)

[State 1042, 10]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y > 15
value = 5100

[Statedef 1510]
type = S
movetype = A
physics = N
anim = 1510
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =


[State 1001, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <=20
POS = 0,-15

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 1


[State 1001, Ç±ÇÃÉwÉãÉpÅ[Çè¡Ç∑]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root,stateno = 3100
trigger3 = root,stateno = 3200
trigger4 = root,stateno = 3150
trigger5 = root,stateno = 3340 && root,time <= 30
trigger6 = root,stateno = 2500
persistent = 0

[Statedef 14000]
type = S
movetype = A
physics = N
anim = 14000
velset = 0,0
ctrl = 0
sprpriority = 4


[State 1, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
TimeGap = 1
FrameGap = 1
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
trans = add
PalMul = 0.9,0.9,0.9
sprpriority = -3

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 1030]
type = S
movetype = A
physics = N
anim = 1030
velset = 0,0
ctrl = 0
sprpriority = 4


[State 1, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
TimeGap = 1
FrameGap = 1
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
trans = add
PalMul = 0.9,0.9,0.9
sprpriority = -3

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 1031]
type = S
movetype = A
physics = N
anim = 1031
velset = 0,0
ctrl = 0
sprpriority = 4


[State 1, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
TimeGap = 1
FrameGap = 1
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
trans = add
PalMul = 0.9,0.9,0.9
sprpriority = -3

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 1540]
type = S
movetype = A
physics = N
anim = 1540
velset = 0,0
ctrl = 0
sprpriority = -2


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 1541]
type = S
movetype = A
physics = N
anim = 1541
velset = 0,0
ctrl = 0
sprpriority = 4


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 9011]
type = S
movetype = A
physics = N
anim = 9011
velset = 0,0
ctrl = 0
sprpriority = 6

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State ]
type = AfterImage
trigger1 = Time = 0
time = 36
length = 3
trans = add
timeGap = 2
frameGap = 2
Paladd = 0,0,255
PalMul = 255,255,255
palbright = 0,0,100
color = 255
invertall = 1
sprpriority = 5

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 9012]
type = S
movetype = A
physics = N
anim = 9012
velset = 0,0
ctrl = 0
sprpriority = 6

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State ]
type = AfterImage
trigger1 = Time = 0
time = 36
length = 3
trans = add
timeGap = 2
frameGap = 2
Paladd = 255,0,0
PalMul = 255,255,255
palbright = 100,0,0
color = 255
invertall = 1
sprpriority = 5

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 9001]
type = S
movetype = A
physics = N
anim = 9001
velset = 0,0
ctrl = 0
sprpriority = 6

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255



[State ]
type = AfterImage
trigger1 = Time = 0
time = 36
length = 3
trans = add
timeGap = 1
frameGap = 2
Paladd = 0,0,255
PalMul = 255,255,255
palbright = 0,0,100
color = 255
invertall = 1
sprpriority = 5

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 9002]
type = S
movetype = A
physics = N
anim = 9002
velset = 0,0
ctrl = 0
sprpriority = 6

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255


[State ]
type = AfterImage
trigger1 = Time = 0
time = 60
trans = add
length = 3
timeGap = 2
frameGap = 2
Paladd = 255,0,0
PalMul = 255,255,255
palbright = 100,0,0
color = 255
invertall = 1
sprpriority = 5

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 9051]
movetype = I
physics = N
anim = 7120
velset = 0,0
ctrl = 0
sprpriority = -2

[State 1000]
type = playsnd
trigger1 = time = 0
value = 800,3
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 2
value = 800,4
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 1
value = 800,5
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 2
value = 800,11
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 2
value = 800,10
volume = -250
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 10
value = 800,9
volume = 100
ignorehitpause = 1

[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 7127
pos = 0,0
postype = p1
sprpriority = 5
ownpal = 0
bindtime = -1
persistent = 0
Removetime = -2
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 8300]
type = Explod
Trigger1 = Time = 13
anim = 7121
pos = 0,0
postype = p1
sprpriority = -2
ownpal = 0
bindtime = -1
persistent = 0
Removetime = -2
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 7128
pos = 0,0
postype = p1
sprpriority = 6
ownpal = 0
bindtime = -1
persistent = 0
Removetime = -2
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = changestate
trigger1 = ANIMtime = 0
value = 9052

[Statedef 9052]
movetype = I
physics = N
anim = 99999
velset = 0,0
ctrl = 0
sprpriority = -2

[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 7125
pos = 0,0
postype = p1
sprpriority = 4
ownpal = 0
bindtime = -1
persistent = 0
Removetime = -2
scale = .2,.2
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 7126
pos = 0,0
postype = p1
sprpriority = 6
ownpal = 0
bindtime = -1
persistent = 0
Removetime = -2
scale = .6,.6
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = playsnd
trigger1 = time = 0
value = 800,1
volume = 100
ignorehitpause = 1


[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = destroyself
trigger1 = time >= 47
persistent = 1
ignorehitpause = 1

---------------------------------------------

[Statedef 1520]
type = S
movetype = I
physics = N
anim = 1520
velset = 0,0
ctrl = 0
sprpriority = 4

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 1, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
TimeGap = 1
FrameGap = 1
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
trans = add
PalMul = 0.9,0.9,0.9
sprpriority = -3

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0
trigger2 = ROOT,STATENO = [3000,3339]
trigger3 = ROOT,STATENO = 3600

[Statedef 1521]
type = S
movetype = A
physics = N
anim = 1520
velset = 0,0
ctrl = 0
sprpriority = 4

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <= 18
POS = -20,-34


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 1, 1]
type = AfterImage
trigger1 = Time = 0
time = 50
TimeGap = 1
FrameGap = 1
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
trans = add
PalMul = 0.9,0.9,0.9
sprpriority = -3

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0
trigger2 = ROOT,STATENO = [3000,3339]
trigger3 = ROOT,STATENO = 3600

;-----------------------------------------------------------
; 1500 uppercut craw bite A
[Statedef 1500]
type	= S
movetype= A
physics = S
poweradd = 125
ctrl = 0
velset = 0,0,0
anim = 1500
juggle = 1

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1500, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1500,1

[State 1500, 0]
type = PlaySnd
trigger1 = animelem = 5
value = 1500,0
persistent = 0

[State 1500, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7 ; 10

[State 1500, 2]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
x = 8

[State 1000, 0]
type = PlaySnd
trigger1 = movehit
value = 1500,0
persistent = 0

[State 1500, 5]
type = Explod
trigger1 = animelem = 2, = 0
anim = 1530
postype = p1
pos = -10,-26
sprpriority = -2
bindtime = 1
ownpal = 1

;[State 1500, 6]
;type = Explod
;trigger1 = animelem = 4, = 2
;anim = 1520
;postype = p1
;pos = -20,-34
;ID = 1500
;sprpriority = 3
;ignorehitpause = 0
;bindtime = 1
;ownpal = 1

[State 1500, 3]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger2 = !movecontact
trigger3 = animelem = 4
trigger3 = !movecontact
attr = S, SA
animtype = Medium
damage = 30,12
getpower = 63
sparkno = s8025
priority = 6
guardflag = M
yaccel = 0.5
sparkxy = -10,-55
pausetime = 11,12
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -3.8,-9.7
air.velocity = -3.8,-9.7
guard.hittime = 25
guard.velocity = -13
airguard.velocity = -4.6,-3.5
guard.sparkno = s8056
air.animtype = Back
id = 1500
fall = 1
fall.recover = 0
palfx.time = 50
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 10
p2facing = 1
envshake.ampl = 2

[State 1500, 4]
type = HitDef
trigger1 = animelem = 5
attr = S, SA
animtype = Medium
damage = 50,12
getpower = 42
sparkno = s8025
priority = 6
guardflag = M
yaccel = 0.5
sparkxy = -10,-55
pausetime = 10,10
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 12
ground.hittime = 17
ground.velocity = -5.3,-9.7
air.velocity = -5.3,-9.7
guard.hittime = 17
guard.velocity = -13
airguard.velocity = -4.6,-6
air.animtype = Back
guard.sparkno = s8056
fall = 1
fall.recover = 0
palfx.time = 50
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 10
envshake.ampl = 3

[State 1110, 1]
type = HELPER
trigger1 = animelem = 4, = 1
name = "fire"
ID = 1510
pos = 0,-15
postype = P1
stateno = 1510
keyctrl = 0
ownpal = 1
size.xscale = .9
size.yscale = .9
unhittable = 1

;[State 1500, 5]
;type = Explod
;trigger1 = animelem = 6, = 1
;anim = 1510
;postype = p1
;pos = 24,-36
;ID = 1500
;shadow = 64,64,64
;sprpriority = 2
;ignorehitpause = 0
;bindtime = 22
;ownpal = 1

[State 1500, 4]
type = varset
trigger1 = movecontact
var(1) = 1

[State 1000]
type = changestate
triggerall = command = "heatdriver"
trigger1 = time >= 0 && (movehit)
value = 3100

[State 1000]
type = changestate
triggerall = command = "heatdriver2"
trigger1 = time >= 0 && (movehit)
value = 3100

[State 0, Turn]
type = Turn
triggerall = var(59) = 1
triggerall = prevstateno = 13505
triggerall = power >= 1000
triggerall = p2bodydist x <= -30
trigger1 = time = 0
value = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = power >= 1000
trigger1 = movehit = 1
value = 3100

[State 1500, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1501

;------------------In Air
[Statedef 1501]
type = A
movetype = A
physics = N
juggle = 7
anim = 1501
velset = 0,-5

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1501, 2]
type = VelAdd
trigger1 = Time > 0
y = 0.48

[State 1501, 0]
type = PlaySnd
trigger1 = movehit
value = 1500,0
persistent = 0

[State 1501, 6]
type = HitDef
trigger1 = animelem = 1
trigger1 =  var(1) = 0 ; first hit miss contact
;trigger2 = var(35) = 2 ; not in this state
attr = A, SA
animtype = Hard
damage = 100,12
getpower = 63
sparkno = s8025
sparkxy = 0,-60
hitflag = MAF
guardflag = MA
yaccel = 0.5
pausetime = 8,8
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-10
air.velocity = -1.5,-10
guard.sparkno = s8056
fall = 1
fall.recover = 0
palfx.time = 40
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 12 
envshake.ampl = 3

[State 1501, 7]
type = varset
trigger1 = animtime = 0
var(1) = 0

[State 1501, 8]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

;===========================================================
; 1503 uppercut_C crow bite C
[Statedef 1503]
type	= S
movetype= A
physics = N
poweradd = 75
ctrl = 0
velset = 0,0,0
anim = 1503
juggle = 3

[State 1503, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1500,1

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 6865,26
volume = 255

[State 1503, 0]
type = PlaySnd
trigger1 = animelem = 4
value = 1500,0
persistent = 0

[State 1503, 1]
type = HitBy
trigger1 = Time = 3
value = SCA, SA,HA,AP
time = 13

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1503, 2]
type = PosAdd
Trigger1 = AnimElem = 3,>0
Trigger1 = AnimElem = 4,<0
x = 15

[State 1503, 2]
type = PosAdd
Trigger1 = AnimElem = 5
x = 15

[State 1000, 0]
type = PlaySnd
trigger1 = movehit
value = 1500,0
persistent = 0

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, SA
hitflag = MAF
animtype = Medium
damage = 15,9
getpower = 63
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 8,16
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5   ;,-6   no Y velocity on firsrt hit
air.velocity = -5,-6
air.animtype = Back
guard.sparkno = s8056
fall.recover = 0
palfx.time = 18
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 12
envshake.ampl = 3

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype = Medium
damage = 15,9
getpower = 63
guardflag = M ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 8,8
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -5,-6.5  ; X -4 Y  -6
air.velocity = -5,-6
air.animtype = Back
guard.sparkno = s8056
fall = 1
fall.recover = 0
palfx.time = 60
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 12
envshake.ampl = 3

[State 1503, 4]
type = Explod
trigger1 = time = 0
anim = 1530
postype = p1
pos = -16,-26
sprpriority = -2
bindtime = 1
ownpal = 1

;[State 1503, 5]
;type = explod
;trigger1 = animelem = 4, = 2
;Anim = 1520
;pos = -20,-34
;sprpriority = 3
;postype = p1
;ID = 1500
;bindtime = 18
;ownpal = 1


[State 1110, 1]
type = HELPER
trigger1 = animelem = 4,2
name = "fire"
ID = 1510
pos = 0,-15
postype = P1
stateno = 1510
keyctrl = 0
ownpal = 1
size.xscale = .9
size.yscale = .9
ignorehitpause = 1
unhittable = 1

[State 1500, 4]
type = varset
trigger1 = movecontact
var(1) = 1

;[State 1503, 5]
;type = Explod
;trigger1 = animelem = 6, = 1
;anim = 1510
;postype = p1
;pos = 24,-36
;ID [State 1000]

type = changestate
triggerall = command = "heavensdrive"
triggerall = power >= 1000
trigger1 = time >= 0 && (movehit)
value = 3340
;shadow = 64,64,64
;sprpriority = 2
;ignorehitpause = 0
;bindtime = 22
;ownpal = 1

[State 1503, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1504

[State 1000]
type = changestate
triggerall = command = "heavensdriveSDM"
triggerall = power >= 2000
trigger1 = time >= 0 && (movehit)
value = 3390



[State 1000]
type = changestate
triggerall = command = "chaindriver"
triggerall = power >= 1000
trigger1 = time >= 0 && (movehit)
value = 3200

[State 1000]
type = changestate
triggerall = command = "chaindriverSDM"
triggerall = power >= 2000
trigger1 = time >= 0 && (movehit)
value = 3250

[State 1000]
type = changestate
triggerall = command = "Burning Mirage"
triggerall = power >= 1000
trigger1 = time >= 0 && (movehit)
value = 2500

[State 1000]
type = changestate
triggerall = command = "heatdriver"
triggerall = power >= 1000
trigger1 = time >= 0 && (movehit)
value = 3100

[State 1000]
type = changestate
triggerall = command = "heatdriver2"
triggerall = power >= 1000
trigger1 = time >= 0 && (movehit)
value = 3100

[State 1000]
type = changestate
triggerall = command = "b_c"
triggerall = power >= 1000
trigger1 = time >= 0 && (movehit)
value = 3600

;------------------In Air
[Statedef 1504]
type = A
movetype = A
physics = N
anim = 1504
velset = 5, -10
juggle = 4

[State 1504, 1]
type = VelAdd
trigger1 = Time > 0
y = 0.55

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1504, 0]
type = PlaySnd
trigger1 = movehit
value = 2000,0
ignorehitpause = 1
persistent = 0

[State 1504, var-reset]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1504, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
animtype = back
damage = 50,9
getpower = 63
sparkno = s8025
sparkxy = 0,-60
pausetime = 6,8
guardflag = MA
hitsound = S220,0
guardsound = S150,1
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3,-7
air.velocity = -4,-8
air.animtype = Back
guard.sparkno = s8056
fall = 1
fall.recover = 0
palfx.time = 60
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 14
envshake.ampl = 3

[State 1504, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = AnimElem = 3, = 4
trigger1 = movecontact
value = 1505
ctrl = 0

[State 1504, 5]
type = ChangeState
trigger1 = (var(2) = 1) && (AnimElem = 3, = 4)
value = 1505

[State 1504, 5]
type = ChangeState
trigger1 = (var(2) = 2) && (AnimElem = 3, = 4)
value = 1505

[State 1504, 6]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

;--------------------
;1505 fwd_D in air
[Statedef 1505]
type = A
movetype = A
physics = N
anim = 1505
poweradd = 42
juggle = 0

[State 1505 , 4]
type = VelAdd
trigger1 = Time > 0
y = 0.45

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 221,53
volume = 100
ignorehitpause = 1
persistent = 0

[State 1100,]
type = Helper
trigger1 = AnimElem = 5
stateno = 1165
ID = 1165
helpertype = normal
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

;[State 1505 , 5]
;type = explod
;trigger1 = animelem = 3, = 1
;Anim = 1540
;pos = 20,-80
;sprpriority = 2
;shadow = 64,64,64
;postype = p1
;bindtime = 13
;ownpal = 1

[State 1505 , 6]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
animtype = up
hitflag = MAF
damage = 40,9
getpower = 42
sparkno = s8025
guardflag = MA
sparkxy = 0,-60
pausetime = 12, 19
hitsound = S240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -8,14
airguard.velocity = -3.7,-3.5
air.type = High
air.velocity = -8,9
air.hittime = 12
fall = 1
guard.sparkno = s8056
fall.recover = 0
palfx.time = 36
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.ampl = 8
envshake.freq = 100
envshake.time = 15
fall.envshake.ampl = 8
fall.envshake.freq = 100
fall.envshake.time = 15

[State 1505 , 10]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

[State 1505 , 10]
type = ChangeState
triggerall = var(59) = 1
trigger1 = movecontact
value = ifelse(random < 400,963,1307)
ctrl = 0

[Statedef 1115]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 1115
sprpriority = 5

[State 1001, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <=13
POS = -15,10

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 1


[State 1001, Ç±ÇÃÉwÉãÉpÅ[Çè¡Ç∑]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,STATENO != 1100

[Statedef 1165]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 1540
sprpriority = -2

[State 1001, ì¡éÍå¯â ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[state 1050,BIND]
type = BINDTOROOT
trigger1 = 1
POS = 0,-55

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add


[State 1001, Ç±ÇÃÉwÉãÉpÅ[Çè¡Ç∑]
type = DestroySelf
trigger1 = AnimTime = 0

;===========================
; 1300 shala! minute bike B startup
[Statedef 1300]
type	= S
movetype= I
physics = S
poweradd = 78
ctrl = 0
velset = 0,0,0
anim = 1300

[State 1300,0]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SA,NA,SA ; SCA,NA,SA
numhits = 0
pausetime = 15,20
sparkno = s80350
hitsound = 6,0

[State 1300, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 8

[State 1300, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1300,0

[State 1300, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301

; 1301 minute spike B attack
[Statedef 1301]
type	= A
movetype= A
physics = N
ctrl = 0
anim = 1301
juggle = 3


[State 1300, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1300,1

[State 1000]
type = explod
trigger1 = time = 0
persistent = 0
anim = 1090
posType = P1
pos = -20,0
sprpriority = 3
removeTime = 15
bindTime = 1

[State 810, ï®óùìIÇ»ÉLÉÉÉâÇÃïù]
type = Width
trigger1 = 1
edge = 20,0

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 3,>=0 || MoveGuarded
Value = 0

[State 1401]
type = VelSet
Trigger1 = AnimElem = 1
x = 7.6
y = -3.7

[State 1401]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .48

[State 1301, 4]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = (animelem = 6) && (!movecontact)
attr = A, SA
hitflag = MAF
animtype = diagup
air.animtype = diagup
ground.type = high
air.type = high
damage = 70,20
getpower = 46
guardflag = MA ; MA
pausetime = 15,17
sparkxy = -10,-70
sparkno = s8035
yaccel = 0.45
hitsound = S240,0
guardsound = S150,1
guard.sparkno = s8056
guard.velocity = -14 
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -5 ,-7
air.velocity = -5,-6
airguard.velocity = -3,-2
fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = 8

[State 1301, 5]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

[State 1000]
type = changestate
triggerall = var(59) = 1
trigger1 = movehit
trigger1 = power >= 1000
value = 13505










;----------------------------
; 1302 Air Minute Spike B
[Statedef 1302]
type	= A
movetype= A
physics = N
ctrl = 0
anim = 1302
poweradd = 146
;juggle = 10
velset = 0,0,0

[State 1302, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1300,0

[State 810, ï®óùìIÇ»ÉLÉÉÉâÇÃïù]
type = Width
trigger1 = 1
edge = 20,0

[State 1302, 0]
type = PlaySnd
trigger1 = Time = 5
value = 1300,1

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 7,>=0 || MoveGuarded
Value = 0

[State 1420]
type = VelSet
Trigger1 = AnimElem = 1
x = 5.6
y = -2.7

[State 1420]
type = VelSet
Trigger1 = AnimElem = 9
x = 0

[State 1420]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .48

[State 1300,0]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,20
sparkno = s80350
hitsound = 6,0

[State 1302, 5]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = (Animelem = 6) && (!movecontact)
attr = A, SA
animtype = Diagup
damage = 60,20
getpower = 35
sparkno = s8035
sparkxy = 0,-60
pausetime = 16,16
guardflag = MA
yaccel = 0.45
hitsound = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -7,-5.5
air.velocity = -7,-6.9
ground.type = high
air.type = Low
fall = 1
fall.recover = 0
envshake.time = 16
envshake.ampl = 12

[State 1302, 6]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

;===========================================================
; 1305 shala! Minute Bike D startup
[Statedef 1305]
type	= S
movetype= I
physics = S
poweradd = 78
ctrl = 0
velset = 0,0,0
anim = 1305

[State 1300,0]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 15,20
sparkno = s80350
hitsound = 6,0

[State 1305, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 12

[State 1305, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1300,0

[State 1305, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1306

; 1306 shala! Minute Spike D attack
[Statedef 1306]
type	= A
movetype= A
physics = N
ctrl = 0
anim = 1306
juggle = 3

[State 1000]
type = explod
trigger1 = time = 0
persistent = 0
anim = 1090
posType = P1
pos = -20,0
sprpriority = 3
removeTime = 15
bindTime = 1

[State 1305, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1300,1

[State 1000]
type = envcolor
trigger1 = movehit
time = 1
under = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 7,>=0
Value = 0

[State 1411]
type = VelSet
Trigger1 = AnimElem = 1
x = 14.5
y = -5;

[State 810, ï®óùìIÇ»ÉLÉÉÉâÇÃïù]
type = Width
trigger1 = 1
edge = 20,0

[State 1411]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .48

[State 1306, 4]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = (Animelem = 6) && (!movecontact)
attr = A, SA
animtype = diagup
guardflag = MA
damage = 123,20
getpower = 45
sparkno = s8035
sparkxy = 0,-60
yaccel = 0.45
pausetime = 16,16
hitsound = S240,0
guardsound = S150,1
guard.velocity = -14
ground.slidetime = 15
guard.sparkno = s8056
ground.hittime = 20
ground.velocity = -6 ,-7
air.velocity = -7,-7
air.hittime = 20
fall = 1
fall.recover = 0
envshake.time = 16
envshake.ampl = 12

[State 1306, 5]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

[State 1306, 5]
type = ChangeState
triggerall = var(59) = 1
trigger1 = movehit = 1
value = 13505
ctrl = 0

;----------------------------
; 1307 Air Minute Spike D
[Statedef 1307]
type	= A
movetype= A
physics = N
ctrl = 0
anim = 1307
poweradd = 146
;juggle = 10
velset = 0,0,0

[State 1307,0]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,20
sparkno = s80350
hitsound = 6,0

[State 810, ï®óùìIÇ»ÉLÉÉÉâÇÃïù]
type = Width
trigger1 = 1
edge = 20,0

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 7,>=0 || MoveGuarded
Value = 0

[State 1425]
Type = SprPriority
Trigger1 = Anim = 1423
Value = -3

[State 1425]
type = VelSet
Trigger1 = AnimElem = 1
x = ifelse(var(13),11.1,7.4)
y = -2.7

[State 1425]
type = VelSet
Trigger1 = AnimElem = 9,= 2
x = 0

[State 1425]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .48

[State 1300, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1300,0

[State 1300, 0]
type = PlaySnd
trigger1 = Time = 6
value = 1300,1

[State 1307, 5]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = (Animelem = 6) && (!movecontact)
attr = A, SA
animtype = DiagUp
damage = 123,20
getpower = 63
sparkno = s8035
guardflag = MA
sparkxy = 0,-60
pausetime = 16,16
yaccel = 0.45
hitsound = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -7,-7 ; 
air.velocity = -7,-7
fall = 1
fall.recover = 0
envshake.time = 16
envshake.ampl = 8

[State 1307, 6]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

;---------------------------------------
; 1700 blackout B Normal
[Statedef 1700]
type = S
movetype = I
physics = N
anim = 1700
poweradd = 83
velset = 0
ctrl = 0

[State 1700, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1700,0

[State 1700, 0]
type = PlaySnd
trigger1 = animelem = 1, = 3
value = 1700,2

[State âeÇÃñ≥å¯âª]
Type = AssertSpecial
Trigger1 = Animelem = 9,<0
Flag = Noshadow
IgnoreHitPause = 1


[State å¯â âπ]
type=PlaySnd
trigger1 = Animelem = 4
value = s1050,10
channel = 1

[State -2]
type = HitBy
Trigger1 = AnimElem=7,<=0
value = SC,NT,ST,HT

[State -2]
type = Veladd
Trigger1 = AnimElem=2,>= 0 && AnimElem=4,< 0
x = 1.5

[State -2]
type = Velset
Trigger1 = AnimElem = 3
x = 10

[State -2]
type = Velset
Trigger1 = AnimElem = 7
x = 3

[State -2]
type = Velset
Trigger1 = AnimElem = 9
x = 0

[State -2]
type = AfterImage
Trigger1 = AnimElem = 2
time = 26
PalBright = 0,0,0
PalContrast = 200,128,128
PalAdd = -30,-50,-50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[State 1700, turn]
type = turn
trigger1 = animtime = 0 && P2dist X < 0

[State 1700, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; --------------------------------------------
; 1710 blackout D Normal
[Statedef 1710]
type = S
movetype = I
physics = N
anim = 1710
velset = 0
poweradd = 83
ctrl = 0

[State 1710, turn]
type = turn
trigger1 = animtime = 0 && P2dist X < 0

[State 1700, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1700,0

[State 1700, 0]
type = PlaySnd
trigger1 = animelem = 1, = 3
value = 1700,2

[State âeÇÃñ≥å¯âª]
Type = AssertSpecial
Trigger1 = Animelem = 9,<0
Flag = Noshadow
IgnoreHitPause = 1

[State -2]
type = PlayerPush
Trigger1 = 1
value = 0

[State -2]
type = HitBy
Trigger1 = AnimElem=7,<=0
value = SC,NT,ST,HT

[State -2]
type = Veladd
Trigger1 = AnimElem=2,>= 0 && AnimElem=4,< 0
x = 2.5

[State -2]
type = Velset
Trigger1 = AnimElem = 3
x = 14

[State -2]
type = Velset
Trigger1 = AnimElem = 7
x = 5

[State -2]
type = Velset
Trigger1 = AnimElem = 9
x = 0

[State -2]
type = AfterImage
Trigger1 = AnimElem = 2
time = 26
PalBright = 0,0,0
PalContrast = 200,128,128
PalAdd = -30,-50,-50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[state -2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State å¯â âπ]
type=PlaySnd
trigger1 = Animelem = 4
value = s1050,10
channel = 1

[State 1710, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
; 1720 blackoutB after eine / iron trigger
[Statedef 1720]
type = S
movetype = I
physics = N
anim = 1720
poweradd = 42
velset = 0,0
ctrl = 0

[State 1720, turn]
type = turn
trigger1 = animtime = 0 && P2dist X < 0

[State 1720, 1]
type = explod
triggerall = time = 0
trigger1 = (prevstateno = 1000) || (prevstateno = 1006)
Anim = 1002
bindtime = 1
pos = 4,-45
shadow = 68,68,68
sprpriority = 2

[State 1700, 0]
type = PlaySnd
trigger1 = Time = 4
value = 1700,0

[State 1700, 0]
type = PlaySnd
trigger1 = animelem = 3, = 3
value = 1700,1

[State âeÇÃñ≥å¯âª]
Type = AssertSpecial
Trigger1 = Animelem = 11,<0
Flag = Noshadow
IgnoreHitPause = 1

[State à⁄ìÆë¨ìx]
type = posadd
trigger1 = AnimElem = 4, >= 0 && animelem = 12,<= 0
x = 8


[State å¯â âπ]
type=PlaySnd
trigger1 = Animelem = 4
value = s1050,10
channel = 1

[State Ç∑ÇËî≤ÇØîªíË]
type = PlayerPush
trigger1 = AnimElem=4,>=0&&AnimElem=12,<0
value = 0

[State écëú]
type = AfterImage
trigger1 = AnimElem = 4
time = 20
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 3
Trans = add1

[State 1700, turn]
type = turn
trigger1 = animtime = 0 && P2dist X < 0

[State 1720, AIkoko]
type= changestate
trigger1 = var(59) = 1
trigger1 = AnimTime = 0 && statetype != A
trigger1 = P2bodydist X = (8,35)
trigger1 = P2movetype != A && P2statetype != L && P2statetype != C
trigger1 = stateno != 409 || stateno != 410
value = 409 ; stand to crouch temporay state

[State 1720, AIkoko]
type= changestate
trigger1 = var(59) = 1
trigger1 = AnimTime = 0 && statetype != A
trigger1 = P2bodydist X = (5,8)
trigger1 = P2movetype != A && P2statetype != L && P2statetype = C
value = 420 ; crouch HP

[State 1720, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------
; 1730 blackout D after iron trigger
[Statedef 1730]
type = S
movetype = I
physics = N
anim = 1730
velset = 0
poweradd = 42
ctrl = 0

[State 1730, turn]
type = turn
trigger1 = animtime = 0 && P2dist X < 0

[State 1730,0]
type = explod
triggerall = time = 0
trigger1 = (prevstateno = 1000) || (prevstateno = 1006)
Anim = 1002
bindtime = 1
pos = 4,-45
shadow = 68,68,68
sprpriority = 2

[State 1710, turn]
type = turn
trigger1 = animtime = 0 && P2dist X < 0

[State 1700, 0]
type = PlaySnd
trigger1 = Time = 4
value = 1700,0

[State 1700, 0]
type = PlaySnd
trigger1 = animelem = 3, = 3
value = 1700,1

[State âeÇÃñ≥å¯âª]
Type = AssertSpecial
Trigger1 = Animelem = 11,<0
Flag = Noshadow
IgnoreHitPause = 1

[State à⁄ìÆë¨ìx]
type = posadd
trigger1 = AnimElem = 4, >= 0 && animelem = 12,<= 0
x = 13


[State å¯â âπ]
type=PlaySnd
trigger1 = Animelem = 4
value = s1050,10
channel = 1

[State Ç∑ÇËî≤ÇØîªíË]
type = PlayerPush
trigger1 = AnimElem=4,>=0&&AnimElem=12,<0
value = 0

[State écëú]
type = AfterImage
trigger1 = AnimElem = 4
time = 20
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 3
Trans = add1

[State 1700, turn]
type = turn
trigger1 = animtime = 0 && P2dist X < 0

[State 1730, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1200]
type = S
movetype = A
physics = N
anim = 1200
ctrl = 0
velset = 0,0,0
poweradd = 200
juggle = 7

[State 1000]
type = nothitby
trigger1 = time >= 8
value = SCA

[State 1000]
type = playsnd
trigger1 = time = 8
value = 6865,15

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
removeongethit = 1
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -50,10

[State 0, ]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "AfterImage"
ID = 1250
stateno = 1250
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000]
type = velset
trigger1 = time = [11,58]
x = 9
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 0 ,0
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -40,-70
hitsound = S220,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
p2facing = 1
sprpriority = 1
envshake.time = 9
envshake.ampl = 9
p1stateno = 1201
p2stateno = 3371
kill = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1203
ctrl = 0

[Statedef 1202]
type = S
movetype = A
physics = N
anim = 1200
ctrl = 0
velset = 0,0,0
poweradd = 200
juggle = 7

[State 0, ]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "AfterImage"
ID = 1250
stateno = 1250
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
removeongethit = 1
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -50,10

[State 1000]
type = nothitby
trigger1 = time >= 8
value = SCA

[State 1000]
type = playsnd
trigger1 = time = 8
value = 6865,15

[State 1000]
type = playsnd
trigger1 = time = 3
value = 6865,56
priority = 5
volume = 255

[State 1000]
type = velset
trigger1 = time = [11,58]
x = 11
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 0 ,0
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -20,-70
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
p2facing = 1
sprpriority = 1
p1stateno = 1204
envshake.time = 12
envshake.ampl = 11
p2stateno = 3218
kill = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1203
ctrl = 0

[Statedef 1250]
type    = S
movetype = I
physics = S
sprpriority = 4
anim = 99999
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 0, PosAdd]
type = PosAdd
triggerall = root,stateno != 2602
trigger1 = 1
x = .5
y = (parentdist y/6)

[State 0, PosAdd]
type = PosAdd
triggerall = root,stateno = 2602
trigger1 = 1
x = -2
y = (parentdist y/6)

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(0) = parent,anim

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(1) = parent,animelemno(0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time
value = var(0)
elem = var(1)

[State 0, VarSet]
type = VarAdd
triggerall = root,stateno != 2602
trigger1 = time
fvar(0) = 11.2

[State 0, VarSet]
type = VarAdd
triggerall = root,stateno = 2602
trigger1 = time
fvar(0) = 9.2

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(1) = 0.015

[State 0, Trans]
type = Trans
triggerall = root,stateno != 2602
trigger1 = 1
trans = add

[State 0, Trans]
type = Trans
triggerall = root,stateno = 2602
trigger1 = 1
trans = sub



[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = floor(0-fvar(0)),floor(0-fvar(0)),floor(0-fvar(0))

[State 0, ]
type = DestroySelf
triggerall = root,stateno != 2602
trigger1 = time >= 30

[State 0, ]
type = DestroySelf
triggerall = root,stateno = 2602
trigger1 = time >= 60

[Statedef 1251]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 99997
SprPriority = 7


[State 0, ]
type = Palfx
trigger1 = 1
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[State 0, ]
type = BindToRoot
trigger1 = time = 0
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 0,1]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1
persistent = 1

[State 0,1]
type = Explod
trigger1 = 1
anim = (parent, anim)
postype = p1
pos = 0,0
scale = 1,1
sprpriority = 7
bindtime = -1
ignorehitpause = 1
removeongethit = 1
supermove = 1
supermovetime = 99999999
pausemovetime = 99999999
ID = 95
trans = add


[State 0,1]
type = ModifyExplod
trigger1 = 1
scale = 1+(time*.01),1+(time*.01)
ID = 95

[State 0, 1]
type = RemoveExplod
trigger1 = Time >= 15
ID = 95

[State 0,1]
type = DestroySelf
trigger1 = Time = 15

[Statedef 1201]
type = S
movetype = A
physics = S
anim = 1203
velset = 0,0,0
ctrl = 0

[State 1000]
type = changeanim
triggerall = prevstateno = 1073
trigger1 = time = 0
elem = 5
value = 1203
ignorehitpause = 1
persistent = 0

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1
scale = .8,.8
vel = 1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = 90,0

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
removeongethit = 1
scale = .8,.8
vel = -1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -30,0


[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,3
volume = 255

[State 0, Width]
type = Width
trigger1 = 1
edge = 60,0
ignorehitpause = 1

[State 700, Effect]
type = Helper
trigger1 = animelem = 1
name = "AfterImage"
stateno = 1251
pos = 0,0
keyctrl = 0
postype = p1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
IgnoreHitPause = 1
persistent = 0

[State 0, ]
type = Palfx
triggerall = prevstateno = 1200
trigger1 = time <= 8
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[State 1000]
type = targetbind
trigger1 = time = 0
pos = 60,0
time = 100
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 2 ,5
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -10,-70
hitsound = S220,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
p2stateno = 3208
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 14
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 2 ,5
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -10,-90
hitsound = S230,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
p2stateno = 3207
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 26
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 10 ,8
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -15,-90
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
envshake.time = 10
envshake.ampl = 12
sprpriority = 1
p2stateno = 3370
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 34
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 13 ,10
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = 0,-40
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
envshake.time = 10
envshake.ampl = 12
sprpriority = 1
p2stateno = 3371
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 36
value = S6865,73
volume = 255
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 39
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 60,0
pausetime = 10 ,10
guard.pausetime = 0,20
sparkno = S8035
ground.velocity = -3,-11
air.velocity = -3,-11
guard.sparkno = s8056
fall = 0
fall.recover = 0
air.fall = 0
air.fall.recover = 0
sparkxy = 0,-90
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
envshake.time = 10
envshake.ampl = 12
p2stateno = 3010
kill = 0

[state 1000]
type = changestate
trigger1 = animtime = 0
ctrl = 1
value = 0

[State 1000]
type = changestate
triggerall = command = "heatdriver"
triggerall = power >= 1000
trigger1 = animelem = 39,>= 0 && animelem = 45,<= 4
value = 3100
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "heatdriver2"
triggerall = power >= 1000
trigger1 = animelem = 39,>= 0 && animelem = 45,<= 4
value = 3100
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "heatdriverSDM"
triggerall = power >= 2000
trigger1 = animelem = 39,>= 0 && animelem = 45,<= 4
value = 3150
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "chaindriver"
triggerall = power >= 1000
trigger1 = animelem = 39,>= 0 && animelem = 45,<= 4
value = 3200
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "chaindriverSDM"
triggerall = command != "chaindriver"
triggerall = power >= 2000
trigger1 = animelem = 39,>= 0 && animelem = 45,<= 4
value = 3250
ignorehitpause = 1

[State 1040, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = power > 1000
triggerall = frontedgedist > 80
trigger1 = animelem = 44
trigger1 = random < 500
value = 3100
ctrl = 0

[State 1040, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = power > 1000
triggerall = frontedgedist < 80
trigger1 = animelem = 45,2
trigger1 = random < 500
value = 3100
ctrl = 0

[State 1040, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = power > 2000
trigger1 = animelem = 45
trigger1 = random < 500
value = 3250
ctrl = 0

[Statedef 1204]
type = S
movetype = A
physics = S
anim = 1206
velset = 0,0,0
ctrl = 0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,3
volume = 255

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1
scale = 1,1
vel = 1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = 90,0

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
removeongethit = 1
scale = 1,1
vel = -1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -30,0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 49
x = 19
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = 1
edge = 60,0
ignorehitpause = 1

[State 700, Effect]
type = Helper
trigger1 = Time = 0
name = "AfterImage"
stateno = 1251
pos = 0,0
keyctrl = 0
postype = p1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
IgnoreHitPause = 1
persistent = 0

[State 0, ]
type = Palfx
trigger1 = time <= 8
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[State 1000]
type = targetbind
trigger1 = time = 0
pos = 60,0
time = 100
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 12,0
pausetime = 0 ,5
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -10,-90
hitsound = S220,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
p2stateno = 3207
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 14
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 12,0
pausetime = 5 ,5
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -10,-90
hitsound = S230,0
guardsound = S150,0
ground.type = High
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
p2stateno = 3207
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 19
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 12,0
pausetime = 3 ,5
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = 0,-40
hitsound = S230,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
p2stateno = 3208
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 25
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 4 ,0
guard.pausetime = 0,20
sparkno = S8035
ground.velocity = -3,-11
air.velocity = -3,-11
guard.sparkno = s8056
fall = 0
fall.recover = 0
air.fall = 0
air.fall.recover = 0
sparkxy = -20,-90
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
envshake.time = 18
envshake.ampl = 12
p2stateno = 3258
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 34
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 3 ,2
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = 0,-40
hitsound = S230,0
ground.velocity = -1.5,-6
air.velocity = -1.5,-6
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 41
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 80,0
pausetime = 40,40
guard.pausetime = 0,20
sparkno = S8025
guard.sparkno = s8056
sparkxy = -20,-80
sprpriority = 1
hitsound = S240,0
guardsound = S150,0
ground.type = High
ground.velocity = -1,-12
air.velocity = -1,-12
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
p2stateno = 3811
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 1

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,stateno = 3811)
helpertype = normal ;player
name = "Burning"
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 41,>= 0
value = 2200,4
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 40
value = 6865,40
volume = 255

[State 0, EnvColor]
type = EnvColor
trigger1 = animelem = 41,>= 0
value = 255,255,255
time = 3
ontop = 1
ignorehitpause = 1
persistent = 0


[State 1000]
type = explod
trigger1 = animelem = 41,>= 0
anim = 937
bindtime = 1
postype = p1
pos = 80,-85
sprpriority = 2
ownpal = 1
removetime = -2
vel = 0,-.5
scale = .8,.8
persistent = 0
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = (animelem = 32,>= 0) && (animelem = 37,<= 1)
x = 5
y = 0

[State 1000]
type = changestate
triggerall = command = "Burning Mirage"
triggerall = power >= 1000
trigger1 = (time = [72,80]) && (movehit)
trigger2 = (animelem = 41,>= 0) && (movehit)
value = 2500

[State 1000]
type = changestate
triggerall = command = "chaindriver"
triggerall = power >= 1000
trigger1 = animelem = 41,>= 0 && (movehit)
value = 3200

[State 1000]
type = changestate
triggerall = command = "heatdriver" || command = "heatdriver2"
triggerall = power >= 1000
trigger1 = animelem = 41,>= 0 && (movehit)
value = 3100

[State 1000]
type = changestate
triggerall = command = "heatdriverSDM"
triggerall = power >= 2000
trigger1 = animelem = 41,>= 0 && (movehit)
value = 3150

[State 1000]
type = changestate
triggerall = command = "chaindriverSDM"
triggerall = power >= 2000
trigger1 = animelem = 41,>= 0 && (movehit)
value = 3250

[State 1040, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = power = [1000,2000)
trigger1 = time = ifelse(frontedgebodydist < 50,128,120)
value = 3200
ctrl = 0

[State 1040, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = power >= 2000
trigger1 = time = ifelse(frontedgebodydist < 50,128,120)
value = ifelse(random <= 500,3200,3250)
ctrl = 0


[state 1000]
type = changestate
trigger1 = animtime = 0
ctrl = 1
value = 0

[Statedef 1203]
type = S
movetype = I
physics = S
anim = 1209
velset = 0,0,0
ctrl = 0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,3
volume = 255

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 7
y = 0
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1
scale = .6,.6
vel = 1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = 40,0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 25
x = 0
y = 0




[State 700, Effect]
type = Helper
trigger1 = Time = 0
name = "AfterImage"
stateno = 1251
pos = 0,0
keyctrl = 0
postype = p1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
bindtime = 25
IgnoreHitPause = 1
persistent = 0

[State 0, ]
type = Palfx
trigger1 = time <= 5
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1207
ignorehitpause = 1
removetime = -2
postype = p1
pos = 0,0
removeongethit = 1
ownpal = 1
sprpriority = 2

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1208
ignorehitpause = 1
removetime = -2
postype = p1
pos = 0,0
removeongethit = 1
ownpal = 1
sprpriority = 2

[State 1000]
type = nothitby
trigger1 = time <= 19
value = SCA

[State 1000]
type = changestate
trigger1 = animtime = 0
ctrl = 1
value = 0


;===========================================================
;===========================================================
; Standing light punch
[Statedef 200]
type = S
movetype = A
physics = S
anim = 200
velset = 0
ctrl = 0
juggle = 9 + var(33)

[State 200, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 400)
value = 400,0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 200, 3]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S, NA
animtype  = Light
damage    = 30
givepower = 63
guardflag = M
pausetime = 12,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -15,-86
hitsound   = S200,0
guardsound = S150,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
ground.cornerpush = 1
air.velocity = -3,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; standing light kick
[Statedef 210]
type = S
movetype = A
physics = S
anim = 210
velset = 0,0
ctrl = 0
juggle = 9

[State 210, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 400)
value = 400,0

[State 210, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 210, 3]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S, NA
animtype  = Light
damage    = 30
givepower = 63
guardflag = L
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-46
hitsound   = S210,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
ground.cornerpush = 1
air.velocity = -3,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "A"
triggerall = Enemy,Alive = 1
trigger1 = Time > 8
trigger1 = Time < 20
trigger2 = movehit
value = 11504
ctrl = 0
[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "B"
triggerall = Enemy,Alive = 1
trigger1 = Time > 8
trigger1 = Time < 20
trigger2 = movehit
value = 11505
ctrl = 0

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
; Standing strong punch (far)
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
velset = 0
ctrl = 0
juggle = 9

[State 220, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 220, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 220 , 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = (AnimElem = 6) && (!movecontact)
attr = S, NA
animtype = Med
getpower = 125
givepower = 80
damage = 111
guardflag = M
hitflag = MAF
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-80
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5
guard.velocity = -3
air.velocity = -5,-1
airguard.velocity = -5,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "D"
triggerall = Enemy,Alive = 1
triggerall = var(20) = 0
trigger1 = Time > 12
trigger1 = Time < 30
trigger2 = movehit
value = 11501
ctrl = 0

[State 220, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; Standing strong kick
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
velset = 0
ctrl = 0
juggle = 9

[State 230, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 230, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 230, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = Med
getpower = 125
givepower = 80
damage = 125
guardflag = M
hitflag = MAF
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-80
hitsound = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -7
guard.velocity = -5
air.velocity = -5,-3
airguard.velocity = -4,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; Crouching light punch
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
velset = 0
ctrl = 0
juggle = 9

[State 400, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 500)
value = 400,0

[State 400, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 4,>=0
Value = 0

[State 400 , 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 30
animtype  = Light
getpower  = 63
givepower = 15
hitflag = MA
guardflag = M
pausetime = 12,12  ;12
sparkxy = -3,-40
sparkno = s8035
hitsound   = S200,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
ground.cornerpush = 1
air.velocity = -2,-3
air.animtype = Back
down.velocity = -4,0
down.hittime = 20
air.fall = 1
fall.recover = 0 

[State 400, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movecontact
value = 1000

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; AI Stand to Crouch temporary
; common state is state 10, we use state 409
; purpose: because stand to crouch takes 2 ticks to archieve. 

[Statedef 409]
type    = C
physics = C
anim = 10

[State 409, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 409, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(59) = 1
;value = 11 ; regular crouch
value = 410 ; crouching light kick

;---------------------------------------------------------------------------
; Crouching light kick
[Statedef 410]
type = C
movetype = A
physics = C
anim = 410
velset = 0
ctrl = 0
juggle = 9

[State 410, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 500)
value = 400,0

[State 410, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 30
getpower  = 63
givepower = 15
hitflag = MA
animtype = light
guardflag = L
pausetime = 9,9 ;12
sparkno = s8035
sparkxy = -5,-6
hitsound   = S210,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5.5
ground.cornerpush = 1
air.velocity = -2,-3
air.animtype = Back
guard.velocity = -5
air.fall = 1
fall.recover = 0 

[State 410, 4]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = p2bodydist X < 4
trigger1 = movehit || moveguarded
value = 400

[State 410, 4]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = movecontact
value = ifelse(random <= 500,1006,1050) ; eine trigger

[State 410, 4]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = movecontact
trigger1 = random < 500
value = 1050

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Crouching hard punch
[Statedef 420]
type = C
movetype = A
physics = C
anim = 420
velset = 0
ctrl = 0
juggle = 9

[State 400, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 400, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = (AnimElem = 5) && (!movecontact)
attr = C, NA
animtype = Med
damage = 98
getpower  = 63
givepower = 80
guardflag = M
pausetime = 11,11
sparkxy = -10,-50
sparkno = s8035
hitsound   = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = low
ground.slidetime = 17
ground.hittime = 15
ground.velocity = -8
ground.cornerpush.veloff = -15
air.velocity = -4,-3
air.animtype = Back
airguard.velocity = -3,-1.5
air.fall = 1
fall.recover = 0 

[State 420, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movecontact
trigger1 = p2statetype != A
value = 301

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Crouching hard kick
[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
velset = 0
juggle = 10
ctrl = 0

[State 400, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 400, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 430 , 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage    = 70
getpower  = 63
animtype = Med
givepower = 55
hitflag = MA
guardflag = L
pausetime = 11,11
sparkxy = -10,-25
sparkno = s8035
hitsound   = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -1,-7
yaccel = 0.55
air.velocity = -1.2,-3
air.animtype = Back
guard.velocity = -5
fall = 1
fall.recover = 0

[State 420, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movehit
trigger1 = p2statetype != A
value = 1710 ;1300

[State 430, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = moveguarded
value = 301

[State 430, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Jumping light punch
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
ctrl = 0
juggle = 9

[State 600, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,0

[State 600, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 600, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
animtype = light
damage = 30
getpower  = 63
givepower = 30
guardflag = HA
pausetime = 10,12
sparkxy = -10,-50
sparkno = s8035
hitsound   = S200,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = low
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -3
air.velocity = -3,-2
air.animtype = Back
airguard.velocity = -2.5,-1
fall.recover = 0 

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

; Jumping light kick
[Statedef 610]
type = A
movetype = A
physics = A
ctrl = 0
juggle = 9

[State 610, 0]
type = changeanim
trigger1 = time = 0
value = ifelse(vel X = 0,610,615)

[State 610, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,0

[State 610, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 610, 3]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = A, NA
animtype  = light
damage    = 53
getpower  = 63
givepower = 10
guardflag = HA
priority = 5
pausetime = 10,12
sparkxy = -10,-50
sparkno = s8035
hitsound   = S210,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3
air.velocity = -1.3,-3
air.animtype = Back
fall.recover = 0 

[State 610, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

; Jumping strong punch
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
ctrl = 0
juggle = 9

[State 620, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 620, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 620 , 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage    = 83
animtype  = Med
getpower  = 63
givepower = 45
guardflag = HA
priority = 5
pausetime = 10,12
sparkxy = -10,-58
sparkno = s8035
hitsound   = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -1.3,-3
air.animtype = Back
fall.recover = 0 

[State 620,6]
type = ChangeState
trigger1 = (var(59) >= 1) && (movecontact) && (Pos Y >= -10)
value = 644 ; AI land and combo state

[State 620, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

; Jump_D
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
ctrl = 0
juggle = 4

[State 630, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 630, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 630 , 2]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = (AnimElem = 5) && (!movecontact)
trigger3 = (AnimElem = 6) && (!movecontact)
attr = A, NA
damage    = 60
animtype  = Med
getpower  = 63
givepower = 45
guardflag = HA
priority = 6
pausetime = 10,12
sparkxy = -10,-51
sparkno = s8035
hitsound   = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -2,-3
air.animtype = Back
fall.recover = 0 

[State 630, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 630,6]
type = ChangeState
triggerall = p2statetype != A
trigger1 = (var(59) >= 1) && (movecontact) && (Pos Y >= -10)
value = 644

[State 630,6]
type = ChangeState
triggerall = var(59) = 1
triggerall = p2statetype = A
trigger1 = movehit
value = 1307

;----------------------------------
; temp AI jump-in combo state
[Statedef 644]
type = S
movetype = I
physics = S
ctrl = 0
anim = 47

[State 644,1]
type = posset
trigger1 = time = 0
y = 0

[State 644,2]
type = velset
trigger1 = time = 0
y = 0

[State 644,3]
type = ChangeState
trigger1 = time = 4
trigger1 = P2bodydist X = [0,18]
value = 270

[State 644,3]
type = ChangeState
trigger1 = time = 3
trigger1 = P2bodydist X = [19,34]
value = 430

[State 644,3]
type = ChangeState
trigger1 = animtime = 0
;trigger1 = (P2bodydist X > 34) || (P2bodydist X < 0)
value = 0
ctrl = 1

;-----------------------------------
; close attacks 

; stand A close
[Statedef 250]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 250
juggle  = 9

[State 250, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,0

[State 250, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 250 , 3]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S, NA
animtype  = Light
damage    = 30
getpower = 63
givepower = 12,6
guardflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-90
hitsound   = S200,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
ground.cornerpush = 1
air.velocity = -3,-2
air.cornerpush = 1
air.juggle = 9
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 250, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movecontact
value = 260

[State 250 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Standing B (close)
;---------------
[Statedef 260]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 260
juggle  = 9

[State 260, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,0

[State 260, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 260 , 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Light
damage    = 33
getpower = 63
givepower = 12,6
guardflag = L
pausetime = 12,12
sparkno = s8035
sparkxy = -16,-30
hitsound   = S210,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 9
ground.hittime  = 6 ; 9 KOF99 default
ground.velocity = -5
ground.cornerpush = 1
air.velocity = -3,-2
air.cornerpush = 1
air.juggle = 9
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 260, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movehit
value = 1500
;value = 1503

[State 260, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = moveguarded
value = 1000

[State 260 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
; Standing C (close)

[Statedef 270]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 270
juggle  = 9 + var(13)

[State 270, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 270, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 270 , 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = medium
damage    = 20
getpower  = 63
givepower = 45
hitflag = MA
guardflag = M
pausetime = 6,10   ;12,12
sparkxy = -25,-60
sparkno = s8035
hitsound   = S200,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = low
ground.slidetime = 5
ground.hittime  = 15 ;17
ground.velocity = 0
ground.cornerpush.veloff = 0
air.velocity = -2,-3
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 270 , 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = 40
getpower  = 63
givepower = 45
guardflag = M
pausetime = 11,11    ;12,12
sparkxy = -30,-70
sparkno = s8035
hitsound   = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 12 ; 17
ground.hittime  = 15 ;17
ground.velocity = -5
ground.cornerpush.veloff = -7
air.velocity = -2,-3
air.cornerpush = 1
air.juggle = 9 + var(13)
air.animtype = Back

[State 270, 4]
type = ChangeState
trigger1 = var(50) = 1 ; AI focus use only
trigger1 = Random <= 450
trigger1 = p2statetype = S && (movehit) && power >= 1000 && (p2bodydist X = [0,1]) ;&& (hitcount < 2)
value = 1000 - (random > 450)*705

[State 270, 4]
type = ChangeState
triggerall = var(59) >= 1
triggerall = p2statetype = C
triggerall = movecontact || movehit || moveguarded
trigger1 = hitcount > 2
trigger1 = random <= 400
trigger2 = hitcount >= 2
;trigger1 = p2bodydist X > 0
value = 301

[State 270, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = random <= 500
trigger1 = moveguarded
trigger1 = p2bodydist X > 0
value = 1000

[State 270, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = random > 500
trigger1 = moveguarded
value = 301

[State 270, 4]
type = ChangeState
triggerall = var(59) >= 1
trigger1 = hitcount >= 2 ; && power >= 1000
trigger1 = movehit
trigger1 = p2bodydist X > 0
trigger1 = random < 300
value = 11615

[State 270, 4]
type = ChangeState
triggerall = var(59) >= 1
trigger1 = hitcount >= 2 ; && power >= 1000
trigger1 = movehit
trigger1 = p2bodydist X > 0
trigger1 = random < 700
value = 290

[State 270, 4]
type = ChangeState
triggerall = var(59) >= 1
trigger1 = p2statetype != C
trigger1 = (power < 1000)
trigger1 = movehit
value = 313; 1300

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "B"
triggerall = Enemy,Alive = 1
trigger1 = Time > 10
trigger1 = Time < 20
trigger2 = movehit
value = 11502
ctrl = 0

[State 270 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
; stand D close

[Statedef 280]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 280
juggle  = 9

[State 280, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 280, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 280 , 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Medium
damage    = 87
getpower  = 63
givepower = 50
hitflag = MA
guardflag = M
pausetime = 12,12
sparkxy = -5,-40
sparkno = s8035
hitsound   = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 17
ground.hittime  = 15
ground.velocity = -7
ground.cornerpush.veloff = -13
air.velocity = -2,-3
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 280, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movecontact
trigger1 = p2bodydist X <= 18
value = 1006
ctrl = 0

[State 280, 3]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movecontact
trigger1 = p2bodydist X > 18
value = 301

[State 280, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 290]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 28
ctrl     = 0
velset   = 0,0
anim     = 240
sprpriority = 2
facep2 = 1

[State -2]
Type = PlaySnd
Trigger1 = AnimElem = 5
value = 600,1
volume = 0

[State -2]
Type = PlaySnd
Trigger1 = random < 500
Trigger1 = AnimElem = 3
value = 221,13
volume = 255

[state -2]
type = HitDef
Trigger1 = Time = 0
animtype = Hard
attr = S,NA
damage = 20,0
pausetime = 12,12
getpower = 10
guardflag = MA
sparkno = S8035
guard.dist = 90
guard.sparkno = S8056
sparkxy = -5,-36
hitsound = s230,0
guardsound = s150,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2.5
air.velocity = -4,-5

[state -2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = command = "holdfwd"
triggerall = command = "B"
trigger1 = animelem = 5,>= 0
trigger1 = movehit = 1
value = 295

[State 1000]
type = changestate
triggerall = Var(59) = 1
trigger1 = animelem = 5,>= 0
trigger1 = movehit = 1
value = 295
persistent = 0

[Statedef 295]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 28
ctrl     = 0
velset   = 0,0
anim     = 290
sprpriority = 2
facep2 = 1

[State -2]
Type = PlaySnd
Trigger1 = AnimElem = 2
value = 600,1
volume = 255

[State -2]
Type = PlaySnd
Trigger1 = random < 500
Trigger1 = AnimElem = 2
value = 400,1
volume = 255

[state -2]
type = HitDef
Trigger1 = Time = 0
animtype = Hard
attr = S,NA
damage = 20,0
pausetime = 14,14
getpower = 14
guardflag = MA
sparkno = S8035
guard.dist = 90
guard.sparkno = S8056
sparkxy = -50,-80
hitsound = s220,0
guardsound = s150,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2.5
air.velocity = -4,-5
envshake.time = 14
envshake.ampl = 8

[state -2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) >= 1
trigger1 = movehit
trigger1 = ifelse(power <= 1000,random <= 500,random <= 700)
value = 1050

[State 1000]
type = changestate
triggerall = var(59) >= 1
trigger1 = movehit
trigger1 = ifelse(power <= 1000,random <= 500,random <= 300)
value = 1503

;====================================
; Special attacks
;====================================
; 300 one inch
[Statedef 300]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 300
velset = 0,0
juggle  = 9 + var(13)

[State 300, 0]
type = playsnd
trigger1 = time = 0
value = 221,13

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
persistent = 0
ignorehitpause = 1



[State 300 , 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Medium
damage    = 77
getpower  = 146
givepower = 25
guardflag = M
pausetime = 12,12
sparkxy = -10,-70
sparkno = s8035
hitsound   = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5.5,-5
guard.cornerpush.veloff = -14
air.velocity = -5.5,-5
air.animtype = Back
yaccel = .66
fall = 1
air.fall = 1
fall.recover = 0
P2stateno = 305
air.fall = 1
fall.recover = 0 

[State 300, 2]
type = EnvShake
trigger1 = AnimElem = 6
ampl = -4
time = 10

[State 300 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------Type 2 (cancelled version)
; 1 inch cancelled
[Statedef 301]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 301
velset = 0,0
juggle  = 9 + var(13)

[State 301, 0]
type = playsnd
trigger1 = time = 0
value = 221,13

[State 301 , 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Medium
damage    = 80 ;77
getpower  = 146
givepower = 25
guardflag = M
pausetime = 12,12
sparkxy = -10,-70
sparkno = s8035
hitsound   = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6
ground.cornerpush.veloff = -15
air.velocity = -5,-2
air.juggle = 9 + var(13)
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 301, 3]
type = EnvShake
trigger1 = AnimElem = 6
ampl = -5
time = 10

[State 301, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = Power < 1000
trigger1 = PrevStateNo = 420
trigger1 = movecontact
value = ifelse(random < 400,1503,1300)

[State 301, 4]
type = ChangeState
triggerall = var(59) >= 1
trigger1 = (movecontact) && (frontedgebodydist <= 22)
trigger2 = (p2bodydist X >= 23) && (P2statetype = C)
trigger2 = moveguarded
trigger3 = moveguarded
value = 1000 + (random <= 400 && moveguarded && FrontEdgeDist > 110)*700
ctrl = 0

[State 301, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = power >= 1000 && p2life > 120
trigger1 = movehit
value = ifelse(random < 500,3100,1503)
ctrl = 0

[State 301, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movehit
value = 1300 - (p2statetype = C)*300
ctrl = 0

[State 301 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------
; 305 been hit by normal one inch
[statedef 305]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 305, 0]
type = changeanim2
trigger1 = time = 0
value = 305

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = random < 700
value = 5000,7+(Random % 3)
volume = 255

[State 305, 0]
type = ForceFeedBack
trigger1 = hitshakeover = 0
time = 1
waveform = square

[State 305, 0]
type = ChangeState
trigger1 = hitshakeover = 1
value = 306

;part2
[Statedef 306]
type = A
movetype= H
physics = N
ctrl = 0

[State 306, 1]
type = VelAdd
trigger1 = 1
y = ifelse( GetHitVar(yaccel)!=0 , GetHitVar(yaccel) , 0.45)

[State 306, 0]
type = changeanim2
trigger1 = time = 0
value = 305

[State 305, 2]
type = ChangeAnim
trigger1 = anim = 305
trigger1 = animtime = 0
trigger1 = AnimExist(5035)
value = 5030

[State 305, 2]
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animtime = 0
trigger1 = AnimExist(5035)
value = 5035

[State 305, 2]
type = ChangeAnim
triggerall = Anim = 5030 || Anim = 5035
trigger1 = AnimTime = 0
trigger1 = AnimExist(5050)
value = 5050

[State 305, 2]
type = ChangeAnim
triggerall = Anim = 5050
trigger1 = AnimTime = 0
trigger1 = AnimExist(5060)
value = 5060

[State 1042, 0]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1

[State 1042, 10]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y > 15
value = 307

;slide in ground
[Statedef 307]
type = S
movetype = H
physics = N
velset = -5,0
ctrl = 0

[State 307, 1]
type = changeanim2
trigger1 = time = 0
value = 307

[State 307, 0]
type = posset
trigger1 = time = 0
y = 0

[State 307, veladd]
type = veladd
trigger1 = time >= 0
trigger1 = time <= 14
x = 0.32

[State 307, veladd]
type = velset
trigger1 = animelem = 2
x = 0

[State 307, self]
type = selfstate
trigger1 = alive
trigger1 = animtime = 0
value = 5120

[State 307, self]
type = selfstate
trigger1 = !alive
trigger1 = animtime = 0
value = 5150

;------------------
; 310 FWD+B on ground
[Statedef 310]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 310
velset = 0,0,0

[State 310, 1]
type = playsnd
trigger1 = time = 0
value = 221,13

[State 310, 3]
type = posadd
trigger1 = AnimElem = 2, = 0
trigger2 = animelem = 3, = 0
x = 16

[State 310, 3]
type = posadd
trigger1 = AnimElem = 4, = 0
x = 8

[State 310 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 311
ctrl = 1

; 311 knees kick in air
[Statedef 311]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 311
juggle  = 9 + var(13)

[State 311, 1]
type = posadd
trigger1 = AnimElem = 1, = 0
x = 3
y = -3

[State 311, 1]
type = posadd
trigger1 = AnimElem = 1, = 1
x = 4
y = -2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 2, = 0
x = 12
y = -2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 1, = 2
trigger2 = AnimElem = 2, = 1
x = 3
y = -2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 2, = 2
trigger2 = AnimElem = 2, = 3
x = 3
y = -1

[State 311, 1]
type = posadd
trigger1 = AnimElem = 3, = 0
x = 2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 3, = 1
x = 3

[State 311, 1]
type = posadd
trigger1 = AnimElem = 3, = 2
trigger2 = AnimElem = 3, = 3
y = 1

[State 311, 1]
type = posadd
trigger1 = AnimElem = 4, = 0
trigger2 = AnimElem = 4, = 1
y = 2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 4, = 2
y = 3

[State 311, 1]
type = posadd
trigger1 = AnimElem = 5, = 0
y = 4

[State 311 , 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
animtype  = Medium
damage    = 77
getpower  = 146
givepower = 25
guardflag = H ; overhead attack
pausetime = 12,12
sparkxy = -16,-84
sparkno = s8035
hitsound   = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -6
air.velocity = -2.2,-3.2
air.animtype = Back
envshake.time = 10 
envshake.ampl = 2

[State 311, 8]
type = ChangeState
trigger1 = animelemtime(5) = 1
value = 312

; 312 knees kick landing
[Statedef 312]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 312
velset = 0,0,0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255

[State 312 , 3]
type = posset
trigger1 = time = 0
y = 0

[State 312, 3]
type = VarSet
trigger1 = AnimTime = 0
var(2) = 0

[State 312 , 3]
type = ChangeState
triggerall = !var(59)
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 312 , 3]
type = ChangeState
triggerall = var(59) = 1
triggerall = power < 1000
triggerall = prevstateno = 1307
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 312 , 3]
type = ChangeState
triggerall = var(59) = 1
triggerall = prevstateno != 1307
triggerall = prevstateno != 963
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 312 , 3]
type = ChangeState
triggerall = prevstateno = 1307
triggerall = var(59) = 1
triggerall = power >= 1000
trigger1 = AnimTime = 0
value = ifelse(p2bodydist x >= 40,0,2998)
ctrl = ifelse(p2bodydist x >= 40,1,0)

[State 312 , 3]
type = ChangeState
triggerall = prevstateno = 963
triggerall = var(59) = 1
trigger1 = AnimTime = 0
value = 1050
ctrl = 0

;------------------
; type 2
;------------------
; 313 knees kick in ground cancelled
[Statedef 313]
type    = S
movetype= A
physics = S
juggle  = 9
ctrl = 0
anim = 310
velset = 0,0,0

[State 313, 0]
type = playsnd
trigger1 = time = 0
value = 221,13

[State 310, 3]
type = posadd
trigger1 = AnimElem = 2, = 0
trigger2 = animelem = 3, = 0
x = 16

[State 310, 3]
type = posadd
trigger1 = AnimElem = 4, = 0
x = 8

[State 313 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 314
ctrl = 1

; 311 knees kick in air
[Statedef 314]
type    = A
movetype= A
physics = N
juggle  = 9
poweradd= 30
ctrl = 0
anim = 311

[State 311, 1]
type = posadd
trigger1 = AnimElem = 1, = 0
x = 3
y = -3

[State 311, 1]
type = posadd
trigger1 = AnimElem = 1, = 1
x = 4
y = -2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 2, = 0
x = 12
y = -2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 1, = 2
trigger2 = AnimElem = 2, = 1
x = 3
y = -2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 2, = 2
trigger2 = AnimElem = 2, = 3
x = 3
y = -1

[State 311, 1]
type = posadd
trigger1 = AnimElem = 3, = 0
x = 2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 3, = 1
x = 3

[State 311, 1]
type = posadd
trigger1 = AnimElem = 3, = 2
trigger2 = AnimElem = 3, = 3
y = 1

[State 311, 1]
type = posadd
trigger1 = AnimElem = 4, = 0
trigger2 = AnimElem = 4, = 1
y = 2

[State 311, 1]
type = posadd
trigger1 = AnimElem = 4, = 2
y = 3

[State 311, 1]
type = posadd
trigger1 = AnimElem = 5, = 0
y = 4

[State 314 , 1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
animtype  = Medium
damage    = 50
getpower  = 146
givepower = 25
guardflag = M ; cancelled type is NOT overhead
pausetime = 12,12
sparkxy = -16,-84
sparkno = s8035
hitsound   = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -6
air.velocity = -2.2,-3.2
air.animtype = Back
envshake.time = 10 
envshake.ampl = 2

[State 314, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = movecontact
value = 1302

[State 314, 8]
type = ChangeState
trigger1 = animelemtime(5) = 1
value = 315

; 312 knees kick landing
[Statedef 315]
type    = S
movetype= I
physics = S
juggle  = 9
ctrl = 0
anim = 312
velset = 0,0,0

[State 315 , 3]
type = posset
trigger1 = time = 0
y = 0

[State 315 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------
; 321 CD during guard
[Statedef 321]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 320
velset = 0,0
poweradd = -1000
juggle  = 1 ; guard cancel

[State 321,1]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 600,1
persistent = 0

[State 321, 0]
type = playsnd
trigger1 = time = 0  && random < 800
value = 700,0

[State 321, 4]
type = Explod
trigger1 = time = 0
anim = 820
pos = 30,-90
sprpriority = 2
bindtime = 1
ownpal = 1

[State 321, 2]
type = HitBy
trigger1 = Time >= 0
value = SCA, AT

[State 321, 3] ;Flash
type = EnvColor
Trigger1 = Time = 0
value = 240,240,240
under = 1
time = 2

[State 330 , 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Hard
damage    = 1
getpower  = 0
givepower = 30
pausetime = 16,16
sparkxy = -10,-74
sparkno = s8035
hitflag = MA
guardflag = MA
hitsound   = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -5,-4
air.velocity = -5,-4
air.animtype = Back
fall = 1
fall.recover = 0

[State 331 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------
; 240 CD regular
[Statedef 240]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 320
velset = 0,0,0
juggle  = 15

[State 240,1]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 600,1
persistent = 0

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 240, 0]
type = playsnd
trigger1 = time = 0  && random < 700
value = 700,0

[State 240 , 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Hard
damage    = 141
getpower  = 167
givepower = 30
priority = 6
pausetime = 16,16
sparkxy = -10,-74
sparkno = s8035
hitflag = MA
guardflag = MA
hitsound   = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
air.juggle = 15
ground.velocity = -5,-4
air.velocity = -5,-4
air.animtype = Back
fall = 1
fall.recover = 0

[State 240 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
; 650 CD hit high in air
; jump CD
[Statedef 650]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 650
juggle  = 9 + var(13)

[State 650, 2]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 600,1
persistent = 0

[State 650, 0]
type = playsnd
trigger1 = time = 0  && random < 700
value = 700,0

[State 650 , 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Hard
damage    = 120
getpower  = 167
givepower = 30
priority = 6
pausetime = 10,12
sparkxy = -10,-74
sparkno = s8035
guardflag = HA
yaccel = 0.4
hitsound   = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -5,-6
air.juggle = 9
air.velocity = -5,-6
air.animtype = Back
fall = 1
fall.recover = 0

[State 650 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;=======================================================
; Throws
;=======================================================
; 370 throw
[Statedef 370]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 370

[State 370, 1]
type = HitDef
Trigger1 = AnimElem = 1
attr = S, NT
givepower = 40
hitflag = M-
priority = 2, Miss
snap = 24, 0, 0, 1
sparkno = s7080
sparkxy = -20,-70
p2facing = 1
p1stateno = 391
p2stateno = 392

[State 370, end1]
type = changestate
trigger1 = var(59) >= 1
trigger1 = animtime = 0
value = 105
ctrl = 1

[State 370, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------
[Statedef 371] ;ßÅE≠
type = S
movetype = I
physics = N
ctrl = 0
anim = 371

[State 371, 0]
type = Sprpriority
trigger1 = Animelem >= 3
value = -1

[State 371, 1]
type = Width
trigger1 = AnimElem = 1
edge = 40, 0

[State 371, 2]
type = PlaySnd
trigger1 = time = 0
value = 370,0

[State 371, 2]
type = PlaySnd
trigger1 = animelem = 5
value = 400,1

[State 371, 2]
type = PlaySnd
trigger1 = animelem = 7
value = 220,0

[State 371, 3]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 371, 4]
type = gamemakeanim
trigger1 = animelem = 7
value = 7
pos = 28, -46

;ºƒ§‚∞ ß@(≥QßÅEX)
[Statedef 372]
type = S
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 372, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 372

[State 372, 2] 
type = Width
trigger1 = AnimElem = 1, >= 0
edge = 0, 0

[State 372, 3]
type = LifeAdd
Trigger1 = AnimElem = 4
value = -120

[State 372, 4]
type = SelfState
trigger1 = animtime = 0
value = 5100
ctrl = 0


;--------------
; 380 throw D
[Statedef 380]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 380

[State 380, 1]
type = HitDef
Trigger1 = AnimElem = 1
attr = S, NT
givepower = 40
hitflag = M-
priority = 2, Miss
snap = 27, 0, 0, 1
sparkno = s7080
sparkxy = -20,-70
p2facing = 1
p1stateno = 381
p2stateno = 382

[State 380, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------
[Statedef 381] ;DìäÇ∞
type = S
movetype = I
physics = N
ctrl = 0
anim = 381

[State 381, 2]
type = PlaySnd
trigger1 = time = 0
value = 370,0

[State 381, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 400,1

[State 371, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 220,0

[State 381, 1]
type = Width
trigger1 = AnimElem = 1
edge = 40, 0

[State 381, 2]
type = turn
trigger1 = animelem = 11
value = 1

[State 381, 3]
type = targetbind
trigger1 = animelem = 4
pos = -20, -70


[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 8035
ID = 8035
pos = -20,-2
postype = p2  ;p2,front,back,left,right
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = 2
ownpal = 1
ignorehitpause = 1

[State 381, 5]
type = posadd
trigger1 = animelem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
x = 8

[State 381, 5]
type = posadd
trigger1 = AnimElem = 10
x = 4

[State 381, 5]
type = posadd
trigger1 = AnimElem = 11
x = -8

[State 381, 6]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------
;ºƒ§‚∞ ß@(≥QßÅEX)
[Statedef 382]
type = S
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 382, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 382

[State 382, 2]
type = posadd
trigger1 = animelem = 2
x = 14

[State 382, 3]
type = posadd
trigger1 = animtime = 0
y = 60

[State 382, 4]
type = Width
trigger1 = AnimElem = 1, >= 0
edge = 0, 30

[State 382, 5]
type = LifeAdd
Trigger1 = AnimElem = 4
value = -120

[State 382, 6]
type = VelAdd
Trigger1 = AnimElem = 5
x = 4
y = -1

[State 382, 7]
type = SelfState
trigger1 = animtime = 0
value = 5050
ctrl = 0


; 390 throwÅ@ÉXÉpÉCÉNÉâÉCÉh
[Statedef 390]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 370

[State 370, 1]
type = HitDef
Trigger1 = AnimElem = 1
numhits = 0
attr = S, NT
givepower = 40
hitflag = M-
priority = 2, Miss
snap = 24, 0, 0, 1
sparkno = 0
sparkxy = -10,-80
p2facing = 1
p1stateno = 391
p2stateno = 392

[State 370, end1]
type = changestate
trigger1 = var(59) >= 1
trigger1 = animtime = 0
value = 105
ctrl = 1

[State 370, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------ìoÇ¡ÇƒèRÇË
[Statedef 391]
type = S
movetype = A
physics = N
ctrl = 0
anim = 391

[State 371, 0]
type = Sprpriority
trigger1 = Animelem >= 3
value = 2

[State 371, 1]
type = Width
trigger1 = AnimElem = 1
edge = 40, 0

[State 371, 2]
type = PlaySnd
trigger1 = time = 0
value = 370,0

[State 371, 2]
type = PlaySnd
trigger1 = animelem = 9
value = 1040,1

[State 371, 2]
type = PlaySnd
trigger1 = animelem = 14
value = 47,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 8035
ID =8035
pos = -16,-30
postype = p2  ;p2,front,back,left,right
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 8035
ID =8035
pos = -22,-50
postype = p2  ;p2,front,back,left,right
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ownpal = 1
ignorehitpause = 1


[State 200, 3]
type = HitDef
trigger1 = animelem = 3
persistent = 0
numhits = 0
attr = S, NA
animtype  = Light
damage    = 30
givepower = 0
;guardflag = M
pausetime = 4,4
sparkno = -1
sparkxy = -12,-30
hitsound   = S210,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = High
ground.slidetime = 9
ground.hittime  = 0
ground.velocity = 0
ground.cornerpush = 1
air.velocity = -3,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 
p2stateno = 393
envshake.time = 5 
envshake.ampl = 2
kill = 0

[State 200, 3]
type = HitDef
trigger1 = animelem = 6
persistent = 0
numhits = 0
attr = S, NA
animtype  = Light
damage    = 30
givepower = 0
;guardflag = M
pausetime = 4,4
sparkno = -1
sparkxy = -22,-50
hitsound   = S210,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = High
ground.slidetime = 9
ground.hittime  = 0
ground.velocity = 0
ground.cornerpush = 1
air.velocity = -3,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 
p2stateno = 394
envshake.time = 5 
envshake.ampl = 2
kill = 0

[State 1301, 4]
type = HitDef
trigger1 = AnimElem = 9
attr = A, SA
numhits = 0
animtype = diagup
damage = 120
getpower = 20
guardflag = M ; MA
pausetime = 14,14
sparkno = s8035
sparkxy = -25,-85
yaccel = 0.45
hitsound = S240,0
guardsound = S150,1
guard.sparkno = s8056
guard.velocity = -14 
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -7 ,-6
air.velocity = -5,-4
airguard.velocity = -3,-2
fall = 1
fall.recover = 0
envshake.time = 14
envshake.ampl = 8

[State 3002, 1]
type = posadd
trigger1 = animelem = 6
x = 6
[State 3002, 1]
type = posadd
trigger1 = animelem = 9
x = -20

[State 3002, 1]
type = posadd
trigger1 = animelem = 10
y = -18
x = -1
[state -2]
type = Velset
Trigger1 = AnimElem = 9,=1
x = -2
y = -4

[state -2]
type = VelAdd
Trigger1 = AnimElem = 10,>=0
y = .5

[state -2]
type = Width
Trigger1 = AnimElem=9,<0
edge = 70,0

[State 1505 , 10]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 33915
ctrl = 0

;ÉXÉpÉCÉNÉâÉCÉhÅ@ëäéËÅ@íÕÇ‹ÇÍ
[Statedef 392]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 392

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

;ÉXÉpÉCÉNÉâÉCÉhÅ@ëäéËÅ@ÇPíiñ⁄
[Statedef 393]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 393

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

;ÉXÉpÉCÉNÉâÉCÉhÅ@ëäéËÅ@ÇQíiñ⁄
[Statedef 394]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 394

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100


; 395 throwÅ@ÉXÉpÉCÉNÉâÉCÉhÅ@ìäÇ∞ãZVer
[Statedef 395]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 395

[State 370, 1]
type = HitDef
Trigger1 = AnimElem = 1
numhits = 0
attr = S, HT
givepower = 40
hitflag = M
priority = 2, Miss
snap = 24, 0, 0, 1
sparkno = 0
sparkxy = -10,-80
p2facing = 1
p1stateno = 391
p2stateno = 392

[State 371, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 600,1

[State 371, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 5000,0
channel = 1

[State 370, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
; KOF safe landing
[Statedef 5201]
type    = S
movetype= I
physics = N
anim = 5200

[State 5201, 4]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 5201, 0]
type = PlaySnd
trigger1 = time = 0
value = 5210,0+(random%4)
volume = 255
ignorehitpause = 1

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = (Time = 0) && (p2dist X < -5)

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -18

[State 5201, 2]
type = Veladd
trigger1 = Time >= 0
x = 2.5

[State 5201, 2]
type = VelSet
trigger1 = Vel X >= 0
x = 0

[State 5201, 3]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 5201, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;==========================================================
; Combo Launch System
;==========================================================
;AI use

[Statedef 2997]
anim = 5
ctrl = 0

[State 2997]
type = turn
triggerall = p2bodydist x <= -30
trigger1 = time = 0
value = 1

[State 1000]
type = changestate
triggerall = prevstateno = 13505
triggerall = var(59) = 1
trigger1 = time = 2
value = 1500
ctrl = 0


[Statedef 2998]
anim = 0
ctrl = 0

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 312
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = p2movetype = H
trigger1 = P2dist Y >= -128
trigger1 = power <= 2000
trigger1 = power >= 1000
trigger1 = time > 2
trigger1 = random <= 500
value = ifelse(random < 500,2500,3200)


[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 312
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = p2movetype = H
trigger1 = P2dist Y >= -108
trigger1 = power >= 2000
trigger1 = time > 0
trigger1 = random <= 333
value = 2500

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 312
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = p2movetype = H
trigger1 = P2dist Y <= -88
trigger1 = power >= 2000
trigger1 = time > 2
trigger1 = random <= 333
value = 3200

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 312
triggerall = var(59) = 1
triggerall = p2statetype = A
triggerall = p2movetype = H
trigger1 = P2dist Y <= -68
trigger1 = power >= 2000
trigger1 = time > 2
trigger1 = random <= 333
value = 3250

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 312
triggerall = var(59) = 1
triggerall = p2statetype != A
trigger1 = p2statetype != A
trigger1 = time >= 0
value = 0
ctrl  = 1

[State 0, CtrlSet]
type = CtrlSet
triggerall = var(59) = 1
triggerall = power < 1000
trigger1 = time = 0
value = 1
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3102
trigger1 = p2bodydist x <= 10
trigger1 = p2bodydist y >= -100
trigger1 = time >= 0
trigger2 = enemy,alive = 0
trigger2 = time >= 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3102
trigger1 = p2bodydist x <= 10
trigger1 = p2bodydist y <= -100
trigger1 = time >= 0
value = 40
ctrl = 0

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 312
triggerall = p2stateno = 5080
trigger1 = time = 0
value = 1050

[state 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 1040
trigger1 = p2bodydist x >= 80 || p2bodydist Y <= -100
trigger1 = time >= 0
value = 100

[state 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 1040
trigger1 = p2bodydist x <= 80 || p2bodydist Y >= -100
trigger1 = time >= 10
value = 1503


[Statedef 2999]
anim = 0
ctrl = 0

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 1040
triggerall = var(59) = 1
triggerall = P2dist Y <= -88
trigger1 = time > 0
trigger1 = random <= 500
value = ifelse(power < 1000,40,ifelse(random < 300,3100,1305))

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 1040
triggerall = var(59) = 1
triggerall = P2dist Y <= -88
trigger1 = random <= 500
trigger1 = time > 0
value = ifelse(power < 1000,1305,ifelse(random < 300,3100,40))

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 1040
triggerall = var(59) = 1
triggerall = P2dist Y <= -108
trigger1 = random <= 333
trigger1 = power = [1000,2000)
trigger1 = time > 0
value = ifelse(random < 700,1305,3100)

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 1040
triggerall = var(59) = 1
triggerall = P2dist Y >= -106
trigger1 = random <= 600
trigger1 = time >= 0
trigger1 = power >= 2000
trigger2 = power = [0,1000)
trigger2 = time >= 0
trigger2 = random <= 500
value = 1305

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 1040
triggerall = var(59) = 1
triggerall = P2dist Y <= -108
trigger1 = power >= 2000
trigger1 = time > 16
trigger1 = random <= 400
value = 3100

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 1040
triggerall = var(59) = 1
triggerall = P2dist Y >= -106
trigger1 = random <= 600
trigger1 = power >= 2000
trigger2 = power = [1000,2000)
trigger2 = random <= 334
value = 1305

[State 1000]
type = changestate
triggerall = prevstateno = 1020
triggerall = var(59) = 1
triggerall = p2bodydist y >= -106
triggerall = power < 1000
trigger1 = time > 13
value = 1305

[State 1000]
type = changestate
triggerall = prevstateno = 1020
triggerall = var(59) = 1
triggerall = p2bodydist y >= -106
triggerall = power > 1000
trigger1 = random <= 700
value = 1305

[State 1000]
type = changestate
triggerall = prevstateno = 1020
triggerall = var(59) = 1
triggerall = p2bodydist y <= -46
triggerall = power > 1000
trigger1 = random <= 300
value = 3100

[State 1000]
type = changestate
triggerall = prevstateno = 1065
triggerall = var(59) = 1
triggerall = power <= 1000
trigger1 = time >= 0
trigger1 = random <= 500
value = 1050

[State 2999, AIuse1]
type = changestate
triggerall = prevstateno = 1065
triggerall = var(59) = 1
triggerall = power >= 1000
trigger1 = time >= 0
value = ifelse(random < 500,3100,1050)

;Burning Mirage start
[Statedef 2500]
type = S
movetype = A
physics = S
anim = 2500
ctrl = 0
poweradd = -1000
velset = 0,0,0

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6102
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 1000]
type = playsnd
trigger1 = animelem =8,19
value = 6865,15
volume = 255
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = [51,80]
x = 13
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 8,19
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
vel = -.5,0
removeongethit = 1
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -50,10

[State 0, ]
type = Helper
trigger1 = animelem = 8,18
helpertype = normal
name = "AfterImage"
ID = 1074
stateno = 1074
postype = p1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000]
type = nothitby
trigger1 = time >= 0
value = SCA

[State 1000]
type = superpause
trigger1 = time = 0
time = 40
movetime = 40
anim = -1
darken = 0

[State 1000]
type = envcolor
trigger1 = time = 0
time = 40
under = 1
value = 0,0,0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 10
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 10,0
pausetime = 0 ,0
guard.pausetime = 0,20
sparkno = S8035
guard.sparkno = s8056
sparkxy = -40,-70
hitsound = S220,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
p2facing = 1
sprpriority = 1
envshake.time = 14
envshake.ampl = 12
p1stateno = 2508
p2stateno = 32085
kill = 0


[State 1000]
type = playsnd
trigger1 = time = 5
value = 2500,0+(random%2)
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 800,2
volume = 100

[State 1000]
type = playsnd
trigger1 = time = 20
value = 800,6
volume = 100


[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503 || prevstateno = 1204
trigger2 = !time && prevstateno = 13505
anim = 6200
pos = 160,97
postype = Left
sprpriority = 50
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .7,.7
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503 || prevstateno = 1204
trigger2 = !time && prevstateno = 13505
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Sparklvl1'1"
ID = 9011
stateno = 9011
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,20
helpertype = normal
name = "Sparklvl1'2"
ID = 9001
stateno = 9001
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 1203
ctrl = 0

[Statedef 25005]
type = S
movetype = I
physics = N
anim = 99999

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
pos = 0,0
time = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = destroyself
trigger1 = time >= 80
ignorehitpause = 1
persistent = 1

;Burning Mirage 2
[Statedef 2501]
type = S
movetype = A
physics = N
anim = 2502

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
x = fvar(36)
y = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
x = 0
y = 0
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, HA
animtype  = hard
damage    = 20 ; 15
givepower = 15
guardflag = MA
pausetime = 15,0
forcestand = 1
sparkno = s8035
sparkxy = -20,-40
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
envshake.time = 20
envshake.ampl = 20
envshake.freq = 60
envshake.phase = 60
kill = 0
p2stateno = 32085
p1stateno = 2505

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1700,4
volume = -100
ignorehitpause = 1


[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 15
pos = 40,0
ignorehitpause = 1
persistent = 0

[State 0, Width]
type = Width
trigger1 = movehit = 1
edge = 80,0
ignorehitpause = 1





[State 1000]
type = playsnd
trigger1 = movehit
value = 3300,0
volume = 255
persistent = 0
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1
persistent = 1


[State 1000]
type = changestate
trigger1 = animelem = 10, >= 5
value = 2507

[Statedef 25015]
type = S
movetype = A
physics = N
anim = 25015
vel = 0,0,0

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 54321, ]
type = trans
trigger1 = AnimElemtime(1) >= 0
trans = addalpha
alpha = 256 - (10*time), (10*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

;Mirage 1
[Statedef 2502]
type = S
movetype = A
physics = N

[State 1000]
type = changeanim
trigger1 = time = 0
value = 2502
ignorehitpause = 1

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1700,4
volume = -100
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
x = parent,fvar(36)
y = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
x = 0
y = 0
ignorehitpause = 1


[State 3202, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, HA
hitflag = MAF
guardflag = MA
animtype  = hard
damage    = 10 ; 15
givepower = 15
pausetime = 5,5
forcestand = 1
sparkno = s8035
sparkxy = -20,-40
hitsound   = s200,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = 0
p2stateno = 32085
fall.recover = 0
kill = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = p2bodydist x <= 40
value = 1
ignorehitpause = 1


[State 54321, ]
type = trans
triggerall = anim = 2503
trigger1 = AnimElemtime(1) >= 0
trans = addalpha
alpha = 256 - (7*time), (7*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 2502 && animtime = 0
ignorehitpause = 1
persistent = 1


[State 1000]
type = changeanim2
trigger1 = animelem = 10, >= 5
value = 2503
ignorehitpause = 1
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 2503 && animtime = 0
ignorehitpause = 1
persistent = 1

;Mirage 2
[Statedef 2503]
type = S
movetype = A
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1700,4
volume = -100
ignorehitpause = 1

[State 1000]
type = changeanim
trigger1 = time = 0
value = 2502
ignorehitpause = 1

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
x = parent,fvar(36)
y = 0
ignorehitpause = 1


[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
x = 0
y = 0
ignorehitpause = 1


[State 3202, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
guardflag = MA
pausetime = 20,5
forcestand = 1
sparkno = s8035
sparkxy = -20,-40
hitsound   = s210,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
p2stateno = 32085
kill = 0

[State 54321, ]
type = trans
triggerall = anim = 2503
trigger1 = AnimElemtime(1) >= 0
trans = addalpha
alpha = 256 - (7*time), (7*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 2502 && animtime = 0
ignorehitpause = 1
persistent = 1


[State 1000]
type = changeanim2
trigger1 = movehit
trigger2 = animelem = 10, >= 5
value = 2503
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 2503 && animtime = 0
ignorehitpause = 1
persistent = 1
;Mirage 3
[Statedef 2504]
type = S
movetype = A
physics = N

[State 1000]
type = changeanim
trigger1 = time = 0
value = 2502
ignorehitpause = 1

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
x = parent,fvar(36)
y = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
x = 0
y = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1700,4
volume = -100
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
guardflag = MA
pausetime = 30,5
forcestand = 1
sparkno = s8035
sparkxy = -20,-40
hitsound   = s220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
p2stateno = 32085
kill = 0

[State 54321, ]
type = trans
triggerall = anim = 2503
trigger1 = AnimElemtime(1) >= 0
trans = addalpha
alpha = 256 - (7*time), (7*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 2502 && animtime = 0
ignorehitpause = 1
persistent = 1


[State 1000]
type = changeanim2
trigger1 = movehit
trigger2 = animelem = 10, >= 5
value = 2503
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 2503 && animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 2505]
type = S
movetype = A
physics = N
anim = 2504
sprpriority = -3

[State 110, 1]
type = Afterimage
trigger1 = Time = 3
time = 15
length = 5
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1,1,1
FrameGap = 4
Trans = Add1



[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100


[State 1500, burn]
type = varset
triggerall = animelem = 5
trigger1 = movehit
var(3) = 1

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 3.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0


[State 1000]
type = changestate
trigger1 = p2bodydist x <= -40
trigger2 = time >= 15
value = 2506

[Statedef 25055]
type = S
movetype = I
physics = N
anim = 2504
sprpriority = -3

[State 110, 1]
type = Afterimage
trigger1 = Time = 0
time = 15
length = 5
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1,1,1
FrameGap = 4
Trans = Add1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
triggerall = prevstateno != 2601
trigger1 = 1
x = 8
y = 0
;ignorehitpause =
;persistent =

[State 0, PosAdd]
type = PosAdd
triggerall = prevstateno = 2601
trigger1 = 1
x = 10
y = 0
;ignorehitpause =
;persistent =





[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1700, 2
volume = 100

[State 1100, 4]
type = Velset
trigger1 = time >= 11
x = 0


[State 1000]
type = changestate
triggerall = prevstateno != 2601
trigger1 = p2bodydist x <= -30 || time >= 8
value = 2508
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
triggerall = prevstateno = 2601
trigger1 = p2bodydist x <= -40 || time >= 12
value = 2601
ignorehitpause = 1
persistent = 0

[Statedef 2506]
type = S
movetype = A
physics = N
anim = 2505
velset = 0,0,0

[State 1000]
type = turn
trigger1 = p2bodydist x < 0
value = 1
persistent = 0
ignorehitpause = 1

[state 1000]
type = changeanim
trigger1 = animelem = 9
elem = 13
value = 2505
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "Burning Mirage"
trigger1 = animelem = 1, >= 0 &&  animelem = 43,<= 0
v = 9
value = 1
ignorehitpause = 1

[State 0, VarAdd]
type = Varset
triggerall = enemy,statetype != A
trigger1 = time = 41
fv = 36    ;fv =
value = 0
ignorehitpause = 1

[State 0, VarAdd]
type = Varset
triggerall = enemy,statetype = A
trigger1 = time = 41
fv = 36    ;fv =
value = 0
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = var(9) = 1
trigger1 = animelem = 44
trigger1 = power >= 1000
value = 2550

[State 1000]
type = changestate
triggerall = var(59) = 1
trigger1 = animelem = 44
trigger1 = power >= 1000
trigger1 = random <= 500
value = 2550

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1




[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
unhittable = 1
name = "flame"
ID = 14000
stateno = 14000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 26
trigger2 = animelem = 33
helpertype = normal
name = "flame"
ID = 1030
stateno = 1030
unhittable = 1
pos = 60,-60
postype = p1    ;p2,front,back,left,right
facing = 1
size.xscale = .8
size.yscale = .8
ownpal = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 40
helpertype = normal
name = "flame"
ID = 1540
stateno = 1540
unhittable = 1
pos = 0,-75
scale = .8,.8
postype = p1
size.xscale = .8
size.yscale = .8    ;p2,front,back,left,right
facing = 1
ownpal = 1
ignorehitpause = 1

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 4
trigger2 = animelem = 17
trigger3 = animelem = 26
trigger4 = animelem = 33
trigger5 = animelem = 41
anim = 2200
postype = p2
pos = -30+(random%60),-100+(random%100)
removetime = -2
bindtime = 1
ignorehitpause = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 4
trigger2 = animelem = 17
trigger3 = animelem = 26
trigger4 = animelem = 33
trigger5 = animelem = 41
anim = 2200
postype = p2
pos = -30+(random%60),-100+(random%100)
removetime = -2
bindtime = 1
ignorehitpause = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 4
trigger2 = animelem = 17
trigger3 = animelem = 26
trigger4 = animelem = 33
trigger5 = animelem = 41
anim = 2201
postype = p2
pos = -30+(random%60),-100+(random%100)
removetime = -2
bindtime = 1
ignorehitpause = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 4
trigger2 = animelem = 17
trigger3 = animelem = 26
trigger4 = animelem = 33
trigger5 = animelem = 41
anim = 2201
postype = p2
pos = -30+(random%60),-100+(random%100)
removetime = -2
bindtime = 1
ignorehitpause = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3
trigger2 = animelem = 13
trigger3 = animelem = 21
trigger4 = animelem = 29
trigger5 = animelem = 39
value = 6865,26
volume = 100
ignorehitpause = 1


[State 3202, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 15 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 4,120
forcestand = 1
sparkno = s8025
sparkxy = -20,-60
hitsound   = s6865,19
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
palfx.time = 120
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3207
p2facing = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, HA
animtype  = hard
damage    = 10 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 8,120
forcestand = 1
sparkno = s8025
sparkxy = -20,-80
hitsound   = s220,0
guardsound = S150,1
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3207
p2facing = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 17
trigger2 = animelem = 26
trigger3 = animelem = 33
trigger4 = animelem = 41
attr = S, HA
animtype  = hard
damage    = 15 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 3,20
forcestand = 1
sparkno = s8025
sparkxy = -30,-55
hitsound   = s6865,35
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3207+(random%2)
p2facing = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 45
attr = S, HA
animtype  = low
damage    = 15 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 3,5
forcestand = 1
sparkno = s8035
sparkxy = -20,-30
hitsound   = s230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = low
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = -.5,-4
fall.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2facing = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 54
attr = S, NA
animtype  = hard
damage    = 15 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 4,5
forcestand = 1
sparkno = s8035
priority = 4, hit
sparkxy = -20,-75
hitsound   = s230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = -1,-5
fall = 1
air.fall = 1
air.fall.recover = 0
fall.recover = 0
air.velocity = -1,-5
kill = 1
p2facing = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 62
attr = S, NA
animtype  = up
damage    = 25 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 16,18
forcestand = 1
sparkno = s8025
priority = 4, hit
sparkxy = -30,-70
hitsound   = s2200,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = hard
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = -8,-4
fall = 1
air.fall = 1
air.fall.recover = 0
fall.recover = 0
air.velocity = -8,-3
envshake.time = 18
envshake.ampl = 12
palfx.time = 70
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 1
p2facing = 1

[state -2]
type = Velset
Trigger1 = AnimElem = 54,=1
x = 3
y = -4

[state -2]
type = Velset
Trigger1 = AnimElem = 62,=1
x = 3
y = -2

[State 1000]
type = posadd
trigger1 = animelem = 54
y = -10
x = 4

[state -2]
type = VelAdd
Trigger1 = AnimElem = 54,>=0
y = .2

[state -2]
type = VelAdd
Trigger1 = AnimElem = 62,>=0
y = .2


[State 1505 , 10]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 33915
ctrl = 0

[State 1000]
type = explod
triggerall = animelem = 62
trigger1 = movehit
anim = 937
facing = -1
removetime = -2
bindtime = 1
postype = p2
pos = -30,-40
vel = 0,-.5
ignorehitpause = 1
persistent = 0
ownpal = 1
sprpriority = 2





[State 1000]
type = playsnd
triggerall = animelem = 62
trigger1 = movehit
value = 2200,1
volume = -100

[State 1000]
type = playsnd
triggerall = animelem = 62
trigger1 = movehit
value = 240,0
volume = 100

[State 0, ChangeState]
type = ChangeState
triggerall = var(59) = 1
trigger1 = power = [2000,3000]
trigger1 = animelem = 42
trigger1 = random <= 250
value = 3250

[State 0, ChangeState]
type = ChangeState
triggerall = var(59) = 1
triggerall = power >= 3000
trigger1 = animelem = 42
trigger1 = random <= 250
value = 3700

[Statedef 2507]
type = S
movetype = I
physics = S
anim = 2506
ctrl = 0
velset = 0,0,0
sprpriority = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 2508]
type = S
movetype = A
physics = N
anim = 2501
velset = 0,0,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = animelem = 5, <= 0
edge = 80,0
ignorehitpause = 1


[State 1000]
type = turn
triggerall = prevstateno = 25055
trigger1 = p2bodydist x < 0
value = 1
persistent = 0
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelem = 5, <= 0
value = 1
ignorehitpause = 1
;persistent =


[state 1000]
type = changestate
triggerall = prevstateno = 2500
triggerall = frontedgedist <= 100
trigger1 = animelem = 3
value = 25055
ctrl = 0

[State 1000]
type = changeanim
trigger1 = prevstateno = 25055
elem = 5
value = 2501
ignorehitpause = 1
persistent = 0

[State 1000]
type = targetbind
trigger1 = time = 0
time = 1
pos = 45,0
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = prevstateno = 2500
trigger1 = time = 0
value = 1700,3
volume = 255
ignorehitpause = 1

[State 0, VarAdd]
type = Varset
trigger1 = animelem = 14,4
fv = 36    ;fv =
value = (p2bodydist X - 10) / 20
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 8
value =  400,2
volume = 255
ignorehitpause = 1

[State 1300, 0]
type = PlaySnd
trigger1 = animelem = 7
value = 1300,1
volume = 255

[State 700, Effect]
type = Helper
triggerall = prevstateno = 2500
trigger1 = Time = 0
name = "AfterImage"
stateno = 1251
pos = 0,0
keyctrl = 0
postype = p1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
IgnoreHitPause = 1
persistent = 0

[State 0, ]
type = Palfx
triggerall = prevstateno = 2500
trigger1 = time <= 8
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[State 1000]
type = playsnd
trigger1 = animelem = 9
value = 600,1
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 7
persistent = 0
anim = 1090
posType = P1
pos = -20,0
vel = -.4,0
sprpriority = 3
removeTime = 15
scale = .6,.6
bindTime = 1

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1
scale = .8,.8
vel = 1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = 90,0

[State 1000]
type = explod
trigger1 = animelem = 1
anim = 1095
removetime = -2
bindtime = 1
ownpal = 1
facing = 1
removeongethit = 1
scale = .8,.8
vel = -1,0
supermovetime = 99999
sprpriority = -2
postype = p1
pos = -30,0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 10
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 20,0
pausetime = 2 ,0
guard.pausetime = 0,20
sparkno = S8035
ground.velocity = -3,-11
air.velocity = -3,-11
guard.sparkno = s8056
fall = 0
fall.recover = 0
air.fall = 0
air.fall.recover = 0
sparkxy = -50,-75
hitsound = S240,0
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
envshake.time = 15
envshake.ampl = 12
p2stateno = 32575
kill = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 15,1
helpertype = normal ;player
name = "Mirage"
ID = 2502
stateno = 2502
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 15,8
helpertype = normal ;player
name = "Mirage"
ID = 2503
stateno = 2503
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1
;persistent =

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 47,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 15,14
helpertype = normal ;player
name = "Mirage"
ID = 2504
stateno = 2504
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 15,22
helpertype = normal ;player
name = "Mirage2"
ID = 25015
stateno = 25015
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 2501
ctrl = 0
ignorehitpause = 1

[Statedef 2550]
type = S
movetype = A
physics = N
anim = 2550
velset = 0,0,0
poweradd = -1000

[State 1000]
type = varset
trigger1 = time = 0
v = 9
value = 0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 19
time = 5
pos = 50,0
ignorehitpause = 1

[State 1000]
type = varset
trigger1 = animelem = 19
v = 3
value = 1

[State 1000]
type = superpause
trigger1 = time = 0
time = 112
movetime = 112
anim = -1
darken = 0

[State 3200, 3]
type = envcolor
trigger1 = animelem = 1
time = 112
under = 1
value = 0, 0, 0

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9995
pos = 0,73
postype = Left
sprpriority = 10
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9993
pos = 0,75
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6112
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Sparklvl2'1"
ID = 9012
stateno = 9012
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,20
helpertype = normal
name = "Sparklvl2'2"
ID = 9002
stateno = 9002
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 3250, 1]
type = PlaySnd
trigger1 = time = 0
value = 800,10

[State 3250, 1]
type = PlaySnd
trigger1 = time = 20
value = 800,1

[State 181, 2]
type = Explod
trigger1 = animelem = 9,40
anim = 2227
pos = 2,-95
supermovetime = 99999
pausemovetime = 99999
postype = p1
sprpriority = 2
bindtime = 1
removetime = -2
scale = .7,.7
ownpal = 1

[State 1000]
type = playsnd
trigger1 = animelem = 9,40
value = 181,1
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 9,40
value = 6865,53
volume = 255

[State 181, 2]
type = Explod
trigger1 = animelem = 9,45
anim = 2207
id = 2207
pos = 7,-97
supermove = 1
supermovetime = 99999
pausemovetime = 99999
postype = p1
sprpriority = 2
bindtime = 1
removetime = 30
scale = .7,.7
ownpal = 1

[State 1000]
type = playsnd
trigger1 = animelem = 9,40
value = 6865,62
volume = -254
channel = 10
ignorehitpause = 1

[State 1000]
type = stopsnd
trigger1 = time = 128
channel = 10
ignorehitpause = 1

[State 181, 2]
type = Explod
trigger1 = animelem = 10
anim = 2207
id = 2207
pos = 45,-92
supermove = 1
supermovetime = 99999
pausemovetime = 99999
postype = p1
sprpriority = 2
bindtime = 1
removetime = 3
scale = .7,.7
ownpal = 1

[State 181, 2]
type = Explod
trigger1 = animelem = 11
anim = 2207
id = 2207
pos = 23,-74
supermove = 1
supermovetime = 99999
pausemovetime = 99999
postype = p1
sprpriority = 2
bindtime = 1
removetime = 3
scale = .7,.7
ownpal = 1

[State 1000]
type = playsnd
trigger1 = animelem = 10
value = 6865,25
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 6865,26
volume = 255
priority = 4

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 6865,74
volume = 255
priority = 5

[State 0, Helper]
type = Helper
trigger1 = animelem = 12
helpertype = normal
name = "flame"
ID = 2557
stateno = 2557
pos = 10,27
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1.2
size.yscale = 1.2
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 13
helpertype = normal
name = "flame"
ID = 2557
stateno = 25556
pos = 8,27
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1.2
size.yscale = 1.2
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 14
helpertype = normal
name = "flame2"
ID = 2557
stateno = 2558
pos = 0,2
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 16
helpertype = normal
name = "burst"
ID = 2554
stateno = 2555
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1.3
size.yscale = 1.3
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 19
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = hard
priority = 4,Hit
damage = 20,0
pausetime = 5 ,20
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S6865,38
guardsound = S2,0
ground.type = High
ground.velocity = 0,0
air.velocity = 0,0
p2stateno = 3207
kill = 0
guard.kill = 0
fall.kill = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 20
envshake.freq = 75
envshake.ampl = 9
envshake.phase = 90

[State 1000]
type = envcolor
trigger1 = animelem = 19
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 19
value = 2200,2
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 19
value = 6865,9
volume = 255

[State 1000]
type = changestate
triggerall = p2stateno = 3207
trigger1 = animtime = 0
value = 2551

[State 1000]
type = changestate
triggerall = p2stateno = !3207
trigger1 = animtime = 0
value = 0
ctrl = 0

[Statedef 2551]
type = S
movetype = A
physics = N
anim = 3668

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = animelem = 116, <= 0
edge = 60,0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "heatdriver"
triggerall = power >= 1000
trigger1 = time = [1,153]
v = 9
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "lvl 4 NEO EXTINCTION"
trigger1 = time = [1,153]
trigger1 = power >= 2000
trigger1 = life < (lifemax*.5)
v = 19
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 1
trigger2 = animelem = 13
trigger3 = animelem = 27
trigger4 = animelem = 45
trigger5 = animelem = 63
trigger6 = animelem = 78
value = 6865,26
volume = 100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "heatdriver2"
triggerall = power >= 1000
trigger1 = time = [1,153]
v = 9
value = 1
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 284
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,20
invertall = 0
color = 250
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 115,<= 0
x = 1.2
y = 0

[State 1000]
type = posadd
trigger1 = time = 0
x = 15
y = 0
ignorehitpause = 1



[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelem = 130,<= 10
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 284
paladd = 50,10,-50
palbright = 40,-50,-100
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add
sprpriority = -2

[State 0, TargetBind]
type = TargetBind
trigger1 = time <= 184
time = 1
id = -1
pos = 45,0
ignorehitpause =  1
persistent = 1

[State 3280, 1]
type = HitDef
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 88
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -40+(random%-30),-40+(random%20)
hitsound   = s220,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3208
envshake.time = 3
envshake.ampl = 5

[State 3280, 2]
type = HitDef
triggerall = anim = 3668
trigger1 = animelem = 3
trigger2 = animelem = 23
trigger3 = animelem = 36
trigger4 = animelem = 46
trigger5 = animelem = 56
trigger6 = animelem = 68
trigger7 = animelem = 76
trigger8 = animelem = 81
trigger9 = animelem = 98
attr = S, HA
animtype  = hard
damage    = 5 ; 10
givepower = 0,15
getpower = 0
;guardflag = MA
pausetime = 0,10
forcestand = 1
sparkno = s8025
sparkxy = -40+(random%-30),-70+(random%20)
hitsound   = s230,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3207
envshake.time = 3
envshake.ampl = 5

[State 0, Helper]
type = Helper
trigger1 = animelem = 105
helpertype = normal
name = "flame"
ID = 1540
stateno = 1540
unhittable = 1
pos = 0,-75
scale = .8,.8
postype = p1
size.xscale = .8
size.yscale = .8    ;p2,front,back,left,right
facing = 1
ownpal = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 120,7
helpertype = normal
name = "flame"
ID = 1541
stateno = 1541
unhittable = 1
pos = -45,-140
scale = .8,.8
postype = p1
size.xscale = .8
size.yscale = .8
facing = 1
ownpal = 1
ignorehitpause = 1

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 106
trigger2 = animelem = 114
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 60,-40

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 121
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 50,-72

[State 3280, 3]
type = HitDef
trigger1 = animelem = 106
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 6,10
forcestand = 1
sparkno = s8025
sparkxy = -18,-60
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3208
envshake.time = 10
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 3280, 3]
type = HitDef
trigger1 = animelem = 114
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 5,10
forcestand = 1
sparkno = s8025
sparkxy = -18,-60
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3248
envshake.time = 10
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1000]
type = playsnd
trigger1 = animelem = 106
trigger2 = animelem = 114
trigger3 = animelem = 121
value = 6865,35
volume = 255
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = animelem = 120
value = 6865,73
volume = 255
ignorehitpause = 1

[State 3280, 3]
type = HitDef
trigger1 = animelem = 121
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 12,10
forcestand = 1
sparkno = s8025
sparkxy = -18,-60
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3372
envshake.time = 20
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1000]
type = playsnd
trigger1 = animelem = 125
value = 1700,1
volume = 255

[State 1000]
type = playsnd
triggerall = var(9) = 0
triggerall = var(19) = 0
trigger1 = animelem = 125,0
value = 2550,0+(random%3)
volume = 255


[State 1000]
type = changestate
triggerall = var(9) = 0
triggerall = var(19) = 0
trigger1 = animelem = 130,10
value = 2552

[State 1000]
type = changestate
triggerall = var(9) = 1
trigger1 = animelem = 130,15
value = 2559

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = power >= 1000
trigger1 = animelem = 130,15
trigger1 = random <= 500
value = 2559

[State 1000]
type = changestate
triggerall = var(19) = 1
trigger1 = animelem = 130,20
value = 2600

[Statedef 2552]
type = S
movetype = A
physics = N
anim = 2554

[State 1000]
type = posadd
trigger1 = time = 1
x = 90
ignorehitpause = 1

[State 1000]
type = changeanim
trigger1 = time = 0
elem = 32
value = 2554

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 150
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 2
sprpriority = -2
trans = add
ignorehitpause = 1

[State 1000]
type = turn
triggerall = p2bodydist x <= 0
trigger1 = time = 1
value = -1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 221,13
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 8
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 38,-90

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 16
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 80,-60

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 32,37
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p2
pos = -18,-60



[State 1000]
type = playsnd
trigger1 = animelem = 8
trigger2 = animelem = 16
trigger3 = animelem = 32,37
value = 6865,35
volume = 255
ignorehitpause = 1

[State 3280, 3]
type = HitDef
trigger1 = animelem = 8
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 0,20
forcestand = 1
sparkno = s8025
sparkxy = -38,-90
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3247
p2facing = 1
envshake.time = 20
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1000]
type = playsnd
trigger1 = animelem = 13
value = 700,0
volume = 255
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 14,>=0 && animelem = 20,<= 0
x = .4
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 21
value = 47,0
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 27
value = 1700,2
volume = 255

[State 0, BindToTarget]
type = BindToTarget
trigger1 = animelem = 32,5
time = 40
pos = 0,0
ignorehitpause = 1


[State 3280, 3]
type = HitDef
trigger1 = animelem = 16
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,20
forcestand = 1
sparkno = s8025
sparkxy = -80,-60
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 32585
envshake.time = 20
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 3280, 1]
type = HitDef
trigger1 = animelem = 32,10
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
givepower = 15
;guardflag = MA
pausetime = 2,2
sparkno = s8025
sparkxy = -30+(random%60),-70+(random%60)
hitsound   = s220,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3248

[State 3280, 1]
type = HitDef
trigger1 = animelem = 32,19
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 2,2
sparkno = s8025
sparkxy = -30+(random%60),-70+(random%60)
hitsound   = s220,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3247

[State 3280, 1]
type = HitDef
trigger1 = animelem = 32,28
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 2,2
sparkno = s8025
sparkxy = -30+(random%60),-70+(random%60)
hitsound   = s220,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3248

[State 0, Helper]
type = Helper
trigger1 = animelem = 32,37
helpertype = normal
name = "burst"
ID = 936
stateno = 936
pos = -20,-20
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3280, 3]
type = HitDef
trigger1 = animelem = 32,37
attr = S, HA
animtype  = hard
damage    = 5 ; 15
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 0,20
forcestand = 1
sparkno = s8025
sparkxy = -18,-60
hitsound   = s2200,1
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3372
envshake.time = 20
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1000]
type = playsnd
trigger1 = animelem = 32,37
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = var(9) = 1
trigger1 = animelem = 24
value = 2560
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
trigger1 = animelem = 24
trigger1 = power >= 1000
trigger1 = random <= 500
value = 2560

[State 1000]
type = changestate
trigger1 = animelem = 32,45
value = 2553
ignorehitpause = 1



[Statedef 2553]
type = S
movetype = A
physics = N
anim = 2555

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1
;persistent =


[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 24
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 1
Trans = add1
sprpriority = 5

[State 0, Turn]
type = Turn
trigger1 = animelem = 22
value = 1
ignorehitpause = 1


[State 1000]
type = nothitby
trigger1 = animelem = 7,<=0
value = SCA

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 6865,58
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 2551,0+(random%2)
volume = 255
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 1,>= 0 && animelem = 5,<= 0
x = 4
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 5,>= 0 && animelem = 7,<= 0
x = 1
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 14
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 14
helpertype = normal
name = "burst"
ID = 2553
stateno = 2554
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 14
helpertype = normal
name = "burst"
ID = 936
stateno = 936
pos = 0,-40
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3280, 3]
type = HitDef
trigger1 = animelem = 14
trigger2 = animelem = 15
trigger3 = animelem = 16
trigger4 = animelem = 17
attr = S, HA
animtype  = hard
damage    = 20 ; 15
givepower = 15
getpower = 0
;guardflag = MA
pausetime = 0,0
sparkno = s937
sparkxy = -18,-60
hitsound   = s2200,1
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = .7,-20
air.velocity = .7,-19
kill = 1
p2stateno = 3110
envshake.time = 30
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
hitonce = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 6865,38
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 3300,0
volume = 255



[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 2554]
type = S
movetype = A
physics = N
anim = 888
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,8
ignorehitpause = 1
volume = -254


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 66
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0



[Statedef 2555]
type = S
movetype = A
physics = N
anim = 2551
velset = 0,0
ctrl = 0
sprpriority = 2


[State 1000]
type = envcolor
trigger1 = time = 0
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 58
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "burst2"
ID = 2555
stateno = 2556
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1.3
size.yscale = 1.3
ignorehitpause = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 2556]
type = S
movetype = A
physics = N
anim = 889
velset = 0,0
ctrl = 0
sprpriority = 5


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 72
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 2557]
type = S
movetype = A
physics = N
anim = 2552
velset = 0,0
ctrl = 0
sprpriority = 5


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 72
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = time >= 6

[Statedef 25556]
type = S
movetype = A
physics = N
anim = 2552
velset = 0,0
ctrl = 0
sprpriority = 5


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 72
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = time >= 9

[Statedef 2558]
type = S
movetype = A
physics = N
anim = 2553
velset = 0,0
ctrl = 0
sprpriority = 2

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 9
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 3
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = animtime = 0

[Statedef 2559]
type = S
movetype = A
physics = N
anim = 25605
vel = 0,0,0

[State 1000]
type = posset
triggerall = facing = 1
trigger1 = time = 0
y = 0
x = -120
ignorehitpause = 1

[State 1000]
type = posset
triggerall = facing = -1
trigger1 = time = 0
y = 0
x = 120
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,3
volume = 255
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 700, Effect]
type = Helper
trigger1 = animelem = 1
name = "AfterImage"
stateno = 1251
pos = 0,0
keyctrl = 0
postype = p1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
IgnoreHitPause = 1
persistent = 0

[State 0, ]
type = Palfx
trigger1 = time <= 6
add = ceil(-(time*.01)*2000),ceil(-(time*.01)*2000),ceil(-(time*.01)*2000)
time = 1
ignorehitpause = 1
removeongethit = 1
persistent = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 2560
ignorehitpause = 1

[Statedef 2560]
type = S
movetype = A
physics = N
anim = 2560
poweradd = -1000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 6865,36
ignorehitpause = 1
volume = 255

[State 1001]
type = nothitby
trigger1 = time >= 0
value = SCA
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time >= 0
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = superpause
trigger1 = animelem = 5
time = 72
movetime =72
anim = -1
ignorehitpause = 1

[State 1006, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9013
sprpriority = 9
postype = p1
pos = 0,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1007, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9013
sprpriority = 9
postype = p1
pos = 0,0
bindtime = 1
facing = -1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1008, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9003
sprpriority = 5
postype = p1
pos = 0,-65
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
scale = 1,1
under = 0
ownpal = 1

[State 9090]
type = Explod
trigger1 = animelem = 4
anim = 10005
pos = 0,61
postype = Left
sprpriority = 10
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = animelem = 4
anim = 9996
pos = 0,65
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = animelem = 4
anim = 9997
pos = 0,61
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 2500,2]
type = PlaySnd
trigger1 = animelem = 5,0
value = 800,10
volume = 255

[State 1010]
type = playsnd
trigger1 = animelem = 5,2
value = 800,4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5,20
value = 800,3
volume = 255

[State 0, Helper]
type = Helper
triggerall = !numhelper(100094)
trigger1 = !time
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 3280, 3]
type = HitDef
trigger1 = animelem = 13
attr = S, HA
animtype  = hard
damage    = 30 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,10
forcestand = 1
sparkno = s8025
sparkxy = 30,-60
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3372
envshake.time = 10
envshake.ampl = 8
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1000]
type = posadd
trigger1 = animelem = 6, >= 0 && animelem = 7, <= 0
x = 2.1
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 7, >= 0 && animelem = 8, <= 0
x = 2.6
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 8, >= 0 && animelem = 9, <= 0
x = 3.1
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 9, >= 0 && animelem = 10, <= 0
x = 3.6
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 10, >= 0 && animelem = 11, <= 0
x = 4.1
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 11, >= 0 && animelem = 12, <= 0
x = 5.6
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 12, >= 0 && animelem = 13, <= 0
x = 6.6
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 13, >= 0
x = 8.6
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = movehit = 1
value = 2561
ignorehitpause = 1
persistent = 0

[Statedef 2561]
type = S
movetype = A
physics = N
anim = 2561

[State 1000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause =  1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = envcolor
trigger1 = time = 0
time = 3
value = 240,240,240
ontop = 1
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 3280, 3]
type = HitDef
trigger1 = animelem = 15
attr = S, HA
animtype  = hard
damage    = 30 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,0
forcestand = 1
sparkno = s8025
sparkxy = -30,-60
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = .1, -5.5
kill = 0
p2stateno = 3313
envshake.time = 10
envshake.ampl = 8

[State 1000]
type = posadd
trigger1 = animelem = 1,>= 0 && animelem = 4,<= 0
x = 6
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 4,>= 0 && animelem = 5,<= 0
x = 3
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 5,>= 0 && animelem = 6,<= 0
x = 1.5
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 1
time = 1
pos = -10,0
ignorehitpause = 1

[State 1002]
type = posset
triggerall = animelem = 1
trigger1 = facing = -1
x = -5
ignorehitpause = 1
persistent = 0

[State 1003]
type = posset
triggerall = animelem = 1
trigger1 = facing = 1
x = 5
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
triggerall = p2stateno = 3313
trigger1 = animtime = 0
value = 2562
ctrl = 0
ignorehitpause = 1

[Statedef 2562]
type = S
movetype = A
physics = N
anim = 2562

[State 1000]
type = turn
trigger1 = time = 0
value = 1
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = envshake
trigger1 = animelem = 5
trigger2 = animelem = 18
trigger3 = animelem = 28
trigger4 = animelem = 37
trigger5 = animelem = 49
trigger6 = animelem = 61
time = 8
ampl = 8


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4,20
value = 400,5
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 16
value = 400,3
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 26
value = 221,13
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 34
value = 400,2
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 48
value = 400,4
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 58
value = 700,0
volume = 255

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "flame"
ID = 2575
stateno = 2575
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1.1
size.yscale = 1.1
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 4
time = 748
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,20
invertall = 0
color = 250
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 60,-92

[State 1000]
type = explod
trigger1 = animelem = 18
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 70,-92

[State 1000]
type = explod
trigger1 = animelem = 28
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 50,-100

[State 1000]
type = explod
trigger1 = animelem = 37
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 80,-100

[State 1000]
type = explod
trigger1 = animelem = 49
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 50,-80

[State 1000]
type = explod
trigger1 = animelem = 61
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 85,-65

[State 1000]
type = playsnd
trigger1 = animelem = 5
trigger2 = animelem = 18
trigger3 = animelem = 28
trigger4 = animelem = 37
trigger5 = animelem = 49
trigger6 = animelem = 61
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
trigger2 = animelem = 18
trigger3 = animelem = 28
trigger4 = animelem = 37
trigger5 = animelem = 49
trigger6 = animelem = 61
value = 2200,6
volume = -200
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 5
trigger2 = animelem = 18
trigger3 = animelem = 37
trigger4 = animelem = 49
trigger5 = animelem = 61
pos =  80,-20
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 28
pos =  60,-20
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = animelem = 18
trigger2 = animelem = 37
trigger3 = animelem = 61
value = 2576
ctrl = 0
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = animelem = 5
trigger2 = animelem = 49
value = 25765
ctrl = 0
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = animelem = 5
trigger2 = animelem = 18
trigger3 = animelem = 28
trigger4 = animelem = 37
trigger5 = animelem = 49
trigger6 = animelem = 61
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = hitadd
trigger1 = animelem = 5
trigger2 = animelem = 18
trigger3 = animelem = 28
trigger4 = animelem = 37
trigger5 = animelem = 49
trigger6 = animelem = 61
value = 1
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = animelem = 28
value = 25785
ignorehitpause = 1
ctrl = 0

[State 1000]
type = changestate
triggerall = p2stateno = 2577
trigger1 = animtime = 0
value = 2563
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = p2stateno != 2577
trigger1 = animtime = 0
value = 0
ctrl = 1
ignorehitpause = 1

[Statedef 2563]
type = S
movetype = A
physics = N
anim = 2563

[State 1000]
type = posadd
trigger1 = time = 0
y = -10

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1300,0
volume = 255

[State 1000]
type = envshake
trigger1 = animelem = 5
time = 8
ampl = 8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1


[State 1000]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 5
pos = 40,0

[State 1000]
type = targetstate
trigger1 = animelem = 5
value = 25765

[State 1000]
type = targetlifeadd
trigger1 = animelem = 5
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 2200,6
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 50,-70

[State 1000]
type = hitadd
trigger1 = animelem = 5
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0
volume = 255

[State 1000]
type = velset
trigger1  = animelem = 5, <= 0
x = 0
y = -2

[State 1000]
type = velset
trigger1 = animelem = 5
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 =  animelem = 5,>= 0
x = 0
y = .20

[State 3290, end1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2564
ctrl = 0

[Statedef 2564]
type = S
movetype = A
physics = N
anim = 2564
vel = 0,0,0

[State 1000]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1


[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value =  47,0
volume = 255
ignorehitpause = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 2565

[Statedef 2565]
type = A
movetype = A
physics = N
anim = 2565

[State 1000]
type = posadd
trigger1 = time = 0
y = -10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = envshake
trigger1 = animelem = 4
time = 8
ampl = 8

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1300,0
volume = 255

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 4
pos = 40,0

[State 1000]
type = targetstate
trigger1 = animelem = 4
value = 2576

[State 1000]
type = targetlifeadd
trigger1 = animelem = 4
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = hitadd
trigger1 = animelem = 4
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4
value = 2200,6
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 4
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 50,-70

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0
volume = 255

[State 1000]
type = velset
trigger1  = animelem = 4, <= 0
x = 0
y = -2

[State 1000]
type = velset
trigger1 = animelem = 4
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = time = 0
y = -10

[State 1000]
type = veladd
trigger1 =  animelem = 4,>= 0
x = 0
y = .20

[State 3290, end1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2566
ctrl = 0

[Statedef 2566]
type = S
movetype = A
physics = N
anim = 2564

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value =  47,0
volume = 255
ignorehitpause = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 2567

[Statedef 2567]
type = A
movetype = A
physics = N
anim = 2566

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = envshake
trigger1 = animelem = 5
time = 8
ampl = 8

[State 1000]
type = posadd
trigger1 = time = 0
y = -10

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1300,0
volume = 255


[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 5
pos = 40,0

[State 1000]
type = targetstate
trigger1 = animelem = 5
value = 25765

[State 1000]
type = targetlifeadd
trigger1 = animelem = 5
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = hitadd
trigger1 = animelem = 5
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 2200,6
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 50,-70

[State 1000]
type = velset
trigger1  = animelem = 5, <= 0
x = 0
y = -2

[State 1000]
type = velset
trigger1 = animelem = 5
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 =  animelem = 5,>= 0
x = 0
y = .20

[State 3290, end1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2568
ctrl = 0

[Statedef 2568]
type = S
movetype = A
physics = N
anim = 2564

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value =  47,0
volume = 255
ignorehitpause = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 2569

[Statedef 2569]
type = A
movetype = A
physics = N
anim = 2567

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = envshake
trigger1 = animelem = 5
time = 8
ampl = 8

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1300,0
volume = 255

[State 1000]
type = posadd
trigger1 = time = 0
y = -10

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 5
pos = 40,0

[State 1000]
type = targetstate
trigger1 = animelem = 5
value = 2576

[State 1000]
type = targetlifeadd
trigger1 = animelem = 5
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = hitadd
trigger1 = animelem = 5
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 2200,6
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 50,-70

[State 1000]
type = velset
trigger1  = animelem = 5, <= 0
x = 0
y = -2

[State 1000]
type = velset
trigger1 = animelem = 5
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 =  animelem = 5,>= 0
x = 0
y = .20

[State 3290, end1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2570
ctrl = 0

[Statedef 2570]
type = S
movetype = A
physics = N
anim = 2564

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value =  47,0
volume = 255
ignorehitpause = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 2571

[Statedef 2571]
type = A
movetype = A
physics = N
anim = 2568

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1300,0
volume = 255

[State 1000]
type = posadd
trigger1 = time = 0
y = -10


[State 1000]
type = envshake
trigger1 = animelem = 5
time = 8
ampl = 8

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 5
pos = 40,0

[State 1000]
type = targetstate
trigger1 = animelem = 5
value = 25765

[State 1000]
type = targetlifeadd
trigger1 = animelem = 5
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = hitadd
trigger1 = animelem = 5
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 2200,6
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 50,-70

[State 1000]
type = velset
trigger1  = animelem = 5, <= 0
x = 0
y = -2

[State 1000]
type = velset
trigger1 = animelem = 5
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 =  animelem = 5,>= 0
x = 0
y = .20

[State 3290, end1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2572
ctrl = 0

[Statedef 2572]
type = S
movetype = A
physics = N
anim = 2564

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value =  47,0
volume = 255
ignorehitpause = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 2573

[Statedef 2573]
type = S
movetype = A
physics = N
anim = 2569

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 0
y = 0
x = 0

[State 1000]
type = envshake
trigger1 = animelem = 6
time = 8
ampl = 8

[State 1000]
type = posset
trigger1  = time = 0
y = 0

[State 1000]
type = targetbind
trigger1 = animelem = 6
pos = 75,-80

[State 1000]
type = targetstate
trigger1 = animelem = 6
value = 2578

[State 1000]
type = playsnd
trigger1 = animelem = 2
value =  6865,73
volume = 255
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = animelem = 6
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = hitadd
trigger1 = animelem = 6
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 2200,6
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 6
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 80,-100

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 2574

[Statedef 2574]
type = A
movetype = A
physics = N
anim = 2570

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause =  1


[State 1000]
type = playsnd
trigger1 = animelem =  1
value =  1500,1
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0

[State 1000]
type = posadd
trigger1 = time = 0
y = -10
x = 5
ignorehitpause = 1

[State 1000]
type = envshake
trigger1 = animelem = 4
trigger2 = animelem = 12
time = 8
ampl = 8

[State 1000]
type = posadd
trigger1 = animelem = 4, <= 0
x = 2
y = -5

[State 1000]
type = posadd
trigger1 = animelem = 4, >= 0
x = .5
y = -2


[State 1000]
type = targetbind
trigger1 = animelem = 4
trigger2 = animelem = 12
pos = 55,-60

[State 1000]
type = targetstate
trigger1 = animelem = 4
value = 2579

[State 1000]
type = targetstate
trigger1 = animelem = 12
value = 2580


[State 1000]
type = targetlifeadd
trigger1 = animelem = 4
trigger2 = animelem = 12
value = -5
ignorehitpause = 1
kill = 0

[State 1000]
type = hitadd
trigger1 = animelem = 4
trigger2 = animelem = 12
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4
trigger2 = animelem = 12
value = 240,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4
trigger2 = animelem = 12
value = 2200,6
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 4
trigger2 = animelem = 12
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p1
pos = 55,-120

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 25752
ignorehitpause = 1

[Statedef 25752]
type = A
movetype = I
anim = 1053
physics = N

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1



[State 1052]
type = VelSet
Trigger1 = AnimElem = 1
x = -2
y = -4.7

[State 1052]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .34

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 50
value = -2
ignorehitpause = 1



[State 1051]
type = Changeanim
Trigger1 = time = 56
value = 1054
persistent = 0

[State 1051]
type = ChangeState
Trigger1 = Vel Y > 0 && Pos Y >= 0
value = 25753

[Statedef 25753]
type = S
movetype = I
physics = N
anim =  2571

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 0
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 25754

[Statedef 25754]
type    = S
movetype= A
physics = N
anim = 3206
ctrl = 0

[State 1000]
type = explod
trigger1 = time = 0
persistent = 0
anim = 1090
posType = P1
pos = -20,0
sprpriority = 3
removeTime = 15
bindTime = 1

[State 1017]
type = helper
trigger1 = time = 0
name = "slowmo2"
stateno = 9999982
helpertype = normal
postype = p1
pos = 0,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
triggerall= animelem = 6 && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 6865,53
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 6865,76
volume = -100

[State 1000]
type = explod
triggerall = timemod = 5,0
trigger1 = time <= 45
anim = 2211
posType = P1
pos = 5+(random%5),-90+(random%10)
pausemovetime = 99999
sprpriority = 5
vel = 0,-.5
scale = .8,.8
removeTime = -2
bindTime = 1
ownpal = 1

[State 1000]
type = explod
trigger1 = animelem = 5
persistent = 0
anim = 2212
id = 2212
posType = P1
pos = 12,-73
pausemovetime = 99999
sprpriority = 3
removeTime = -1
bindTime = -1
ownpal = 1

[State 1000]
type = explod
trigger1 = animelem = 6
persistent = 0
anim = 16000
posType = P1
pos = 10,-73
pausemovetime = 99999
sprpriority = 3
removeTime = -2
bindTime = -1
ownpal = 1

[State 1000]
type = explod
trigger1 = animelem = 6
persistent = 0
anim = 937
posType = P2
pos = -20,-49
facing = -1
scale = 1,1
sprpriority = 3
removeTime = -2
persistent = 0
ignorehitpause = 1
bindTime = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 6
time = 1
add = 255,255,255
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 6
id = 2212
ignorehitpause = 1
persistent = 1

[State 0, PosFreeze]
type = PosFreeze
trigger1 = animelem = 6, >= 0 && animelem = 6, <= 25
value = 1
;ignorehitpause =
;persistent =



[State 3201, 2]
type = playsnd
trigger1 = animelem = 2
value = 1300,1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = 0
y = -2
ignorehitpause = 1

[State 0, Pause]
type = Pause
trigger1 = animelem = 5,>= 0 && animelem = 9,<= 7
time = 2
movetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3000,3
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4,5
value = 6865,641
volume = 255


[State 1411]
type = VelSet
Trigger1 = AnimElem = 1
x = 3
y = -3;

[State 1411]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .11
x = -.012


[State 0, Helper]
type = Helper
triggerall= numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 6
pos = 55,-10

[State 1000]
type = targetstate
trigger1 = animelem = 6
value = 2581

[State 1000]
type = targetlifeadd
trigger1 = animelem = 6
value = -10
ignorehitpause = 1
absolute = 1

[State 1000]
type = hitadd
trigger1 = animelem = 6
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6865,38
volume = 255
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 2200,1
volume = 255
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 2200,14
volume = 255
ignorehitpause = 1
persistent = 0


[State 3205, envcolor]
type = envcolor
trigger1 = animelem = 6
time = 2
ontop = 1
value = 240,240,240

[State 3205, 2]
type = EnvShake
trigger1 = AnimElem = 6
time = 20
ampl = -12
time = 12

[State 3205, Muteki]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1000]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 25755
ctrl = 0

[Statedef 25755]
type = S
movetype = I
physics = N
anim = 25714

[State 1000]
type = posset
trigger1 = time = 0
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelem = 5,<= 0
flag = nofg
flag2 = nobardisplay
flag3 = nobg
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelem = 3
flag = timerfreeze
flag2 = nomusic
ignorehitpause = 1
persistent = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 2575]
type = S
movetype = A
physics = N
anim = 2572
velset = 0,0
ctrl = 0
sprpriority = 2

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,13
volume = 100
ignorehitpause = 1

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 34
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 2576];3310
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2573

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 70
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1



[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = ANIMELEM = 3
x = -20
y = -3

[State 820, 1]
type = ChangeState
trigger1 = AnimElemTIME(2) >= 0
trigger1 = backEdgebodydist <= 10
value = 2577

[Statedef 2577];3315
type    = A
movetype= H
physics = N
velset = 0,0

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 353, envshake]
type = envshake
trigger1 = Time = 0
time = 20
ampl = 8

[State 353, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1,4

[State 353, Spark]
type = Explod
trigger1 = Time = 0
anim = F29000
pos = 250, floor (screenpos y) - 220
postype = back
BINDTIME = -1
FACING = -1
sprpriority = 3


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2574


[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = AnimElem = 6
x = 5.2
y = -5

[State 2100, à⁄ìÆèIóπ]
type = Veladd
trigger1 = AnimElemtime(6) >= 0
y = .39

[State 820, 1]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 2
freq = 100
time = 5

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

[Statedef 25765];3310
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2577

[State 1000]
type = angledraw
trigger1 = 1
value = 1
ignorehitpause = 1

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 70
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1



[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = ANIMELEM = 3
x = -20
y = -3

[State 820, 1]
type = ChangeState
trigger1 = AnimElemTIME(2) >= 0
trigger1 = backEdgebodydist <= 10
value = 25775

[Statedef 25775];3315
type    = A
movetype= H
physics = N
velset = 0,0

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 353, envshake]
type = envshake
trigger1 = Time = 0
time = 20
ampl = 8

[State 353, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1,4

[State 353, Spark]
type = Explod
trigger1 = Time = 0
anim = F29000
pos = 250, floor (screenpos y) - 220
postype = back
BINDTIME = -1
FACING = -1
sprpriority = 3


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2578


[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = AnimElem = 6
x = 5.2
y = -5

[State 2100, à⁄ìÆèIóπ]
type = Veladd
trigger1 = AnimElemtime(6) >= 0
y = .39

[State 820, 1]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 2
freq = 100
time = 5

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

[Statedef 2578];3320
type    = A
movetype= H
physics = N
velset = 0,0

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2575

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 50
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = AnimElem = 2
x = .3
y = -7

[State 2100, à⁄ìÆèIóπ]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .4

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100



[Statedef 25785];3320
type    = A
movetype= H
physics = N
velset = 0,0

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2575

[State 1000, âπÇñ¬ÇÁÇ∑]
type = PlaySnd
trigger1 = time = 0
value = F7,2

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 70
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = AnimElem = 2
x = -.3
y = -4.5

[State 2100, à⁄ìÆèIóπ]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .3

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

[Statedef 2579];3325
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2576

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 70
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 2120]
type = screenbound
trigger1 = 1
value = 1

[state a]
type = selfstate
trigger1 = animtime = 0
value = 5050

[Statedef 2580];3331
Type    = A
MoveType= H
Physics = N
VelSet = -.3,-10.2;0.6,-16

[State 3005, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 90
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5061)
Trigger1 = Time <= 10
Value = 5061

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time <= 10
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050


[State -1]
Type = VelAdd
Trigger1 = 1
y = .155

[State -1]
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

[Statedef 2581]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2573

[State 0, PosFreeze]
type = PosFreeze
trigger1 = time <= 25
value = 1

[state 39029, 5]
type = angledraw
trigger1 = pos y >= 0


;[State 2120]
;type = null;ScreenBound ;
;trigger1 = 1
;value = 0
;movecamera = 0,0

[State 1];ÉJÉÅÉâå≈íË
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 90
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1


[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = ANIMELEM = 3
x = -15
y = 1

[State 820, 1]
type = ChangeState
trigger1 = AnimElemTIME(3) >= 0
trigger1 = backEdgebodydist <= 10
value = 2582

[Statedef 2582]
type    = A
movetype= H
physics = N
velset = 0,0

[State 353, envshake]
type = envshake
trigger1 = Time = 0
time = 20
freq = 100
ampl = 15

[State 353, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1,4

[State 353, Spark]
type = Explod
trigger1 = Time = 0
anim = F29000
pos = 250, floor (screenpos y) - 220
postype = back
BINDTIME = -1
FACING = -1
sprpriority = 3


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2574


;[State 2120]
;type = ScreenBound
;trigger1 = 1
;value = 0
;movecamera = 0,0

[State 1];ÉJÉÅÉâå≈íË
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = AnimElem = 6
x = 1
y = -8

[State 2100, à⁄ìÆèIóπ]
type = Veladd
trigger1 = AnimElemtime(6) >= 0
y = .48

[State 820, 1]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 5
freq = 100
time = 15

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

[Statedef 3600]
type    = S
movetype= A
physics = S
ctrl = 0
JUGGLE = 8
poweradd = -1000
anim = 990
velset = 0,0,0

[State 13501]
type = PlaySnd
trigger1 = time = 0
value = 800,2

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6102
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
ownpal = 1
ontop = 1
trans = add

[State 1000]
type = playsnd
trigger1 = time = 20
value = 800,6

[State 13501]
type = PlaySnd
trigger1 = time = 2
value = 221,6
channel = 2


[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
anim = 6200
pos = 160,97
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .7,.7
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparklvl1'1"
ID = 9011
stateno = 9011
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Sparklvl1'2"
ID = 9001
stateno = 9001
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 9899, BGcolor]
type = envcolor
trigger1 = time = 0
time = 45
under = 1
value = 0, 0, 0

[state 13501]
type = superpause
trigger1 = time = 0
anim = -1
movetime = 45
time = 45
darken = 0

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3601
ctrl = 0

[Statedef 3601]
type    = S
movetype= A
physics = S
ctrl = 0
JUGGLE = 8
anim = 991
velset = 0,0,0

[State 1006, var-reset]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1006, var-reset]
type = varset
trigger1 = projhit(13205) = 1
var(3) = 1

[State 1006, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1000,1

[State 1006, 0] ;flame burst
type = PlaySnd
trigger1 = AnimElem = 3, = 1
value = 1000,0
volume = 40

[State 1006, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1040,0
channel = 1

[State 1006, 0]
type = PlaySnd
trigger1 = time = 0
value = 3300,0
channel = 2

[State 1006, 0]
type = PlaySnd
trigger1 = time = 0
value = 221,8
channel = 3

[state 1000]
type = varset
triggerall = command = "A"
triggerall = command = "holdfwd"
trigger1 = time >= 0
v = 9
value = 1

[state 1000]
type = varset
triggerall = command = "B"
triggerall = command = "holdfwd"
trigger1 = time >= 0
v = 9
value = 2

[State 1000, 1]
type = Projectile
trigger1 = ANIMELEM = 2
ProjAnim = 13205
ProjID = 13205
ProjHitAnim = 13205
projscale = 1.5,1.5
afterimage.time = 60
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projhits = 5
projmisstime = 6
ProjRemoveTime = 38
supermovetime = 8
pausemovetime = 8
offset = 4,-45
accel = 0, 0
hitflag = MAF
guardflag = MA
attr = S, HP
damage = 30,5
animtype = Hard
getpower = 30
givepower = 30
pausetime = 0,4
sparkno = s8025
sparkxy = 60,-10
guard.pausetime = 0,2
hitsound = S2200,6
guardsound = S150,1
ground.type = High
ground.slidetime = 18
ground.hittime = 17
ground.velocity = -4.5,-7
guard.velocity = -7
airguard.velocity = -4,-6
air.velocity =-4,-6
air.fall = 1
air.recover = 0
fall.recover = 0
air.animtype = Back
palfx.time = 23
fall = 1
yaccel = 0.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 10
envshake.ampl = 3
ID = 3600
NOCHAINID = 3600

[State 1000, 3]
type = ChangeState
trigger1 = (var(9) = 1) && (Animtime = 0)
value = 3650
ctrl = 0

[State 1000, 3]
type = ChangeState
trigger1 = (var(9) = 2) && (Animtime = 0)
value = 3660
ctrl = 0

[State 1000, 3]
type = ChangeState
triggerall = var(59) = 1
trigger1 = Animtime = 0
trigger1 = random < 500
value = 3650
ctrl = 0

[State 1000, 3]
type = ChangeState
triggerall = var(59) = 1
trigger1 = Animtime = 0
trigger1 = random < 500
value = 3660
ctrl = 0

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3602
ctrl = 0

;---------------
; end of eine trigger
[Statedef 3602]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 992
velset = 0,0,0

;[State 1005, 1]
;type = Explod
;trigger1 = time = 0
;anim = 1002 ;fire end
;ID = 1002
;bindtime = 1
;postype = P1
;pos = 4,-45
;sprpriority = 2

[State 1000, 1]
type = Projectile
trigger1 = time = 10
ProjAnim = 13206
ProjID = 13206
projscale = 1.5,1.5
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 25
offset = 4,-45

[State 1005 , 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3650]
type    = S
movetype= A
physics = S
juggle  = 10
ctrl = 0
anim = 994
poweradd = 0
velset = 0,0,0

[State 1000, 0]
type = PlaySnd
trigger1 = animelemtime(3) = 1
value = 221,7

[State 1000, 0]
type = PlaySnd
trigger1 = ANIMELEM = 8,=1
value = 1040,0
volume = 255

[State 250, 6]
type = playsnd
trigger1 = animelem = 8
value = 9999,3
volume = 50

[State 1010, 1]
type = varset
trigger1 = time = 0
var(9) = 0

[State 1000, 1]
type = Projectile
trigger1 = time = 10
ProjAnim = 13206
ProjID = 13206
projscale = 1.5,1.5
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 25
offset = 4,-36

[State 1000, 1]
type = Projectile
trigger1 = ANIMELEM = 8,=1
ProjAnim = 1002
ProjID = 1002
projscale = 1.3,1.3
afterimage.time = 60
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 15
offset = 0,-11
velocity = 1.5

[State 1010, 5]
type = Projectile
trigger1 = ANIMELEM = 8,=1
;trigger6 = ANIMELEM = 8,=6
;trigger7 = ANIMELEM = 8,=7
projID = 1025
projanim = 10255
projscale = 0.70,0.50
Projremove = 1
projpriority = 1
projhits = 5
projmisstime = 1
projhitanim = 1026
projremanim = 1026
offset = 70,-20
velocity = 4,0
accel = 0, 0
attr = S,SP
afterimage.time = 150
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
damage = 40,5
animtype = Hard
getpower = 30
givepower = 50
guardflag = MA,L
pausetime = 6,12
guard.pausetime = 0,7
sparkno = s8025
sparkxy = 60,-50
hitsound = S6865,19
guard.sparkno = s8056
guardsound = S150,1
ground.type = High
ground.slidetime = 19
ground.hittime = 25
ground.velocity = -6,0
guard.velocity = -10 ; -4
airguard.velocity = -5,-6.5
air.velocity = -5,-6.5
air.juggle = ifelse(p2statetype = A,15,9)
air.animtype = Back
air.FALL = 1
fall = 0
palfx.time = 40
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 10
envshake.ampl = 8
envshake.freq = 100

[State 250, 6]
type = envshake
trigger1 = animelem = 8, =1
time = 20
ampl = -8

[State 1250, 0]
type = Envcolor
trigger1 = ProjHit(3700) >= 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 1010, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;--------------------------------------------------------

[Statedef 3660]
type = S
movetype = A
physics = S
anim = 993
juggle = 8
velset = 0,0
ctrl = 0

[State 1000, 1]
type = Projectile
trigger1 = time = 10
ProjAnim = 13206
ProjID = 13206
projscale = 1.5,1.5
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 25
offset = 4,-45

[State 1010, 1]
type = varset
trigger1 = time = 0
var(9) = 0

[State 3000, 1] ;flash sound
type = PlaySnd
trigger1 =  AnimElem = 2
value = 1010,1
volume = 255



[State 1040, 4]
type = Projectile
trigger1 = AnimElem = 5
ProjRemoveTime = 21
projscale = 1.4,1.4
ProjAnim = 1030
ProjHitAnim = 1030
ProjID = 1030
offset = 70,-89
velocity = 0.5,0
afterimage.time = 60
afterimage.length = 3
afterimage.paladd = 60,0,-50
afterimage.palbright = 50,-70,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projhits = 1
projmisstime = 4
accel = 0, 0
attr = S, HP
hitflag = MAF
guardflag = M ; MA
damage = 80,5
animtype = DIAGUP
getpower = 42
givepower = 50
guardflag = MA,L
pausetime = 0,8
guard.pausetime = 0,7
sparkno = 7
sparkxy = 30,-30
yaccel = 0.3
hitsound = s2200,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -1, -13
air.velocity = -1, -13
air.juggle = 1
air.animtype = DIAGUP
fall = 1
air.fall = 1
fall.recover = 0
air.fall.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
;P2stateno = 1041
envshake.time = 35
envshake.ampl = 10

[state 1000]
type = playsnd
trigger1 = ProjHit(1030) >= 1
value = 2200,14
volume = 100
ignorehitpause = 1
persistent = 0


[State 1250, 0]
type = Envcolor
trigger1 = ProjHit(1030) >= 1
value = 255, 255, 255
time = 2
under = 1
supermove = 1

[State 250, 6]
type = envshake
trigger1 = ProjHit(1030) >= 1
time = 20
ampl = -8
persistent = 0

[State 180, 2]
type = Explod
trigger1 = ProjHit(1030) >= 1
id = 937
anim = 937
pos = -20,-80
postype = p2
sprpriority = 3
ownpal = 1
facing = -1
removeongethit = 1
removetime = -2
persistent = 0


[State 2900, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3000]
type    = S
movetype= I
physics = S
anim = 3000
ctrl = 0
poweradd = -1000
velset = 0,0,0

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6102
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 3000, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 3000, 1] ; voice
type = PlaySnd
trigger1 = time = 0
value = 3000,0

[State 3000, 1] ;flash sound
type = PlaySnd
trigger1 = time = 0
value = 800,0
volume = -50

[State 1000]
type = playsnd
trigger1 = time = 20
value = 800,6
volume = -50

[State 3000, 2]
type = SuperPause
trigger1 = time = 2
anim = -1
movetime = 30

[State 9090]
type = Explod
trigger1 = time = 0 && prevstateno = 1503
trigger2 = time = 0 && prevstateno = 13505
trigger3 = time = 0 && prevstateno = 1500
anim = 9995
pos = 0,73
postype = Left
sprpriority = 10
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1500
anim = 9993
pos = 0,75
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1500
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Sparklvl1'1"
ID = 9011
stateno = 9011
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,20
helpertype = normal
name = "Sparklvl1'2"
ID = 9001
stateno = 9001
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

;[State 3000, 4]
;type = Explod
;trigger1 = time = 5
;anim = 800
;pos = 17,-90
;supermove = 1
;sprpriority = -2
;bindtime = 1
;ownpal = 1

;[State 3000, 4]
;type = Explod
;trigger1 = time = 1
;anim = 810
;pos = 17,-90
;supermove = 1
;sprpriority = 2
;bindtime = 1
;ownpal = 1

[State 3000, 3]
type = envcolor
trigger1 = time = 1
time = 30
under = 1
value = 0, 0, 0

[State 3000, 4]
type = Explod
trigger1 = animelem = 4
anim = 2000
pos = 10,30
supermove = 1
supermovetime = 2
sprpriority = 2
bindtime = 1
removetime = 2
shadow = 64,64,64
ownpal = 1

[State 3000, 4]
type = Explod
trigger1 = animelem = 5
anim = 2001
supermove = 1
supermovetime = 3
sprpriority = 2
bindtime = 1
pos = 8, 20
removetime = 3
shadow = 64,64,64
ownpal = 1

[State 3000, 4]
type = Explod
trigger1 = animelem = 6
anim = 2001
supermove = 1
pos = 3, 15
supermovetime = 3
sprpriority = 2
bindtime = 1
removetime = 3
shadow = 64,64,64
ownpal = 1

[State 3000, 4]
type = Explod
trigger1 = animelem = 7
anim = 2001
supermove = 1
pos = -4, 0
supermovetime = 20
sprpriority = 2
bindtime = 1
removetime = 20
shadow = 64,64,64
ownpal = 1

[State 3000, 4]
type = Explod
trigger1 = time = 30
anim = 1530
pos = -14,-80
sprpriority = -2
bindtime = 1
ownpal = 1



[State 3000, end1]
type = changestate
trigger1 = (command = "hold_A") && (Time >= 34)
value = 3101

[State 3000, end2]
type = changestate
trigger1 = (time >= 34) && (command != "hold_A")
trigger2 = var(59) = 1
trigger2 = time >= 34
value = 3102

[State 3000, end2]
type = changestate
triggerall = prevstateno = 1500
trigger1 = (time >= 34) && (command != "hold_A")
trigger2 = var(59) = 1
trigger2 = time >= 34
value = 3101


;-------------------------------
[Statedef 3001]
type    = S
movetype= I
physics = S
anim = 3001
ctrl = 0
velset = 0,0,0

[State 3001, handflame]
type = Explod
triggerall = command = "hold_A"
trigger1 = Time = 0
anim = 2010
ID = 2010
pos = -4,0
postype = p1
shadow = 64,64,64
sprpriority = 2
bindtime = 240
removetime = 240
ownpal = 1

[State 3001, end1]
type = changestate
trigger1 = (command != "hold_A") && (time >= 0)
trigger2 = time = 240
trigger3 = var(59) = 1
trigger3 = p2stateno != 120 || P2stateno != 130
;trigger3 = time >= 0
trigger4 = var(59) = 1
trigger4 = p2statetype = A
trigger4 = p2dist y >= 120
trigger4 = time >= 19
value = 3002

;-----------------------------
; release
[Statedef 3002]
type = S
movetype = A
physics = N
ctrl = 0
anim = 3002
velset = 0,0,0

[State 3002, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 6

[State 3002, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 3002, 1.5]
type = PlaySnd
trigger1 = time = 3
value = 3000,1

[State 1000]
type = explod
trigger1 = time = 2
anim = 15000
removetime = -2
bindtime = 1
postype = p1
pos = 0,0
supermovetime = 99999
pausemovetime = 99999
sprpriority = 3
ownpal = 1
removeongethit = 1


[State 3002, explod]
type = Explod
trigger1 = time = 0
anim = 2002
sprpriority = 3
bindtime = 1
shadow = 64,64,64
ownpal = 1

[State 3002, 1]
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = 16
[State 3002, 2]
type = velset
trigger1 = animelem = 2, = 3
x = 20

[State 3002, 6]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S, HA
animtype = up
damage = 0,22 ; 0,10
sparkno = s8035
sparkxy = 0,-60
priority = 6
pausetime = 2,0
guardflag = MA
hitsound = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 2,-32
air.velocity = 2,-32
air.animtype = Back
fall = 1
fall.recover = 0
palfx.time = 90
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
envshake.time = 30
id = 3010
envshake.ampl = 6

[State ëäéËÇÃêßå‰]
type = targetState
triggerall = MoveHit = 1
trigger1 = P2MoveType = H
trigger1 = !Target,IsHelper
value = 3005
ID = 3010
ctrl = 0
IgnoreHitPause = 1
persistent = 0

[State 1000]
type = explod
trigger1 = movehit
anim = 936
removetime = -2
supermovetime = 9999999
pausemovetime = 9999999
scale = 1,1
postype = p2
pos = 0,-50
sprpriority = 5

[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 2200,0
ignorehitpause = 1
volume = -250
persistent = 0

[State 3002, 7]
type = TargetLifeAdd
trigger1 = movehit
value = -260  ; -333 KOF99
absolute = 1

[State 3002, 8]
type = PlayerPush
trigger1 = Time >= 8
value = 0

[State 3002, afterimage]
type = AfterImage
trigger1 = AnimElem = 2, = 1
time = 36
Trans = Add1
FrameGap = 3
length = 8
time = 20

[State 3002, end1]
type = changestate
trigger1 = animtime = 0
value = 3003
ctrl = 1

[State 3002, end1]
type = changestate
trigger1 = movehit
value = 3004
ctrl = 1


;-----------------------------
[Statedef 3003]
type = S
movetype = A
physics = N
ctrl = 0
anim = 3003
velset = 0,0,0
juggle = 2

[State 3003, 1]
type = HitDef
trigger1 = time =[0,4]
persistent = 0
attr = S, HA
animtype = up
damage = 0,22 ; 0,10
sparkno = s8035
sparkxy = 0,-60
priority = 6
pausetime = 2,0
guardflag = MA
hitsound = S2200,0
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 3,-15
air.velocity = 3,-15
air.juggle = 9
air.animtype = Back
fall = 1
fall.recover = 0
palfx.time = 60
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
p2stateno = 3010
envshake.time = 30 
envshake.ampl = 6
yaccel = .6

[State 3003, 7]
type = TargetLifeAdd
trigger1 = movehit
value = -350  ; -333 KOF99
absolute = 1
persistent = 0

[State 3003, 1]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
x = 8

[State 3003, 2]
type = velset
trigger1 = time = 0
x = 6

[State 3003, 2]
type = veladd
trigger1 = time >= 0
x = -0.2

[State 3003, 3]
type = VelSet
trigger1 = Vel X <= 0
x = 0

[State 3000, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------
; 3004 movehit
[Statedef 3004]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3003
velset = 0,0,0

[State 3004, 0]
type = explod
trigger1 = time = 0
anim = 2050
sprpriority = -2
pos = 10, -1
bindtime = 7
ownpal = 1

[State 3004, 1]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
x = 8

[State 3004, 2]
type = velset
trigger1 = time = 0
x = 12

[State 3004, 2]
type = veladd
trigger1 = time >= 0
x = -0.4

[State 3004, 3]
type = VelSet
trigger1 = Vel X <= 0
x = 0


[State 3004, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3054]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3104
velset = 0,0,0

[State 3004, 0]
type = explod
trigger1 = time = 0
anim = 2050
sprpriority = -2
pos = 10, -1
bindtime = 7
ownpal = 1

[State 3004, 1]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
x = 8

[State 3004, 2]
type = velset
trigger1 = time = 0
x = 12

[State 3004, 2]
type = veladd
trigger1 = time >= 0
x = -0.4

[State 3004, 3]
type = VelSet
trigger1 = Vel X <= 0
x = 0

[State 0, Helper]
type = Helper
trigger1 = time = 23
trigger2 = time = 36
trigger3 = time = 49
trigger4 = time = 62
trigger5 = time = 73
trigger6 = time = 84
trigger7 = time = 93
trigger8 = time = 102
trigger9 = time = 109
trigger10 = time = 116
helpertype = normal
name = "Heat burst"
ID = 3107
stateno = 3107
pos = -80+(random%160),-60+(random%120)
postype = p2
scale = .7,.7
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1
persistent =  1

[State 0, Helper]
type = Helper
trigger1 = time = 131
helpertype = normal
name = "Heat burst2"
ID = 3108
stateno = 3108
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1
persistent =  1

[State 1000]
type = playsnd
trigger1 = win
value = 221,61
volume = 255
priority = 4
persistent = 0



[State 3004, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------
; 3010 Being hit by heat drive
[Statedef 3010]
type = A
movetype = H
physics = N
ctrl = 0
anim = 5030

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 7]
type = posadd
trigger1 = HitShakeOver = 1
persistent = 0
y = -15

[State 3010, 9]
type = ChangeAnim2
trigger1 = HitShakeOver = 1
persistent = 0
value = 3010

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =


[State 3010, 10]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 0, VelSet]
type = VelSet
triggerall = prevstateno = 33898
trigger1 = time = 0
x = 0
y = -9
ignorehitpause = 1


[State 3010, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.5

[State 3010, 12]
type = SelfState
triggerall = Anim = 3010
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

[Statedef 3110]
type = A
movetype = H
physics = N
ctrl = 0
anim = 5030

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State -2]
type = PlaySnd
triggerall = enemy,stateno != 2602
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 500
value = 5000,8+(Random % 3)
volume = 255

[State -2]
type = PlaySnd
triggerall = enemy,stateno = 2602
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 800
value = 11,0
volume = 255

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent =  1

[State 0, Width]
type = Width
trigger1 = 1
edge = 10,0
ignorehitpause = 1


[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 7]
type = posadd
trigger1 = HitShakeOver = 1
persistent = 0
y = -15

[State 3010, 7]
type = posadd
triggerall = enemy,stateno = 2602
trigger1 = HitShakeOver = 1
persistent = 0
y = -60

[State 3010, 7]
type = posadd
triggerall = enemy,stateno = 3602
trigger1 = time = 0
persistent = 0
y = -60

[State 3010, 9]
type = ChangeAnim2
trigger1 = HitShakeOver = 1
persistent = 0
value = 3010

[State 3010, 9]
type = ChangeAnim2
triggerall = enemy,stateno = 3602
trigger1 = time = 0
persistent = 0
value = 3010

[State 0, PalFX]
type = PalFX
triggerall = enemy,stateno = 2602
trigger1 = time >= 0
time = 1
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
triggerall = enemy,stateno = 3602
trigger1 = time = 0
time = 90
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 3010, 9]
type = ChangeAnim2
triggerall = enemy,stateno = 2602
triggerall = anim = 3010
trigger1 = Vel Y > 0
value = 3811
persistent = 0

[State 3010, 9]
type = ChangeAnim2
triggerall = enemy,stateno = 3602
triggerall = anim = 3010
trigger1 = Vel Y > 0
value = 3811
persistent = 0



[State 3010, 10]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 1000]
type = velset
triggerall = enemy,stateno = 2602
triggerall = life >= 1
trigger1 = time = 0
x = 0
y = -20

[State 1000]
type = velset
triggerall = enemy,stateno = 2602
triggerall = life < 1
trigger1 = time = 0
x = 0
y = -30

[State 1000]
type = veladd
triggerall = enemy,stateno = 2602
trigger1 = time >= 0
x = 0
y = -.205

[State 1000]
type = veladd
triggerall = enemy,stateno = 3602
trigger1 = time >= 0
x = 0
y = -.205

[State 3010, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.5

[State 3010, 12]
type = SelfState
trigger1 = anim = 3010
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
trigger2 = anim = 3811
trigger2 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

[Statedef 31105]
type = A
movetype = H
physics = N
ctrl = 0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent =  1

[State 0, Width]
type = Width
trigger1 = 1
edge = 10,0
ignorehitpause = 1


[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 7]
type = posadd
trigger1 = time = 0
persistent = 0
y = -60

[State 3010, 9]
type = ChangeAnim2
trigger1 = time = 0
persistent = 0
value = 3010

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 150
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 3010, 9]
type = ChangeAnim2
triggerall = anim = 3010
trigger1 = Vel Y > 0
value = 3811
persistent = 0

[State 3010, 10]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 0
y = -20

[State 1000]
type = veladd
trigger1 = time >= 0
x = 0
y = -.205

[State 3010, 11]
type = VelAdd
trigger1 = time >= 0
y = 0.5

[State 3010, 12]
type = SelfState
trigger1 = anim = 3010
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
trigger2 = anim = 3811
trigger2 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

;----------------------------------------------------------
[Statedef 3005]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State ÉAÉjÉÅ]
type = ChangeAnim
trigger1 = time < 6
value = 5030

[State ÉAÉjÉÅ]
type = ChangeAnim2
trigger1 = time = 6
value = 3009
Persistent = 0

[State ë¨ìx]
type = HitVelSet
trigger1 = time = 6
x = 1
y = 1
Persistent = 0

[State ÉJÉÅÉâÇÃîªíË]
type = ScreenBound
trigger1 = 1
value = 1
MoveCamera = 1,0
IgnoreHitPause = 1
persistent = 1

[State óéâ∫îªíË]
type = HitFallSet
trigger1 = time = 0
value = 1

[State èdóÕ]
type = VelAdd
trigger1 = time >= 6
y = 1.6

[State É`ÉFÉìÉW]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100

;---------------------------------------
[Statedef 3006]
type    = S
movetype= I
physics = S
anim = 3001
ctrl = 0
velset = 0,0,0

[State 3006, handflame]
type = Explod
triggerall = command = "hold_C"
trigger1 = Time = 0
anim = 2010
ID = 2010
postype = p1
pos = -3,0
shadow = 64,64,64
sprpriority = 2
bindtime = 240
removetime = 240
ownpal = 1

[State 3006, end1]
type = changestate
trigger1 = command != "hold_C"
trigger1 = time >= 0
trigger2 = time = 240
value = 3002

;==========================================================
;==========================================================
;----------------------------------------------------------
; 3200 chain drive launch
[Statedef 3200]
type    = S
movetype= A
physics = S
anim = 3200
ctrl = 0
poweradd = -1000
velset = 0,0,0
;juggle = 10

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6102
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 221,6

[State 3000, 1] ;flash sound
type = PlaySnd
trigger1 = time = 0
value = 800,0
volume = -50

[State 1000]
type = playsnd
trigger1 = time = 20
value = 800,6
volume = -50

[State 3200, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 3200, 2]
type = SuperPause
trigger1 = animelem = 2
anim = -1
time = 44
movetime = 30
darken = 0


[State ]
type = Explod
triggerall = !time
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1201 || prevstateno = 1204
anim = 6200
sprpriority = 50
postype = left
pos = 160,97
ownpal = 1
bindtime = -1
supermove = 1
ontop = 1
scale = 0.7,0.7

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1201 || prevstateno = 1204
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Sparklvl1'1"
ID = 9011
stateno = 9011
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,20
helpertype = normal
name = "Sparklvl1'2"
ID = 9001
stateno = 9001
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

;[State 3200, 4]
;type = Explod
;trigger1 = time = 5
;anim = 800
;pos = 0,-90
;supermove = 1
;sprpriority = -2
;bindtime = 1
;ownpal = 1

;[State 3200, 4]
;type = Explod
;trigger1 = time = 2
;anim = 810
;pos = 0,-90
;supermove = 1
;sprpriority = 2
;bindtime = 1
;ownpal = 1

[State 3200, 3]
type = envcolor
trigger1 = animelem = 2
time = 44
under = 1
value = 0, 0, 0

[State 3200 , 2]  ;sun glasses
type = Projectile
trigger1 = AnimElem = 6, =1
Projpriority = 7
ProjAnim = 2020
ProjID = 2020
ProjHitAnim = 2021
projheightbound = -300,0
projedgebound = 320
projstagebound = 320
offset = 26,-90
hitflag = MAFP
guardflag = MA
accel = 0, 0.3
velocity = 7,-3
attr = S, HP
projshadow = 68,68,68
damage = 30,2
animtype = hard
air.animtype = up
givepower = 50
pausetime = 0,5
sparkno = s8035
hitsound = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 36
ground.hittime = 36
ground.velocity = 0
guard.hittime = 24
guard.slidetime = 24
guard.pausetime = 8,10
guard.velocity = -1
air.velocity = -4,-2
fall = 0
air.fall = 1
fall.recover = 0
air.fall.recover = 0
fall.recover = 0
kill = 0
;air.juggle = 10
air.animtype = Back

[State 3250, end1]
type = changestate
trigger1 = (projcontact(2020) = 1) && (p2bodydist X < 30)
value = 3201
ctrl = 0

[State 3250, end1]
type = changestate
trigger1 = projcontact(2020) = 1
trigger1 = AnimElemTime (6) > 1
value = 3201
ctrl = 0

[State 3250, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------
; 3201 chain drive attack success
[Statedef 3201]
type    = S
movetype= A
physics = N
anim = 3252
ctrl = 0
velset = 0,0,0

[State 1000]
type = changeanim
trigger1 = time = 0
elem = 2
value = 3252
ignorehitpause = 1

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 10,>=0
Value = 0

[State 2601]
type = posadd
Trigger1 = animelem = 7,>0 && animelem = 10,<0
x = 21

[State 1000]
type = playsnd
trigger1 = animelem = 7
value = 1700,4
volume = 255
ignorehitpause = 1


[State 2601]
type = posadd
Trigger1 = animelem= 7,>0 && MoveContact = 1
x = 0
ignorehitpause = 1

[State 2601]
type = Width
Trigger1 = 1
edge = 45,0

[State 2301]
type = Width
Trigger1 = 1
edge = 45,0

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 25
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[State 3201, 5]
type = HitDef
trigger1 = AnimElem = 3;4
trigger2 = (AnimElem = 3) && (!movecontact)
p2facing = 1
attr = S, HA
animtype = hard
damage = 20,0
sparkno = s8035
hitsound = s220,0
sparkxy = -30,-70
pausetime = 0,20
hitflag = MAF
guardflag = MA
guard.sparkno = s8056
forcestand = 1
hitsound = s220,0
fall.recover = 0
ground.slidetime = 15
kill = 0
ground.hittime = 30
ground.velocity = -2, 0
p2stateno = 32085
envshake.ampl = 8
envshake.time = 12

[State 3201, sunglass]
type = envcolor
trigger1 = movehit
time = 1
under = 1
value = 240,240,240

[State 3201, end1]
type = changestate
triggerall = prevstateno != 3354
trigger1 = movehit
value = 3202
ctrl = 1

[State 3201, end1]
type = changestate
triggerall = prevstateno = 3354
trigger1 = movehit
value = 3668
ctrl = 1

[State 3201, end1]
type = changestate
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3210
ctrl = 0

;------------------------
; 3210 guarded
[Statedef 3210]
type    = S
movetype= I
physics = S
anim = 3210
ctrl = 0

[State 3210, 1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------
;=========================================
;-----------------------------------------
; 3205 chain drive attacking
[Statedef 3202]
type    = S
movetype= A
physics = N
anim = 3205
ctrl = 0

[state 13502]
type = playsnd
trigger1 = animelem = 5
value = 221,5
volume = 255

[State -2]
Type = AttackDist
Trigger1 = 1
Value = 0

[State 2302]
type = TargetBind
Trigger1 = (animelem=1,>0 && animelem=128,<0)
pos = 60, 0

[State 2302]
type = posadd
Trigger1 = (animelem=5,>0 && animelem=125,<0)
x = 1

[State 2302]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 183

[State 2302]
type = Width
Trigger1 = 1
edge = 70,0

[State 2302]
type = PlayerPush
Trigger1 = AnimElemTime(5) > 0
value = 1

[State 2302]
type = HitDef
Trigger1 = animelem= 6
Trigger2 = animelem= 10
Trigger3 = animelem= 16
Trigger4 = animelem= 23
Trigger5 = animelem= 34
Trigger6 = animelem= 41
Trigger7 = animelem= 51
Trigger8 = animelem= 59
Trigger9 = animelem= 65
Trigger10= animelem= 76
Trigger11= animelem= 83
Trigger12= animelem= 90
Trigger13= animelem= 96
trigger14 = animelem = 106
hitflag = MAF
;guardflag = MA
attr = S, HP
damage = 8,0
animtype = hard
air.animtype = up
getpower = 0,0
givepower = 0,0
pausetime = 2,2
guard.pausetime = 12,12
guard.dist = 0
sparkno = s8035
sparkxy = -30+random%30,-80+random%40
hitsound = s222,0+random%2
guardsound = s0,9
guard.sparkno = s8056
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.cornerpush.veloff = 0
ground.velocity = -3,0
guard.hittime = 24
guard.slidetime = 24
;guard.velocity = -3,0
air.velocity = -3.6,-8.6
p2stateno = 3207+(random%2)
kill = 0
fall = 0
fall.recover = 0

[State 1000]
type = playsnd
trigger1 = animelem = 128
value = 221,54
volume = 255

[State 3202, 2]
type = HitDef
trigger1 = animelem = 112
TRIGGER2 = animelem = 120
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 5,4
forcestand = 1
sparkno = s8035
sparkxy = -20,-70
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
envshake.time = 12
envshake.ampl = -12
envshake.freq = 75
fall.recover = 0
kill = 0
p2stateno = 3207

[State 3202, 2]
type = HitDef
trigger1 = animelem = 127
attr = S, HA
animtype  = hard
damage    = 30 ; 15
givepower = 15
;guardflag = MA
pausetime = 35,35
forcestand = 1
sparkno = s8035
sparkxy = -20,-70
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = -5,-3
envshake.time = 25
envshake.ampl = -12
envshake.freq = 75
fall.recover = 0
kill = 1
p2stateno = 305


[State 3202, width]
type = Width
trigger1 = time >= 0
edge = 60, 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(59) = 1
trigger1 = animelem = 124
trigger1 = random <= 500
trigger1 = power >= 2000
value = 13501

[State 0, ChangeState]
type = ChangeState
triggerall = var(59) = 1
trigger1 = animelem = 124
trigger1 = random <= 500
trigger1 = power >= 1000
value = 3220

[state 1000]
type = changestate
triggerall = var(59) != 1
triggerall = command = "heatdriverSDM"
trigger1 = time = [176,200]
trigger1 = power >= 2000
value = 3150

[State 0, VarSet]
type = VarSet
triggerall = command = "Burning Mirage"
trigger1 = time = [1,178]
v = 9
value = 1
ignorehitpause = 1


[State 3202, end1]
type = changestate
triggerall = prevstateno = 3201
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = prevstateno = 3301
trigger1 = animtime = 0
elem = 1
value = 3310

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = var(9) = 1
trigger1 = time = 186
trigger1 = power >= 1000
value = 3220

[Statedef 3220]
type = S
movetype = A
physics = N
velset = 0,0,0
anim = 3220
poweradd = -1000

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
time = 5
pos = 70,0
ignorehitpause = 1

[State 1000]
type = superpause
trigger1 = time = 0
time = 44
movetime = 43
anim = -1
darken = 0

[State 3200, 3]
type = envcolor
trigger1 = animelem = 1
time = 44
under = 1
value = 0, 0, 0

[State 1000]
type = posset
trigger1 = time = 0
trigger1 = facing = 1
x = -95
y = 0
ignorehitpause = 1

[State 1000]
type = posset
trigger1 = time = 0
trigger1 = facing = -1
x = 95
y = 0
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9995
pos = 0,73
postype = Left
sprpriority = 10
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9993
pos = 0,75
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6112
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Sparklvl2'1"
ID = 9012
stateno = 9012
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,20
helpertype = normal
name = "Sparklvl2'2"
ID = 9002
stateno = 9002
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 3250, 1]
type = PlaySnd
trigger1 = time = 0
value = 800,10

[State 3250, 1]
type = PlaySnd
trigger1 = time = 20
value = 800,1

[State 1000]
type = hitdef
trigger1 = animelem =  4
hitflag = MAF
attr = S,HA
guardflag = MA
priority = 4, hit
sparkno = -1
sparkxy = 0,0
hitsound = s370,0
kill = 0
numhits = 0
p2stateno = 3218
p1stateno = 3221

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 1000,1
volume = 255
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3221]
type = S
movetype = A
physics = N
velset = 0,0,0
anim = 3221

[State 1000]
type = sprpriority
trigger1 = time = 0
value = -5
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "lvl 4 NEO EXTINCTION"
trigger1 = animelem = 2,>= 0
trigger1 = power >= 2000
trigger1 = life < (lifemax*.5)
v = 19    ;fv = 10
value = 1
ignorehitpause = 1

[State 1000]
type = sprpriority
trigger1 = time = 80
value = 1
ignorehitpause = 1

[State 1000]
type = changeanim
trigger1 = animelem = 19
elem = 27
value = 3221
ignorehitpause = 1



[State 1000]
type = targetbind
trigger1 = time <= 100
pos = 50,0
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 126
time = 80
pos = 60,0
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = time <= 200
value = SCA
ignorehitpause = 1



[State 1000]
type = playsnd
trigger1 = animelem = 1,10
value = 3220,0
volume = 255

[State 3202, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 15,15
forcestand = 1
sparkno = s8035
sparkxy = -25,-90
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
envshake.time = 15
envshake.ampl = -9
envshake.freq = 75
fall.recover = 0
kill = 0
p2stateno = 3372

[State 3202, 2]
type = HitDef
trigger1 = animelem = 14
attr = S, HA
animtype  = hard
damage    = 8 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,15
forcestand = 1
sparkno = s8035
sparkxy = -30+random%30,-80+random%40
hitsound   = s220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
kill = 0
p2stateno = 3207

[State 1000]
type = envshake
trigger1 = time = 94
time = 26
ampl = 9
freq = 75
phase = -90

[State 1000]
type = envcolor
trigger1 = animelem = 2
trigger2 = animelem = 14
trigger3 = animelem = 24,50
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 81
trigger2 = time = 90
trigger3 = time = 99
helpertype = normal
name = "Mirage1"
ID = 32201
stateno = 32201
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 24,0
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,30
forcestand = 1
sparkno = s8035
sparkxy = -28,-52
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
envshake.time = 15
envshake.ampl = -9
envshake.freq = 75
fall.recover = 0
kill = 0
p2stateno = 3371

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = animelem = 24,20
value = 6865,40
volume = 255
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 24,50
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 15,15
forcestand = 1
sparkno = s8035
sparkxy = -28,-52
hitsound   = s2200,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
envshake.time = 25
envshake.ampl = -12
envshake.freq = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
fall.recover = 0
kill = 0
p2stateno = 3208

[State 1000]
type = explod
triggerall = animelem = 24,50
trigger1 = movehit
anim = 937
facing = -1
removetime = -2
bindtime = 1
postype = p2
pos = 0,-40
vel = 0,-.5
ignorehitpause = 1
persistent = 0
ownpal = 1
sprpriority = 2

[State 1500, burn]
type = varset
triggerall = animelem = 24,50
trigger1 = movehit
var(3) = 1

[State 1000]
type = playsnd
triggerall = animelem = 24,50
trigger1 = movehit
value = 2200,2
volume = 100
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 32
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,0
forcestand = 1
sparkno = s8035
sparkxy = -30,-50
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.velocity = -3,-10
fall = 1
air.fall = 1
air.fall.recover = 0
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
envshake.time = 12
envshake.ampl = 12
fall.recover = 0
kill = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3222
ignorehitpause = 1
ctrl = 0

[Statedef 3222]
type = S
movetype = A
physics = N
anim = 3222
velset = 0,0,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "lvl 4 NEO EXTINCTION"
trigger1 = animelem = 1,>= 0
trigger1 = power >= 2000
trigger1 = life < (lifemax*.5)
v = 19    ;fv = 10
value = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 3220,1
volume = 255

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000, ÉwÉãÉpÅ[ÇèoÇ∑]
type = Helper
trigger1 = AnimElem = 4
stateno = 19960
ID = 19960
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000]
type = posadd
trigger1 = animtime = 0
x = p2bodydist X + 50
y = p2bodydist Y - 10
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3223
ctrl = 0

[Statedef 3223]
type = A
movetype = A
physics = N
anim = 3223

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,25
volume = 255

[State 0, VarSet]
type = VarSet
triggerall = command = "lvl 4 NEO EXTINCTION"
trigger1 = time >= 0
trigger1 = power >= 2000
trigger1 = life < (lifemax*.5)
v = 19    ;fv = 10
value = 1
ignorehitpause = 1

[state a]
type = turn
trigger1 = Time = 0
trigger1 = p2bodydist  x <-1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 5


[State 1000]
type = veladd
trigger1 = time > 0
x = -.08
y = .5
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,0
sparkno = s8035
sparkxy = -28,-52
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.velocity = 0,0
kill = 0
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
envshake.time = 15
envshake.ampl = -9
envshake.freq = 75
fall.recover = 0
p2stateno = 3227
p1stateno = 3224
p2facing = 1
hitonce = 1
kill = 0

[State 1000]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3229
ctrl = 0

[Statedef 3229]
type = S
movetype = I
physics = N

[State 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = changeanim
trigger1 = time = 0
elem = 3
value = 3225
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3224]
type = S
movetype = A
physics = N
anim = 3224

[State 1000]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "lvl 4 NEO EXTINCTION"
trigger1 = time >= 0
trigger1 = power >= 2000
trigger1 = life < (lifemax*.5)
v = 19    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "heatdriver"
trigger1 = time >= 0
v = 9
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "heatdriver2"
trigger1 = time >= 0
v = 9
value = 1
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
time = 200
pos = 50,25
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time > 0
x = -.08
y = .5
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 5

[State 1000]
type = changestate
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3225
ignorehitpause = 1

[Statedef 3227]
type = S
movetype = H
physics = N
velset = 0,0,0

[State 1000]
type = changeanim2
trigger1 = time = 0
value = 3232
ignorehitpause = 1

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 3237]
type = S
movetype = H
physics = N
velset = 0,0,0

[State 1000]
type = changeanim2
trigger1 = time = 0
value = 3233
ignorehitpause = 1

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = lifeadd
trigger1 = time = 0
value = -10
kill = 0
ignorehitpause = 1

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 3225]
type = S
movetype = A
physics = N
anim = 3225
velset = 0,0,0
sprpriority = 2

[State 0, VarSet]
type = VarSet
triggerall = command = "lvl 4 NEO EXTINCTION"
trigger1 = time >= 0
trigger1 = power >= 2000
trigger1 = life < (lifemax*.5)
v = 19    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "heatdriver"
trigger1 = time >= 0
v = 9
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "heatdriver2"
trigger1 = time >= 0
v = 9
value = 1
ignorehitpause = 1

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
time = 50
pos = 30,0
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = time = 0
value = 3237
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,0
forcestand = 1
sparkno = -1
sparkxy = -28,-52
hitsound   = -1
guardsound = S150,1
guard.sparkno = s8056
ground.velocity = 0,0
kill = 0
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
p2stateno = 3237
p2facing = 1
hitonce = 1
kill = 0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 3220,3
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,1
volume = -100

[State 1000]
type = envshake
trigger1 = time = 0
time = 30
ampl = 9
freq = 75
phase = -90
ignorehitpause = 1

[State 1000]
type = explod
triggerall = enemy,stateno = 3237
trigger1 = time = 0
anim = 3228
removetime = -2
bindtime = 1
supermovetime = 99999
sprpriority = 3
postype = p2
pos = 0,0
ownpal = 1

[State 1000]
type = changestate
triggerall = enemy,stateno != 3237
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = enemy,stateno = 3237
trigger1 = animtime = 0
value = 3226

[State 1000]
type = changestate
triggerall = var(9) = 1
trigger1 = animelem = 8
value = 3230

[State 0, ChangeState]
type = ChangeState
triggerall = var(59) = 1
trigger1 = animelem = 8
trigger1 = random <= 500
trigger1 = power >= 1000
value = 3230

[Statedef 3226]
type = S
movetype = A
physics = N
anim = 3226
velset = 0,0,0

[State 1000]
type = sprpriority
trigger1 = animelem = 4, <= 0
value = -2
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 15 ; 15
givepower = 15
;guardflag = MA
pausetime = 10,20
forcestand = 1
sparkno = s8025
sparkxy = -25,-23
hitsound   = s2200,6
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = -3
envshake.time = 20
envshake.ampl = -9
envshake.freq = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
fall.recover = 0
kill = 0
p2stateno = 3228

[State 1000]
type = explod
trigger1 = movehit
anim = 2013
id = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
postype = p1
pos = 35,-23
ignorehitpause = 1
sprpriority = 3
persistent = 0
scale = .5,.5


[State 1000]
type = playsnd
trigger1 = animelem = 4
value = 2200,1
volume = 255
ignorehitpause = 1
persistent = 0

[State 3202, 2]
type = HitDef
trigger1 = animelem = 18
attr = S, HA
animtype  = hard
damage    = 35 ; 15
givepower = 15
;guardflag = MA
pausetime = 10,0
forcestand = 1
sparkno = s2013
sparkxy = -25,0
hitsound   = s2200,1
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = -1,-24
air.velocity = -1,-24
envshake.time = 60
envshake.ampl = -12
envshake.freq = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
fall.recover = 0
kill = 1
p2stateno = 3811

[State 1000]
type = envcolor
trigger1 = animelem = 4
trigger2 = animelem = 18
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 3220,4
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = animelem = 18
trigger1 = movehit
value = 2200,7
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
triggerall = animelem = 18
trigger1 = movehit
value = 221,61
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 12,10
value = 3220,2
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 12,10
value = 6865,37
volume = -100
ignorehitpause = 1

[State 1000]
type = helper
triggerall = animelem = 18
trigger1 = movehit
name = "erupt"
stateno = 14603
helpertype = normal
postype = p1
pos = 70,0
bindtime = 1
size.xscale = .7
size.yscale = .7
pausemovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1

[State 1000]
type = helper
triggerall = animelem = 18
trigger1 = movehit
name = "erupt2"
stateno = 14703
helpertype = normal
postype = p1
pos = 60,0
bindtime = 1
pausemovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animtime = 0
v = 9
value = 0
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 12,>= 5 && animelem = 13,<= 6
trigger1 = timemod = 5,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = -55+(random%24),5-(random%33)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 12,>= 6 && animelem = 13,<= 6
trigger1 = timemod = 5,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = -35+(random%24),-20-(random%33)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 14,>= 0 && animelem = 14,<= 2
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = -0+(random%10),-30-(random%10)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 14,>= 0 && animelem = 14,<= 2
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = -20+(random%10),-50-(random%10)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 15,>= 0 && animelem = 15,<= 2
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = 30+(random%10),-25-(random%10)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 15,>= 0 && animelem = 15,<= 2
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = 50+(random%10),-45-(random%10)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 16,>= 0 && animelem = 16,<= 1
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = 55+(random%10),-32-(random%10)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 16,>= 0 && animelem = 16,<= 1
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = 55+(random%10),-52-(random%10)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 16,>= 0 && animelem = 16,<= 1
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = 42+(random%10),-132-(random%10)
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 16,>= 0 && animelem = 16,<= 1
trigger1 = timemod = 1,0
anim = 2201
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = 38+(random%10),-112-(random%10)
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = animelem = 4
trigger1 = movehit
value = 2200,2
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
ignorehitpause = 1

[State 1000]
type = changestate
triggerall = var(19) = 1
trigger1 = animelem = 10
value = 2700

[State 1000]
type = changestate
triggerall = var(59) = 1
trigger1 = animelem = 10
trigger1 = power >= 2000
trigger1 = life < (lifemax*.3)
value = 2700

[Statedef 3228]
type = S
movetype = H
physics = N

[State 1000]
type = changeanim2
trigger1 = time = 0
value = 3234
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = time = [0,30]
x = -2

[State 0, MakeDust]
type = MakeDust
trigger1 = time = [0,30]
pos = 40,10
spacing = 3


[State 1000]
type = selfstate
trigger1 = animtime = 0
value = 5030
ignorehitpause = 1

[Statedef 3229]
type = S
movetype = H
physics = N
anim = 3233

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = selfstate
trigger1 = animtime = 0
value = 5030
ignorehitpause = 1

[Statedef 3230]
type = S
movetype = A
physics = N
anim = 3240
velset = 0,0,0
poweradd = -1000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1001]
type = nothitby
trigger1 = time >= 0
value = SCA
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time >= 0
movecamera = 0,0
ignorehitpause = 1

[State 1005]
type = targetbind
trigger1 = animelem = 6
time = 17
pos = 50,0
ignorehitpause = 1


[State 2200, 8]
type = SuperPause
trigger1 = animelem = 5
time = 60
movetime = 60
anim = -1
darken = 0

[State 3200, 3]
type = envcolor
trigger1 = animelem = 5
time = 60
under = 1
value = 0, 0, 0

[State 3500, 13]
type = AssertSpecial
trigger1 = Time >= 11
trigger1 = time <= 71
flag = Nofg
flag2 = noshadow
ignorehitpause = 1

[State 1006, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9013
sprpriority = 9
postype = p1
pos = 0,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1007, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9013
sprpriority = 9
postype = p1
pos = 0,0
bindtime = 1
facing = -1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1008, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9003
sprpriority = 5
postype = p1
pos = 0,-65
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
scale = 1,1
under = 0
ownpal = 1

[State 9090]
type = Explod
trigger1 = time = 0
anim = 10005
pos = 0,61
postype = Left
sprpriority = 10
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9996
pos = 0,65
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = time = 0
anim = 9997
pos = 0,61
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
triggerall = !numhelper(100094)
trigger1 = !time
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 2500,2]
type = PlaySnd
trigger1 = animelem = 5,0
value = 800,10
volume = 255

[State 1010]
type = playsnd
trigger1 = animelem = 5,2
value = 800,4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5,20
value = 800,3
volume = 255

[State 1011]
type = explod
trigger1 = animelem = 10
anim = 892
bindtime = 40
postype = p1
pos = -30,-25
scale = .7,.7
removetime = -2
ignorehitpause = 1
supermovetime = 99999
ownpal = 1
removeongethit = 1
sprpriority = 5

[State 1012]
type = playsnd
trigger1 = animelem = 10
value = 3000,1
volume = 255
ignorehitpause = 1

[State 1013]
type = playsnd
trigger1 = animelem = 9
value = 1500,1
volume = 255
ignorehitpause = 1

[State 3202, 2]
type = HitDef
trigger1 = animelem = 12
attr = S, HA
animtype  = up
damage    = 30 ; 15
givepower = 15
;guardflag = MA
pausetime = 5,0
forcestand = 1
sparkno = s2013
sparkxy = -25,0
hitsound   = s2200,1
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = -.1,-20
air.velocity = -.1,-2
air.animtype = up
envshake.time = 20
envshake.ampl = -12
envshake.freq = 75
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
fall.recover = 0
p2stateno = 3314
kill = 0
yaccel = .4

[State 1014]
type = playsnd
trigger1 = movehit = 1
value = 2100,0
volume = 255
ignorehitpause = 1
persistent = 0

[State 1015]
type = playsnd
trigger1 = movehit = 1
value = 3300,0
volume = 255
ignorehitpause = 1
persistent = 0

[State 1016]
type = envcolor
trigger1 = movehit = 1
ontop = 1
value = 240,240,240
ignorehitpause = 1
time = 3
persistent = 0


[State 1017]
type = helper
trigger1 = movehit = 1
name = "erupt"
stateno = 14603
helpertype = normal
postype = p1
pos = 70,0
bindtime = 1
size.xscale = .5
size.yscale = .5
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1018]
type = helper
trigger1 = movehit = 1
name = "erupt2"
stateno = 14703
helpertype = normal
postype = p1
size.xscale = .8
size.yscale = .8
pos = 60,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1019]
type = playsnd
trigger1 = animelem = 22
value = 194,0
volume = 255
ignorehitpause = 1

[State 1020]
type = changestate
trigger1 = animtime = 0
value = 3231

[Statedef 3231]
type = A
movetype = A
physics = N
anim = 3241

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 270,0
volume = 255
priority = 5
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = time = 0
x = 5
y = 15
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 2
y = -8
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 3
time = 28
pos = 40,0
ignorehitpause = 1


[State 1000]
type = veladd
trigger1 = time >= 0
y = .24
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = low
air.animtype = low
damage = 20,0
pausetime = 28 ,28
sparkno = S8035
guard.sparkno = S3100
sparkxy = -55,-80
hitsound = S280,0
ground.type = hard
;air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
sprpriority = 1
p1stateno = 3232
p2stateno = 8025
fall = 1
kill = 0
palfx.time = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 1000]
type = explod
trigger1 = animelem = 3
anim = 3247
bindtime = 4
removetime = -2
postype = p1
pos = 55,-80
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 3
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1065

[Statedef 3232]
type = A
movetype = A
physics = N
anim = 3242

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 30
value = -2
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 33
value = 2
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time <= 246
time = 1
pos = 40,0

[State 1000]
type = velset
trigger1 = time <= 226
x = .15
y = -.1

[State 1000]
type = velset
trigger1 = time >= 226
x = 0
y = 0

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 221,54
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 9
value = 221,13
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 18
value = 22147,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 27
value = 700,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 54
value = 1300,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 32
value = 400,4
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 38
value = 400,2
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 48
value = 400,5
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 22
trigger4 = animelem = 29
trigger5 = animelem = 34
trigger6 = animelem = 58
anim = 3247
bindtime = 4
removetime = -2
postype = p1
pos = 55,-80
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 22
trigger4 = animelem = 29
trigger5 = animelem = 34
trigger6 = animelem = 41
trigger7 = animelem = 50
trigger8 = animelem = 58
value = 270,0
volume = 255
priority = 5
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 41
trigger2 = animelem = 50
anim = 3247
bindtime = 4
removetime = -2
postype = p1
pos = 35,-30
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = hard
damage = 10,0
pausetime = 26 ,64
sparkno = S8035
guard.sparkno = S3100
sparkxy = -55,-80
hitsound = S280,0
ground.type = hard
air.type = High
p2stateno = 8026
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
kill = 0
palfx.time = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 22
trigger2 = animelem = 34
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = hard
damage = 10,0
pausetime = 24 ,64
sparkno = S8035
guard.sparkno = S3100
sparkxy = -55,-80
hitsound = S280,0
ground.type = hard
p2stateno = 8025
air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
kill = 0
palfx.time = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 12
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = hard
damage = 10,0
pausetime = 12 ,64
sparkno = S8035
guard.sparkno = S3100
sparkxy = -55,-80
hitsound = S280,0
ground.type = hard
air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
sprpriority = 1
p2stateno = 8023
fall = 1
kill = 0
palfx.time = 0
envshake.time = 8
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 29
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = hard
damage = 10,0
pausetime = 26 ,64
sparkno = S8035
guard.sparkno = S3100
sparkxy = -55,-80
hitsound = S280,0
ground.type = hard
air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
sprpriority = 1
p2stateno = 8022
fall = 1
kill = 0
palfx.time = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 41
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = low
air.animtype = low
damage = 10,0
pausetime = 18 ,70
sparkno = S8035
guard.sparkno = S3100
sparkxy = -35,-30
hitsound = S280,0
ground.type = hard
p2stateno = 80265
air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
sprpriority = 1
fall = 1
kill = 0
palfx.time = 0
envshake.time = 16
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 50
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = low
air.animtype = low
damage = 10,0
pausetime = 40 ,80
sparkno = S8035
guard.sparkno = S3100
sparkxy = -35,-30
hitsound = S280,0
ground.type = hard
air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
p2stateno = 8025
sprpriority = 1
fall = 1
kill = 0
palfx.time = 0
envshake.time = 12
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 58
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = low
air.animtype = low
damage = 10,0
pausetime = 4 ,8
sparkno = S8035
guard.sparkno = S3100
sparkxy = -45,-80
hitsound = S280,0
ground.type = hard
air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
sprpriority = 1
p2stateno = 8024
fall = 1
kill = 0
palfx.time = 0
envshake.time = 8
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 1002]
type = posset
triggerall = animelem = 53
trigger1 = facing = 1
x = -125
ignorehitpause = 1

[State 1003]
type = posset
triggerall = animelem = 53
trigger1 = facing = -1
x = 125
ignorehitpause = 1

[State 1004]
type = envcolor
trigger1 = animelem = 53
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 22
trigger4 = animelem = 29
trigger5 = animelem = 34
trigger6 = animelem = 41
trigger7 = animelem = 50
trigger8 = animelem = 58
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3233

[Statedef 3233]
type = A
movetype = A
physics = N
anim = 3243

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = pause
trigger1 = (gametime%2) = 1
time = 1
movetime = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 3220,1
volume = 255

[State 1000, ÉwÉãÉpÅ[ÇèoÇ∑]
type = Helper
trigger1 = AnimElem = 2
stateno = 19962
ID = 19960
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 99999
supermovetime = 99999

[State 1000]
type = posadd
trigger1 = animtime = 0
x = p2bodydist X + 50
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3234

[Statedef 3234]
type = A
movetype = A
physics = N
anim = 3244


[State 1017]
type = helper
trigger1 = time = 0
name = "slowmo"
stateno = 999998
helpertype = normal
postype = p1
pos = 0,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = pause
trigger1 = (gametime%2) = 1
time = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,25
volume = 255

[state a]
type = turn
trigger1 = Time = 0
trigger1 = p2bodydist  x <-1

[State 1000]
Type = Explod
Trigger1 = Movehit = 1
anim = 32835
pos = 60,-35
posType = p1
sprpriority = 9
supermove = 1
ownpal = 1
bindTime = 1
persistent = 0
scale = 4,0.5
pausemoveTime = 9999999
supermoveTime = 9999999

[State 1000]
type = posadd
trigger1 = time = [2,6]
x = 25
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 6
x = .8
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time >= 76
y = .2
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = movehit = 1
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = low
air.animtype = low
damage = 10,0
pausetime = 2 ,24
sparkno = -1
guard.sparkno = S3100
sparkxy = 65,-30
hitsound = S3240,0
ground.type = hard
air.type = High
;yaccel = 0.5
ground.velocity = 0,0
air.velocity = 0,0
sprpriority = 1
p2stateno = 8027
fall = 1
kill = 0
palfx.time = 0
envshake.time = 8
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90

[State 1000]
type = playsnd
trigger1 = movehit = 1
value = 3240,2
volume = -100
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = time = 20
value = 3240,1
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = explod
trigger1 = movehit = 1
anim = 2013
removetime = -2
bindtime = 27
postype = p2
pos = 0,-50
scale = .6,.6
supermovetime = 99999
ownpal = 1
sprpriority = 5
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3235

[Statedef 3235]
type = S
movetype = A
physics = N
anim = 3246

[State 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 221,19
volume = 255

[State 1017]
type = helper
trigger1 = time = 0
name = "slowmo2"
stateno = 9999981
helpertype = normal
postype = p1
pos = 0,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = targetlifeadd
trigger1 = p2stateno = 3110
value = -36
ignorehitpause = 1
persistent = 0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1000]
type = pause
triggerall = time <= 90
trigger1 = (gametime%2) = 1
time = 1

[State 1000]
type = velset
trigger1 = time = 0
x = 3
y = 0
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time >= 0
trigger1 = time <= 17
x = -.18
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 17
x = 0
y = 0
ignorehitpause = 1

[State 1017]
type = helper
trigger1 = time = 32
name = "Explode"
stateno = 3236
helpertype = normal
postype = p2
pos = 0,-50
bindtime = 1
size.xscale = 1
size.yscale = 1
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



[Statedef 3236]
type     = A
movetype = A
physics  = N
juggle   = 1
anim = 896
ctrl     = 0
sprpriority = 1

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,9
volume = 255
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 31
trigger2 = animelem = 38
trigger3 = animelem = 50
anim = 2013
pos = -70+(random%140),75-(random%150)
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermove = 1

[State 1000]
type = playsnd
trigger1 = animelem = 31
trigger2 = animelem = 38
trigger3 = animelem = 50
value = 2200,5+(random%2)
volume = -254
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 10
attr = A,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
affectteam = E          ;B,E,F
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
pausetime = 0,2
priority = 3, Hit
damage = 0,0
sparkno = s2013
sparkxy = 0,-50
hitsound = S2200,11
guard.sparkno = s8056
ground.type = High      ;Low,Trip,None
air.hittime = 40
yaccel = 0.5
air.velocity = -1,-39
sprpriority = 1
fall = 1
fall.recover = 0
fall.recovertime = 20
air.fall = 1
air.fall.recover = 0
kill = 1
numhits = 1
givepower = 20
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 20
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 75
p2stateno = 3110
ignorehitpause = 1
persistent = 1



[State 1000]
type = envcolor
trigger1 = animelem = 10
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = time = 60
value = 6865,65
volume = 255
persistent = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent =  1




[Statedef 8022]
type    = A
movetype= H
physics = N
velset = 0,0

[State 821, 4]
type = changeanim
trigger1 = anim != 5052
trigger1 = selfAnimExist(5052)
value = 5052

[State 821, 4]
type = changeanim2
trigger1 = anim != 3811
trigger1 = !selfAnimExist(5052)
value = 3811

[state 190]
type = selfstate
Trigger1 = time = 200
value = 5100

[Statedef 8023]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 3811

[state 190]
type = selfstate
Trigger1 = time = 200
value = 5100

[Statedef 8024]
type    = A
movetype= H
physics = N

[State 821, 4]
type = changeanim2
trigger1 = hitshakeover = 1
value = 3812
persistent = 0

[State 1000]
type = velset
trigger1 = time = 0
x = -4
y = 0
ignorehitpause = 1

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 6]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square


[state 190]
type = selfstate
Trigger1 = time = 200
value = 5100

[Statedef 8025]
type    = A
movetype= H
physics = N

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 3813
persistent = 0

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 6]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square


[state 190]
type = selfstate
Trigger1 = time = 200
value = 5100

[Statedef 8026]
type    = A
movetype= H
physics = N

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 3814
persistent = 0

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 6]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square


[state 190]
type = selfstate
Trigger1 = time = 200
value = 5100

[Statedef 80265]
type    = A
movetype= H
physics = N

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 3816
persistent = 0

[State 821, 4]
type = changeanim2
triggerall = time >= 28
trigger1 = animelem = 6
value = 3817
persistent = 0

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 6]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square


[state 190]
type = selfstate
Trigger1 = time = 280
value = 5100

[Statedef 8027]
type    = A
movetype= H
physics = N

[State 1000]
type = turn
trigger1 = time = 0
value = 1
ignorehitpause = 1

[State 821, 4]
type = changeanim2
trigger1 = hitshakeover = 1
value = 3815
persistent = 0

[State 1000]
type = velset
trigger1 = hitshakeover = 1
x = -.7
y = 0
ignorehitpause = 1

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 6]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square


[state 190]
type = selfstate
Trigger1 = time = 200
value = 5100




[Statedef 19960]
type = S
movetype = A
physics = N
anim = 3229
velset = 0,0
ctrl = 0
sprpriority = 4

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <= 24
pos = 0,0

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 48
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 15

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0
trigger2 = ROOT,MOVETYPE = H

[Statedef 19961]
type = S
movetype = A
physics = N
anim = 3229
velset = 0,0
ctrl = 0
sprpriority = 4

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <= 27
pos = 0,45

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 48
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 15

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0
trigger2 = ROOT,MOVETYPE = H

[Statedef 19962]
type = S
movetype = A
physics = N
anim = 3229
velset = 0,0
ctrl = 0
sprpriority = 4

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <= 18
pos = 0,0

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 48
length = 8
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 15

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0
trigger2 = ROOT,MOVETYPE = H


[Statedef 32201]
type = S
movetype = A
physics = N
anim = 3227
velset = 0,0,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 3202, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 8 ; 15
givepower = 15
guardflag = MA
affectteam = E
pausetime = 0,15
forcestand = 1
sparkno = s8035
sparkxy = -30+random%30,-80+random%40
hitsound   = s220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
kill = 0
p2stateno = 3208

[State 1000]
type = destroyself
trigger1 = animtime = 0
ignorehitpause  =1
persistent = 1

;É`ÉFÅ[ÉìÅ@ëäéËÅ@è„íi
[Statedef 3207]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,4+(Random % 4)
volume = 255
channel = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = 1
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1


[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3207

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

;É`ÉFÅ[ÉìÅ@ëäéËÅ@â∫íi
[Statedef 3208]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = 1
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,4+(Random % 4)
volume = 255
channel = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3208

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 32085]
type    = S
movetype= H
physics = N
velset = 0,0,0
ctrl = 0
poweradd = 0
sprpriority = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 700
value = 5000,0+(Random % 4)
volume = 255

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 80,0
ignorehitpause = 1
persistent = 1

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3372

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 3218]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = 1
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,4+(Random % 4)
volume = 255
channel = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 0,0
ignorehitpause = 1
persistent = 1

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3235

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 3247]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = 1
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,4+(Random % 4)
volume = 255
channel = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1


[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1
persistent = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1


[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3207

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

;É`ÉFÅ[ÉìÅ@ëäéËÅ@â∫íi
[Statedef 3248]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,4+(Random % 4)
volume = 255
channel = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = 1
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3208

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 3257]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = 1
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,4+(Random % 4)
volume = 255
channel = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 1000]
type = velset
trigger1 = time <= 17
x = -4
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time = [0,17]
x = .3

[State 1000]
type = velset
trigger1 = time >= 17
x = 0
ignorehitpause = 1
persistent = 1

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1


[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3207

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 32575]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 700
value = 5000,8+(Random % 3)
volume = 255
channel = 1

[state 1000]
type = turn
trigger1 = p2bodydist x < 0
value = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = velset
triggerall = backedgedist <= 20
trigger1 = time >= 0
x = 0
y = 0
ignorehitpause = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 1000]
type = velset
triggerall = backedgedist >= 20
trigger1 = time = 0
x = -9
ignorehitpause = 1

[State 1000]
type = veladd
triggerall = backedgedist >= 20
trigger1 = time <= 21
x = .3

[State 1000]
type = velset
trigger1 = time >= 21
x = 0
ignorehitpause = 1
persistent = 1

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1


[State 2006]
type= Changeanim2
trigger1 = Time = 0
value= 3369

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

;É`ÉFÅ[ÉìÅ@ëäéËÅ@â∫íi
[Statedef 3258]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 1000]
type = velset
trigger1 = time <= 17
x = -5
ignorehitpause = 1

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,8+(Random % 4)
volume = 255
channel = 1

[State 1000]
type = veladd
trigger1 = time = [0,17]
x = .3

[State 1000]
type = velset
trigger1 = time >= 17
x = 0
ignorehitpause = 1
persistent = 1

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3208

[State 2006]
type = SelfState
trigger1 = time = 107
value = 5100

[Statedef 32585]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 249
value = 5000,8+(Random % 3)
volume = 255
channel = 1

[State 1000]
type = velset
trigger1 = time = 0
x = -7
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time = [0,35]
x = .15

[State 1000]
type = velset
trigger1 = time >= 35
x = 0
ignorehitpause = 1
persistent = 1

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 60,0
ignorehitpause = 1
persistent = 1

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 3208

[State 2006]
type = SelfState
trigger1 = time = 107
value = 5100



;------------------------
; 3205 finish Chain drive
[Statedef 3205]
type    = S
movetype= A
physics = N
anim = 3206
ctrl = 0

[State 1000]
type = explod
trigger1 = time = 0
persistent = 0
anim = 1090
posType = P1
pos = -20,0
sprpriority = 3
removeTime = 15
bindTime = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 6865,53
volume = 255

[State 1000]
type = explod
triggerall = timemod = 5,0
trigger1 = time <= 34
anim = 2211
posType = P1
pos = 5+(random%5),-90+(random%10)
pausemovetime = 99999
sprpriority = 5
vel = 0,-.5
scale = .8,.8
removeTime = -2
bindTime = 1

[State 1000]
type = explod
trigger1 = animelem = 5
persistent = 0
anim = 2212
id = 2212
posType = P1
pos = 12,-73
pausemovetime = 99999
sprpriority = 3
removeTime = -1
bindTime = -1

[State 1000]
type = explod
trigger1 = animelem = 6
persistent = 0
anim = 16000
posType = P1
pos = 10,-73
pausemovetime = 99999
sprpriority = 3
removeTime = -2
bindTime = -1

[State 1000]
type = explod
trigger1 = movehit
persistent = 0
anim = 937
posType = P2
pos = -20,-79
facing = -1
scale = .9,.9
sprpriority = 3
removeTime = -2
persistent = 0
ignorehitpause = 1
bindTime = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 6
id = 2212
ignorehitpause = 1
persistent = 1


[State 3201, 2]
type = playsnd
trigger1 = animelem = 2
value = 1300,1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = 0
y = -2
ignorehitpause = 1

[State 0, Pause]
type = Pause
trigger1 = animelem = 5,>= 0 && animelem = 6,<= 1
time = 2
movetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3000,3
volume = 0


[State 1411]
type = VelSet
Trigger1 = AnimElem = 1
x = 4.2
y = -3;

[State 1411]
type = VelAdd
Trigger1 = AnimElem = 1 > 0
y = .13
x = -.05

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(123456)!=1
triggerall = animelem = 6
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3205, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = hard
damage    = 50 ; 98
givepower = 15
;guardflag = 
pausetime = 40,40
sparkno = s8035
sparkxy = -15,-90
hitsound   = S2200,2
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
fall = 1
fall.recover = 0
ground.velocity = -7,-5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S6865,38
volume = 255
ignorehitpause = 1
persistent = 0


[State 3205, envcolor]
type = envcolor
trigger1 = animelem = 6
time = 1
under = 1
value = 240,240,240

[State 3205, 2]
type = EnvShake
trigger1 = AnimElem = 6
time = 20
ampl = -8
freq = 75
time = 30

[State 3205, Muteki]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1000]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

[Statedef 3240]
type = S
movetype = A
physics = N
anim = 2211
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -1
ignorehitpause = 1
persistent = 1



;[State 4900, 6]
;type = AfterImage
;trigger1 = Time = 0
;time = 8
;length = 1
;paladd = 50,10,-50
;palbright = 40,-50,-100
;timegap = 1
;framegap = 1
;sprpriority = 15
;trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3241]
type = S
movetype = A
physics = N
anim = 2203
velset = 0,0
ctrl = 0
sprpriority = 4


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 18
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3242]
movetype = I
anim = 2211
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -1
ignorehitpause = 1
persistent = 1



[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

;[State 4900, 6]
;type = AfterImage
;trigger1 = Time = 0
;time = 8
;length = 1
;paladd = 50,10,-50
;palbright = 40,-50,-100
;timegap = 1
;framegap = 1
;sprpriority = 15
;trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3245]
type = S
ctrl = 0
sprpriority = 5

[State 1065,asp ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;flag2 =
;flag3 =
;ignorehitpause = 0
;persistent = 1



[State 1065,aft ]
type = AfterImage
trigger1 = time = 0
time = 400
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 10,0,0
palmul = .65,.65,.65
timegap = 1
framegap = 2
trans = add

[State 1065, ]
type = Explod
trigger1 = timemod = 3,0
anim = 7011
pos = 32,-74
vel = 0,-(.2*(random%10))
accel = 0,0
random = 20,40
scale = .1+(.1*(random%3)),.7
postype = p2
ownpal = 1
sprpriority = 4

[State 1065, ]
type = Explod
trigger1 = timemod = 3,0
anim = 7011
pos = 32,-44
vel = 0,-(.2*(random%10))
accel = 0,0
postype = p2
random = 20,40
scale = .1+(.1*(random%3)),.7
ownpal = 1
sprpriority = 4


[State 1065,bp ]
type = BindToParent
trigger1 = 1

[State 1065,ds ]
type = DestroySelf
trigger1 = anim = 312
trigger1 = animtime = 0
trigger2 = parent, stateno != 3205
;==========================================================
; Heatdrive C <--- inherited from SDM heatdrive 99
;==========================================================
[Statedef 3100]
type    = S
movetype= A
physics = S
anim = 3000
ctrl = 0
poweradd = -1000
velset = 0,0,0

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6102
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 3000, 1] ;flash sound
type = PlaySnd
trigger1 = time = 0
value = 800,0
volume = -50

[State 1000]
type = playsnd
trigger1 = animelem = 4
value = 6865,37
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 20
value = 800,6
volume = -50

[State 3100, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 3100, 2]
type = SuperPause
trigger1 = time = 2
anim = -1
time = 40
movetime = 30
darken = 0


[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1500
trigger4 = !time && prevstateno = 1201
trigger5 = !time && prevstateno = 1204
anim = 6200
pos = 160,97
postype = Left
sprpriority = 50
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .7,.7
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1500
trigger4 = !time && prevstateno = 1201
trigger5 = !time && prevstateno = 1204
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Sparklvl1'1"
ID = 9011
stateno = 9011
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,20
helpertype = normal
name = "Sparklvl1'2"
ID = 9001
stateno = 9001
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

;[State 3000, 4]
;type = Explod
;trigger1 = time = 5
;anim = 800
;pos = 17,-90
;supermove = 1
;sprpriority = -2
;bindtime = 1
;ownpal = 1

;[State 3100, 4]
;type = Explod
;trigger1 = time = 1
;anim = 810
;pos = 17,-90
;supermove = 1
;sprpriority = 2
;bindtime = 1
;ownpal = 1

[State 3100, 3]
type = envcolor
trigger1 = time = 1
time = 40
under = 1
value = 0, 0, 0

[State 3100, 4]
type = Explod
trigger1 = time = 30
anim = 1530
pos = -10,-80
sprpriority = -2
bindtime = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = var(59) = 1
triggerall = prevstateno = 2999
trigger1 = time = 0
v = 57    ;fv = 10
value = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = var(59) = 1
triggerall = prevstateno = 1500
trigger1 = time = 0
v = 57    ;fv = 10
value = 1
ignorehitpause = 1


; hold
[State 3100, end1]
type = changestate
triggerall = var(59) != 1
trigger1 = (command = "hold_A" || command = "hold_C") && (time >= 34)
;trigger2 = random <= 100
value = 3101

; release
[State 3000, end2]
type = changestate
triggerall = !var(57)
trigger1 = (time >= 34) && (command != "hold_A")
trigger2 = var(59) = 1
trigger2 = time >= 34
value = 3102

[State 3000, end2]
type = changestate
triggerall = var(57) = 2
triggerall = var(59) = 1
trigger1 = time >= 34
value = 3101

[State 3000, end2]
type = changestate
triggerall = var(57) = 1
triggerall = var(59) = 1
trigger1 = time >= 34
value = 3101

;-------------------------------------------------------------------------------
;Heatdrive Lvl 2
[Statedef 3150]
type    = S
movetype= I
physics = S
anim = 3150
ctrl = 0
velset = 0,0,0

[State 1000]
type = changeanim
triggerall = prevstateno = 3102
trigger1 = time = 0
elem = 6
value = 3150

[State 1000]
type = playsnd
triggerall = prevstateno = 3102
trigger1 = animelem = 6
value = 2500,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = prevstateno = 3102
trigger1 = animelem = 6
value = 2500,0
volume = 255
ignorehitpause = 1

[State 1000]
type = turn
triggerall = prevstateno = 3102
triggerall = p2bodydist x <= 0
trigger1 = time = 0
value = 1
ignorehitpause = 1

[State 1000]
type = varset
triggerall = prevstateno = 3102
trigger1 = time = 0
v = 14
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = var(59) = 1
triggerall = prevstateno = 3102
trigger1 = time = 0
v = 57    ;fv = 10
value = 1
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = animelem = 6,5
value = 221,67
volume = 255

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 6
value = 800,10
volume = -50

[State 3000, 1]
type = PlaySnd
triggerall = prevstateno = 3202
trigger1 = animelem = 6
value = 221,49
volume = 255
ignorehitpause = 1

[State 3000, 1]
type = PlaySnd
triggerall = prevstateno = 3202
trigger1 = animelem = 6
value = 221,49
volume = 255
ignorehitpause = 1

[State 3000, 1]
type = PlaySnd
triggerall = prevstateno != 3102
triggerall = prevstateno != 3202
trigger1 = time = 0
value = 3000,0
volume = 255
ignorehitpause = 1

[State 3000, 1]
type = PlaySnd
triggerall = prevstateno != 3102
triggerall = prevstateno != 3202
trigger1 = time = 0
value = 3000,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6,20
value = 800,1
volume = -50

[State 3100, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 3100, 2]
type = SuperPause
trigger1 = animelem = 6
poweradd = -2000
anim = -1
time = 40
movetime = 40
darken = 0

[State ]
type = Explod
trigger1 = animelem = 6
anim = 6112
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State ]
type = Explod
triggerall = animelem = 6
trigger1 = prevstateno = 1503
trigger2 = prevstateno = 13505
trigger3 = prevstateno = 1201 || prevstateno = 1204
anim = 6200
sprpriority = 50
postype = left
pos = 160,97
ownpal = 1
bindtime = -1
supermove = 1
ontop = 1
scale = 0.7,0.7

[State 9090]
type = Explod
triggerall = animelem = 6
trigger1 = prevstateno = 1503
trigger2 = prevstateno = 13505
trigger3 = prevstateno = 1201 || prevstateno = 1204
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State ]
type = Explod
triggerall = animelem = 6
trigger1 = (prevstateno = 3202 || prevstateno = 2506 || prevstateno = 3205)
trigger2 = prevstateno = 3102
anim = 6201
sprpriority = 50
postype = left
pos = 160,100
bindtime = -1
supermove = 1
ontop = 1
scale = 0.5,0.5

[State ]
type = Explod
triggerall = animelem = 6
trigger1 = (prevstateno = 3202 || prevstateno = 2506 || prevstateno = 3205)
trigger2 = prevstateno = 3102
anim = 6202
sprpriority = 49
postype = left
pos = 160,100
bindtime = -1
supermove = 1
under = 0
ownpal = 1
removetime = 56
trans = addalpha
alpha = 340-120,120
scale = 1.0,1.2

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal
name = "Sparklvl2'1"
ID = 9012
stateno = 9012
pos = -20,-72
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 6,20
helpertype = normal
name = "Sparklvl2'2"
ID = 9002
stateno = 9002
pos = -17,-70
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 3100, 3]
type = envcolor
trigger1 = animelem = 6,0
time = 40
under = 1
value = 0, 0, 0

[State 3280 , 5]
type = Explod
triggerall = animelem = 6,>= 0
trigger1 = timemod = 1,0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 29,-60
random = 12,7
bindtime = 1
vel = 0,-.7
ignorehitpause = 1
scale = .2,.2
pausemovetime = 99999
supermovetime = 99999

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 6866,1
volume = -100
ignorehitpause = 1
channel = 2

[State 3280 , 5]
type = Explod
triggerall = animelem = 6,>= 0
trigger1 = timemod = 1,0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 29,-60
random = 12,8
bindtime = 1
vel = 0,-.7
ignorehitpause = 1
scale = .25,.25
supermovetime = 99999
pausemovetime = 99999

[State 3100, end1]
type = changestate
trigger1 = (animtime = 0) && ((command = "hold_A" || command = "hold_C"))
trigger2 = var(59) = 1
trigger2 = var(57) = 1 && (animtime = 0)
;trigger2 = random <= 100
value = 3151

; release
[State 3000, end2]
type = changestate
triggerall = !var(57) && !var(59)
trigger1 = (animtime = 0) && ((command != "hold_A" || command != "hold_C"))
value = 3152

[Statedef 3151]
type    = S
movetype= I
physics = S
anim = 31505
ctrl = 0
velset = 0,0,0

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 2200,15
volume = -100
ignorehitpause = 1
channel = 3

[State 3280 , 5]
type = Explod
triggerall = animelem = 1,>= 0
trigger1 = timemod = 1,0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 29,-60
random = 12,7
bindtime = 1
vel = 0,-.7
ignorehitpause = 1
scale = .3,.3
pausemovetime = 99999
supermovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 1,>= 0 && animelem = 1, <= 30
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 90,10
bindtime = 1
vel = 0,-3
ignorehitpause = 1
scale = .5,.5
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 1,>= 30 && animelem = 1, <= 60
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 90,10
bindtime = 1
vel = 0,-4
ignorehitpause = 1
scale = .55,.55
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 1,>= 60 && animelem = 1, <= 90
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 90,10
bindtime = 1
vel = 0,-5
ignorehitpause = 1
scale = .6,.6
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 1,>= 90 && animelem = 1, <= 120
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 90,10
bindtime = 1
vel = 0,-6
ignorehitpause = 1
scale = .65,.65
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 1,>= 120 && animelem = 1, <= 150
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 90,10
bindtime = 1
vel = 0,-7
ignorehitpause = 1
scale = .7,.7
supermovetime = 99999
pausemovetime = 99999

; release
[State 3001, end1]
type = changestate
triggerall = !var(59) && !var(57)
trigger1 = command != "hold_A" && command != "hold_C"
trigger1 = time >= 0
trigger2 = time = 150
value = 3152

[State 1000]
type = changestate
triggerall = prevstateno = 3150
triggerall = var(59) = 1
triggerall = var(57) = 1
trigger1 = time >= 18
trigger1 = p2bodydist y >= -160
value = 3152



;-------------------------------
[Statedef 3101]
type    = S
movetype= I
physics = S
anim = 3001
ctrl = 0
velset = 0,0,0

[State -2]
Type = Explod
Trigger1 = AnimElem = 1
anim = 2056
sprpriority = 5
posType = p1
pos = 0,0
bindTime = -1
removeTime = -1
supermove = 1
under = 0
ownpal = 1
id = 2056
removeongethit = 1
pausemoveTime = 9999999
supermoveTime = 9999999

[State 3001, end1]
type = changestate
triggerall = !var(59)
trigger1 = command != "hold_A" && command != "hold_C"
trigger1 = time >= 0
trigger2 = time = 240
trigger3 = var(59) = 1
trigger3 = time >= 30
trigger3 = p2statetype = S
value = 3102

[State 1000]
type = changestate
triggerall = enemy,stateno != 1042
triggerall = var(57) = 2
triggerall = var(59) = 1
trigger1 = time >= 10
trigger1 = p2bodydist y >= -110
trigger1 = p2bodydist x <= 100
trigger2 = time >= 3
trigger2 = p2bodydist y <= -200
trigger2 = p2bodydist x > 100
value = 3102

[State 1000]
type = changestate
triggerall = enemy,stateno = 1042
triggerall = var(57) = 2
triggerall = var(59) = 1
trigger1 = time >= 10
trigger1 = p2bodydist y >= -110
trigger1 = p2bodydist x <= 100
trigger2 = time >= 3
trigger2 = p2bodydist y >= -100
trigger2 = p2bodydist x > 100
value = 3102

[State 1000]
type = changestate
triggerall = var(57) = 1
triggerall = var(59) = 1
trigger1 = p2bodydist x >= 60 && p2bodydist y >= -75 && time >= 18
trigger2 = p2bodydist x <= 60 && p2bodydist y >= -160 && time >= 10
value = 3102



;-----------------------------dash out
[Statedef 3102]
type = S
movetype = A
physics = N
ctrl = 0
anim = 3002
velset = 0,0,0
juggle = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 57    ;fv = 10
value = 0

[State 3000, 1]
type = PlaySnd
trigger1 = time = 0
value = 3000,1

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State -2]
Type = RemoveExplod
Trigger1 = animelem = 1
Trigger2 = StateNo = 3102
ID = 2056

[State 1000]
type = envcolor
trigger1 = movehit
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = explod
trigger1 = time = 2
anim = 15000
removetime = -2
postype = p1
pos = 0,0
supermovetime = 99999
pausemovetime = 99999
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 3102, explod]
type = Explod
trigger1 = time = 0
anim = 2002
sprpriority = 3
bindtime = 1
shadow = 64,64,64
ownpal = 1

[State 3102, explodflame]
type = Explod
trigger1 = time = 4
anim = 2040
pos = -20, -60
sprpriority = 3
bindtime = 2
ownpal = 1

[State -2]
type = AttackDist
Trigger1 = AnimElem = 9,>=0
value = 0

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 9,>=0 || MoveGuarded
Value = 0

[State 2100]
type = Width
Trigger1 = (animelem = 3,>=0 && animelem = 12,<0)
edge = 20,0

[State 2100]
type = VelSet
Trigger1 = animelem = 3,>=0 && animelem = 7,<0
x = ifelse(animelem = 6,<8,16,12)

[State 2100]
type = VelAdd
Trigger1 = animelem = 7,>=0
x = -1

[State 2100]
type = VelSet
Trigger1 = Vel X <= 0
x = 0

[State 2100]
type = PlayerPush
Trigger1 = (animelem = 3,>0 && animelem = 12,<0)
value = 0

[State 2100]
type = AfterImage
Trigger1 = animelem = 2 && var(10)
time = 48
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[State 3102, 6]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S,HA
animtype = up
damage = 210,25 ; 0,10
priority = 6
hitflag = MAF
sparkno = s8035
sparkxy = -25,-50
getpower = 0,0
pausetime = 0,0
guardflag = MA
hitsound = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 18
ground.hittime = 5
ground.velocity = 0,-13
ground.type = high
air.velocity = 0,-13
airguard.velocity = -3,-5
guard.slidetime = 12
guard.hittime  = 12
guard.velocity = -9.4
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.animtype = up
fall = 1
fall.recover = 0
nochainid = 3010
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 7
yaccel = .5
id = 3010

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "burst"
ID = 936
stateno = 936
pos = 25,-50
bindtime = 1
postype = p1    ;p2,front,back,left,right
facing = 1
size.xscale = .85
size.yscale = .85
ownpal = 1
supermovetime = 99999
persistent = 0

[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 2200,0
ignorehitpause = 1
volume = 255
persistent = 0

[state 1000]
type = changestate
triggerall = var(59) != 1
triggerall = command = "heatdriverSDM"
triggerall = movehit
trigger1 = time = [16,38]
trigger1 = power >= 2000
value = 3150

[state 1000]
type = changestate
triggerall = var(59) != 1
triggerall = command = "chaindriverSDM"
triggerall = movehit
trigger1 = time = [16,38]
trigger1 = power >= 2000
value = 3250

[State 3102, 8]
type = PlayerPush
trigger1 = Time >= 8
value = 0

[State 1000]
type = changestate
triggerall = var(59) != 1
trigger1 = animtime = 0
ctrl = 1
value = 0

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3101
triggerall = !movehit
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3101
triggerall = movehit
triggerall = power >= 2000
triggerall = enemy,alive
trigger1 = ifelse(p2bodydist x > -30,animtime = 0,ifelse(p2bodydist x <= -110,time >= 21,animtime = 0))
value = ifelse(p2bodydist x > -30,2998,ifelse(p2bodydist x <= -110,3150,2998))

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3101
triggerall = movehit
triggerall = power = [0,2000)
triggerall = enemy,alive
trigger1 = animtime = 0
value = ifelse(p2bodydist x > -30,2998,0)
ctrl = ifelse(p2bodydist x > -30,0,1)

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3100
triggerall = movehit
triggerall = power = [0,2000)
triggerall = enemy,alive
trigger1 = animtime = 0
value = ifelse(p2bodydist x > -30,2998,0)
ctrl = ifelse(p2bodydist x > -30,0,1)

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3100
triggerall = movehit
triggerall = power >= 2000
triggerall = enemy,alive
trigger1 = ifelse(p2bodydist x > -30,animtime = 0,time >= 21)
value = ifelse(p2bodydist x > -30,2998,ifelse(enemy,alive,3150,0))
ctrl = ifelse(p2bodydist x > -30,0,ifelse(enemy,alive,0,1))

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3100
triggerall = !movehit
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3100
triggerall = enemy,alive = 0
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 3101
triggerall = enemy,alive = 0
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3152]
type = S
movetype = A
physics = N
ctrl = 0
anim = 3151
velset = 0,0,0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 10
channel = 2
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 10
channel = 3
ignorehitpause = 1


[State 3000, 1]
type = PlaySnd
trigger1 = time = 0
value = 3000,4
volume = 255

[State 3000, 1]
type = PlaySnd
trigger1 = time = 0
value = 3000,5
volume = 255

[State 3000, 1]
type = PlaySnd
trigger1 = time = 5
value = 6865,26
volume = 255

[State 3000, 1]
type = PlaySnd
trigger1 = time = 5
value = 6865,26
volume = 255

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 3102, 1]
type = posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 8

[State 3102, 1]
type = posadd
trigger1 = animelem = 5
trigger2 = animelem = 6
x = 8

[state 1000]
type = envcolor
trigger1 = movehit = 1
ontop = 1
time = 4
value = 240,240,240
ignorehitpause = 1


[State 3000]
type = Projectile
trigger1 = AnimElem = 1
projanim = 3153
velocity = .5,0
postype = p1
offset = 45,20
projscale = .6,.6
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = 68

[State 3000]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2012
velocity = 2,0
postype = p1
offset = 55,25
projscale = .6,.6
afterimage.time = 48
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = 48

[State 3102, 2]
type = velset
trigger1 = animelem = 5, = 2
x = 32 ; 11

[State 3102, 2]
type = velset
trigger1 = animelem = 13, >= 2
x = 0 ; 11

[State 3102, 3]
type = veladd
trigger1 = time >= 13 && time <= 29
x = -0.5

[State 3102, 6]
type = HitDef
triggerall = p2statetype != A
trigger1 = time = 0
persistent = 0
attr = S, NA
animtype = Hard
damage = 0,25 ; 0,10
priority = 6, hit
hitflag = MAF
sparkno = s8025
sparkxy = 0,-60
pausetime = 2,2
guardflag = MA
hitsound = s2200,13
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0,-18
air.velocity = 0,-18
fall = 1
fall.recover = 0
palfx.time = 120
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 31525
envshake.time = 15
envshake.ampl = 10

[State 3102, 6]
type = HitDef
triggerall = p2statetype = A
trigger1 = time = 0
persistent = 0
attr = S, NA
animtype = Hard
damage = 0,25 ; 0,10
priority = 6, hit
hitflag = MAF
sparkno = s8025
sparkxy = 0,-60
pausetime = 2,2
guardflag = MA
hitsound = s2200,13
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0,-21
air.velocity = 0,-21
fall = 1
fall.recover = 0
palfx.time = 120
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 31525
envshake.time = 15
envshake.ampl = 10

[State 1000]
type = explod
trigger1 = movehit
anim = 937
removetime = -2
supermovetime = 9999999
pausemovetime = 9999999
scale = 1,1
postype = p2
facing = -1
pos = 0,-50
sprpriority = 5

[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 2200,1
ignorehitpause = 1
persistent = 0
volume = -50

[State 0, Width]
type = Width
trigger1 = 1
edge = 20,0
ignorehitpause = 1
;persistent =


[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 6865,38
ignorehitpause = 1
persistent = 0

[State 3102, 7]
type = TargetLifeAdd
trigger1 = movehit
;value = -440 ; -476 KOF99   <--- from SDM
value = -150 + (p2movetype =H)*32 ; -333 KOF99
absolute = 1

[State 3102, 8]
type = PlayerPush
trigger1 = Time >= 8
value = 0

[State 3102, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


[State 3102, end1]
type = changestate
trigger1 = movehit
value = 3154
;value = 3104
ctrl = 1

[Statedef 31525]
type    = A
movetype= H
physics = N
anim = 5030

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
elem = 2
value = 3312

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 1000]
type = turn
triggerall = facing = -1
trigger1 = time = 0
value = 1
ignorehitpause =1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[state 1000]
type = posset
trigger1 = time = 0
y = -25
x = 0
ignorehitpause = 1

[State 3010, 10]
type = VelSet
triggerall = var(14) != 1
trigger1 = time = 0
persistent = 0
x = 0
y = -17.5

[State 3010, 10]
type = VelSet
triggerall = var(14) = 1
trigger1 = time = 0
persistent = 0
x = 0
y = -18.5

[State 3010, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.67

[State 3010, 12]
type = SelfState
triggerall = Anim = 3312
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

[Statedef 31526]
type    = A
movetype= H
physics = N
anim = 5030

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
elem = 8
value = 3312

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 1000]
type = velset
trigger1 = time = 0
x = 0
y = .3
ignorehitpause = 1

[State 3010, 12]
type = SelfState
triggerall = Anim = 3312
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100




;-----------------------------Miss
[Statedef 3103]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3103
velset = 0,0,0

[State 3103, 1]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
x = 8

[State 3103, afterimage]
type = AfterImage
trigger1 = time = 0
time = 20
Trans = Add1
length = 14

[State 3103, 2]
type = velset
trigger1 = animelem = 1
x = 11 ;12

[State 3103, 2]
type = veladd
trigger1 = time >= 0
x = -0.4

[State 3103, 3]
type = VelSet
trigger1 = Vel X <= 0
x = 0

[State 3103, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3153]
type     = A
movetype = A
physics  = N
anim = 886
ctrl     = 0
sprpriority = 5

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,1
volume = 255
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = time = 0
anim = 886
bindtime = 1
removetime = -2
facing = -1
supermovetime = 99999
ownpal = 1
sprpriority = 5
ignorehitpause = 1
pos = 0,0
postype = p1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = A,HP
hitflag = MAF
guardflag = MA
affectteam = E
animtype = back
air.animtype = back
pausetime = 0,2
priority = 3, Hit
damage = 25,0
sparkno = -1
sparkxy = -30,0
hitsound = S2200,0
guard.sparkno = s8056
ground.type = High
air.hittime = 40
yaccel = 0.5
air.velocity = -.3,-20
sprpriority = 1
fall = 1
fall.recover = 0
fall.recovertime = 20
air.fall = 1
air.fall.recover = 0
kill = 1
numhits = 1
givepower = 20
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 20
envshake.ampl = 36
envshake.freq = 75
envshake.phase = -75
p2stateno = 3110
persistent = 1

[State 1000]
type = explod
trigger1 = movehit
id = 2013
anim = 2014
bindtime = -1
removetime = -2
facing = -1
supermovetime = 99999
ownpal = 1
sprpriority = 5
ignorehitpause = 1
scale = 1,1
pos = 0,0
postype = p1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "burst2"
ID = 31546
stateno = 31548
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = time <= 48
trigger1 = timemod = 3,0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 110,100
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .8,.8

[State 3280 , 6]
type = Explod
triggerall = Random < 499
trigger1 = time <= 48
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 110,100
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .8,.8

[State 3280 , 6]
type = Explod
triggerall = Random < 499
trigger1 = time <= 58
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 110,100
bindtime = 1
vel = 0,-.5
ignorehitpause = 1
scale = .8,.8

[State 3280 , 7]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 110,100
bindtime = 1
vel = 0,-1
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = Random < 499
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 110,100
bindtime = 1
vel = 0,-1
ignorehitpause = 1

[State 1000]
type = targetlifeadd
triggerall = movehit = 1
trigger1 = time >= 1
value = -125
absolute = 1
persistent = 0
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 1
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = movehit
value = 245,0
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = time = 5
value = 2200,12
volume = 100
persistent = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 30
value = 6865,65
volume = 100
persistent = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent =  1

;--------------------------------
; 3104 movehit
[Statedef 3104]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3104
velset = 0,0,0

[State 3104, GroundSpark]
type = explod
trigger1 = time = 0
anim = 2050
sprpriority = -2
pos = 10, -1
bindtime = 7
ownpal = 1

[State 3102, afterimage]
type = AfterImage
trigger1 = time = 0
time = 16
trans = add1
FrameGap = 4
length = 12

[State 3104, 1]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
x = 14

[State 3104, 2]
type = velset
trigger1 = animelem = 1
x = 40

[State 3104, 2]
type = veladd
trigger1 = time >= 0
x = 0.2

[State 3104, 3]
type = VelSet
trigger1 = (time >= 1) && (Vel X <= 0)
x = 0

[State 3104, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3154]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3152
velset = 0,0,0

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3154
postype = P1
pos = -80,0
sprpriority = 7
bindtime = 1
ownpal = 1
scale = 0.5,0.5

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
ignorehitpause = 1


[State 3000]
type = Projectile
trigger1 = time = 0
projanim = 3157
projscale = .7,.7
postype = p1
offset = 0,20
afterimage.time = 27
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = 27
ignorehitpause = 1

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 1,2
anim = 3155
postype = P1
pos = -80,0
sprpriority = 7
bindtime = 1
ownpal = 1
scale = 0.5,0.5

[state 1000]
type = targetstate
triggerall = enemy,stateno = 31525
trigger1 = animelem = 12
value = 31526
ignorehitpause = 1
persistent = 0

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 1,3
anim = 3156
postype = P1
pos = -80,0
sprpriority = 7
bindtime = 1
ownpal = 1
scale = 0.5,0.5

[State 3104, GroundSpark]
type = explod
trigger1 = time = 0
anim = 2050
sprpriority = -2
pos = 10, -1
bindtime = 7
ownpal = 1



[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 3150,1
volume = -50

[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 3150,2
volume = -50

[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 3150,0
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 3150,0
volume = 255

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 12
anim = 3158
postype = P1
pos = 45,10
sprpriority = 7
bindtime = -1
scale = .8,1
removetime = -2
ownpal = 1
pausemovetime = 99999
supermovetime = 99999



[State 0, Helper]
type = Helper
trigger1 = animelem = 12
helpertype = normal
name = "darken"
ID = 31545
stateno = 31545
pos = 0,0
postype = p1
size.xscale = .5
size,yscale = .5    ;p2,front,back,left,right
unhittable = 1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Fireball imprint"
ID = 31546
stateno = 31546
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 3104, 1]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 8

[State 3104, 2]
type = velset
trigger1 = animelem = 1
x = 12

[State 3104, 2]
type = veladd
trigger1 = time >= 0
x = 0.3

[State 0, Width]
type = Width
trigger1 = 1
edge = 40,0
ignorehitpause = 1
;persistent =


[State 3104, 3]
type = VelSet
trigger1 = animelem = 4, >= 0
x = 0

[State 3104, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 31545]
type = S
movetype = I
physics = N
velset = 0,0,0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 3
mul = 205,205,205
color = 256
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 3
time = 3
mul = 155,155,155
color = 192
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 6
time = 3
mul = 105,105,105
color = 128
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 9
time = 3
mul = 55,55,55
color = 64
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 12
time = 98
mul = 0,0,0
color = 0
ignorehitpause = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 110
time = 6
mul = 55,55,55
color = 64
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 116
time = 5
mul = 105,105,105
color = 128
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 121
time = 4
mul = 155,155,155
color = 192
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 125
time = 6
mul = 205,205,205
color = 256

[state 1000]
type = destroyself
trigger1 = time >= 131
ignorehitpause = 1

[Statedef 31546]
movetype = I
physics = N
ctrl = 0
sprpriority = 4
anim = 99999

[State 1000]
type = playsnd
trigger1 = time = 0
value = 221,67
volume = 255
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 74,-62
ignorehitpause = 1


[State 1711]
type = Width
Trigger1 = AnimElem = 1
edge = 20, 0

[State 54321, ]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - (10*time),255 + (10*time)
time = -1
ignorehitpause = 1
persistent = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = 6866,5
volume = 255
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 52
helpertype = normal
name = "flamehit"
ID = 13513
stateno = 31547
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(0) = 11.2

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(1) = 0.015


[State 0, PalFX]
type = PalFX
trigger1 = time >= 30
time = 1
add = floor(0-fvar(0)),floor(0-fvar(0)),floor(0-fvar(0))

[State 3280 , 5]
type = Explod
trigger1 = time = 0
anim = 3365
ID = 2200
ownpal = 1
sprpriority = 3
postype = p2
pos = 0,-50
bindtime = -1
removetime = 118
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
scale = .35,.35

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 5,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 20,13
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .45,.45

[State 3280 , 6]
type = Explod
triggerall = Random < 699
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 20,13
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .45,.45

[State 3280 , 7]
type = Explod
triggerall = Random < 549
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 20,13
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .45,.45

[State 3280, 8]
type = Explod
triggerall = Random < 599
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 20,13
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .45,.45

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = time >= 118
ignorehitpause = 1
persistent = 1

[Statedef 31547]
type = S
movetype = A
physics = N
velset = 0,0,0
sprpriority = 5
anim = 99999

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = 3150,3
volume = 255
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = time = 0
id = 8865
anim = 8865
bindtime = -1
removetime = -2
facing = 1
supermovetime = 99999
ownpal = 1
sprpriority = 5
ignorehitpause = 1
scale = .1,.1
pos = 0,-50
postype = p2

[State 1000]
type = explod
trigger1 = time = 0
id = 8866
anim = 8865
bindtime = -1
removetime = -2
facing = -1
supermovetime = 99999
ownpal = 1
sprpriority = 5
ignorehitpause = 1
scale = .1,.1
pos = 0,-50
postype = p2

[State 8900, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0
Id = 8865
scale = .1-((time-59)*.03),.1-((time-59)*.03)
ignorehitpause = 1

[State 8900, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0
Id = 8866
scale = .1-((time-59)*.03),.1-((time-59)*.03)
ignorehitpause = 1

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 0, Helper]
type = Helper
trigger1 = time = 57
helpertype = normal
name = "burst"
ID = 3153
stateno = 3153
pos = 0,-50
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[state 1000]
type = destroyself
trigger1 = time >= 59
ignorehitpause = 1
persistent = 1

[Statedef 31548]
movetype = I
physics = N
anim = 886
velset = 0,0,0
sprpriority = 5

[State a]
type = Angleset
trigger1 = 1
value = 90

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State a]
type = AngleDraw
trigger1 = 90

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 0,0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "burst3"
ID = 31546
stateno = 31549
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 1000]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 31549]
movetype = I
physics = N
anim = 886
velset = 0,0,0
sprpriority = 5

[State a]
type = Angleset
trigger1 = 1
value = -90

[State a]
type = AngleDraw
trigger1 = -90

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 0,0
ignorehitpause = 1

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 1000]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1


;--------------------------------------
[Statedef 3105]
type    = S
movetype= I
physics = S
anim = 3000
ctrl = 0
poweradd = -1000
velset = 0,0,0

[State 3105, 1]
type = PlaySnd
trigger1 = time = 0
value = 3000,0

[State 3105, 1]; flash sound
type = PlaySnd
trigger1 = time = 2
value = 800,0
volume = -50

[State 3105, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 3105, 2]
type = SuperPause
trigger1 = time = 2
anim = -1
movetime = 30

[State 3005, 4]
type = Explod
trigger1 = time = 5
anim = 900
pos = 17,-90
supermove = 1
sprpriority = -2
bindtime = 1
ownpal = 1

[State 3105, 4]
type = Explod
trigger1 = time = 1
anim = 910
pos = 17,-90
supermove = 1
sprpriority = 2
bindtime = 1
ownpal = 1

[State 3105, 3]
type = envcolor
trigger1 = time = 1
time = 30
under = 1
value = 0, 0, 0

[State 3105, 4]
type = Explod
trigger1 = animelem = 4
anim = 2000
pos = 10,30
supermove = 1
supermovetime = 2
sprpriority = 2
bindtime = 1
removetime = 2
shadow = 64,64,64
ownpal = 1

[State 3005, 4]
type = Explod
trigger1 = animelem = 5
anim = 2001
supermove = 1
supermovetime = 3
sprpriority = 2
bindtime = 1
pos = 8, 19
removetime = 3
shadow = 64,64,64
ownpal = 1

[State 3005, 4]
type = Explod
trigger1 = animelem = 6
anim = 2001
supermove = 1
pos = 6, 16
supermovetime = 3
sprpriority = 2
bindtime = 1
removetime = 3
shadow = 64,64,64
ownpal = 1

[State 3105, 4]
type = Explod
trigger1 = animelem = 7
anim = 2001
supermove = 1
pos = 0, -1
supermovetime = 20
sprpriority = 2
bindtime = 1
removetime = 20
shadow = 64,64,64
ownpal = 1

[State 3105, 4]
type = Explod
trigger1 = time = 30
anim = 1530
pos = -10,-80
sprpriority = -2
bindtime = 1
ownpal = 1

[State 3105, end1]
type = changestate
trigger1 = (command = "hold_C") && (Time >= 34)
value = 3106

[State 3105, end2]
type = changestate
trigger1 = (animtime = 0) && (command != "hold_C")
value = 3102

;-------------------------------
[Statedef 3106]
type    = S
movetype= I
physics = S
anim = 3001
ctrl = 0
velset = 0,0,0

[State 2200, 13]
type = Explod
triggerall = command = "hold_C"
trigger1 = Time = 0
trigger2 = Time = 1
trigger3 = Time = 10
trigger4 = Time = 11
trigger5 = Time = 20
trigger6 = Time = 21
trigger7 = Time = 30
trigger8 = Time = 31
trigger9 = Time = 40
trigger10 = Time = 41
trigger11 = Time = 50
trigger12 = Time = 51
trigger13 = Time = 60
trigger14 = Time = 61
trigger15 = Time = 70
trigger16 = Time = 71
trigger17 = Time = 80
trigger18 = Time = 81
trigger19 = Time = 90
trigger20 = Time = 91
trigger21 = Time = 100
trigger22 = Time = 101
trigger23 = Time = 110
trigger24 = Time = 111
trigger25 = Time = 120
trigger26 = Time = 121
trigger27 = Time = 130
trigger28 = Time = 131
trigger29 = Time = 140
trigger30 = Time = 141
trigger31 = Time = 150
trigger32 = Time = 151
trigger33 = Time = 160
trigger34 = Time = 161
trigger35 = Time = 170
trigger36 = Time = 171
trigger37 = Time = 180
trigger38 = Time = 181
trigger39 = Time = 190
trigger40 = Time = 191
trigger41 = Time = 200
trigger42 = Time = 201
trigger43 = Time = 210
trigger44 = Time = 211
trigger45 = Time = 220
trigger46 = Time = 221
trigger47 = Time = 230
trigger48 = Time = 231
trigger49 = Time = 240
anim = 2010
postype = p1
shadow = 64,64,64
sprpriority = 2
ownpal = 1
bindtime = 1

[State 2200, 14]
type = Explod
triggerall = command = "hold_C"
trigger1 = Time = 2
trigger2 = Time = 3
trigger3 = Time = 12
trigger4 = Time = 13
trigger5 = Time = 22
trigger6 = Time = 23
trigger7 = Time = 32
trigger8 = Time = 33
trigger9 = Time = 42
trigger10 = Time = 43
trigger11 = Time = 52
trigger12 = Time = 53
trigger13 = Time = 62
trigger14 = Time = 63
trigger15 = Time = 72
trigger16 = Time = 73
trigger17 = Time = 82
trigger18 = Time = 83
trigger19 = Time = 92
trigger20 = Time = 93
trigger21 = Time = 102
trigger22 = Time = 103
trigger23 = Time = 112
trigger24 = Time = 113
trigger25 = Time = 122
trigger26 = Time = 123
trigger27 = Time = 132
trigger28 = Time = 133
trigger29 = Time = 142
trigger30 = Time = 143
trigger31 = Time = 152
trigger32 = Time = 153
trigger33 = Time = 162
trigger34 = Time = 163
trigger35 = Time = 172
trigger36 = Time = 173
trigger37 = Time = 182
trigger38 = Time = 183
trigger39 = Time = 192
trigger40 = Time = 193
trigger41 = Time = 202
trigger42 = Time = 203
trigger43 = Time = 212
trigger44 = Time = 213
trigger45 = Time = 222
trigger46 = Time = 223
trigger47 = Time = 232
trigger48 = Time = 233
anim = 2011
shadow = 64,64,64
ownpal = 1
postype = p1
sprpriority = 2
bindtime = 1

[State 2200, 15]
type = Explod
triggerall = command = "hold_C"
trigger1 = Time = 4
trigger2 = Time = 5
trigger3 = Time = 14
trigger4 = Time = 15
trigger5 = Time = 24
trigger6 = Time = 25
trigger7 = Time = 34
trigger8 = Time = 35
trigger9 = Time = 44
trigger10 = Time = 45
trigger11 = Time = 54
trigger12 = Time = 55
trigger13 = Time = 64
trigger14 = Time = 65
trigger15 = Time = 74
trigger16 = Time = 75
trigger17 = Time = 84
trigger18 = Time = 85
trigger19 = Time = 94
trigger20 = Time = 95
trigger21 = Time = 104
trigger22 = Time = 105
trigger23 = Time = 114
trigger24 = Time = 115
trigger25 = Time = 124
trigger26 = Time = 125
trigger27 = Time = 134
trigger28 = Time = 135
trigger29 = Time = 144
trigger30 = Time = 145
trigger31 = Time = 154
trigger32 = Time = 155
trigger33 = Time = 164
trigger34 = Time = 165
trigger35 = Time = 174
trigger36 = Time = 175
trigger37 = Time = 184
trigger38 = Time = 185
trigger39 = Time = 194
trigger40 = Time = 195
trigger41 = Time = 204
trigger42 = Time = 205
trigger43 = Time = 214
trigger44 = Time = 215
trigger45 = Time = 224
trigger46 = Time = 225
trigger47 = Time = 234
trigger48 = Time = 235
anim = 2012
shadow = 64,64,64
postype = p1
ownpal = 1
sprpriority = 2
bindtime = 1

[State 2200, 16]
type = Explod
triggerall = command = "hold_C"
trigger1 = Time = 6
trigger2 = Time = 7
trigger3 = Time = 16
trigger4 = Time = 17
trigger5 = Time = 26
trigger6 = Time = 27
trigger7 = Time = 36
trigger8 = Time = 37
trigger9 = Time = 46
trigger10 = Time = 47
trigger11 = Time = 56
trigger12 = Time = 57
trigger13 = Time = 66
trigger14 = Time = 67
trigger15 = Time = 76
trigger16 = Time = 77
trigger17 = Time = 86
trigger18 = Time = 87
trigger19 = Time = 96
trigger20 = Time = 97
trigger21 = Time = 106
trigger22 = Time = 107
trigger23 = Time = 116
trigger24 = Time = 117
trigger25 = Time = 126
trigger26 = Time = 127
trigger27 = Time = 136
trigger28 = Time = 137
trigger29 = Time = 146
trigger30 = Time = 147
trigger31 = Time = 156
trigger32 = Time = 157
trigger33 = Time = 166
trigger34 = Time = 167
trigger35 = Time = 176
trigger36 = Time = 177
trigger37 = Time = 186
trigger38 = Time = 187
trigger39 = Time = 196
trigger40 = Time = 197
trigger41 = Time = 206
trigger42 = Time = 207
trigger43 = Time = 216
trigger44 = Time = 217
trigger45 = Time = 226
trigger46 = Time = 227
trigger47 = Time = 236
trigger48 = Time = 237
anim = 2013
shadow = 64,64,64
postype = p1
ownpal = 1
sprpriority = 2
bindtime = 1

[State 2200, 13]
type = Explod
triggerall = command = "hold_C"
trigger1 = Time = 8
trigger2 = Time = 9
trigger3 = Time = 18
trigger4 = Time = 19
trigger5 = Time = 28
trigger6 = Time = 29
trigger7 = Time = 38
trigger8 = Time = 39
trigger9 = Time = 48
trigger10 = Time = 49
trigger11 = Time = 58
trigger12 = Time = 59
trigger13 = Time = 68
trigger14 = Time = 69
trigger15 = Time = 78
trigger16 = Time = 79
trigger17 = Time = 88
trigger18 = Time = 89
trigger19 = Time = 98
trigger20 = Time = 99
trigger21 = Time = 108
trigger22 = Time = 109
trigger23 = Time = 118
trigger24 = Time = 119
trigger25 = Time = 128
trigger26 = Time = 129
trigger27 = Time = 138
trigger28 = Time = 139
trigger29 = Time = 148
trigger30 = Time = 149
trigger31 = Time = 158
trigger32 = Time = 159
trigger33 = Time = 168
trigger34 = Time = 169
trigger35 = Time = 178
trigger36 = Time = 179
trigger37 = Time = 188
trigger38 = Time = 189
trigger39 = Time = 198
trigger40 = Time = 199
trigger41 = Time = 208
trigger42 = Time = 209
trigger43 = Time = 218
trigger44 = Time = 219
trigger45 = Time = 228
trigger46 = Time = 229
trigger47 = Time = 238
trigger48 = Time = 239
anim = 2014
shadow = 64,64,64
postype = p1
ownpal = 1
sprpriority = 2
bindtime = 1

[State 3001, end1]
type = changestate
trigger1 = (command != "hold_C") && (Time >= 0)
trigger2 = time = 240
value = 3102

[Statedef 3107]
type     = A
movetype = A
physics  = N
juggle   = 1
anim = 936
ctrl     = 0
sprpriority = 1

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, Explod]
type = Explod
triggerall = time >= 0
trigger1 = random < 80
anim = 2202
pos = -20,-80
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 80,60
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermove = 1

[State 0, Explod]
type = Explod
triggerall = time >= 0
trigger1 = random < 80
anim = 2203
pos = -20,-80
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 80,60
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermove = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
affectteam = E          ;B,E,F
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
pausetime = 0,30
priority = 3, Hit
damage = 40,0
sparkno = s937
sparkxy = 50-(random%-100),-60+(random%80)
hitsound = S6865,19
ground.type = High      ;Low,Trip,None
air.hittime = 40
yaccel = 0.3
air.velocity = 0,-5
sprpriority = 1
fall = 1
fall.recover = 0
fall.recovertime = 20
air.fall = 1
air.fall.recover = 0
kill = 0
numhits = 1
givepower = 20
envshake.time = 0
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 10
envshake.ampl = 30
envshake.freq = 75
envshake.phase = 75
ignorehitpause = 1
persistent = 1

[State 1000]
type = playsnd
trigger1 = movehit
value = 6865,20
volume = -254
persistent = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent =  1

[Statedef 3108]
type     = A
movetype = A
physics  = N
juggle   = 1
anim = 936
ctrl     = 0
sprpriority = 1

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, Explod]
type = Explod
triggerall = time >= 0
trigger1 = random < 80
anim = 2202
pos = -20,-80
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 80,60
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermove = 1

[State 0, Explod]
type = Explod
triggerall = time >= 0
trigger1 = random < 80
anim = 2203
pos = -20,-80
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 120,60
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermove = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
affectteam = E          ;B,E,F
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
pausetime = 0,2
priority = 3, Hit
damage = 80,0
sparkno = s937
sparkxy = 50-(random%-100),-60+(random%80)
hitsound = S2200,2
guard.sparkno = s8056
ground.type = High      ;Low,Trip,None
air.hittime = 40
yaccel = 0.5
air.velocity = -3,-20
sprpriority = 1
fall = 1
fall.recover = 0
fall.recovertime = 20
air.fall = 1
air.fall.recover = 0
kill = 1
numhits = 1
givepower = 20
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 30
envshake.ampl = 30
envshake.freq = 75
envshake.phase = 75
p2stateno = 3010
ignorehitpause = 1
persistent = 1

[State 1000]
type = explod
trigger1 = movehit
anim = 936
removetime = -2
scale = 1.5,1.5
postype = p2
pos = 0,0
sprpriority = 3
persistent = 0



[State 1000]
type = pause
triggerall = enemy,alive = 1
trigger1 = time >= 12
trigger1 = time >= 30
time = 2
movetime = 1
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 3
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = movehit
value = 6865,20
volume = 255
persistent = 0
ignorehitpause = 1
priority = 5

[State 1000]
type = playsnd
trigger1 = time = 21
value = 221,65
volume = 255
persistent = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent =  1

;================================
; Chain driver
;================================

[Statedef 3303]
type = S
movetype = A
physics = N
anim = 3359
velset = 0,0,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S600,2
volume = 255


[State 3280, 3]
type = HitDef
trigger1 = animelem = 9
attr = S, HA
animtype  = up
damage    = 20 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 5,20
forcestand = 1
sparkno = s8035
sparkxy = -25,-80
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = hard
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -.5,-11
p2stateno = 3372
kill = 0
envshake.time = 15
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 75

[State 1000]
type = explod
trigger1 = animelem = 19
anim = 9023
pos = -20,67
postype = Left
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 19
anim = 9024
pos = 0,60
postype = Left
sprpriority = 6
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 19
anim = 9025
pos = 0,65
postype = Left
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = envcolor
trigger1 = movehit
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3315
ignorehitpause = 1

[Statedef 3372]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3510]
type = PosSet
Trigger1 = Time = 0
y = 0

[State 3510]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3369

[State 3510]
type = SelfState
Trigger1 = Animtime = 0
value = 5050

[Statedef 3284]
type = S
movetype = A
physics = N
anim = 937

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "burst1"
ID = 936
stateno = 936
pos = 40,-20
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "burst2"
ID = 937
stateno = 936
pos = -40,-20
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0



[State 1000]
type = envcolor
trigger1 = time = 0
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = A,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
affectteam = E          ;B,E,F
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
pausetime = 0,2
priority = 4, Hit
damage = 100,0
sparkno = -1
sparkxy = 50-(random%-100),-60+(random%80)
hitsound = S2200,2
guard.sparkno = s8056
ground.type = High      ;Low,Trip,None
air.hittime = 40
yaccel = 0.5
ground.velocity = 1,-25
air.velocity = 1,-25
sprpriority = 5
fall = 1
fall.recover = 0
fall.recovertime = 20
air.fall = 1
air.fall.recover = 0
kill = 1
numhits = 1
givepower = 20
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 50
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 90
p2stateno = 3110

[State 1000]
type = playsnd
trigger1 = movehit = 1
value = 2200,0
volume = 255
ignorehitpause = 1
persistent = 0
channel = 2

[State 1000]
type = playsnd
trigger1 = movehit = 1
value = 2200,12
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = destroyself
trigger1 = animtime = 0
persistent = 1
ignorehitpause = 1

[Statedef 936]
type = S
movetype = A
physics = N
anim = 936
velset = 0,0
ctrl = 0
sprpriority = 15


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -.5
ignorehitpause = 1


[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 71
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 14503]
type = S
movetype = A
physics = N
anim = 14503
velset = 0,0
ctrl = 0
sprpriority = 5

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 77
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 14603]
type = S
physics = N
anim = 3231
velset = 0,0,0
ctrl = 0
sprpriority = 5

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 46
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 14703]
type = S
physics = N
anim = 3230
velset = 0,0
ctrl = 0
sprpriority = 5

[State 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 40
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

;-------------------------
[Statedef 3290]
type = S
movetype = A
physics = S
anim = 3270
ctrl = 0

[State 3290, muteki]
type = nothitby
trigger1 = time >= 0
value = SCA
time = 1

[State 1000]
type = velset
trigger1 = time <= 102
x = .7
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time >= 97
x = -.07
ignorehitpause = 1


[State 1000]
type = velset
trigger1 = time >= 102
trigger2 = vel x < 0
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 1000]
type = turn
trigger1 = p2bodydist x <= 0
value = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = targetbind
trigger1 = time <= 102
pos = 60,0
ignorehitpause = 1
persistent = 1

[State 3280, 1]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 23
trigger4 = animelem = 24
trigger5 = animelem = 50
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 12 ; 10
givepower = 15
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -15,-45
hitsound   = s222,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0
p2stateno = 3208

[State 3280, 2]
type = HitDef
trigger1 = animelem = 15
trigger2 = animelem = 19
trigger3 = animelem = 36
trigger4 = animelem = 47
attr = S, HA
animtype  = hard
damage    = 16 ; 10
givepower = 15
;guardflag = MA
pausetime = 0,10
forcestand = 1
sparkno = s8035
sparkxy = -40+(random%-30),-40+(random%10)
hitsound   = s222,1
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 3]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 11
trigger4 = animelem = 29
trigger5 = animelem = 32
trigger6 = animelem = 43
attr = S, HA
animtype  = hard
damage    = 16 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,10
forcestand = 1
sparkno = s8035
sparkxy = -15,-70
hitsound   = s222,1
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3208
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 3280, 3]
type = HitDef
trigger1 = animelem = 55
attr = S, HA
animtype  = hard
damage    = 40 ; 15
givepower = 15
;guardflag = MA
pausetime = 10,5
forcestand = 1
sparkno = s8035
sparkxy = -15,-70
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -4,-10
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0
air.velocity = -4,-10
yaccel = .3
envshake.time = 10
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 75
palfx.time = 120
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 3290, end]
type = ChangeState
trigger1 = animelem = 60
value = 0
ctrl = 1

;==========================================================
; 3250 SDM chain drive launch
[Statedef 3250]
type    = S
movetype= I
physics = S
anim = 3200
ctrl = 0
poweradd = -2000
velset = 0,0,0

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6112
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[state 1000]
type = turn
triggerall = prevstateno = 3102
trigger1 = p2bodydist x <= 20
trigger1 = time = 0
value = 1
ignorehitpause = 1
persistent = 0

[State 3250, 0]
type = PlaySnd
trigger1 = animelem = 4
value = 221,6

[State 3250, 1]
type = PlaySnd
trigger1 = time = 0
value = 800,10

[State 3250, 1]
type = PlaySnd
trigger1 = time = 20
value = 800,1

[State 3250, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30  ;25 is all pause time

[State 3250, 2]
type = SuperPause
trigger1 = time = 2
anim = -1
movetime = 30
darken = 0

[State 9899, BGcolor]
type = envcolor
trigger1 = time = 0
time = 30
under = 1
value = 0, 0, 0

[State ]
type = Explod
triggerall = !time
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1201 || prevstateno = 1204
anim = 6200
sprpriority = 50
postype = left
pos = 160,97
ownpal = 1
bindtime = -1
supermove = 1
ontop = 1
scale = 0.7,0.7

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
trigger3 = !time && prevstateno = 1201 || prevstateno = 1204
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State ]
type = Explod
triggerall = !time
trigger1 = !time && (prevstateno = 3202 || prevstateno = 2506 || prevstateno = 3205 || prevstateno = 3102)
anim = 6201
sprpriority = 50
postype = left
pos = 160,100
bindtime = -1
supermove = 1
ontop = 1
scale = 0.5,0.5

[State ]
type = Explod
triggerall = !time
trigger1 = !time && (prevstateno = 3202 || prevstateno = 2506 || prevstateno = 3205 || prevstateno = 3102)
anim = 6202
sprpriority = 49
postype = left
pos = 160,100
bindtime = -1
supermove = 1
under = 0
ownpal = 1
removetime = 56
trans = addalpha
alpha = 340-120,120
scale = 1.0,1.2

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Sparklvl2'1"
ID = 9012
stateno = 9012
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1,20
helpertype = normal
name = "Sparklvl2'2"
ID = 9002
stateno = 9002
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

;[State 3250, 4]
;type = Explod
;trigger1 = time = 5
;anim = 900
;pos = 0,-90
;supermove = 1
;sprpriority = -2
;bindtime = 1
;ownpal = 1

;[State 3200, 4]
;type = Explod
;trigger1 = time = 2
;anim = 910
;pos = 0,-90
;supermove = 1
;sprpriority = 2
;bindtime = 1
;ownpal = 1

[State 3250 , 2]  ;sun glasses
type = Projectile
trigger1 = AnimElem = 6, =1
ProjAnim = 2020
ProjID = 2020
ProjHitAnim = 2021
projedgebound = 320
projstagebound = 320
projheightbound = -300,0
offset = 26,-90
hitflag = MAF
guardflag = MA
accel = 0, 0.3
velocity = 10, -3
attr = S, NA
priority = 4, hit
projshadow = 68,68,68
damage = 5,4
animtype = hard
air.animtype = up
givepower = 50
pausetime = 0,16
guard.sparkno = s8056
sparkno = s8035
hitsound = S210,0
guardsound = S150,1
ground.type = High
ground.slidetime = 36
ground.hittime = 100
ground.velocity = -3;-5
guard.hittime = 24
guard.slidetime = 24
guard.pausetime = 8,10
guard.velocity = -1
air.velocity = -4,-6
fall = 0
air.fall = 1
yaccel = .6
fall.recover = 0
air.fall.recover = 0
air.animtype = Back

[State 3250, end1]
type = changestate
trigger1 = (projcontact(2020) = 1) && (p2bodydist X < 30)
value = 3251
ctrl = 0

[State 3250, end1]
type = changestate
trigger1 = projcontact(2020) = 1
trigger1 = AnimElemTime (6) > 1
value = 3251
ctrl = 0

[State 3250, end1]
type = changestate
trigger1 = projcanceltime(0) = 1
trigger1 = AnimElemTime (6) > 1
value = 3251
ctrl = 0

[State 3250, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------
; 3251 SDM chain drive attack success
[Statedef 3251]
type    = S
movetype= A
physics = N
anim = 3252
ctrl = 0
velset = 0,0,0

[State -2]
Type = AttackDist
Trigger1 = AnimElem = 9,>=0
Value = 0

[State 2601]
type = posadd
Trigger1 = animelem = 7,>0 && animelem = 10,<0
x = 28

[State 1000]
type = playsnd
trigger1 = animelem = 7
value = 1700,4
volume = 255
ignorehitpause = 1


[State 2601]
type = posadd
Trigger1 = animelem= 7,>0 && MoveContact = 1
x = 0
ignorehitpause = 1

[State 2601]
type = Width
Trigger1 = 1
edge = 0,0

[State 1000]
type = targetbind
trigger1 = movehit
time = 20
pos = 40,0
ignorehitpause = 1

[State 2601]
type = AfterImage
Trigger1 = time = 0
time = 37
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[State 3251, 5]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = (AnimElem = 5)
p2facing = 1
attr = S, HA
animtype = hard
damage = 10,0
sparkno = s8035
pausetime = 0,32
guard.sparkno = s8056
sparkxy = -36,-80
pausetime = 6,6
hitflag = MAF
p2stateno = 3218
guardflag = MA
forcestand = 1
hitsound = s240,0
fall.recover = 0
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -0, 0
guard.slidetime = 17
guard.velocity = -10
envshake.time = 18
envshake.ampl = 15
p1stateno = 3252

[State 3251, sunglass]
type = envcolor
trigger1 = movehit
time = 1
under = 1
value = 240,240,240

[State 3251, end1]
type = changestate
triggerall = prevstateno = 3250
trigger1 = movehit
value = 3270
ctrl = 1

[State 3251, end1]
type = changestate
triggerall = prevstateno = 3354
trigger1 = movehit
value = 3202
ctrl = 1

[State 3201, end1]
type = changestate
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3210
ctrl = 0

[Statedef 3252]
type = S
movetype = A
physics = N
anim = 3211
velset = 0,0,0

[State 2602]
type = Width
Trigger1 = 1
edge = 25,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = time = 0
time = 3
value = 240,240,240
ontop = 1
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
time = 32
pos = 60,0
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
ctrl = 0
value = 3264

;----------------------
; 3253 SDM chain drive attack success when body dist <= 30
[Statedef 3253]
type    = S
movetype= A
physics = N
anim = 3204
ctrl = 0
velset = 0,0,0

[State 3252, 0]
type = playerpush
trigger1 = time >= 0
value = 1

[State 3251, 1]
type = PlaySnd
trigger1 = time = 16
value = 3200,0

[State 3253, shadow]
type = explod
trigger1 = projcontact2020 = 1
anim = 3203
sprpriority = 2
ownpal = 1
shadow = 80,80,80

[State 3253, 2]
type = velset
trigger1 = time = 28
x = 16

[State 3253, 3]
type = veladd
trigger1 = time >= 28
x = -0.4

[State 3203, 4]
type = VelSet
trigger1 = Vel X <= 0
x = 1

[State 3253, 5]
type = HitDef
trigger1 = AnimElem = 1;4
trigger2 = (AnimElem = 5) && (!movecontact)
attr = S, HA
animtype = hard
p2facing = 1
damage = 10,0
sparkno = s8035
sparkxy = 0,-60
pausetime = 20,6
hitflag = MAF
forcestand = 1
guardflag = MA
guard.sparkno = s8056
hitsound = s240,0
fall.recover = 0
ground.slidetime = 30
ground.hittime = 100
ground.velocity = -8, 0
envshake.time = 20
envshake.ampl = 15
envshake.freq = 50
envshake.phase = 90
p2stateno = 3208

[State 1000]
type = targetbind
trigger1 = movecontact
pos = 50,0
ignorehitpause = 1

[State 3253, sunglass]
type = envcolor
trigger1 = movehit
time = 1
under = 1
value = 240,240,240

[State 3253, end1]
type = changestate
trigger1 = movehit
value = 3254
ctrl = 1

[State 3253, end1]
type = changestate
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3210
ctrl = 0

[Statedef 3264]
type = S
movetype = A
physics = N
anim = 3300
velset = 0,0,0
ctrl = 0

[State 1000]
type = posadd
trigger1 = time <= 232
x = .7
y = 0
ignorehitpause = 0

[State 1000]
type = explod
trigger1 = animelem = 66
anim = 3705
removetime = -2
bindtime = 1
ignorehitpause = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = veladd
trigger1 = time >= 228
trigger1 = time <= 232
x = -.06
y = 0
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time >= 232
x = 0
y = 0
ignorehitpause = 1
persistent = 1


[State 3280, push]
type = playerpush
trigger1 = time >= 0
value = 1

[State 3280, muteki]
type = nothitby
trigger1 = time >= 0
value = SCA
time = 1

[State 3280, width]
type = Width
trigger1 = time >= 0
edge = 60,0

[State 3280, 0]
type = targetbind
trigger1 = time <= 72
pos = 60,0

;[State 1000]
;type = changeanim
;triggerall = time >= 148
;trigger1 = animelemtime(animelemno(0)+1) = -1
;value = anim
;elem = animelemno(0)+1


[State 3280, 1]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 26
trigger3 = animelem = 39
trigger4 = animelem = 46
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 8 ; 10
givepower = 15
getpower = 0,12
;guardflag = MA
pausetime = 2,2
sparkno = s8035
sparkxy = -25,-70
hitsound   = s222,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 2]
type = HitDef
trigger1 = animelem = 13
trigger2 = animelem = 20
attr = S, HA
animtype  = hard
damage    = 8 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 2,10
forcestand = 1
sparkno = s8035
sparkxy = -40+(random%-30),-40+(random%10)
hitsound   = s222,1
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 3]
type = HitDef
trigger1 = animelem = 28
trigger2 = animelem = 54
attr = S, HA
animtype  = hard
damage    = 8 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 2,10
forcestand = 1
sparkno = s8035
sparkxy = -25,-70
hitsound   = s222,1
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)


[State 3280, 3]
type = HitDef
trigger1 = animelem = 66
attr = S, HA
animtype  = hard
damage    = 10 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 7,0
forcestand = 1
sparkno = s8035
sparkxy = -25,-70
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -8
kill = 0
p2stateno = 3257
envshake.time = 10
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 75

[State 1000]
type = playsnd
trigger1 = animelem = 186
volume = 255
value = 6865,43
ignorehitpause = 1

[State 3280, envcolor]
type = envcolor
triggerall = animelem = 66
trigger1 = movehit
time = 3
ontop = 1
persistent = 0
value = 240,240,240

[State 3280, end1]
type = ChangeState
trigger1 = animelem = 67
value = 3265
ctrl = 0

[Statedef 3265]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 110, 1]
type = Afterimage
trigger1 = Time = 3
time = 15
length = 5
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1,1,1
FrameGap = 4
Trans = Add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Velset
trigger1 = time <= 13
x = p2bodydist X / 13
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 14
x = 0
ignorehitpause = 1


[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 1000, 0]
type = Pause
trigger1 = AnimElem = 8, >= 0
trigger1 = winKO != 1 || life = 0
trigger1 = timemod = 2,0
time = 1
movetime = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3266

[Statedef 3266]
type = S
movetype = A
physics = N
velset = 0,0,0
ctrl = 0
p1facing = 1
anim = 3770

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = default
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 221,13
volume = 255

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,HA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = light
priority = 4,Hit
damage = 10,0
pausetime = 7,0
sparkno = s8035
sparkxy = -25,-65
hitsound = S240,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = High      ;Low,Trip,None
ground.slidetime = 0
ground.hittime = 0
air.hittime = 20
ground.velocity = -8,0
p2stateno = 3258
p1stateno = 3267
fall = 0
kill = 0
numhits = 1
givepower = 15,0
envshake.time = 20
envshake.freq = 75
envshake.ampl = 20
envshake.phase = -90

[State 3280, envcolor]
type = envcolor
trigger1 = animelem = 6
time = 3
ontop = 1
persistent = 0
ignorehitpause = 1
value = 240,240,240


[State 1000]
type = explod
trigger1 = animelem = 6
anim = 3771
removetime = -2
bindtime = 1
ignorehitpause = 1
ownpal = 1
removeongethit = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
ignorehitpause = 1
value = 0
ctrl = 1

[Statedef 3267]
type = S
movetype = A
physics = N
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 110, 1]
type = Afterimage
trigger1 = Time = 3
time = 15
length = 5
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1,1,1
FrameGap = 4
Trans = Add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Velset
trigger1 = time <= 15
x = p2bodydist X / 6
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 14
x = 0
ignorehitpause = 1


[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 1000, 0]
type = Pause
trigger1 = AnimElem = 8, >= 0
trigger1 = winKO != 1 || life = 0
trigger1 = timemod = 2,0
time = 1
movetime = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3268

[Statedef 3268]
type = S
movetype = A
physics = N
anim = 3762
velset = 0,0,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = default
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 700,0
volume = 255

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S,HA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = light
air.animtype = light
priority = 4,Hit
damage = 10,0
pausetime = 0,0
sparkno = s8035
sparkxy = -25,-65
hitsound = S240,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = High      ;Low,Trip,None
ground.slidetime = 0
ground.hittime = 0
air.hittime = 20
ground.velocity = -4,0
p2stateno = 3207
p1stateno = 3269
fall = 0
kill = 0
numhits = 1
givepower = 15,0
envshake.time = 20
envshake.freq = 75
envshake.ampl = 20
envshake.phase = -90

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 600,1
volume = 100

[State 1000]
type = explod
trigger1 = animelem = 6
anim = 3771
removetime = -2
bindtime = 1
ignorehitpause = 1
persistent = 0
ownpal = 1
removeongethit = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
ignorehitpause = 1
value = 0
ctrl = 1

[Statedef 3269]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3355
ID = 3356
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 20
removetime = -2
scale = 1,1
sprpriority = 5
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 2602]
type = PlayerPush
Trigger1 = AnimElemTime(1) > 0
value = 1



[State 1000]
type = nothitby
trigger1 = 1
value = SCA
persistent = 1
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
id = -1
pos = 40,0
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 = time = 26
helpertype = normal ;player
name = "Mirage"
ID = 3296
stateno = 3270
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1
;persistent =

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "Mirage"
ID = 3297
stateno = 3271
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1
;persistent =

[State 0, Helper]
type = Helper
trigger1 = time = 34
helpertype = normal ;player
name = "Mirage"
ID = 3298
stateno = 3272
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 1
unhittable = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1
;persistent =


[State 1000]
type = changestate
trigger1 = time = 38
value = 3273
ignorehitpause = 1
ctrl = 0

;-------------------------------------------------------------------------------

[Statedef 3270]
type = S
movetype = A
physics = S

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = changeanim
trigger1 = time = 0
value = 3356
ignorehitpause = 1

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = time <= 20
x = 9
ignorehitpause = 1


[State 1000]
type = veladd
triggerall = anim = 3356
trigger1 = time <= 20
x = -.3
ignorehitpause = 1

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = p2bodydist x <= -40
x = 0
ignorehitpause = 1
persistent = 1

[State 3202, 2]
type = HitDef
triggerall = anim = 3356
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 5 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,100
forcestand = 1
sparkno = s8045
sparkxy = -20,-40
hitsound   = s6865,42
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
kill = 0

[State 1000]
type = changeanim2
trigger1 = anim = 3356 && animtime = 0
value = 3357
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 3357 && animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 3271]
type = S
movetype = A
physics = N

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = changeanim
trigger1 = time = 0
value = 3356
ignorehitpause = 1

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = time <= 20
x = 9
ignorehitpause = 1


[State 1000]
type = veladd
triggerall = anim = 3356
trigger1 = time <= 20
x = -.3
ignorehitpause = 1

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = p2bodydist x <= -40
x = 0
ignorehitpause = 1
persistent = 1

[State 3202, 2]
type = HitDef
triggerall = anim = 3356
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 5 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,100
forcestand = 1
sparkno = s8045
sparkxy = 10,-10
hitsound   = s6865,42
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
envshake.time = 10
envshake.ampl = 20
envshake.freq = 75
envshake.phase = -90
kill = 0

[State 1000]
type = envcolor
trigger1 = animelem = 4
ontop = 1
time = 3
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = changeanim2
trigger1 = anim = 3356 && animtime = 0
value = 3357
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 3357 && animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 3272]
type = S
movetype = A
physics = S

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = changeanim
trigger1 = time = 0
value = 3356
ignorehitpause = 1

 [State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = time <= 20
x = 9
ignorehitpause = 1


[State 1000]
type = veladd
triggerall = anim = 3356
trigger1 = time <= 20
x = -.3
ignorehitpause = 1

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = p2bodydist x <= -40
x = 0
ignorehitpause = 1
persistent = 1

[State 3202, 2]
type = HitDef
triggerall = anim = 3356
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 5 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,100
forcestand = 1
sparkno = s8045
sparkxy = -40,-70
hitsound   = s6865,42
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
kill = 0

[State 1000]
type = changeanim2
trigger1 = anim = 3356 && animtime = 0
value = 3357
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 3357 && animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 3273]
type = S
movetype = A
physics = N

[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = changeanim
trigger1 = time = 0
value = 3356
ignorehitpause = 1

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = time <= 20
x = 9
ignorehitpause = 1


[State 1000]
type = veladd
triggerall = anim = 3356
trigger1 = time <= 20
x = -.3
ignorehitpause = 1

[State 1000]
type = velset
triggerall = anim = 3356
trigger1 = p2bodydist x <= -40
x = 0
ignorehitpause = 1
persistent = 1

[State 3202, 2]
type = HitDef
triggerall = anim = 3356
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,100
forcestand = 1
sparkno = s8045
sparkxy = -40,-70
hitsound   = s6865,49
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 0
ground.hittime  = 40
ground.velocity = 0
fall.recover = 0
envshake.time = 10
envshake.ampl = 20
envshake.freq = 75
envshake.phase = -90
kill = 0

[State 1000]
type = envcolor
trigger1 = animelem = 4
ontop = 1
time = 3
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = changeanim2
trigger1 = anim = 3356 && animtime = 0
value = 3358
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = anim = 3358 && animtime = 0
value = 3274
ctrl = 0

[Statedef 3274]
type = S
movetype = A
physics = N
velset = 0,0,0
ctrl = 0
p2facing = 1
p1facing = 1

[State 1000]
type = changeanim
trigger1 = time = 0
elem = 73
value = 3300

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 148
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 1000]
type = posadd
trigger1 = time <= 154
x = .8
y = 0
ignorehitpause = 0

[State 1000]
type = velset
trigger1 = animelem = 209
x = 0
y = 0
ignorehitpause = 1
persistent = 1


[State 3201, 2]
type = playsnd
trigger1 = animelem = 73
value = 6865,41
volume = 255
priority = 5

[State 3201, 2]
type = playsnd
trigger1 = animelem = 73
value = 6865,41
volume = 255
priority = 5

[State 3280, push]
type = playerpush
trigger1 = time >= 0
value = 1

[State 3280, muteki]
type = nothitby
trigger1 = time >= 0
value = SCA
time = 1

[State 3280, width]
type = Width
trigger1 = time >= 0
edge = 60,0

[State 0, Turn]
type = Turn
trigger1 = time >= 0
value = 1
ignorehitpause = 1
persistent = 0


[State 3280, 0]
type = targetbind
trigger1 = time <= 140
pos = 60,0

;[State 1000]
;type = changeanim
;triggerall = time >= 148
;trigger1 = animelemtime(animelemno(0)+1) = -1
;value = anim
;elem = animelemno(0)+1


[State 3280, 1]
type = HitDef
trigger1 = animelem = 74
trigger2 = animelem = 78
trigger3 = animelem = 98
trigger4 = animelem = 104
trigger5 = animelem = 114
trigger6 = animelem = 132
trigger7 = animelem = 190
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 2,2
sparkno = s8035
sparkxy = -30+random%30,-80+random%40
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 2]
type = HitDef
trigger1 = animelem = 84
trigger2 = animelem = 171
trigger3 = animelem = 180
attr = S, HA
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 2,10
forcestand = 1
sparkno = s8035
sparkxy = -30+random%30,-80+random%40
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 3]
type = HitDef
trigger1 = animelem = 90
trigger2 = animelem = 118
trigger3 = animelem = 123
trigger4 = animelem = 141
trigger5 = animelem = 154
trigger6 = animelem = 163
trigger7 = animelem = 199
attr = S, HA
animtype  = hard
damage    = 5 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 2,10
forcestand = 1
sparkno = s8035
sparkxy = -30+random%30,-80+random%40
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 3]
type = HitDef
trigger1 = animelem = 204
attr = S, HA
animtype  = hard
damage    = 5 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 3,10
forcestand = 1
sparkno = s8035
sparkxy = -30+random%30,-80+random%40
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3208

[State 3280, 3]
type = HitDef
trigger1 = animelem = 213
attr = S, HA
animtype  = up
damage    = 8 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 5,5
forcestand = 1
sparkno = s8035
sparkxy = -25,-70
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = hard
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2,-8.2
yaccel = .2
kill = 0
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0
envshake.time = 10
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 75

[State 1000]
type = playsnd
trigger1 = animelem = 210
volume = 255
value = 6865,43
ignorehitpause = 1

[State 3280, envcolor]
type = envcolor
trigger1 = movehit
time = 1
under = 1
persistent = 0
value = 240,240,240

[State 0, VarSet]
type = VarSet
triggerall = time <= 162
triggerall = power >= 1000
triggerall = !var(59) >= 1
trigger1 = command = "heatdriverSDM"
v = 9    ;fv = 10
value = 1
ignorehitpause = 1


[State 3280, envcolor]
type = envcolor
trigger1 = animelem = 213
time = 3
ontop = 1
persistent = 0
ignorehitpause = 1
value = 240,240,240

[State 3280, end1]
type = ChangeState
trigger1 = animtime = 0
value = 3275
ctrl = 0

[State 1000]
type = changestate
trigger1 = var(9) = 1
trigger1 = animelem = 209
value = 3303

[State 1000]
type = changestate
triggerall = var(59) >= 1
triggerall = power >= 1000
trigger1 = animelem = 209
trigger1 = random <= 333
value = 3303

[Statedef 3275]
type = S
movetype = A
physics = N

[State 1000]
type = changeanim
trigger1 = time = 0
value = 3284

[State 1000]
type = changeanim
trigger1 = time = 38
value = 3283

[State 1000]
type = playsnd
trigger1 = time = 6
value = 6865,44
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 6
value = 6865,55+(random%2)
volume = 255

[State 1000]
Type = Explod
Trigger1 = Movehit = 1
anim = 32835
pos = -60,-30
posType = p1
sprpriority = 9
supermove = 1
ownpal = 1
ontop = 1
facing = -1
bindTime = 1
persistent = 0
scale = 4,0.5
pausemoveTime = 9999999
supermoveTime = 9999999

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(123456)!=1
triggerall = time = 0
trigger1= (target,stateno = 3110)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "burst1"
ID = 936
stateno = 936
pos = 10,-40
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
sprpriority = 15
supermovetime = 99999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "burst2"
ID = 937
stateno = 936
pos = -40,-20
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
sprpriority = 15
supermovetime = 99999
persistent = 0



[State 1000]
type = explod
trigger1 = time = 0
anim = 3280
removetime = -2
bindtime = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1
ownpal = 1
sprpriority = 5
pos = 0,0
postype = p1
persistent = 0

[state -2]
type = posadd
triggerall = anim = 3283
Trigger1 = AnimElem = 2,<0
x= 45

[state -2]
type = posadd
triggerall = anim = 3283
Trigger1 = AnimElem = 3,<0
x= 4

[state -2]
type = posadd
triggerall = anim = 3283
Trigger1 = AnimElem = 4,<0
x= 2

[state -2]
type = posadd
triggerall = anim = 3283
Trigger1 = AnimElem = 5,<0
x= 1


[State 1000]
type = posadd
trigger1 = time = 31
x = -200
y = 0
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
affectteam = E          ;B,E,F
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
pausetime = 0,2
priority = 4, Hit
damage = 0,0
getpower = 0,12
sparkno = -1
sparkxy = 50-(random%-100),-60+(random%80)
hitsound = S2200,2
guard.sparkno = s8056
ground.type = High      ;Low,Trip,None
air.hittime = 40
yaccel = 0.5
ground.velocity = .1,-25
air.velocity = .1,-25
sprpriority = 5
fall = 1
fall.recover = 0
fall.recovertime = 20
air.fall = 1
air.fall.recover = 0
kill = 1
numhits = 1
givepower = 20
palfx.time = 110
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 24
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 90
p2stateno = 3110

[State 1000]
type = targetlifeadd
triggerall = p2stateno = 3110
trigger1 = time >= 0
value = -85
ignorehitpause = 1
persistent = 0
absolute = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time <= 40
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = movehit = 1
value = 2200,13
volume = 255
ignorehitpause = 1
persistent = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = 20,0
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = movehit = 1
value = 2200,0
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = envcolor
trigger1 = movehit = 1
time = 4
ontop = 1
value = 240,240,240
ignorehitpause = 1


[State 1000]
type = explod
triggerall = anim = 3283
trigger1 = animelem = 3
anim = 17000
postype = p1
pos = -250,0
bindtime = 1
removetime = -2
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 12
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = anim = 3283 && animtime = 0
value = 0
ctrl = 1

;------------------------

[Statedef 3700]
type = S
movetype = A
physics = S
anim = 3700
poweradd = -3000
velset = 0,0
ctrl = 0

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6122
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add



[State 2010, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 35

[State ]
type = Explod
triggerall = !time
trigger1 = !time && (prevstateno = 3202 || prevstateno = 2506 || prevstateno = 3205)
anim = 6201
sprpriority = 50
postype = left
pos = 160,100
bindtime = -1
supermove = 1
ontop = 1
scale = 0.5,0.5

[State ]
type = Explod
triggerall = !time
trigger1 = !time && (prevstateno = 3202 || prevstateno = 2506 || prevstateno = 3205)
anim = 6202
sprpriority = 49
postype = left
pos = 160,100
bindtime = -1
supermove = 1
under = 0
ownpal = 1
removetime = 56
trans = addalpha
alpha = 340-120,120
scale = 1.0,1.2

[State 1000]
type = explod
trigger1 = (animelem = 1) && (prevstateno = 3275)
anim = 9023
pos = -15,80
postype = Left
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = (animelem = 1) && (prevstateno = 3275)
anim = 9024
pos = 0,75
postype = Left
sprpriority = 4
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = (animelem = 1) && (prevstateno = 3275)
anim = 9025
pos = 0,75
postype = Left
sprpriority = 3
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999


[State 2000, 15]
type = EnvColor
trigger1 = Time = 1
time = 50
value = 0,0,0
under = 1
persistent = 0
ignorehitpause = 1

[State 2000, 15]
type = null;EnvColor
trigger1 = Time = 1
time = 4
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 1300, 5]
type = null;Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 26 ; 26
under = 1
supermove = 1

[State 2200, 8]
type = SuperPause
trigger1 = Time = 1
time = 50 ; 30
movetime = 50
anim = -1
darken = 0

[State 3500, 13]
type = AssertSpecial
trigger1 = Time = [1,30]
flag = Nofg
flag1 = noshadow
ignorehitpause = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 9013
sprpriority = 9
postype = p1
pos = -10,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 9013
sprpriority = 9
postype = p1
pos = -10,0
bindtime = 1
facing = -1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 9003
sprpriority = 5
postype = p1
pos = 10,-105
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
scale = 1,1
under = 0
ownpal = 1

[State 2500,2]
type = PlaySnd
trigger1 = time = 0
value = 800,10
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 2
value = 800,4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 800,3
volume = 255

[State 2200, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3700,Turn]
type = Turn
trigger1 = time = 0 && P2Dist X < 0

[State 2210, 17]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = animelem = 11,5
attr = S, HA
animtype = hard
damage = 0
guardflag = MA
getpower  = 0
givepower = 20,20
sparkno = s8025
guard.sparkno = -1
sparkxy = 0-(random%20),-90+(random%40)
pausetime = 2,20
hitsound = S2200,6
guardsound = S200,3
guard.sparkno = s8056
hitflag = MAF
ground.type = Low
ground.slidetime = 30
fall.recover = 0
air.fall.recover = 0
ground.hittime = 17
ground.velocity = -15.5
guard.hittime = 30
guard.velocity = -13
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State 2210, 17]
type = HitDef
trigger1 = animelem = 11,9
attr = S, HA
animtype = hard
damage = 1
guardflag = MA
getpower  = 0
givepower = 20,20
sparkno = s8025
guard.sparkno = -1
sparkxy = 10-(random%20),-60+(random%40)
pausetime = 0,20
hitsound = S2200,6
guardsound = S200,3
guard.sparkno = s8056
hitflag = MAF
ground.type = Low
ground.slidetime = 30
fall.recover = 0
air.fall.recover = 0
ground.hittime = 17
ground.velocity = -15.5
guard.hittime = 30
guard.velocity = -13
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State 1000]
type = targetlifeadd
trigger1 = animelem = 11,5
value = -10
absolute = 1
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = animelem = 11,9
value = -10
absolute = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 7
value = 2200,5
volume = 255

[State 183, 3]
type = EnvShake
trigger1 = animelem = 7
ignorehitpause = 1
freq = 170
ampl = 5
phase = 170
time = 25

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2572
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 14,-10
projscale = .3,1
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = -10
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2572
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 54,0
projscale = .3,1
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2572
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 24,5
projscale = .3,1
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2572
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = -6,-10
projscale = .3,1
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = -10
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2572
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = -46,0
projscale = .3,1
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 3614
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 4,0
projscale = 1.2,1.2
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = -9
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = AnimElem = 7,4
projanim = 3613
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 4,0
projscale = 1.2,1.2
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 8
projremovetime = 26

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 3615
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 4,0
projscale = 1.1,1.1
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 9
projremovetime = 29

[State 3000]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2572
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = -16,5
projscale = .3,1
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 27

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 2000, 10]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = movehit = 0
trigger2 = winko = 1
value = 0
ctrl = 1

[State 1000]
type = changeanim
trigger1 = movehit
trigger1 = animelem = 11,10
elem = 14
value = 3700
ignorehitpause = 1
persistent = 0

[State 2000, 10]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = MoveHit
value = 3701

;------  ÉqÅ[ÉgÉhÉâÉCÉu[çUåÇ]  ------
[Statedef 3710]
type = S
movetype = A
physics = N
anim = 3102
poweradd = 0
velset = 0,0
ctrl = 0

[State 1120, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,1

[State 3002, afterimage]
type = AfterImage
trigger1 = AnimElem = 2, = 1
time = 36
Trans = Add1
FrameGap = 3
length = 8
time = 20

[State 1001, 3]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1001, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 15.5

[State 1100, 5]
type = PlayerPush
trigger1 = AnimElem = 3, >= 0
trigger1 = animtime < 0
value = 0

[State 2210, 17]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype = hard
damage = ifelse(P2movetype = A,0,0),0
guardflag = M
getpower  = 0
givepower = 20,20
sparkno = s8035
guard.sparkno = -1
sparkxy = 0,-60
pausetime = 1,1
hitsound = s240,0
guardsound = S200,3
guard.sparkno = s8056
hitflag = MAF
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = -13
ground.cornerpush.veloff = 0
p2stateno = 3207+(random%2)
kill = 0

[State 2000, 15]
type = EnvColor
trigger1 = MoveHit
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 2355, 10]
type = AssertSpecial
trigger1 = MoveHit
flag = NoFG
ignorehitpause = 1
persistent = 0

[State 2010, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 35

[State 2000, 10]
type = ChangeState
trigger1 = MoveHit
value = 3701

[State 2000, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3003

;------  ÉqÅ[ÉgÉhÉâÉCÉu[çUåÇ]  ------
[Statedef 3720]
type = S
movetype = A
physics = N
anim = 3102
poweradd = 0
velset = 0,0
ctrl = 0



[State 1120, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,2

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1001, 3]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1001, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 12.5

[State 1100, 5]
type = PlayerPush
trigger1 = AnimElem = 3, >= 0
trigger1 = animtime < 0
value = 0

[State 2210, 17]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype = hard
damage = ifelse(P2movetype = A,0,0),0
guardflag = M
getpower  = 0
givepower = 20,20
sparkno = s8035
guard.sparkno = -1
sparkxy = 0,-60
pausetime = 1,1
hitsound = s240,0
guardsound = S200,3
guard.sparkno = s8056
hitflag = MAF
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = -13
ground.cornerpush.veloff = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠ÉjÇ¬]
type = Explod
trigger1 = MoveHit
ID = 4000
anim = 2200
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State -2, îöî≠ÉjÇ¬]
type = Explod
trigger1 = MoveHit
ID = 4000
anim = 2201
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 4010
anim = 2200
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 4010
anim = 2200+(random%2)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State 2000, 15]
type = EnvColor
trigger1 = MoveHit
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 2355, 10]
type = AssertSpecial
trigger1 = MoveHit
flag = NoFG
ignorehitpause = 1
persistent = 0

[State 2000, 10]
type = ChangeState
trigger1 = MoveHit
value = 3701
[State 2000, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 3002

[Statedef 100094]
physics = N
anim = 99999

[State 3800, 1]
type = explod
triggerall = !numexplod(10094) || !numexplod(10096)
trigger1 = !time
pos = 0,0
postype = BACK
anim = ifelse((root,stateno = 2601),10096,ifelse((root,stateno = 2701),10096,10094))
ID = ifelse((root,stateno = 2601),10096,ifelse((root,stateno = 2701),10096,10094))
bindtime = -1
removetime = -1
sprpriority = -5
ignorehitpause = 1
ownpal = 1
removeongethit = 1
supermovetime = 9999999
pausemovetime = 9999999
persistent = 0

[State 1009]
type = Explod
triggerall = !numexplod(6132)
trigger1 = !time
anim = 6132
ID = 6132
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermovetime = 99999
ownpal = 1
ontop = 1
trans = add

[state 1000]
type = changestate
triggerall = root,stateno != 2602
trigger1 = root,stateno = 3316 && root,animelem = 12
trigger2 = root,stateno = 3789 && root,animelem = 8
trigger3 = root,stateno = 3235 && root,animelem = 14,30
trigger4 = root,stateno = 25755 && root,animelem = 5
trigger5 = root,stateno = 3502 && root,animelem = 17,3
trigger6 = root,movetype = H
trigger7 = root,stateno = 0
trigger8 = root,stateno = 2702 && root,animelem = 1
ignorehitpause = 1
persistent = 1
value = 100095

[state 1000]
type = changestate
triggerall = root,stateno = 2602
trigger1 = root,stateno = 2602 && root,animelem = 12,4
trigger1 = enemy,alive = 1
trigger2 = root,stateno = 2602 && root,animelem = 24
trigger2 = enemy,alive = 0
ignorehitpause = 1
persistent = 1
value = 100095

[Statedef 100095]
physics = N
anim = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6132
ignorehitpause = 1
persistent = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 10094
ignorehitpause = 1
persistent = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 10096
ignorehitpause = 1
persistent = 1

[State 3800, 1]
type = explod
triggerall = !numexplod(10095)
triggerall = !time
trigger1 = root,stateno != 2602
trigger2 = root,stateno != 2702
pos = 0,0
postype = BACK
anim = ifelse((root,stateno = 2602),10097,ifelse((root,stateno = 2702),10097,10095))
ID = ifelse((root,stateno = 2602),10097,ifelse((root,stateno = 2702),10097,10095))
bindtime = -1
removetime = -2
sprpriority = 10
ignorehitpause = 1
ownpal = 1
removeongethit = 1
supermovetime = 9999999
pausemovetime = 9999999
persistent = 0


[State 1000]
type = envcolor
trigger1 = time = 0
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,ifelse((root,stateno = 2602),5,ifelse((root,stateno = 2702),5,6))
volume = 255

[State 1000]
type = destroyself
trigger1 = time >= 6
ignorehitpause = 1
persistent = 1


[Statedef 6133]
type = S
movetype = I
physics = N
anim = 99999

[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 6134
pos = 0,70
postype = back
sprpriority = -4
ownpal = 0
supermove = 1
persistent = 0
Removetime = -2
bindtime = -1
pausemovetime = 9999999
supermovetime = 9999999

[State 8300]
type = Explod
Trigger1 = Time = 8
anim = 6133
pos = 0,70
postype = back
sprpriority = -3
ownpal = 0
bindtime = -1
persistent = 0
Removetime = -2
supermove = 1
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[state 1000]
type = playsnd
trigger1 = time = 8
value = 6865,3
volume = 255
ignorehitpause = 1

[state 1000]
type = destroyself
trigger1 = time >= 75
ignorehitpause = 1
persistent = 1

[Statedef 6134]
movetype = I
physics = N
anim = 99999
velset = 0,0,0
sprpriority = -2

[State 0, BindToParent]
type = BindTotarget
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1



;[State 0, Helper]
;type = Helper
;trigger1 = time = 0
;helpertype = normal ;player
;name = "Lvl 4 Portrait"
;ID = 6133
;stateno = 6134
;pos = 0,-110
;postype = back    ;p2,front,back,left,right
;facing = 1
;keyctrl = 0
;ownpal = 1
;supermovetime = 99999
;ignorehitpause = 1



[State 0, PalFX]
type = PalFX
trigger1 = time >= 38
time = 1
add = 0+((time-38)*6),0+((time-38)*6),0+((time-38)*6)
mul = 256,256,256
color = 256
ignorehitpause = 1

[State 8300]
type = Explod
Trigger1 = Time = 8
anim = 6135
pos = 0,108
postype = back
sprpriority = -2
ownpal = 0
bindtime = -1
Removetime = 80
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 6136
pos = 0,80
postype = back
sprpriority = -3
ownpal = 0
bindtime = -1
Removetime = 88
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999

[state 1000]
type = playsnd
trigger1 = time = 0
value = 6865,2
volume = 100
ignorehitpause = 1

[state 1000]
type = changestate
trigger1 = time >= 88
value = 6135
ignorehitpause = 1

[Statedef 6135]
movetype = I
physics = N
anim = 99999
velset = 0,0,0
sprpriority = 9

[State 0, BindToParent]
type = BindTotarget
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 100062
pos = 0,50
postype = back
sprpriority = -2
ownpal = 0
supermove = 1
persistent = 0
Removetime = -2
scale = 1,.25
vel = 0,-2
bindtime = -1
ownpal = 0
pausemovetime = 9999999
supermovetime = 9999999


[State 8300]
type = Explod
Trigger1 = Time = 0
anim = 100062
pos = 0,110
postype = back
sprpriority = -2
ownpal = 0
supermove = 1
persistent = 0
Removetime = -2
scale = 1,.25
vfacing = -1
bindtime = -1
vel = 0,2
ownpal = 0
pausemovetime = 9999999
supermovetime = 9999999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = 6866,0
volume = 255
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = 6865,4
volume = 255
ignorehitpause = 1

[state 1000]
type = destroyself
trigger1 = time >= 75
ignorehitpause = 1
persistent = 1



[Statedef 3701]
type = S
movetype = A
physics = S
anim = 3701
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3207
ID = -1
ignorehitpause = 1


[State 0, Helper]
type = Helper
triggerall = !numhelper(100094)
trigger1 = !time
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "HSDM Portrait"
ID = 6133
stateno = 6133
pos = 0,70
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1000, 2]
type = posset
triggerall = facing = 1
trigger1 = AnimElem = 1
x = -60

[State 1000, 2]
type = posset
triggerall = facing = -1
trigger1 = AnimElem = 1
x = 60

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 1
pos = 60,0

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0


[State 240, 2]
type = PlaySnd
trigger1 = Time = 0
value = 300,10

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = animelem = 14
trigger3 = animelem = 21
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 0,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,1
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = animelem = 21
ID = 3702
anim = 3702
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3702

[Statedef 3702]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3703

[Statedef 3703]
type = S
movetype = A
physics = S
anim = 3703
poweradd = 0
velset = 0,0
facep2 = 1
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = animelem = 18
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,0
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA
animtype = hard
damage = 20
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 5,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-71
hitsound = S222,1
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = animelem = 18
ID = 3704
anim = 3751
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3704

[Statedef 3704]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3705

[Statedef 3705]
type = S
movetype = A
physics = S
anim = 3704
poweradd = 0
facep2 = 1
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,0
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = animelem = 16
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 5,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-71
hitsound = S222,1
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = animelem = 16
ID = 3704
anim = 3705
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3706

[Statedef 3706]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3707

[Statedef 3707]
type = S
movetype = A
physics = S
anim = 3706
poweradd = 0
facep2 = 1
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = animelem = 9
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,1
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = animelem = 9
ID = 3704
anim = 3707
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3708

[Statedef 3708]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3709

[Statedef 3709]
type = S
movetype = A
physics = S
anim = 3708
poweradd = 0
facep2 = 1
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,1
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 16
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 6,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-71
hitsound = S240,0
guardsound = S200,3
guard.sparkno = s8056
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
envshake.time = 10
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 90
p2stateno = 3207
kill = 0

[State 1000]
type = envcolor
trigger1 = animelem = 16
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = animelem = 16
ID = 3704
anim = 3709
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3711

[Statedef 3711]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3712

[Statedef 3712]
type = S
movetype = A
physics = S
anim = 3710
facep2 = 1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 0,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S240,0
guardsound = S200,3
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
envshake.time = 10
envshake.ampl = 12
envshake.freq = 75
envshake.phase = 90
p2stateno = 3208
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = animelem = 6
ID = 3704
anim = 3711
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3713

[Statedef 3713]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3730



;------  âìãóó£ã≠ÉpÉìÉ`  ------
[Statedef 3730]
type = S
movetype = A
physics = S
anim = 3730
poweradd = 0
facep2 = 1
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2


[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0


[State 240, 2]
type = PlaySnd
trigger1 = Time = 0
value = 300,10

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 0,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3731
anim = 3731
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3735

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3735]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3740

;------  ãﬂãóó£ã≠ÉLÉbÉN  ------
[Statedef 3740]
type = S
movetype = A
physics = S
anim = 3740
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 270, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 1,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-35
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3208
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3741
anim = 3741
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 270, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3745

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3745]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3750

;------  ÇµÇ·Ç™Ç›ã≠ÉpÉìÉ`  ------
[Statedef 3750]
type = S
movetype = A
physics = S
anim = 3750
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 440, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
animtype = hard
damage = 10
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 1,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-49
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3751
anim = 3751
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3755

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3755]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3760

;------  ãﬂãóó£ã≠ÉpÉìÉ`  ------
[Statedef 3760]
type = S
movetype = A
physics = S
anim = 3760
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 250, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3761
anim = 3761
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3765

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3765]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3770

;------  ãﬂãóó£ã≠ÉLÉbÉN  ------
[Statedef 3770]
type = S
movetype = A
physics = S
anim = 3740
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 270, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 1,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-35
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3741
anim = 3741
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 270, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3775

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3775]
type = S
movetype = A
physics = S
anim = 3401
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,6]
x = 5.7

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3780

;------  âìãóó£ã≠ÉpÉìÉ`  ------
[Statedef 3780]
type = S
movetype = A
physics = S
anim = 3780
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3732
anim = 3732
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3785

;------  ãﬂãóó£ã≠ÉLÉbÉN  ------
[Statedef 3840]
type = S
movetype = A
physics = S
anim = 3740
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 270, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 1,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-35
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3208
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3741
anim = 3741
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 270, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3845

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3845]
type = S
movetype = A
physics = S
anim = 3755
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -20, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,7]
x = 10.5

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3850

;------  ÇµÇ·Ç™Ç›ã≠ÉpÉìÉ`  ------
[Statedef 3850]
type = S
movetype = A
physics = S
anim = 3750
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 440, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 1,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-49
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3751
anim = 3751
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3855

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3855]
type = S
movetype = A
physics = S
anim = 3755
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -20, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,7]
x = 10.5

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3860

;------  ãﬂãóó£ã≠ÉpÉìÉ`  ------
[Statedef 3860]
type = S
movetype = A
physics = S
anim = 3760
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 250, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3761
anim = 3761
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3865

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3865]
type = S
movetype = A
physics = S
anim = 3755
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -20, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,7]
x = 10.5

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3870

;------  ãﬂãóó£ã≠ÉLÉbÉN  ------
[Statedef 3870]
type = S
movetype = A
physics = S
anim = 3740
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 270, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 1,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-35
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3741
anim = 3741
pos = 0,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
sprpriority = 2
persistent = 0

[State 270, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3875

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3875]
type = S
movetype = A
physics = S
anim = 3755
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,7]
x = 10.5

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3880

;------  âìãóó£ã≠ÉpÉìÉ`  ------
[Statedef 3880]
type = S
movetype = A
physics = S
anim = 3780
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 240, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 2,12
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S222,0+(random%2)
guardsound = S200,3
ground.type = high
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3732
anim = 3732
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 2
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3885

;------  ÉIÉäÉWÉiÉã[ÉuÉâÉbÉNÉAÉEÉg]  ------
[Statedef 3885]
type = S
movetype = A
physics = S
anim = 3755
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,8]
x = 13.5

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3786

[Statedef 3785]
type = S
movetype = A
physics = S
anim = 3755
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1
ignorehitpause = 1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2
ignorehitpause = 1

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700, 1
volume = 100

[State 2010, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3120, 0]
type = Width
trigger1 = 1
value =  -5, 0

[State 1100, 4]
type = Veladd
trigger1 = time = [3,7]
x = 11.5

[State 1120, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2000, 10]
type = ChangeState
trigger1 = animtime = 0
value = 3840

;------  ãﬂãóó£ã≠ÉpÉìÉ`  ------
[Statedef 3786]
type = S
movetype = A
physics = S
anim = 3760
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1
ignorehitpause = 1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2
ignorehitpause = 1

[State 250, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 40,40
sparkno = s8035
guard.sparkno = s8056
sparkxy = -10,-91
hitsound = S240,0
guardsound = S200,3
ground.type = low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
envshake.time = 20
envshake.freq = 100
envshake.ampl = 6
envshake.phase = 100
kill = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = time = 0
ID = 3762
anim = 3762
pos = 140,0
postype = p1
ownpal = 1
;removetime = 50
bindtime = 1
facing = -1
sprpriority = 2
persistent = 0

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3787

;------  ÉèÉìÉCÉìÉ`  ------
[Statedef 3787]
type = S
movetype = A
physics = S
anim = 3770
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 2301]
type = AfterImage
Trigger1 = time = 0
time = 2
PalBright = 0, 0, 0
PalContrast = 130,130,130
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 3
FrameGap = 1
TimeGap = 4
Trans = add1
ignorehitpause = 1

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2
ignorehitpause = 1

[State 250, 2]
type = PlaySnd
trigger1 = Time = 0
value = 700,0
volume = 255

[State 250, 4]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = hard
damage = 5
getpower = 0,0
givepower = 20,20
guardflag = M
pausetime = 20,40
sparkno = s8035
guard.sparkno = -1
sparkxy = -20,-61
hitsound = S240,0
guardsound = S200,3
ground.type = high
ground.slidetime = 30
ground.hittime = 60
ground.velocity = 0
guard.hittime = 30
guard.velocity = 0
p2stateno = 3207+(random%2)
envshake.time = 20
envshake.freq = 100
envshake.ampl = 6
numhits = 2
envshake.phase = 100
kill = 0

[State 1000]
type = envcolor
trigger1 = animelem = 5
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = MoveHit
ID = 3771
anim = 3771
pos = 140,0
postype = p1
ownpal = 1
removetime = 50
bindtime = 1
facing = -1
sprpriority = 2
ignorehitpause = 1
persistent = 0

[State -2, îöî≠àÍÇ¬]
type = Explod
trigger1 = time = 0
ID = 3770
anim = 3770
pos = 140,0
postype = p1
ownpal = 1
removetime = 20
bindtime = 1
facing = -1
sprpriority = 2
persistent = 0

[State 250, 5]
type = ChangeState
trigger1 = animtime = 0
value = 3788

[Statedef 3788]
type = S
movetype = A
physics = S
anim = 3800

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = time <= 30
flag = noshadow
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 17
x = 141
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
time = 1
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 6865,54
volume = 255
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = movehit
trigger1 = animelem = 4,1
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
anim = 8045+(random%2)
pos = 0,-60
random = 60,60
postype = p2  ;p2,front,back,left,right
removetime = -2
facing = -1
bindtime = -1
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State 1000]
type = hitdef
trigger1 = animelem = 4
attr = S,NA
hitflag = MAF
guardflag = MAF
animtype = hard
priority = 4, hit
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound = s6865,47
guardsound = s150,0
pausetime = 2,20
damage = 5,0
fall = 0
fall.recover = 0
p2stateno = 3208
kill = 0
air.fall = 0
air.fall.recover = 0
envshake.time = 10
envshake.ampl = 10
envshake.freq = 75
envshake.phase = 90

[State 1000]
type = hitdef
trigger1 = animelem = 5
attr = S,HA
hitflag = MAF
guardflag = MAF
animtype = hard
priority = 4,hit
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound = s6865,48
guardsound = s150,0
pausetime = 2,20
damage = 10,0
fall = 0
fall.recover = 0
p2stateno = 3208
kill = 0
air.fall = 0
air.fall.recover = 0
envshake.time = 10
envshake.ampl = 10
envshake.freq = 75
envshake.phase = 90

[State 1000]
type = hitdef
trigger1 = animelem = 6
attr = S,HA
hitflag = MAF
guardflag = MAF
animtype = hard
priority = 4,hit
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound = s6865,48
guardsound = s150,0
pausetime = 2,20
damage = 5,0
fall = 0
fall.recover = 0
p2stateno = 3208
kill = 0
air.fall = 0
air.fall.recover = 0
envshake.time = 10
envshake.ampl = 10
envshake.freq = 75
envshake.phase = 90

[State 1000]
type = hitdef
trigger1 = animelem = 7
attr = S,HA
hitflag = MAF
guardflag = MAF
animtype = hard
priority = 4,hit
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound = s6865,49
guardsound = s150,0
pausetime = 2,20
damage = 5,0
fall = 0
fall.recover = 0
p2stateno = 3208
kill = 0
air.fall = 0
air.fall.recover = 0
envshake.time = 13
envshake.ampl = 10
envshake.freq = 75
envshake.phase = 90

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3789
ctrl = 0

;-------------------------------------------------------------------------------

[Statedef 3789]
type = S
movetype = A
physics = S
anim = 3801
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 130
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nokoslow
ignorehitpause = 1
persistent = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6,40
value = 6865,50
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6,45
value = 6865,37
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 6,45
value = 6865,53
volume = 255
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 8
value = 240,240,240
ontop = 1
time = 5
ignorehitpause = 1
pausemovetime = 99999

[State 1000]
type = hitdef
trigger1 = animelem = 5
attr = S,HA
hitflag = MAF
guardflag = MAF
pausetime = 0,200
numhits = 0
damage = 0,0
hitsound = s370,0
sparkno = s7080
sparkxy = -20,-70
guard.sparkno = -1
kill = 0
ground.velocity = 0,0
p2stateno = 3218
ground.hittime = 100

[State 1000]
type = targetbind
trigger1 = animelem = 5
time = 1
pos = 65,0
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 6,45
anim = 3802
postype = p1
pos = 28,34
bindtime = -1
removetime = 63
removeongethit = 1
scale = 1.1,1.1
ownpal = 1
ignorehitpause = 1
sprpriority = 5

[State 1000]
type = explod
trigger1 = animelem = 6,45
anim = 3803
postype = p1
pos = 28,34
bindtime = -1
removetime = 63
scale = 1.1,1.1
removeongethit = 1
ownpal = 1
ignorehitpause = 1
sprpriority = 4

[State 1000]
type = explod
trigger1 = animelem = 7
anim = 3804
postype = p1
pos = 28,34
bindtime = -1
removetime = -2
removeongethit = 1
ownpal = 1
ignorehitpause = 1
sprpriority = 5


[State 1000]
type = envcolor
trigger1 = animelem = 8
time = 5
value = 240,240,240
ontop = 1
ignorehitpause = 1

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = animelem = 8
attr = S, HA
damage = 0, 20
getpower = 0
animtype = Hard
guardflag = N
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
guard.pausetime = 0, 15
sparkno = s937
guard.sparkno = 6
sparkxy = -20, -85
hitsound = s2200,2
guardsound = s150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -10,-10
air.type = High
air.velocity = -10,-10
yaccel = .55
air.hittime = 12
fall = 1
palfx.time = 95
palfx.add = 220,110,15
palfx.sinadd = 125,120,65, 10
palfx.invertall = 1
envshake.time = 20
envshake.ampl = 15
envshake.freq = 120
p2stateno = 330000

[State 1000]
type = targetlifeadd
trigger1 = enemy,stateno = 330000
value = -145
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 8
value = 6865,38
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 8
value = 6865,20
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 8
value = 6865,33
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 15
value = 6865,32
volume = 255
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall= animelem = 8,>=0 && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 1234567
stateno = 1234567
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000]
type = pause
trigger1 = time = [128,158]
time = 2
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 16
value = 6865,51
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 16
value = 6865,52
volume = -100
ignorehitpause = 1



[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 2600]
type = S
movetype = A
physics = N
anim = 2600
velset = 0,0,0
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0
ignorehitpause = 1

[State 0, Turn]
type = Turn
triggerall = p2bodydist X <= -20
trigger1 = animelem = 12
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 19    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1



[state -2]
type = BGPalFX
Trigger1 = MoveHit=1
time = 4
add = -32,-32,-32
invertall = 0
color = 256

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 74
value = -3
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = time = 74
value = 2
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 25
anim = 9026
pos = -20,67
postype = Left
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 25
anim = 9024
pos = 0,60
postype = Left
sprpriority = 6
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 25
anim = 9025
pos = 0,65
postype = Left
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999


[state -2]
type = BGPalFX
Trigger1 = MoveHit=5
time = 4
add = -64,-64,-64
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = MoveHit=9
time = 4
add = -96,-96,-96
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = MoveHit=13
time = 4
add = -128,-128,-128
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = MoveHit=17
time = 4
add = -160,-160,-160
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = MoveHit=21
time = 4
add = -192,-192,-192
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = MoveHit=25
time = 217
add = -204,-204,-204
invertall = 0
color = 256

[state -2]
type = Width
Trigger1 = MoveContact
value = 60,0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = movecontact
time = 1
pos = -60,0
ignorehitpause = 1



[State 3280, 3]
type = HitDef
trigger1 = animelem = 1
attr = S, HA
animtype  = hard
damage    = 10 ; 15
givepower = 15
;guardflag = MA
pausetime = 0,0
forcestand = 1
sparkno = -1
sparkxy = 10,-70
hitsound   = s2200,1
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 2603
p2defmul = 1
envshake.time = 20
envshake.ampl = 12
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1000]
type = playsnd
trigger1 = movehit
value = 2600,2
volume = 255
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 15
value = 2600,1
volume = 255

[State 0, Helper]
type = Helper
trigger1 = animelem = 25
helpertype = normal
name = "Lvl 4 Bling"
ID =  9051
stateno = 9051
pos = 25,-90
postype = p1
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Assert Special"
ID =  9999982
stateno = 9999982
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 1
length = 2
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,220
palpostbright = 0,0,0
paladd = 10,10,25
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = "add" ;"none","add1","sub"
ignorehitpause = 1



[State 1000]
type = explod
trigger1 = movehit = 1
anim = 26006
bindtime = -1
removetime = -2
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
postype = p2
pos = -30,-70
ignorehitpause = 1
facing = -1
sprpriority = 5
keyctrl = 0
persistent = 0

[State 1000]
type = explod
trigger1 = movehit = 1
anim = 26005
bindtime = 1
removetime = -2
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
postype = p2
pos = 0,-60
ignorehitpause = 1
keyctrl = 0
persistent = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 25
time = 59
anim = -1
movetime = 59
darken = 0
poweradd = -2000
unhittable = 1
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 1
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 2601
ignorehitpause = 1
ctrl = 1

[Statedef 2601]
type = S
movetype = A
physics = N
anim = 2601
ctrl = 0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent =1

[state 1000]
type = turn
trigger1 = p2bodydist x <= -30
value = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 134, <= 0
x = .8
y = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Assert Special"
ID =  999998
stateno = 999998
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
triggerall = prevstateno = 25055
trigger1 = animelem = 337,20
time = 2
add = 255,255,255
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, AfterImage]
type = AfterImage
triggerall = prevstateno = 25055
trigger1 = animelem = 337,20
time = 1
length = 2
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,220
palpostbright = 0,0,0
paladd = 10,10,25
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = "add" ;"none","add1","sub"
ignorehitpause = 1

[State 0, Helper]
type = explod
trigger1 = animelem = 253
trigger2 = animelem = 258
trigger3 = animelem = 262
trigger4 = animelem = 268
trigger5 = animelem = 274
trigger6 = animelem = 279
trigger7 = animelem = 285
trigger8 = animelem = 290
trigger9 = animelem = 295
trigger10 = animelem = 302
trigger11 = animelem = 307
trigger12 = animelem = 313
anim = 1030
ID = 1030
pos = 0-(random%40),-80+(random%40)
postype = p2    ;p2,front,back,left,right
vfacing = ifelse(random < 500,1,-1)
scale = .5,.5
removetime = -2
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 278
helpertype = normal
name = "flame"
ID = 1540
stateno = 1540
unhittable = 1
pos = 0,-75
postype = p1
size.xscale = .8
size.yscale = .8    ;p2,front,back,left,right
facing = 1
ownpal = 1
ignorehitpause = 1


[State 3280 , 5]
type = Explod
triggerall = prevstateno = 25055
triggerall = animelem = 337,>= 20 && animelem = 338,<= 0
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-.3
ownpal = 1
ignorehitpause = 1
scale = .25,.25

[State 3280 , 6]
type = Explod
triggerall = prevstateno = 25055
triggerall = Random < 699
trigger1 = animelem = 337,>= 20 && animelem = 338,<= 0
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-.3
ownpal = 1
ignorehitpause = 1
scale = .25,.25

[State 3280 , 7]
type = Explod
triggerall = prevstateno = 25055
triggerall = Random < 549
trigger1 = animelem = 337,>= 20 && animelem = 338,<= 0
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-.3
ownpal = 1
ignorehitpause = 1
scale = .25,.25

[State 3280 , 5]
type = Explod
triggerall = prevstateno = 25055
triggerall = animelem = 253,>= 0 && animelem = 314,<= 0
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
sprpriority = 5
postype = p1
pos = 40,-20
random = 130,60
bindtime = 1
vel = 0,-2
ownpal = 1
ignorehitpause = 1
scale = .6,.6

[State 3280 , 6]
type = Explod
triggerall = prevstateno = 25055
triggerall = Random < 599
trigger1 = animelem = 260,>= 0 && animelem = 314,<= 0
anim = 2200
ID = 2200
sprpriority = 5
postype = p1
pos = 40,-20
random = 130,60
bindtime = 1
vel = 0,-2
ownpal = 1
ignorehitpause = 1
scale = .6,.6

[state 1000]
type = playsnd
triggerall = prevstateno = 25055
trigger1 = animelem = 337,20
value = 6866,5
volume = 255
ignorehitpause = 1

[state 1000]
type = playsnd
triggerall = prevstateno = 25055
trigger1 = animelem = 337,20
value = 221,67
volume = 255
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = prevstateno = 25055
triggerall = Random < 599
trigger1 = animelem = 337,>= 20 && animelem = 338,<= 0
anim = 2211
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = -6,-90
random = 12,5
bindtime = 1
vel = 0,-.5
ignorehitpause = 1
scale = .25,.25

[State 3280 , 5]
type = Explod
triggerall = prevstateno = 25055
triggerall = animelem = 338,>= 5 && animelem = 343,<= 0
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p2
pos = 0,-60
random = 80,100
bindtime = 1
vel = 0,-1
ignorehitpause = 1


[State 3280, 8]
type = Explod
triggerall = prevstateno = 25055
triggerall = Random < 299
trigger1 = animelem = 338,>= 5 && animelem = 343,<= 0
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p2
pos = 0,-60
random = 80,100
bindtime = 1
vel = 0,-1
ignorehitpause = 1

[State 0, PosAdd]
type = velset
triggerall = anim = 2601
trigger1 = animelem = 158
x = 1
y = 0
ignorehitpause = 1

[State 0, PosAdd]
type = velset
triggerall = anim = 2601
trigger1 = animelem = 318
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = changeanim
triggerall = prevstateno = 25055
trigger1 = time = 0
elem = 137
value = 2601

[state 1000]
type = changestate
trigger1 = animelem = 136
value = 25055
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = prevstateno != 25055
trigger1 = !time
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 134, <= 0
time = 1
pos = 50,0
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 142, >= 0 && animelem = 336, <= 0
time = 1
pos = 50,0
ignorehitpause = 1


[State 0, Helper]
type = Helper
triggerall = prevstateno != 25055
trigger1 = time = 0
helpertype = normal ;player
name = "Lvl 4 Portrait"
ID = 6133
stateno = 6134
pos = 0,-110
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 3280, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -25,-92
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
p2defmul = 1
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -40,-80
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 13
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -15,-25
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 18
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -50,-100
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 24
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -6,-98
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 29
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -50,-40
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 34
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -5,-30
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 41
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -23,-82
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 47
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -50,-109
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 52
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -17,-85
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 59
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -12,-105
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 63
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -31,-65
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 67
trigger2 = animelem = 70
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8035
sparkxy = -25,-92
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 73
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -40,-80
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 79
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -15,-25
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 3280, 1]
type = HitDef
trigger1 = animelem = 84
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -50,-100
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 4
envshake.ampl = 3

[State 1000]
type = playsnd
triggerall = animelem = 73,>= 0 && animelem = 129, <= 0
trigger1 = timemod = 10,0
value = 6865,26
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = animelem = 157,>= 0 && animelem = 232, <= 0
trigger1 = timemod = 9,0
value = 6865,26
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = animelem = 232,>= 0 && animelem = 314, <= 0
trigger1 = timemod = 7,0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 3280, 1]
type = HitDef
trigger1 = animelem = 90
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -6,-98
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
envshake.time = 4
envshake.ampl = 3
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 1]
type = HitDef
trigger1 = animelem = 95
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -50,-40
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 4
envshake.ampl = 3
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 1]
type = HitDef
trigger1 = animelem = 100
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -5,-30
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 4
envshake.ampl = 3
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 1]
type = HitDef
trigger1 = animelem = 107
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -23,-82
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
envshake.time = 4
envshake.ampl = 3
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 1]
type = HitDef
trigger1 = animelem = 113
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -50,-109
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
envshake.time = 4
envshake.ampl = 3
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 1]
type = HitDef
trigger1 = animelem = 118
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -17,-85
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
envshake.time = 4
envshake.ampl = 3
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 1]
type = HitDef
trigger1 = animelem = 125
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -12,-105
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
envshake.time = 4
envshake.ampl = 3
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 1]
type = HitDef
trigger1 = animelem = 129
attr = S, HA
forcestand = 1
animtype  = hard
damage = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,2
sparkno = s8025
sparkxy = -31,-65
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
envshake.time = 4
envshake.ampl = 3
palfx.invertall = 1
palfx.color = 250
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)

[State 3280, 2]
type = HitDef
trigger1 = animelem = 134
attr = S, HA
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 3,10
forcestand = 1
sparkno = s8035
sparkxy = -14,-81
hitsound   = s280,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
envshake.time = 15
envshake.ampl = 15
kill = 0
p2stateno = 2606

[State 3280, 2]
type = HitDef
trigger1 = animelem = 142
attr = S, HA
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,10
forcestand = 1
sparkno = s8035
sparkxy = -25,-100
hitsound   = s280,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
envshake.time = 15
envshake.ampl = 15
kill = 0
p2stateno = 2608
p2facing = 1

[State 3280, 2]
type = HitDef
trigger1 = animelem = 154
attr = S, HA
animtype  = hard
damage    = 5 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 8,10
forcestand = 1
sparkno = s8035
sparkxy = -26,-79
hitsound   = s280,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
envshake.time = 15
envshake.ampl = 15
kill = 0
p2stateno = 2606

[State 1000]
type = explod
trigger1 = animelem = 134
anim = 3247
bindtime = 4
removetime = -2
postype = p1
pos = 54,-81
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 142
anim = 3247
bindtime = 4
removetime = -2
postype = p1
pos = 65,-100
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1


[State 1000]
type = explod
trigger1 = animelem = 154
anim = 3247
bindtime = 4
removetime = -2
postype = p1
pos = 66,-79
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 134
trigger2 = animelem = 142
trigger3 = animelem = 154
value = 270,0
volume = 255
priority = 5
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 155
helpertype = normal ;player
name = "Explosion"
ID = 26015
stateno = 26015
pos = 50,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = .6
size.yscale = .6
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 155
time = 4
ontop = 1
value = 240,240,240
ignorehitpause = 1


[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 156
time = 364
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,20
invertall = 0
color = 250
ignorehitpause = 1

[State 4900, 6]
type = AfterImage
trigger1 = animelem = 156
time = 284
paladd = 50,10,-50
palbright = 40,-50,-100
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add
sprpriority = -2



[State 3280, 3]
type = HitDef
trigger1 = animelem = 159
trigger2 = animelem = 166
trigger3 = animelem = 170
trigger4 = animelem = 175
trigger5 = animelem = 177
trigger6 = animelem = 180
trigger7 = animelem = 185
trigger8 = animelem = 189
trigger9 = animelem = 195
trigger10 = animelem = 197
trigger11 = animelem = 202
trigger12 = animelem = 207
trigger13 = animelem = 213
trigger14 = animelem = 219
trigger15 = animelem = 225
trigger16 = animelem = 232
trigger17 = animelem = 239
trigger18 = animelem = 245
attr = S, HA
animtype  = hard
damage = 3 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 3,0
forcestand = 1
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = s222,0+(random%2)
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 3
envshake.ampl = 3

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 80
v = 3    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 134
v = 3    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 158
v = 3    ;fv = 10
value = 1
ignorehitpause = 1


[State 3280, 3]
type = HitDef
trigger1 = animelem = 253
trigger2 = animelem = 258
trigger3 = animelem = 262
trigger4 = animelem = 268
trigger5 = animelem = 274
trigger6 = animelem = 279
trigger7 = animelem = 285
trigger8 = animelem = 290
trigger9 = animelem = 295
trigger10 = animelem = 302
trigger11 = animelem = 307
trigger12 = animelem = 313
attr = S, HA
animtype  = hard
damage = 3 ; 15
getpower = 0,12
;guardflag = MA
pausetime = 3,0
forcestand = 1
sparkno = s8025
sparkxy = -40+(random%60),-80+(random%50)
hitsound   = s2200,6
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 16
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 3207+(random%2)
envshake.time = 3
envshake.ampl = 4

[State 3280, 2]
type = HitDef
trigger1 = animelem = 321
attr = S, HA
animtype  = hard
damage    = 10 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,10
forcestand = 1
sparkno = s8025
sparkxy = -45,-67
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
envshake.time = 20
envshake.ampl = 15
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3371

[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelem = 138, >= 0 && animelem = 142, <= 0
value = 0
ignorehitpause = 1

[State 3280, 2]
type = HitDef
trigger1 = animelem = 330
attr = S, HA
animtype  = hard
damage    = 10 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,10
forcestand = 1
sparkno = s8025
sparkxy = -20,-101
hitsound   = s240,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
envshake.time = 20
envshake.ampl = 15
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 3370

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 321
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p2
pos = -25,-67

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 330
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p2
pos = -0,-101

[State 1000]
type = playsnd
trigger1 = animelem = 321
trigger2 = animelem = 330
value = 2200,6
volume = 255
priority = 5
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 321
trigger2 = animelem = 330
value = 2200,1
volume = -100
priority = 5
ignorehitpause = 1

[State 1710]
type = HitDef
Trigger1 = animelem = 337
attr = S, SA
givepower = 40
hitflag = MAF
priority = 5,hit
hitsound   = s370,0
sparkno = -1
sparkxy = -20,-90
numhits = 0
p2facing = 1
p2stateno = 3218
guard.dist = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 338
attr = S,NA
hitflag = MAF
guardflag = MA
affectteam = E
animtype = hard
air.animtype = up
priority = 4,Hit
damage = 10,0
pausetime = 4 ,0
guard.pausetime = 0,20
sparkno = S8025
ground.velocity = -3,-11
air.velocity = -3,-11
guard.sparkno = s8056
fall = 0
fall.recover = 0
air.fall = 0
air.fall.recover = 0
sparkxy = -25,-60
hitsound = S6865,33
guardsound = S150,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
sprpriority = 1
envshake.time = 20
envshake.ampl = 15
palfx.time = 60
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 32575
kill = 0

[State 1000]
type = playsnd
trigger1 = animelem = 338
value = 2200,0
volume = 255
priority = 5
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 338
value = 2200,2
volume = 255
priority = 5
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 338
value = 2200,4
volume = 255
priority = 5
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = animelem = 339,>= 0 && animelem = 343,<= 0
trigger1 = timemod = 3,0
time = 2
movetime = 1
pausebg = 1
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelem = 347,>= 0
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 347
value = 1700,4
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 347
value = 2550,2
volume = 255
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 347, >= 0 && animelem = 366,<= 0
x = p2bodydist X / 13
y = 0
ignorehitpause = 1

[State 1000]
type = sprpriority
trigger1 = animelem = 334, >= 0 && animelem = 338, <= 0
value = -3
ignorehitpause = 1

[State 1000]
type = sprpriority
trigger1 = animelem = 338, >= 0
value = 2
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 321
trigger2 = animelem = 330
trigger3 = animelem = 338
trigger4 = animelem = 367
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 3280, 2]
type = HitDef
trigger1 = animelem = 367
attr = S, HA
animtype  = hard
damage    = 10 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 22,10
forcestand = 1
sparkno = s8035
sparkxy = -26,-79
hitsound   = s280,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
envshake.time = 22
envshake.ampl = 12
kill = 0
p2stateno = 2606

[State 1000]
type = explod
trigger1 = animelem = 367
anim = 3247
bindtime = 4
removetime = -2
postype = p2
pos = -26,-79
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 367
value = 270,0
volume = 255
priority = 5
ignorehitpause = 1

[State 1000]
type = helper
triggerall = movehit
trigger1 = animelem = 338
id = 936
stateno = 936
name = "Burst"
postype = p2
pos = -15,-30
supermovetime = 99999
unhittable = 1
ignorehitpause = 1
facing = -1
keyctrl = 0
ownpal = 1
persistent = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = 80,0
ignorehitpause = 1
persistent = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 2602
ignorehitpause = 1

[Statedef 2602]
type = S
movetype = A
physics = N
anim = 2602
ctrl = 0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = enemy,alive = 0
flag = nokosnd
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,71
volume = -100
ignorehitpause = 1


[State 1000]
type = envcolor
trigger1 = time = 0
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = posset
triggerall = facing = -1
trigger1 = time = 0
x = 60
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 1000]
type = posset
triggerall = facing = 1
trigger1 = time = 0
x = -60
y = 0
ignorehitpause = 1

[State 1000]
type = hitadd
trigger1 = time = 130
value = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall= time = 130 && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Assert Special"
ID =  999999
stateno = 999999
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 5
value = 6865,14
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,2
volume = 255
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1,>= 0 && animelem = 6,<= 0
x = -3
y = 0
ignorehitpause = 1

[State 3000]
type = Projectile
trigger1 = time = 62
projanim = 31575
projscale = .7,.7
velocity = 2,0
postype = p1
offset = -40,40
afterimage.time = 27
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = 36
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000]
type = Projectile
trigger1 = time = 62
projanim = 17005
projscale = 1.5,1
postype = p1
offset = -80,0
afterimage.time = 27
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = 53
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 91
time = 29
add = 40,-70,-200
mul = 256,256,256
sinadd = 40,30,0,1
invertall = 0
color = 255
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = time = 91
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = time = 91
anim = 26008
id = 26008
postype = p2
pos = 0,-50
bindtime = 1
removetime = -2
ownpal = 0
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
sprpriority = 5

[State 1000]
type = envshake
trigger1 = time = 91
time = 15
ampl = 15
freq = 75
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 91
value = 2600,4
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 91
value = 6865,38
volume = -100

[State 1000]
type = playsnd
trigger1 = time = 62
value = 3000,4
volume = -200
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 62
value = 3000,5
volume = -200
ignorehitpause = 1


[State 0, Helper]
type = Helper
trigger1 = time = 130
helpertype = normal ;player
name = "Final Explosion"
ID = 26015
stateno = 26025
pos = 0,0
postype = p2   ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = .7
size.yscale = .7
ownpal = 1
supermovetime = 99999
ignorehitpause = 1



[State 1000]
type = targetbind
trigger1 = time = 0
time = 1
pos = 40,0
ignorehitpause = 1
persistent = 0

[State 0, ]
type = Helper
trigger1 = animelem = 6
helpertype = normal
name = "AfterImage"
ID = 1250
stateno = 1250
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000]
type = pause
trigger1 = time = 38
time = 54
movetime = 54
ignorehitpause = 1


[State 1000]
type = targetstate
trigger1 = time  = 0
value = 2610
ignorehitpause = 1

[State 1000]
type = targetstate
triggerall = enemy,Name != "True K'"|| enemy,Name != "BLOO" || enemy,Name != "K'"
trigger1 = time  = 91
value = 2611
ignorehitpause = 1

[State 1000]
type = targetstate
triggerall = enemy,Name = "True K'" || enemy,Name = "BLOO" || enemy,Name = "K'"
trigger1 = time  = 91
value = 2612
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = time = 130
value = 3110
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = time = 130
value = -80
absolute = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = posadd
trigger1 = time = 130
x = 200
y = 0
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = animelem = 9, >= 0 && animelem = 10, <= 5
x = 2
y = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 18
value = 6865,27
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 18
value = 6865,27
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 21
value = 2600,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 21
value = 2600,0
volume = 255
ignorehitpause = 1


[State 1000]
type = changeanim
triggerall = enemy,alive = 0
trigger1 = animelem = 10,65
elem = 11
value = 2602

[State 1000]
type = changestate
triggerall = enemy,alive = 0
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = enemy,alive = 1
trigger1 = animelem = 15
value = 0
ctrl = 1




[Statedef 26015]
type = S
movetype = A
physics = N
anim = 26007
velset = 0,0
ctrl = 0
sprpriority = 15


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 0, VelSet]
type = VelSet
trigger1 = time >= 51
x = 0
y = -.5
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 60
ampl = 10
ignorehitpause = 1

[State 1000]
type = pause
trigger1 = time > 5
trigger1 = time < 9
time = 6
ignorehitpause = 1

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 66
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,171
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,171
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,1
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,10
volume = -50
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 5
value = 221,61
volume = 255
ignorehitpause = 1



[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0


[Statedef 2603]
type    = S
movetype= H
physics = N

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2603

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[state 1000]
type = posset
trigger1 = time = 0
y = 0
x = 10
ignorehitpause = 1

[State 3010, 12]
type = changestate
triggerall = time >= 60
trigger1 = animelem = 7
value = 2604

[Statedef 2604]
type    = S
movetype= H
physics = N

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2604

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = changestate
trigger1 = time = 14
value = 2605

[Statedef 2605]
type    = S
movetype= H
physics = N
anim = 5300

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = selfstate
trigger1 = time >= 250
value = 5050

[Statedef 2606]
type    = S
movetype= H
physics = N
velset = 0,0,0
ctrl = 0
poweradd = 0
sprpriority = 1


[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 0, Width]
type = Width
trigger1 = time >= 0
edge = 80,0
ignorehitpause = 1
persistent = 1

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2603

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = changestate
triggerall = time >= 50
trigger1 = animelem = 7
value = 2607

[Statedef 2607]
type    = S
movetype= H
physics = N

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2604

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = selfstate
trigger1 = time = 150
value = 5050

[Statedef 2608]
type    = S
movetype= H
physics = N
facing = 1

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2605

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =uu

[State 3010, 12]
type = changestate
triggerall = time >= 60
trigger1 = animelem = 7
value = 2609

[Statedef 2609]
type    = S
movetype= H
physics = N

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2606

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = selfstate
trigger1 = time = 150
value = 5050

[Statedef 2610]
type    = S
movetype= H
physics = N

[State 825, Anim2]
type = ChangeAnim2
triggerall = Time <= 0
triggerall = enemy,stateno != 3602
trigger1 = !SelfAnimExist(5950)
trigger1 = Anim != 2607
value = 2607

[State 825, Anim2]
type = ChangeAnim2
triggerall = Time <= 0
triggerall = enemy,stateno = 3602
trigger1 = !SelfAnimExist(5950)
trigger1 = selfanimexist(5300)
trigger1 = Anim != 5300
value = 5300

[State 825, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = SelfAnimExist(5950)
trigger1 = Anim != 5950
value = 5950

[State 825, Anim]
type = ChangeAnim
triggerall = time >= 0
trigger1 = anim = 5950
trigger1 = animelem = 5,>= 0
elem = 5
value = 5950

[State 825, Turn]
type = Turn
triggerall = !SelfAnimExist(5111)
triggerall = !SelfAnimExist(5112)
trigger1 = Anim = 2607
trigger1 = AnimElem = 9
trigger2 = Anim = 5950
trigger2 = AnimElem = 9, > 5
trigger3 = Anim = 5950
trigger3 = AnimTime = 0

[State 825, Anim]
type = ChangeAnim
triggerall = !SelfAnimExist(5111)
triggerall = !SelfAnimExist(5112)
trigger1 = Anim = 2607
trigger1 = AnimElem = 9
trigger2 = Anim = 5950
trigger2 = AnimElem = 9, >= 5
trigger3 = Anim = 5950
trigger3 = AnimTime = 0
value = 5110

[State 825, Anim]
type = ChangeAnim
triggerall = SelfAnimExist(5111)
triggerall = !SelfAnimExist(5112)
trigger1 = Anim = 2607
trigger1 = AnimElem = 9
trigger2 = Anim = 5950
trigger2 = AnimElem = 9, >= 5
trigger3 = Anim = 5950
trigger3 = AnimTime = 0
value = 5111

[State 825, Anim]
type = ChangeAnim
triggerall = !SelfAnimExist(5111)
triggerall = SelfAnimExist(5112)
trigger1 = Anim = 2607
trigger1 = AnimElem = 9
trigger2 = Anim = 5950
trigger2 = AnimElem = 9, >= 5
trigger3 = Anim = 5950
trigger3 = AnimTime = 0
value = 5112

[State 825, Anim]
type = ChangeAnim
triggerall = SelfAnimExist(5111)
triggerall = SelfAnimExist(5112)
trigger1 = Anim = 825
trigger1 = AnimElem = 9
trigger2 = Anim = 5950
trigger2 = AnimElem = 9, >= 5
trigger3 = Anim = 5950
trigger3 = AnimTime = 0
value = 5112

[State 825, State]
type = SelfState
trigger1 = Anim = 5110 || Anim = 5111 || Anim = 5112
value = 5110

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1

[Statedef 2611]
type    = S
movetype= H
physics = N

[State 3512]
type = ChangeAnim2
triggerall = time <= 0
trigger1 = anim != 2608
value = 2608

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = -1.5
y = 0
ignorehitpause = 1
;persistent =

[State 0, PosAdd]
type = velAdd
trigger1 = 1
x = .035
y = 0
ignorehitpause = 1
;persistent =


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = selfstate
trigger1 = time = 150
value = 5050

[Statedef 2612]
type    = S
movetype= H
physics = N

[State 3512]
type = ChangeAnim2
triggerall = time <= 0
trigger1 = selfanimexist(5900)
trigger1 = anim != 5900
value = 5900

[State 1000]
type = changeanim2
triggerall = time <= 0
trigger1 = !selfanimexist(5900)
trigger1 = anim != 2608
value = 2608

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = -1.5
y = 0
ignorehitpause = 1
;persistent =

[State 0, PosAdd]
type = velAdd
trigger1 = 1
x = .035
y = 0
ignorehitpause = 1
;persistent =


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = selfstate
trigger1 = time = 150
value = 5050

[Statedef 26025]
type = S
movetype = A
physics = N
anim = 938
velset = 0,0
ctrl = 0
sprpriority = 6


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 197
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 3280 , 5]
type = Explod
triggerall = time <= 110
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = 0,20
random = 240,10
bindtime = 1
vel = 0,-2
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = Random < 699
trigger1 = time <= 120
anim = 2201
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = 0,20
random = 240,10
bindtime = 1
vel = 0,-2
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = Random < 549
trigger1 = time <= 100
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = 0,20
random = 240,10
bindtime = 1
vel = 0,-1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Erupt"
ID = 26026
stateno = 26026
pos = -5,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 35
trigger2 = time = 45
helpertype = normal ;player
name = "burst"
ID = 26026
stateno = 936
pos = 30+(random%30),-20+(random%60)
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 8
ignorehitpause = 1
size.xscale = .6
size.yscale = .6

[State 0, Helper]
type = Helper
trigger1 = time = 45
helpertype = normal ;player
name = "burst"
ID = 26026
stateno = 936
pos = -30+(random%60),-20+(random%60)
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 8
ignorehitpause = 1
size.xscale = .6
size.yscale = .6

[State 0, Helper]
type = Helper
trigger1 = time = 20
trigger2 = time = 51
helpertype = normal ;player
name = "burst"
ID = 26026
stateno = 936
pos = -60+(random%30),-20+(random%60)
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 8
ignorehitpause = 1
size.xscale = .6
size.yscale = .6

[state 1000]
type = playsnd
trigger1 = time = 20
trigger2 = time = 35
trigger3 = time = 45
trigger4 = time = 51
value = 2200,7
volume = 255
ignorehitpause = 1


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = time > 5
triggerall = time < 70
trigger1 = timemod = 2,0
time = 5
movetime = 1
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = time = 0
value = 2600,5
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,11
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 5
value = 2200,12
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 1
value = 2600,3
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 1
value = 6867,2
volume = 255
channel = 2
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = enemy,alive = 0
trigger1 = time = 1
value = 6867,2
volume = 255
channel = 1
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 40
value = 6865,32
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 20
value = 6865,32
volume = -100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 50
value = 6865,65
volume = 255
ignorehitpause = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 1000]
type = stopsnd
triggerall = enemy,alive = 1
trigger1 = time = 166
channel = 2
ignorehitpause = 1

[state 1000]
type = stopsnd
triggerall = enemy,alive = 0
trigger1 = animtime = 0
channel = 2
ignorehitpause = 1

[state 1000]
type = stopsnd
triggerall = enemy,alive = 0
trigger1 = time = 180
channel = 1
ignorehitpause = 1

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 26026]
type = S
movetype = A
physics = N
anim = 888
velset = 0,0
ctrl = 0
sprpriority = 7

[state 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 66
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 2700]
type = S
movetype = A
physics = N
anim = 3290
velset = 0,0,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 19    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "Assert Special"
ID =  9999982
stateno = 9999982
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1



[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 600,2
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 221,8
volume = 255

[State 1000]
type = targetstate
trigger1 = animelem = 7
value = 27000
ignorehitpause = 1

[State 1000]
type = hitadd
trigger1 = animelem = 7
value = 1
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = animelem = 7
value = -10
ignorehitpause = 1
kill = 0

[State 1014]
type = playsnd
trigger1 = animelem = 7
value = 2100,0
volume = 255
ignorehitpause = 1
persistent = 0

[State 1015]
type = playsnd
trigger1 = animelem = 7
value = 2200,1
volume = 255
ignorehitpause = 1
persistent = 0

[State 1000]
type = envshake
trigger1 = animelem = 7
time = 20
ampl = 12
ignorehitpause = 1

[State 1016]
type = envcolor
trigger1 = animelem = 7
ontop = 1
value = 240,240,240
ignorehitpause = 1
time = 3
persistent = 0


[State 1017]
type = helper
trigger1 = animelem = 7
name = "erupt"
stateno = 14603
helpertype = normal
postype = p1
pos = 70,0
bindtime = 1
size.xscale = .3
size.yscale = .3
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1018]
type = helper
trigger1 = animelem = 7
name = "erupt2"
stateno = 14703
helpertype = normal
postype = p1
size.xscale = .6
size.yscale = .6
pos = 60,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = targetbind
trigger1 = animelem = 20
pos = 30,-134
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = animelem = 20
value = 27001
ignorehitpause = 1

[State 1000]
type = hitadd
trigger1 = animelem = 20
value = 1
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = animelem = 20
value = -10
ignorehitpause = 1
kill = 0

[State 1000]
type = envshake
trigger1 = animelem = 20
time = 26
ampl = 14
ignorehitpause = 1

[State 1016]
type = envcolor
trigger1 = animelem = 20
ontop = 1
value = 240,240,240
ignorehitpause = 1
time = 3
persistent = 0

[state 1000]
type = playsnd
trigger1 = animelem = 20
value = 270,0
volume = 255

[state 1000]
type = playsnd
trigger1 = animelem = 20
value = 280,0
volume = 255

[State 1000]
type = explod
trigger1 = animelem = 20
anim = 3247
bindtime = 4
removetime = -2
postype = p1
pos = 30,-130
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 20
anim = 8035
bindtime = 4
removetime = -2
postype = p1
pos = 30,-130
sprpriority = 5
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[state -2]
type = BGPalFX
Trigger1 = animelem = 7
time = 4
add = -32,-32,-32
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 8,2
time = 4
add = -64,-64,-64
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 8,6
time = 4
add = -96,-96,-96
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 8,10
time = 4
add = -128,-128,-128
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 8,14
time = 4
add = -160,-160,-160
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 8,18
time = 4
add = -192,-192,-192
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 8,22
time = 280
add = -204,-204,-204
invertall = 0
color = 256

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = enemy,stateno = 3314
x = 0
y = -60
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 2701

[Statedef 2701]
type = S
movetype = A
physics = N
anim = 3291

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = posset
trigger1 = time = 0
x = 0
y = 0
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
pos = 0,(enemy,pos y)
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Assert Special"
ID =  999998
stateno = 999998
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = superpause
trigger1 = animelem = 4
anim = -1
darken = 0
time = 63
movetime = 63
ignorehitpause = 1
poweradd = -2000

[State 1000]
type = explod
trigger1 = animelem = 4
anim = 9026
pos = -20,67
postype = Left
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 4
anim = 9024
pos = 0,60
postype = Left
sprpriority = 6
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 4
anim = 9025
pos = 0,65
postype = Left
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Lvl 4 Bling"
ID =  9051
stateno = 9051
pos = -4,-122
postype = p1
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4,63
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4,63
helpertype = normal ;player
name = "Lvl 4 Portrait"
ID = 6133
stateno = 6134
pos = 0,-110
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
bindtime = -1
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4
value = 2700,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4
value = 2700,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4,63
value = 6865,70
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4,63
value = 6865,70
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4,72
value = 6867,1
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 4,85
value = 2200,15
volume = 255
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4,63
anim = 14500
ID = 14500
pos = -5,10
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -1
pausemovetime = 99999
supermovetime = 99999
scale = 1.5,.6
sprpriority = 7
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 14501
ID = 14501
pos = -5,20
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1.5,.9
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 13,18
anim = 32916
ID = 32916
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = .8,.5
sprpriority = 8
ownpal = 1
removeongethit = 1

[State 1000]
type = playsnd
trigger1 = animelem = 13,10
value = 2200,171
volume = 255
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 32914
ID = 32914
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = 50
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = 7
ownpal = 0
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 13,36
helpertype = normal ;player
name = "Ultimate Heatdrive"
ID = 27015
stateno = 27015
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = .8
size.yscale = .8
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 13,21
projanim = 32915
postype = p1
supermovetime = 99999
bindtime = 1
offset = 1,10
projscale = 1.1,.5
afterimage.time = 57
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 2
projremovetime = 33
ownpal = 1

[State 1000]
type = targetstate
trigger1 = animelem = 12
value = 31526
ignorehitpause = 1

[State 1000]
type = removeexplod
trigger1 = animelem = 12
id = 14500
ignorehitpause = 1


[State 3000]
type = Projectile
trigger1 = AnimElem = 12
projanim = 3614
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 0,10
projscale = 1.2,1.5
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 3
projremovetime = 27
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 13,2
projanim = 3613
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 0,10
projscale = 1.2,1.5
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 9
projremovetime = 26
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 12
projanim = 36150
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 2,10
projscale = 1.6,1.2
afterimage.time = 68
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 46
ownpal = 1

[State 1000]
type = envshake
trigger1 = animelem = 12
time = 15
ampl = 12
freq = 75
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 2700,1
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 2200,20
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 12
value = 2700,2
volume = 255
ignorehitpause = 1


[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 4,64
time = 5
add = 255,255,255
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 4,67
time = 624
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,20
invertall = 0
color = 250
ignorehitpause = 1

[State 1000]
type = explod
triggerall = animelem = 4,>= 63 && animelem = 4,<= 151
trigger1 = timemod = 7,0
anim = 32910
bindtime = 1
removetime = 22
supermovetime = 99999
pausemovetime = 99999
postype = p1
pos = 5,0
ownpal = 1
sprpriority = 5
scale = .5,.5

[State 3280, 1]
type = HitDef
triggerall = time >= 259
trigger1 = timemod = 5,0
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 2 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,12
sparkno = s2200
sparkxy = 40-(random%80),-92+(random%92)
hitsound   = -1
guardsound = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 0
kill = 0
p2stateno = 33924
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250


[State 1000]
type = explod
trigger1 = time = 159
anim = 32910
bindtime = -1
removetime = -2
id = 32911
supermovetime = 99999
pausemovetime = 99999
postype = p1
pos = 5,0
ownpal = 1
sprpriority = 5
scale = .5,.5

[State 1000]
type = explod
trigger1 = animelem = 8
anim = 32911
bindtime = -1
removetime = -2
id = 32911
supermovetime = 99999
pausemovetime = 99999
postype = p1
pos = 2,5
ownpal = 1
sprpriority = 5
scale = .5,.5

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 5
ID = 32911
pos = -7,5
postype = p1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 7
ID = 32911
pos = -45,30
postype = p1  ;p2,front,back,left,right

[State 0, Explod]
type = Explod
trigger1 = time = 279
anim = 890
ID = 890
pos = 15,13
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -1
facing = -1
pausemovetime = 99999
supermovetime = 99999
scale = 1.3,1.6
sprpriority = 20
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 279
anim = 890
ID = 891
pos = -15,13
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -1
pausemovetime = 99999
supermovetime = 99999
scale = 1.3,1.6
sprpriority = 20
ownpal = 1
removeongethit = 1

[State 1000]
type = targetstate
trigger1 = time = 259
value = 27017
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = time = 439
value = 27018
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = Random < 449
trigger1 = time >= 259 && time <= 439
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 7
postype = p2
pos = -10,15
random = 100,10
bindtime = 1
vel = 0,-2
scale = .7,.7
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = Random < 689
trigger1 = time >= 439
anim = 2200+(random%2)
ID = 2200
ownpal = 0
sprpriority = 7
postype = p2
pos = -10,15
random = 100,10
bindtime = 1
vel = 0,-4
scale = .9,.9
ignorehitpause = 1

[State 1000]
type = targetlifeadd
triggerall = time >= 259
trigger1 = timemod = 5,0
value = -2
ignorehitpause = 1
kill = 0


[State 1000]
type = hitadd
triggerall = time >= 259
trigger1 = timemod = 5,0
value = 1
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = time = 629
value = 2702
ignorehitpause = 1

[Statedef 2702]
type = S
movetype = A
physics = N
anim = 3292
velset = 0,0,0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = time = 0
channel = 2
value = 6867,1
volume = -100
ignorehitpause = 1

[state 1000]
type = stopsnd
trigger1 = animelem = 29,40
channel = 2
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 29,30
value = 6865,65
volume = 100
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = time = 0
value = 4110
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Flames"
ID = 27019
stateno = 27019
pos = 0,15
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = 1.4
size.yscale = .6
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
sprpriority = 7
ontop = 1

[State 3280, 1]
type = HitDef
trigger1 = time = 0
attr = S, HA
forcestand = 1
animtype  = hard
damage    = 100 ; 10
getpower = 0,12
;guardflag = MA
pausetime = 0,12
sparkno = s937
sparkxy = 40-(random%80),-92+(random%92)
hitsound   = -1
guardsound = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 16
p2facing = 1
ground.hittime  = 16
ground.velocity = 1,-35
air.velocity = 1,-35
kill = 0
p2stateno = 4410
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal ;player
name = "Flames"
ID = 27019
stateno = 27019
pos = 0,15
postype = p1   ;p2,front,back,left,right
facing = -1
keyctrl = 0
size.xscale = 1.4
size.yscale = .6
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
sprpriority = 7
ontop = 1

[State 0, Helper]
type = Helper
trigger1 = time = 12
helpertype = normal ;player
name = "Flames"
ID = 27019
stateno = 270195
pos = -35,-5
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = 1.1
size.yscale = .5
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
sprpriority = -3
under = 1

[State 0, Helper]
type = Helper
trigger1 = time = 18
helpertype = normal ;player
name = "Flames"
ID = 27019
stateno = 270195
pos = 35,-5
postype = p1   ;p2,front,back,left,right
facing = -1
keyctrl = 0
size.xscale = 1.1
size.yscale = .5
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
sprpriority = -3
under = 1

[State 3280 , 5]
type = Explod
triggerall = animelem = 29,<= 60
trigger1 = timemod = 5,0
anim = 2211
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = 0,-20
random = 280,30
bindtime = 1
vel = 0,-6
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = Random < 449
trigger1 = animelem = 29,<= 30
anim = 2200
ID = 2200
ownpal = 0
sprpriority = 5
postype = p1
pos = 0,-20
random = 280,10
bindtime = 1
vel = 0,-2
scale = .5,.5
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = time = 0
value = -200
ignorehitpause = 1
kill = 1

[State 1000]
type = removeexplod
trigger1 = animelem = 1
id = 890
ignorehitpause = 1

[State 1000]
type = removeexplod
trigger1 = animelem = 1
id = 891
ignorehitpause = 1

[state -2]
type = BGPalFX
Trigger1 = animelem = 1,>= 0 && animelem = 30,<= 4
time = 1
add = -128,-128,-128
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 30,4
time = 4
add = -96,-96,-96
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 30,8
time = 4
add = -64,-64,-64
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = animelem = 30,12
time = 4
add = -32,-32,-32
invertall = 0
color = 256

[State 1000]
type = playsnd
trigger1 = animelem = 29
value = 5000,ifelse(random < 500,1+(random%3),12)
volume = 0
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



[Statedef 27000]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 3811

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0
y = -15
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 1
y = -9
ignorehitpause = 1
;persistent =

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 0
x = 0
y = .25
ignorehitpause = 1
;persistent =

[State 3010, 12]
type = SelfState
triggerall = Anim = 3811
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

[Statedef 27001]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 32901

[State 3010, 12]
type = changestate
trigger1 = time = 26
value = 27002

[Statedef 27002]
type    = A
movetype= H
physics = N
anim = 5030

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
elem = 2
value = 3312

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 7]
type = posadd
trigger1 = time = 0
persistent = 0
y = -15

[State 3010, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.15

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -40.2
;ignorehitpause =
;persistent =



[State 3010, 12]
type = SelfState
triggerall = Anim = 3312
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

[Statedef 27015]
type = S
movetype = A
physics = N
anim = 32912
velset = 0,0
ctrl = 0
sprpriority = 7

[state 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = envshake
trigger1 = time = 0
time = 200
ampl = 4
freq = 50
ignorehitpause = 1

[State 1000]
type = envshake
trigger1 = time = 200
time = 140
ampl = 6
freq = 50
ignorehitpause = 1

[State 1000]
type = envshake
trigger1 = time = 340
time = 50
ampl = 10
freq = 75
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = time >= 320
trigger1 = timemod = 12,0
anim = 936+(random%2)
ID = 2200
ownpal = 0
sprpriority = 2
postype = p1
facing = ifelse(random < 500,-1,1)
pos = 120-(random%120),-105+(random%65)
bindtime = 1
scale = .7,.7
vel = 0,0
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = time >= 323
trigger1 = timemod = 6,0
anim = 936+(random%2)
ID = 2200
ownpal = 0
sprpriority = 2
postype = p1
facing = ifelse(random < 500,-1,1)
pos = 120-(random%240),-105+(random%65)
bindtime = 1
scale = .8,.8
vel = 0,0
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = time >= 326
trigger1 = timemod = 12,0
anim = 936+(random%2)
ID = 2200
ownpal = 0
sprpriority = 2
postype = p1
facing = ifelse(random < 500,-1,1)
pos = -120+(random%120),-105+(random%65)
bindtime = 1
scale = .7,.7
vel = 0,0
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = time >= 320
trigger1 = timemod = 6,0
value = 2200,0+(random%3)
volume = -100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6867,3
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,67
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,66
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 340
value = 2700,3
volume = 255
ignorehitpause = 1



[State 1000]
type = playsnd
trigger1 = time = 15
value = 6867,6
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 100
value = 6867,1
volume = -100
ignorehitpause = 1

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = changestate
triggerall = time >= 0
trigger1 = root,stateno = 2702
value = 27016
ignorehitpause = 1

[Statedef 27016]
type = S
movetype = A
physics = N
anim = 32913
velset = 0,0
ctrl = 0
sprpriority = 7

[State 1000]
type = envcolor
trigger1 = time = 0
time = 4
value = 240,240,240
ontop = 1
ignorehitpause = 1

[State 1000]
type = envshake
trigger1 = time = 0
time = 30
ampl = 12
freq = 75
ignorehitpause = 1

[state 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6867,2
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,11
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,10
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2600,5
volume = -254
ignorehitpause = 1

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

[Statedef 27017];3310
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 32901

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1000]
type = posadd
trigger1 = time = 0
x = 0
y = -62
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 200
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1



[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = ANIMELEM = 1
x = 0
y = 0

[State 820, 1]
type = selfstate
trigger1 = time = 400
value = 5050

[Statedef 27018];3310
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 32902

[State a]
type = Angleset
trigger1 = 1
value = -90

[State a]
type = AngleDraw
trigger1 = 1

[State 1000]
type = posadd
trigger1 = time >= 0
x = 0
y = -.2
ignorehitpause = 1



[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 270
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1



[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = ANIMELEM = 1
x = 0
y = 0

[State 820, 1]
type = selfstate
trigger1 = time = 400
value = 5050

[Statedef 27019]
type = S
movetype = A
physics = N
anim = 890
velset = 0,0
ctrl = 0
sprpriority = 7

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 315
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = changestate
trigger1 = time = 315
value = 27020
ignorehitpause = 1

[Statedef 27020]
type = S
movetype = A
physics = N
anim = 891
velset = 0,0
ctrl = 0
sprpriority = 7

[State 1000]
type = posadd
trigger1 = animelem = 7,>= 0
x = 0
y = -1
ignorehitpause = 1

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 69
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

[Statedef 270195]
type = S
movetype = A
physics = N
anim = 890
velset = 0,0
ctrl = 0

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 315
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = changestate
trigger1 = time = 315
value = 270205
ignorehitpause = 1

[Statedef 270205]
type = S
movetype = A
physics = N
anim = 891
velset = 0,0
ctrl = 0

[State 1000]
type = posadd
trigger1 = animelem = 7,>= 0
x = 0
y = -1
ignorehitpause = 1

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 69
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

[Statedef 4110]
type = A
movetype = H
physics = N
ctrl = 0
anim = 5030

[State -2]
type = PlaySnd
Trigger1 = Time = 0
Trigger1 = Random < 800
value = 11,0
volume = 255

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent =  1

[State 0, Width]
type = Width
trigger1 = 1
edge = 10,0
ignorehitpause = 1


[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 7]
type = posadd
trigger1 = time = 0
persistent = 0
y = -60


[State 3010, 9]
type = ChangeAnim2
trigger1 = time = 0
persistent = 0
value = 3010

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 250
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 3010, 9]
type = ChangeAnim2
triggerall = anim = 3010
trigger1 = Vel Y > 0
value = 3811
persistent = 0

[State 1000]
type = velset
trigger1 = time = 0
x = .2
y = -38


[State 1000]
type = veladd
trigger1 = time >= 0
x = 0
y = -.205

[State 3010, 11]
type = VelAdd
trigger1 = 1
y = 0.4

[State 3010, 12]
type = SelfState
trigger1 = anim = 3010
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
trigger2 = anim = 3811
trigger2 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100


[Statedef 330000]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3300, Flash]
type = PalFX
trigger1 = time = 0
time = 50
mul = 256,256,256
sinadd = 60,60,50,10
add = 250,-100,-250
invertall = 1

[State 3300, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 330000

[State 3300, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 330500

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 330500]
type    = A
movetype= H
physics = N

[State 3300, Flash]
type = PalFX
trigger1 = time = 0
time = 50
mul = 256,256,256
sinadd = 60,60,50,10
add = 250,-100,-250
invertall = 1

[State 3305, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 3305, Gravity]
type = VelAdd
trigger1 = 1
y = .1

[State 3305, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 3305, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 331000

[State 3305, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 331000]
type    = A
movetype= H
physics = N

[State 3300, Flash]
type = PalFX
trigger1 = time = 0
time = 50
mul = 256,256,256
sinadd = 60,60,50,10
add = 250,-100,-250
invertall = 1

[State 3310, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 3310, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 3310, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 3020, fazer terremoto]
type = envshake
trigger1 = TIME = 0
time = 20
freq = 170
ampl = -10


[State 3310, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 3310, Spark]
type = Explod
trigger1 = Time = 0
anim = F7
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 3310, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 331000

[State 3310, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 3310, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 331500

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 331500]
type    = A
movetype= H
physics = N

[State 3300, Flash]
type = PalFX
trigger1 = time = 0
time = 50
mul = 256,256,256
sinadd = 60,60,50,10
add = 250,-100,-250
invertall = 1

[State 3315, Vel Y]
type = Hitfallset
trigger1 = Time = 0
value = 0

[State 3315, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -11

[State 3315, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.3

[State 3315, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 3315, Gravity]
type = VelAdd
trigger1 = 1
y = .5

[State 3315, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 3315, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 3315, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 3315, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 3315, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;=========================================
[Statedef 3400]
type    = S
movetype= I
physics = S
anim = 3000
ctrl = 0
poweradd = -1000
velset = 0,0,0

[State 3400, 1] ; voice
type = PlaySnd
trigger1 = time = 0
value = 3000,0

[State 3400, 1] ;flash sound
type = PlaySnd
trigger1 = time = 1
value = 800,0
volume = -50

[State 3400, 4]
type = Explod
trigger1 = time = 1
anim = 810
pos = 17,-90
supermove = 1
sprpriority = 2
bindtime = 1
ownpal = 1

[State 3400, 4]
type = Explod
trigger1 = animelem = 4
anim = 2000
pos = 10,30
supermove = 1
supermovetime = 2
sprpriority = 2
bindtime = 1
removetime = 2
shadow = 64,64,64
ownpal = 1

[State 3400, 4]
type = Explod
trigger1 = animelem = 5
anim = 2001
supermove = 1
supermovetime = 3
sprpriority = 2
bindtime = 1
pos = 8, 20
removetime = 3
shadow = 64,64,64
ownpal = 1

[State 3400, 4]
type = Explod
trigger1 = animelem = 6
anim = 2001
supermove = 1
pos = 3, 15
supermovetime = 3
sprpriority = 2
bindtime = 1
removetime = 3
shadow = 64,64,64
ownpal = 1

[State 3400, 4]
type = Explod
trigger1 = animelem = 7
anim = 2001
supermove = 1
pos = -4, 0
supermovetime = 20
sprpriority = 2
bindtime = 1
removetime = 20
shadow = 64,64,64
ownpal = 1

[State 3400, 4]
type = Explod
trigger1 = time = 30
anim = 1530
pos = -14,-80
sprpriority = -2
bindtime = 1
ownpal = 1

[State 3400, end1]
type = changestate
trigger1 = (command = "hold_A") && (Time >= 34)
value = 3001

[State 3400, end2]
type = changestate
trigger1 = (animtime = 0) && (command != "hold_A")
trigger2 = var(59) = 1
trigger2 = animtime = 0
value = 3002






;----------------------------------------------------------
; 3199 CM chain drive launch
[Statedef 3199]
type    = S
movetype= A
physics = S
anim = 3199
ctrl = 0
poweradd = -1000
velset = 0,0,0
juggle = 10

[State 3199, 1]
type = PlaySnd
trigger1 = time = 0
value = 3200,1

[State 3199, 1]; DM sound
type = PlaySnd
trigger1 = time = 1
value = 800,0
volume = -50

[State 3199, 4]
type = Explod
trigger1 = time = 1
anim = 810
pos = 0,-90
supermove = 1
sprpriority = 2
bindtime = 1
ownpal = 1

[State 3199 , 2]  ;sun glasses
type = Projectile
trigger1 = AnimElem = 6, =1
Projpriority = 7
ProjAnim = 2020
ProjID = 2020
ProjHitAnim = 2021
projheightbound = -300,0
projedgebound = 320
projstagebound = 320
offset = 26,-90
hitflag = MAP
guardflag = MA
guard.sparkno = s8056
accel = 0, 0.3
velocity = 7,-3
attr = S, HP
projshadow = 68,68,68
damage = 30,2
animtype = hard
air.animtype = up
givepower = 50
pausetime = 0,4
sparkno = s8035
hitsound = S220,0
guardsound = S150,1
ground.type = High
ground.slidetime = 36
ground.hittime = 36
ground.velocity = -5
guard.hittime = 24
guard.slidetime = 24
guard.pausetime = 8,10
guard.velocity = -1
air.velocity = -4,-4
air.fall = 1
air.juggle = 10
fall.recover = 0
air.animtype = Back

[State 3199, end1]
type = changestate
trigger1 = projcontact2020 = 1
trigger2 = NumProjID(2020) = 0
trigger2 = AnimElemTime (6) > 1
trigger2 = time <= 56
value = 3201
ctrl = 0

[State 3199, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------
; 6100 Counter Mode start
[Statedef 6100]
type    = S
movetype= I
physics = S
anim = 6100
velset = 0,0
poweradd = -3000
ctrl = 0

[State 6100, 0]
type = playsnd
trigger1 = animelemtime(5) = 0
value = 800,2

[State 6100, 2]
type = SuperPause
trigger1 = animelemtime(5) = 0
time = 18
movetime = 18
anim = -1

[State 6100, BarP1]
type = explod
trigger1 = var(0) = 1
trigger1 = time = 27
anim = 2200
ID = 4000
pos = 8,212
postype = left
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 8
ownpal = 1
supermove = 1

[State 6100, blackbarP1]
type = explod
trigger1 = var(0) = 1
trigger1 = animtime = 0
anim = 4400
ID = 4400
pos = 100,224
postype = left
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 9
ownpal = 1
scale = 0,1

[State 6100, BarP2]
type = explod
trigger1 = var(0) = 2
trigger1 = time = 27
anim = 4200
ID = 4000
pos = -103,212
postype = right
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 8
ownpal = 1
supermove = 1

[State 6100, blackbarP2]
type = explod
trigger1 = var(0) = 2
trigger1 = animtime = 0
anim = 4410
ID = 4400
pos = -100,224
postype = right
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 9
ownpal = 1
scale = 0,1

[State 6100, 0]
type = varset
trigger1 = animtime = 0
var(6) = 1128
ignorehitpause = 1

[State 6100, 1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1









;------------------------------------------
; 6200 Armor Mode start
[Statedef 6200]
type    = S
movetype= I
physics = S
anim = 6200
velset = 0,0
poweradd = -3000
ctrl = 0

[State 6200, 0]
type = playsnd
trigger1 = animelemtime(4) = 0
value = 800,2

[State 6200, 1]
type = EnvShake
trigger1 = AnimElemtime(3) = 0
ampl = -4
time = 10

[State 6200, 2]
type = SuperPause
trigger1 = animelemtime(4) = 0
time = 26
movetime = 26
anim = -1

[State 6200, BarP1]
type = explod
trigger1 = var(0) = 1
trigger1 = time = 27
anim = 4100
ID = 4001
pos = 8,212
postype = left
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 8
ownpal = 1
supermove = 1

[State 6200, blackbarP1]
type = explod
trigger1 = var(0) = 1
trigger1 = animtime = 0
anim = 4400
ID = 4401
pos = 100,224
postype = left
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 9
ownpal = 1
scale = 0,1

[State 6200, BarP2]
type = explod
trigger1 = var(0) = 2
trigger1 = time = 27
anim = 4300
ID = 4001
pos = -103,212
postype = right
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 8
ownpal = 1
supermove = 1

[State 6200, blackbarP2]
type = explod
trigger1 = var(0) = 2
trigger1 = animtime = 0
anim = 4410
ID = 4401
pos = -100,224
postype = right
bindtime = -1
removetime = -1
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 9
ownpal = 1
scale = 0,1

[State 6200, 0]
type = varset
trigger1 = animtime = 0
var(7) = 470
ignorehitpause = 1

[State 6200, 1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------
; 9995 guard crush helper (left)
[Statedef 9995]
type    = A
movetype= I
anim = 9999 ;invisible
velset = 0,0
sprpriority = 9

[State 9995, 0]
type = explod
trigger1 = NumExplod(9995) = 0
trigger1 = time = 0
trigger1 = facing = facing
anim = 9995
id = 9995
pos = 16, 180
postype = Left
bindtime = 62
removetime = 62
sprpriority = 9

[State 9995, 2]
type = envcolor
trigger1 = time = 0
value = 240,240,240
under = 1
time = 1;2
ignorehitpause = 1
persistent = 0

[State 9995, 3]
type = destroyself
trigger1 = time >= 15

;------------------------
; 9996 guard crush helper (right)
[Statedef 9996]
type    = A
movetype= I
anim = 9999 ;invisible
velset = 0,0
sprpriority = 9

[State 9996, 0]
type = explod
trigger1 = NumExplod(9996) = 0
trigger1 = time = 0
trigger1 = facing = facing
anim = 9996
id = 9996
pos = -100, 180
postype = right
bindtime = 62
removetime = 62
sprpriority = 9

[State 9996, 2]
type = envcolor
trigger1 = time = 0
value = 240,240,240
under = 1
time = 1;2
ignorehitpause = 1
persistent = 0

[State 9996, 3]
type = destroyself
trigger1 = time >= 15


;------------------------
; 9997 counter helper (left)
[Statedef 9997]
type    = A
movetype= I
anim = 9999
velset = 0,0
sprpriority = 9

[State 9997, 2]
type = envcolor
trigger1 = time = 0
value = 240,240,240
under = 1
time = 1;2
ignorehitpause = 1
persistent = 0

[State 9997, 4] ;reset
type = parentvarset
;trigger1 = animtime = 0
trigger1 = p2statetype = L
trigger2 = win
trigger3 = hitcount != 1
var(35)) = 0

[State 9997, 3]
type = destroyself
trigger1 = animtime = 0 ;one tick
;trigger1 = NumExplod(9997) = 0

;------------------------
; 9998 counter helper (right)
[Statedef 9998]
type    = A
movetype= I
anim = 9999
velset = 0,0
sprpriority = 9

[State 9998, 2]
type = envcolor
trigger1 = time = 0
value = 240,240,240
under = 1
time = 1;2
ignorehitpause = 1
persistent = 0

[State 9998, 4] ;reset
type = parentvarset
;trigger1 = animtime = 0
trigger1 = p2statetype = L
trigger2 = win
trigger3 = hitcount != 1
var(35)) = 0

[State 9998, 3]
type = destroyself
trigger1 = animtime = 0 ;one tick
;trigger1 = NumExplod(9997) = 0

;-------------------------------



;------------------------
; 9999 AI switch
[Statedef 9999]
anim = 9999
ctrl = 0

[State 9999, 0]
type = Turn
trigger1 = facing != parent, facing

[State 9999, ¶€∞ ®M©wA.I.¨Oß_∂}±“]
type = ParentVarSet
triggerall = !var(10)
triggerall = parent, RoundState = 2
trigger1 = parent, command = "A"
trigger2 = parent, command = "B"
trigger3 = parent, command = "C"
trigger4 = parent, command = "D"
trigger5 = parent, command = "z"
trigger6 = parent, command = "c"
trigger7 = parent, command = "justfwd"
trigger8 = parent, command = "justback"
trigger9 = parent, command = "justup"
trigger10 = parent, command = "justdown"
var(59) = 1

[State 9999, ¶€∞ ®M©wA.I.¨Oß_√ˆ≥¨]
type = ParentVarSet
triggerall = !var(10)
triggerall = parent, RoundState = 2
trigger1 = (command = "A" && parent, command = "A")
trigger2 = (command = "B" && parent, command = "B")
trigger3 = (command = "C" && parent, command = "C")
trigger4 = (command = "D" && parent, command = "D")
trigger5 = (command = "z" && parent, command = "z")
trigger6 = (command = "c" && parent, command = "c")
trigger7 = (command = "justfwd" && parent, command = "justfwd")
trigger8 = (command = "justback" && parent, command = "justback")
trigger9 = (command = "justup" && parent, command = "justup")
trigger10 = (command = "justdown" && parent, command = "justdown")
var(59) = 0

[State 9999, 1]
type = VarSet
triggerall = !var(10)
trigger1 = parent, command = "A"
trigger2 = parent, command = "B"
trigger3 = parent, command = "C"
trigger4 = parent, command = "D"
trigger5 = parent, command = "z"
trigger6 = parent, command = "c"
trigger7 = parent, command = "justfwd"
trigger8 = parent, command = "justback"
trigger9 = parent, command = "justup"
trigger10 = parent, command = "justdown"
var(10) = 1


;==========================================================
[Statedef -2]

;Dampener
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
time = 1
value = fvar(16)

[State 0, VarSet]
type = VarSet
triggerall = stateno!=[3700,3885]
triggerall = stateno!=[3303,3321]
triggerall = stateno!=[2600,2603]
triggerall = stateno!=[2700,2703]
triggerall = stateno!=[3500,3513]
triggerall = stateno!=[3380,3390]
triggerall = stateno!=[3250,3276]
triggerall = stateno!=[3390,3393]
triggerall = stateno!=[3150,3155]
triggerall = stateno!=[3200,3237]
triggerall = stateno!=[3600,3661]
triggerall = stateno!=[3340,3351]
triggerall = stateno!=[2500,2583]
triggerall = stateno!=[13502,13515]
triggerall = enemy,movetype = H && (p2stateno!=[120,155])
trigger1 =1
fv =16 ;v = 570
value = ifelse(fvar(16)>.1,1-(.045*(enemy,gethitvar(hitcount))),.1)
ignorehitpause=1

[State 0, VarSet]
type = VarSet
trigger1 =(stateno=[1000,1050]) && fvar(16)<.3
trigger2= projcontact=1
fv = 16   ;fv = 10
value = .3
ignorehitpause =1
persistent = 1

[State 0, VarSet]
type = VarSet
triggerall = stateno!=[3700,3885]
triggerall = stateno!=[3315,3321]
triggerall = stateno!=[2600,2703]
triggerall = stateno!=[3500,3513]
triggerall = stateno!=[3230,3237]
triggerall = stateno!=[3380,3390]
triggerall = stateno!=[2560,2583]
triggerall = stateno!=[3250,3276]
triggerall = stateno!=[3390,3393]
triggerall = stateno!=[3150,3155]
trigger1 =(stateno=[3200,3237]) && fvar(16)<.7
trigger2 =(stateno=[3600,3661]) && fvar(16)<.7
trigger3 =(stateno=[3340,3351]) && fvar(16)<.7
trigger4 =(stateno=[2500,2583]) && fvar(16)<.7
fv = 16   ;fv = 10
value = ifelse(fvar(16) <.45,.45,1-(.03*(enemy,gethitvar(hitcount))))
ignorehitpause =1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 =(stateno=[3700,3885]) && fvar(16)<.9
trigger2 = (stateno=[3303,3321]) && fvar(16)<.9
trigger3 = (stateno=[3500,3513]) && fvar(16)<.9
trigger4 = (stateno=[3380,3390]) && fvar(16)<.9
trigger5 =(stateno=[3250,3276]) && fvar(16)<.9
trigger6 =(stateno=[3390,3393]) && fvar(16)<.9
trigger7 =(stateno=[3150,3155]) && fvar(16)<.9
fv = 16   ;fv = 10
value = ifelse(fvar(16) <.6,.6,1-(.015*(enemy,gethitvar(hitcount))))
ignorehitpause =1
persistent = 1


[State 0, VarSet]
type = VarSet
trigger1 = stateno = [2600,2703]
fv = 16   ;fv = 10
value = 1
ignorehitpause =1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = enemy,movetype != H ||(p2stateno=[120,155])
fv = 16   ;v = 570
value = 1
ignorehitpause =  1
persistent =  1

[State -2, burn-over]
type = varset
trigger1 = (Var(3) = 1) && (P2movetype != H)
var(3) = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = stateno = 3310
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 500
ignorehitpause = 1
persistent =  1

[State -2,bounce sound hard factor]
type = varset
triggerall = vel Y >= 14
trigger1 = stateno = 5050
trigger1 = time >= 0
v = 15
value = 1

[State -2,bounce sound hard factor]
type = varset
triggerall = stateno = 5101
trigger1 = time >= 0
v = 15
value = 0
ignorehitpause = 1

[State -2, bounce sound]
type = PlaySnd
;trigger1 = random < 249
trigger1 = stateno = 5100
trigger1 = Alive
trigger1 = time = 1
value = 5000,ifelse(var(15) = 1,8+(random%3),11+(random%2))
volume = 30

[State 0, Helper]
type = Helper
triggerall = roundstate = 2 && life >= 1
triggerall = !numhelper(12345)
trigger1 = time >= 0
helpertype = normal
name = "HEAT AURA"
ID = 12345
stateno = 12345
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
unhittable = 1
ownpal = 1
bindtime = -1
supermovetime = 99999
pausemovetime = 99999

[State -2]
Type = Explod
TriggerAll = Time > 0
TriggerAll = MoveType = A
Trigger1 = StateNo = 3100 && AnimElem = 4
anim = 2055
sprpriority = 5
posType = p1
pos = 0,0
bindTime = 1
supermove = 1
under = 0
ownpal = 1
id = 2055
pausemoveTime = 9999999
supermoveTime = 9999999



[State -2]
Type = Explod
TriggerAll = Time > 0
TriggerAll = MoveType = A
Trigger1 = StateNo = 3102 && AnimElem = 1,=1
anim = 2057
sprpriority = 5
posType = p1
pos = 0,0
bindTime = 1
supermove = 1
under = 0
ownpal = 1
ID = 2057

[State -2]
Type = RemoveExplod
TriggerAll = NumExplod(2055) > 0
Trigger1 = StateNo = 3101
ID = 2055

[State -2 , 1]
type = Explod
triggerall = (NumExplod(2200) < 2) && (Random < 699)
trigger1 = ProjHit1001 = 1, < 20
trigger2 = ProjHit1020 = 1, < 20
anim = 2206
ID = 2206
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 349)
trigger1 = ProjHit1001 = 1, < 20
trigger2 = ProjHit1020 = 1, < 20
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 299)
trigger1 = ProjHit1001 = 1, < 20
trigger2 = ProjHit1020 = 1, < 20
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 249)
trigger1 = ProjHit1001 = 1, < 40
trigger2 = ProjHit1020 = 1, < 40
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 149)
trigger1 = ProjHit1001 = 1, < 50
trigger2 = ProjHit1020 = 1, < 50
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
vel = 0,-1
pos = 0,-50
random = 150,150
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
triggerall = (NumExplod(2200) < 2) && (Random < 99)
trigger1 = ProjHit1001 = 1, < 70
trigger2 = ProjHit1020 = 1, < 70
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
vel = 0,-1
random = 100,100
bindtime = 1
ignorehitpause = 1

;==========================For Second shell
[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 3) && (Random < 899) && (ProjHit1030 = 1, < 40)
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 3) && (Random < 399) && (ProjHit1030 = 1, < 40)
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 3) && (Random < 349) && (ProjHit1030 = 1, < 40)
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
scale = .8,.8
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 3) && (Random < 299) && (ProjHit1030 = 1, < 60)
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
vel = 0,-1
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 3) && (Random < 99) && (ProjHit1030 = 1, < 100)
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 150,150
vel = 0,-1
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 2) && (Random < 49) && (ProjHit1030 = 1, < 120)
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
vel = 0,-1
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

;==================================== For var3
[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 2) && (Random < 899) && (P2statetype = A) && (var(3) = 1)
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 3) && (Random < 549) && (P2statetype = A) && (var(3) = 1)
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 4) && (Random < 449) && (P2statetype = A) && (var(3) = 1)
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
scale = .8,.8
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 4) && (Random < 199) && (var(3) = 1)
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
vel = 0,-1
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (NumExplod(2200) < 4) && (Random < 99) && (var(3) = 1)
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
vel = 0,-1
random = 150,150
bindtime = 1
ignorehitpause = 1

[State -2 , 1]
type = Explod
trigger1 = (Random < 99) && (var(3) = 1)
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-50
vel = 0,-1
random = 100,100
bindtime = 1
ignorehitpause = 1

[State -2, sunglass]
type = envcolor
trigger1 = projhit2020 = 1
time = 1
under = 1
value = 240,240,240

; stop sounds
; run
[state -2, stopsound]
type = stopsnd
trigger1 = stateno != 100 && prevstateno = 100
trigger2 = var(59)
trigger2 = stateno != 10044 && prevstateno = 10044
channel = 4

[state -2, stopsound]
type = stopsnd
trigger1 = stateno != 100 && stateno != 10044
trigger2 = command = "holddown"
channel = 4

[state -2, stopsound]
type = stopsnd
trigger1 = stateno != 195 && prevstateno = 195
trigger2 = movetype = H
channel = 3

; sliding sound
[State -2, slidesound]
type = PlaySnd
trigger1 = P2stateno = 306
trigger1 = P2movetype = H
trigger1 = P2statetype = A
trigger1 = enemy, Vel Y > 0
trigger1 = enemy, Pos Y > 15
value = 300,0
persistent = 0

[State -2, Left or Right] ; §H™´¶b•™§ÅE
type = VarSet
trigger1 = Var(0) = 0
trigger1 = facing = 1
var(0) = 1

[State -2, Left or Right] ; §H™´¶b•k§ÅE
type = VarSet
trigger1 = Var(0) = 0
trigger1 = facing = -1
var(0) = 2





;-----------------------------------------------------------------------

[Statedef 54321,aura glow]
type = S
movetype = I
physics = N
sprpriority = -1;
velset = 0,0
ctrl = 0

;
[state 54321]
type = assertspecial
trigger1 = 1
flag = noshadow
;
[state 54321, playerpush]
type = playerpush
trigger1 = 1
time = -1
ignorehitpause = 1
persistent = 1
value = 0
;
[state 54321]
type = nothitby
trigger1 = 1
time = -1
persistent = 1
value = SCA
;
[State 54321, ChangeAnim]
type = ChangeAnim
trigger1 = selfanimexist(parent,anim)
elem = parent,animelemno(0)
value = parent, anim
;
[State 54321, ]
type = bindtoroot
trigger1 = alive
facing = 1
pos = -3, 0
time = -1
ignorehitpause = 1
persistent = 1
;
[State 54321, palFx]
type = palfx
trigger1 = alive
add = 100, 100, 100
mul = 255, 255, 255
sinadd = 256, 10, 10, 50
invertall = 0
color = 256
ownpal = 1
time = -1
ignorehitpause = 1
persistent = 1

[State 54321, ]
type = trans
trigger1 = alive
trans = addalpha
alpha = 256 - (10*time), (10*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 54321, ]
type = angledraw
trigger1 = alive
value = 0
scale = 1.015 + (.0065*time),1 + (.0065*time)
time = -1
ignorehitpause = 1
persistent = 1
;
[State 54321, destroyself]
type = Destroyself
trigger1 = time >= 45

;====================<Bloodline Aura>====================
[Statedef 77]
type=A
physics=N
anim=9741
ctrl=0

[State 77, nhb]
type=nothitby
trigger1= 1
value=SCA
time=-1
ignorehitpause=1

[State 77, noshadow]
type=assertspecial
trigger1=1
flag=noshadow

[State 77, bind]
type=bindtoroot
trigger1=1
pos= -1+(random%2), ceil(.3125*(gametime%32))-1+(random%2)
facing=1
[State 77, bind]
type=bindtoroot
trigger1= root,stateno=4010
pos= -4+(random%8), ceil(1.25*(gametime%32))-4+(random%8)
facing=1

[State 77, trans]
type=angledraw
trigger1= 1
scale= 1 + .01*(gametime%32), 1 + .01*(gametime%32)
[State 77, trans]
type=angledraw
trigger1= root,stateno=4010
scale= 4 + .04*(gametime%32), 4 + .04*(gametime%32)

[State 77, trans]
type=trans
trigger1= 1
trans=addalpha
alpha= 256 - 8*(gametime%32), 8*(gametime%32)
ignorehitpause=1

[State 77, anim]
type=changeanim
trigger1=selfanimexist(root,anim)
value=(root,anim)
elem=(root,animelemno(0))
[State 77, hide]
type=assertspecial
trigger1= !selfanimexist(root,anim)
trigger2= root,stateno=194 && root,animelemtime(2)<0
trigger3= root,stateno=178
trigger4= root,stateno=179
trigger5= root,stateno=[4902,4903]
flag=invisible

[State 77, spr]
type=sprpriority
trigger1= 1
value=2

[State 77]
type=varrandom
trigger1=1
v=1
range=1,ifelse((root,stateno=195), 10, 40)
[State 77]
type=varrandom
trigger1= root,stateno=195 || root,stateno=4901
v=1
range=1,10

[State 77]
type=varset
trigger1= numhelper(7500)
trigger2= !(root,alive) || gametime>root,var(58) || root,var(20)>0
trigger3= root,stateno=177 && root,animelemtime(2)<0
trigger4= root,stateno=178
trigger5= root,stateno=188 && root,animelemtime(6)<0
trigger6= root,stateno=192 && root,animelemtime(3)<0
trigger7= root,stateno=194 && root,animelemtime(2)<0
trigger8= root,stateno=[4902,4903]
var(1)=99

[State 77]
type=explod
trigger1=var(1)=1
anim=7250
sprpriority=3
postype=p1
pos=0,ceil(-pos y)
facing=ifelse(random<500,-1,1)
random=160,40
trans=addalpha
alpha=192,256
pausemovetime=-1
supermovetime=-1
ownpal=1
[State 77]
type=playsnd
trigger1=var(1)=1
value=5,15
channel=1
volume=-160-(32*numexplod)
freqmul= .9 + (random/5000.0)
[State 77]
type=bgpalfx
trigger1=var(1)=1
trigger1=var(1):=99
time=20
add=-128,-128,-128
sinadd=128,128,128,80

[State 77, end]
type=destroyself
trigger1= root,stateno= 0 && root,animelemtime(2)<0
trigger2 = root,stateno = 191 && root,animelem = 23,80

[Statedef 99999]
Movetype = I
velset = 0,0
anim = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = destroyself
triggerall = time >= 0
trigger1 = root,stateno = 3320 && animtime = 0
trigger2 = root,stateno = 0

[Statedef 777]
type=A
physics=N
anim=9741
ctrl=0

[State 77, nhb]
type=nothitby
trigger1= 1
value=SCA
time=-1
ignorehitpause=1

[State 1000]
type = playsnd
triggerall = time >= 0
trigger1 = time%64 = 0
ignorehitpause = 1
value = 6865,12

[State 1000]
type = envcolor
triggerall = time >= 0
trigger1 = time%64 = 0
ignorehitpause = 1
time = 1
ontop = 1
value = 240,240,240
persistent = 1

[State 77, noshadow]
type=assertspecial
trigger1=1
flag=noshadow

[State 77, bind]
type=bindtoroot
trigger1=1
pos= -1+(random%2), ceil(.3125*(time%64))-1+(random%2)
facing=1
[State 77, bind]
type=bindtoroot
trigger1= root,stateno=4010
pos= -4+(random%8), ceil(1.25*(time%64))-4+(random%8)
facing=1

[State 77, trans]
type=angledraw
trigger1= 1
scale= 1 + .01*(time%64), 1 + .01*(time%64)
[State 77, trans]
type=angledraw
trigger1= root,stateno=4010
scale= 4 + .04*(time%64), 4 + .04*(time%64)

[State 77, trans]
type=trans
trigger1= 1
trans=addalpha
alpha= 256 - 8*(time%64), 8*(time%64)
ignorehitpause=1

[State 77, anim]
type=changeanim
trigger1=selfanimexist(root,anim)
value=(root,anim)
elem=(root,animelemno(0))

[State 77, hide]
type=assertspecial
trigger1= !selfanimexist(root,anim)
trigger2= root,stateno=194 && root,animelemtime(2)<0
trigger3= root,stateno=178
trigger4= root,stateno=179
trigger5= root,stateno=[4902,4903]
flag=invisible

[State 77, spr]
type=sprpriority
trigger1= 1
value=2

[State 77]
type=varrandom
trigger1=1
v=1
range=1,ifelse((root,stateno=195), 10, 40)
[State 77]
type=varrandom
trigger1= root,stateno=195 || root,stateno=4901
v=1
range=1,10

[State 77]
type=playsnd
trigger1=var(1)=1
value=5,15
channel=1
volume=-160-(32*numexplod)
freqmul= .9 + (random/5000.0)

[State 77, end]
type=destroyself
trigger1= root,stateno != 3202
trigger1 = root,stateno = 190 && root,animelem = 1,240

[Statedef 999998]
Movetype = I
velset = 0,0
anim = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = destroyself
trigger1 = root,stateno = 3235 && root,animelem = 14,30
trigger2 = root,stateno = 0
persistent = 1
ignorehitpause = 1

[State 1000]
type = destroyself
triggerall = time >= 0
trigger1 = root,stateno = 2602 && root,animelem = 12,>= 4
trigger1 = enemy,alive = 1
persistent = 1

[State 1000]
type = destroyself
triggerall = time >= 0
trigger1 = root,stateno = 2602 && root,animelem = 24,>= 0
trigger1 = enemy,alive = 0
persistent = 1


[Statedef 9999981]
Movetype = I
velset = 0,0
anim = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = destroyself
trigger1 = time = 238
ignorehitpause = 1

[Statedef 9999982]
Movetype = I
velset = 0,0
anim = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
flag2 = nomusic
ignorehitpause = 1
persistent = 1

[State 1000]
type = destroyself
trigger1 = time >= 220
trigger2 = root,stateno = 2600 && animtime = 0
trigger3 = root,stateno = 2602 && time >= 250
trigger3 = enemy,life > 1
trigger4 = root,stateno = 2602 && time >= 377
trigger4 = enemy,life < 1
ignorehitpause = 1

[Statedef 999999]
Movetype = I
velset = 0,0
anim = 99999

[State 1000]
type = assertspecial
Trigger1 = 1
flag = nomusic
flag2 = nobg
ignorehitpause = 1
persistent = 1

[State 1000]
type = destroyself
triggerall = time >= 0
trigger1 = root,stateno = 2602 && root,animelem = 12,>= 4
trigger1 = enemy,alive = 1
persistent = 1

[State 1000]
type = destroyself
triggerall = time >= 0
trigger1 = root,stateno = 2602 && root,animelem = 24,>= 0
trigger1 = enemy,alive = 0
persistent = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = root,stateno = 2602 && root,time = 131
value = 240,240,240
time = 5
under = 0
ignorehitpause = 1

[State 1000]
type = envshake
trigger1 = root,stateno = 2602 && root,time = 136
time = 185
ampl = 12
ignorehitpause = 1

;HEAT AURA
[Statedef 12345]
movetype = I
velset = 0,0,0
anim = 99999

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1



[State 0, Helper]
type = Helper
triggerall = statetype != L
triggerall = time >= 0
trigger1 = random < 30
trigger1 = alive
helpertype = normal
name = "Heat Aura FX"
ID = 3242
stateno = 3242
pos = -50+(random%100),-100+(random%100)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = .8
size.yscale = .8
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
sprpriority = 8
ownpal = 1
ignorehitpause = 1
persistent = 1

;[State 0, Helper]
;type = Helper
;triggerall = statetype != L
;triggerall = time >= 0
;trigger1 = random < 20
;helpertype = normal
;name = "Heat Aura FX2"
;ID = 3241
;stateno = 3241
;pos = -50+(random%100),-100+(random%100)
;postype = p1    ;p2,front,back,left,right
;facing = 1
;keyctrl = 0
;supermovetime = 99999
;pausemovetime = 99999
;sprpriority = 8
;unhittable = 1
;ownpal = 1
;ignorehitpause = 1
;persistent = 1

;[State 0, Helper]
;type = Helper
;triggerall = statetype != L
;triggerall = time >= 0
;trigger1 = random < 30
;helpertype = normal
;name = "Heat Aura FX3"
;ID = 3260
;stateno = 3240
;pos = -50+(random%100),-100+(random%100)
;postype = p1    ;p2,front,back,left,right
;facing = 1
;keyctrl = 0
;unhittable = 1
;supermovetime = 99999
;pausemovetime = 99999
;sprpriority = 7
;ownpal = 1
;ignorehitpause = 1
;persistent = 1

[State 1000]
type = destroyself
triggerall = time >= 0
trigger1 = !alive
trigger2 = stateno = 3354
persistent = 1
ignorehitpause = 1


[Statedef 123456]
movetype = I
physics = N
anim = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1




[State 0, BindToParent]
type = BindTotarget
trigger1 = time = 0
time = -1
ignorehitpause = 1
persistent = 1

[State 3280 , 5]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 899
trigger1 = time >= 0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 120,120
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = NumExplod(2200) < 5
triggerall = Random < 699
trigger1 = time >= 0
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = NumExplod(2200) < 5
triggerall = Random < 549
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
vel = 0,-1
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = NumExplod(2200) < 5
triggerall = Random < 599
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
vel = 0,-1
random = 120,120
bindtime = 1
ignorehitpause = 1

[State 3280 , 9]
type = Explod
triggerall = NumExplod(2200) < 5
triggerall = Random < 599
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
vel = 0,-1
pos = 0,-60
random = 150,150
bindtime = 1
ignorehitpause = 1

[State 3280 , 10]
type = Explod
triggerall = NumExplod(2200) < 5
triggerall = Random < 599
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
vel = 0,-1
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 1000]
type = destroyself
trigger1 = enemy,statetype != A
ignorehitpause = 1
persistent = 1

[Statedef 1234567]
movetype = I
physics = N
anim = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1




[State 0, BindToParent]
type = BindTotarget
trigger1 = time = 0
time = -1
ignorehitpause = 1
persistent = 1

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 120,120
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = Random < 699
trigger1 = time >= 0
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = Random < 549
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
vel = 0,-1
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = Random < 599
trigger1 = time >= 0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
vel = 0,-1
random = 120,120
bindtime = 1
ignorehitpause = 1



[State 1000]
type = destroyself
trigger1 = enemy,stateno = 5100
ignorehitpause = 1
persistent = 1






;==================================================================
[Statedef -3]
;----------------------------------
[State 1500, burn]
type = varset
trigger1 = stateno = 0
var(20) = 0

[state -3, nolifebar]
type = assertspecial
trigger1 = roundno = 1; only first round
trigger1 = roundstate < 2
flag = NoBarDisplay

[state -3, 2nd shell juggle]
type = AssertSpecial
trigger1 = p2stateno = 1041 ;hit by 2nd shell
trigger1 = var(11) = 5
trigger1 = stateno != 1040 ; not shell again
flag = NoJuggleCheck

[State -3, juggle eine] ;only eine trigger stuff use
type = varset
trigger1 = stateno = [1000,1040] ; eine trigger, shot and shell
trigger1 = p2statetype = A && p2movetype = H
trigger2 = p2stateno = 1041 ;hit by shell
var(12) = 20

[State -3, juggle eine]
type = varset
trigger1 = stateno = [1000,1040]
trigger1 = p2statetype = A && p2movetype != H
trigger2 = p2statetype = L
var(12) = 0

[State -3, juggle stop] ; juggle limit
type = varset
trigger1 = stateno = [1300,1307] ; minute spike
trigger1 = movehit
trigger2 = p2stateno = 3010 ; hit by heatdrive custom state
trigger3 = stateno = 1505 ; crawbite C kick
trigger3 = movehit
var(13) = 20

[State -3, juggle stop] ; juggle reset
type = varset
trigger1 = p2statetype = L
var(13) = 0



;------------------------------------------------------------------------
; SLOW MOTION
;----------------------------------------------------
; jump sounds

[State -3, jumpsound]
type = PlaySnd
trigger1 = stateno = 40 && animtime = 0
value = 40,0
volume = -80

[state -3, stopsound]
type = stopsnd
trigger1 = stateno != 100 && prevstateno = 100
channel = 4

;-------------------------
; hit sounds

; hit sound in light
[State -3, light sound]
type = PlaySnd
triggerall = random < 249
triggerall = time = 1
triggerall = Alive
triggerall = stateno = 5000
trigger1 = anim = 5000
trigger2 = anim = 5010
trigger3 = anim = 5020
value = 5000,0+(random%4)
volume = 255
ignorehitpause = 1

; hit sound in medium
[State -3, medium sound]
type = PlaySnd
triggerall = random < 249
triggerall = time = 1
triggerall = Alive
triggerall = stateno = 5000
trigger1 = anim = 5001
trigger2 = anim = 5011
trigger3 = anim = 5021
value = 5000,4+(random%4)
volume = 30
ignorehitpause = 1

; hit sound in medium
[State -3, hard sound]
type = PlaySnd
triggerall = random < 249
triggerall = time = 1
triggerall = Alive
triggerall = stateno = 5000
trigger1 = anim = 5002
trigger2 = anim = 5012
trigger3 = anim = 5022
value = 5000,8+(random%4)
volume = 20
ignorehitpause = 1

[State -3, hard sound in air]
type = PlaySnd
triggerall = random < 249
triggerall = Alive
triggerall = stateno = 5020
trigger1 = movetype = H
trigger1 = time = 1
value = 5000,ifelse(random< 500,8,10)
volume = 20
persistent = 0
ignorehitpause = 1

; ouch in bounce


[State -3, removehandflame]
type = RemoveExplod
trigger1 = (prevstateno = 3001 || prevstateno = 3006) && stateno != 3001
trigger2 = movetype = H
trigger3 = prevstateno = 3101 && stateno != 3101
ID = 2010

[State -3, removecrowflame]
type = RemoveExplod
trigger1 = movetype = H
trigger2 = stateno = 3400 || stateno = 3199
ID = 1500

;--------------------------------------------------
; KOF txt messages

; GUARD CRUSH txt display
; uses helper 9995(left) and 9996(right)

; P1
[State -3, guard crush]
type = helper
trigger1 = NumHelper(9995) = 0
trigger1 = p2stateno = 5305
trigger1 = facing = facing
trigger1 = var(0) = 1
helpertype = normal
name = "guardcrush"
id = 9995
stateno = 9995
pos = 0,0
postype = left
keyctrl = 0
ownpal = 1 ;in case flame effect
ignorehitpause = 1

; P2
[State -3, guardcrush]
type = helper
trigger1 = NumHelper(9996) = 0
trigger1 = p2stateno = 5305
trigger1 = facing = facing
trigger1 = var(0) = 2
helpertype = normal
name = "guardcrush"
id = 9996
stateno = 9996
pos = 0,0
postype = right
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;----------------------------------------------------
; COUNTER hit set up
; uses helper 9997(left) and 9998(right)

; Notes: 
; in KOF, only SPECIAL ATTACKS trigger counter hit. This includes:
;    - all special attacks (SA type)
;    - all direction + button attacks (also SA type)
;    - all DM/SDM attacks(HA type)
;    - all jump attacks (NA,SA,HA types) -> this applies to KOF98, KOF99 removed.
;  EXCEPTIONS: throws are not considered as "attacks". And will NOT
;  register as COUNTER HIT.  (NT,ST,HT are all ignored.)
;trigger1 = Enemy, hitdefattr != SCA, NA,NT,ST,HT ;mugen 414 only


[State -3, counter]
type = Varset
trigger1 = p2movetype = A
trigger1 = (p2stateno != [400,440]) && (p2stateno >= 300) 
; stateno >= 300 should include most or all of the common direction+button attacks.
; while p2stateno! = [400,440] takes out the crouching normal attacks for consideration.
trigger2 = p2movetype = I
var(35) = 1 - (p2movetype = I)

[State -3, counter]
type = Varset
trigger1 = var(35) = 1
trigger1 = hitcount <= 1
trigger1 = (p2movetype = H) || (p2stateno = 1041)
trigger1 = (movetype = A) || (ProjHit = 1)
trigger1 = hitdefattr = SCA, NA,SA,HA ; make sure it's not a throw attack
var(35) = 2
ignorehitpause = 1

[State -3, counter]
type = AssertSpecial
trigger1 = var(35) = 2
flag = nojugglecheck

[State -3, counter] ;reest
type = Varset
trigger1 = p2statetype = L
trigger2 = win
trigger3 = hitcount > 1
var(35) = 0

; COUNTER hit txt display
[State -3, counter]
type = helper
trigger1 = NumHelper(9997) = 0
trigger1 = facing = facing
trigger1 = hitcount <= 1
trigger1 = P2statetype != L
trigger1 = var(0) = 1
trigger1 = var(35) = 2
helpertype = normal
name = "counter"
id = 9997
stateno = 9997 ; (left)
pos = 0,0
postype = left
keyctrl = 0
ownpal = 1
ignorehitpause = 1

; COUNTER hit txt display
[State -3, counter]
type = helper
trigger1 = NumHelper(9998) = 0
trigger1 = facing = facing
trigger1 = hitcount <= 1
trigger1 = P2statetype != L
trigger1 = var(0) = 2
trigger1 = var(35) = 2
helpertype = normal
name = "counter"
id = 9998
stateno = 9998 ;(right)
pos = 0,0
postype = right
keyctrl = 0
ownpal = 1
ignorehitpause = 1


;---------------------------------------------------------------------------------
; AI stuff

[State -3, AI-switch]
type = Helper
trigger1 = NumHelper(9999) = 0
trigger1 = anim = 0
trigger1 = movetype != H
trigger1 = ctrl = 0
trigger1 = RoundState = 2
Name = "AI switch"
id = 9999
pos = 0, 150
stateno = 9999
helpertype = normal
keyctrl = 1

[State -3, AIswitch2]
type = Varset
triggerall = var(59) != 1
triggerall = RoundState != 3
trigger1 = command = "AI_1"
trigger2 = command = "AI_2"
trigger3 = command = "AI_3"
trigger4 = command = "AI_4"
trigger5 = command = "AI_5"
trigger6 = command = "AI_6"
trigger7 = command = "AI_7"
trigger8 = command = "AI_8"
trigger9 = command = "AI_9"
trigger10 = command = "AI_10"
trigger11 = command = "AI_11"
trigger12 = command = "AI_12"
trigger13 = command = "AI_13"
trigger14 = command = "AI_14"
trigger15 = command = "AI_15"
trigger16 = (movetype != A) && (time = 1500) ; if idle for a long time.
var(59) = 0

;---------------------------------------------------------------------------
; AI defense control
[State -3, dodge SP]
type = changestate
triggerall = var(59) = 1 && ctrl && (statetype != A)
trigger1 = p2name = "K'"
trigger1 = p2stateno = 3002 || p2stateno = 3102
trigger2 = p2name = "Kyo-G"
trigger2 = p2stateno = 2210 || p2stateno = 2260
trigger2 = p2bodydist X <= 72
value = 110

[State -3, jump over projectile]
type = ChangeState
value = 40
triggerall = var(59) = 1 && ctrl
triggerall = Random <= 700
triggerall = p2bodydist X = [70,169]
triggerall = (stateno != (40,52)) && (Anim != (40,52)) 
triggerall = (stateno != 2041) && (stateno != 4044)
triggerall = statetype != A && p2statetype != A && p2movetype != H
trigger1 = p2name = "Kyo-G" || p2name = "Iori-G"
trigger1 = p2stateno = 1000 || p2stateno = 1020

[State -3, universal AI guard]
type = ChangeState
value = 120 + (p2statetype = C)*11
triggerall = Var(59) = 1 && ctrl
triggerall = statetype != A
triggerall = p2movetype = A
trigger1 = p2bodydist x = (0,65)
trigger2 = p2stateno > 1999

[State -3, air guard]
type = ChangeState
value = 132
triggerall = var(59) >= 1 && ctrl
trigger1 = p2movetype = A
trigger1 = P2bodydist X <= 40
trigger1 = statetype = A

;-----------------------------------------------------------------
[State -3, dodge]
type = changestate
value = 110
trigger1 = var(59) = 1 && ctrl
trigger1 = p2movetype = A && (p2stateno < 2000)
trigger1 = statetype != A
trigger1 = FrontEdgeDist > 109
trigger1 = random <= 899
trigger1 = P2bodydist X = [20,100]
;trigger1 = Enemy,Ctrl = 0 ; mugen 414 2001 only

[State -3, dodge]
type = changestate
value = 110
triggerall = var(59) = 1 && ctrl && (statetype != A)
trigger1 = p2stateno = 5120 && (FrontEdgeDist > 119)
trigger1 = P2bodydist X = [0,30]

[State -3, AIfightboss]
type = VarSet
Triggerall = var(59) >= 1
Triggerall = var(58) != 1
Trigger1 = p2name = "Goenitz" || p4name = "Goenitz"
var(58) = 1

; trigger all memory strings
[State -3, AI focus]
type = VarSet
Triggerall = var(59) >= 1
Triggerall = var(50) != 1
trigger1 = (p2name = "Kyo-G") || (p2name = "Iori-G")
trigger1 = life <= 750
trigger2 = life <= 450
var(50) = 1 - (RoundState = 3) ; resets every new round

; CM var(6) varadd
[State -3, var6]
type = varadd
trigger1 = var(6) != 0
trigger1 = time >= 0
v = 6
value = -1
ignorehitpause = 1
ignorepausetime = 1

; AM var(7) varadd
[State -3, var7]
type = varadd
trigger1 = var(7) != 0
trigger1 = time >= 0
v = 7
value = -1
ignorehitpause = 1
ignorepausetime = 1

[State -3, 0]
type = modifyexplod
trigger1 = var(6) > 0
ID = 4400
scale = (1128 - Var(6)) / 1128.0,1
ignorehitpause = 1
ignorepausetime = 1

[State -3, 0]
type = modifyexplod
trigger1 = var(7) > 0
ID = 4401
scale = (470 - Var(7)) / 470.0,1
ignorehitpause = 1
ignorepausetime = 1

[State -3, BarRemove]
type = RemoveExplod
trigger1 = var(6) <= 0
trigger1 = stateno != 6100
ID = 4000

[State -3, BarRemove]
type = RemoveExplod
trigger1 = var(6) <= 0
trigger1 = stateno != 6100
ID = 4400

[State -3, BarRemove]
type = RemoveExplod
trigger1 = var(7) <= 0
trigger1 = stateno != 6200
ID = 4001

[State -3, BarRemove]
type = RemoveExplod
trigger1 = var(7) <= 0
trigger1 = stateno != 6200
ID = 4401

[State -3, CM-palfx]
type = palfx
triggerall = (gametime%2) = 0
triggerall = name = "K'"
trigger1 = var(6) > 0
trigger2 = stateno = 6100
time = 1
add = 108,8,8
ignorepausetime = 1
ignorehitpause = 1

[State -3, AM-palfx]
type = palfx
triggerall = (gametime%2) = 0
triggerall = name = "K'"
trigger1 = var(7) > 0
trigger2 = stateno = 6200
time = 1
add = 96,96,16
ignorepausetime = 1
ignorehitpause = 1

[State -3, CM bar end]
type = Explod
trigger1 = var(0) = 1
trigger1 = var(6) = 1
anim = 4001
pos = 8,212
postype = left
bindtime = 1
vel = -7,0
removetime = 16
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 7
ownpal = 1
supermove = 1

[State -3, CM BarP2 remove]
type = explod
trigger1 = var(0) = 2
trigger1 = var(6) = 1
anim = 4201
pos = -103,212
postype = right
bindtime = 1
vel = 7,0
removetime = 16
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 7
ownpal = 1
supermove = 1

[State -3, AM bar end]
type = Explod
trigger1 = var(0) = 1
trigger1 = var(7) = 1
anim = 4101
pos = 8,212
postype = left
bindtime = 1
vel = -7,0
removetime = 16
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 7
ownpal = 1
supermove = 1

[State -3, AM BarP2 remove]
type = explod
trigger1 = var(0) = 2
trigger1 = var(7) = 1
anim = 4301
pos = -103,212
postype = right
bindtime = 1
vel = 7,0
removetime = 16
ignorepausetime = 1
ignorehitpause = 1
sprpriority = 7
ownpal = 1
supermove = 1

[State -3, CM-AM poweroff]
type = powerset
trigger1 = 1
trigger1 = var(6) != 0 || var(7) != 0
value = 0

[state -3, debug output]
type = DisplayToClipboard
trigger1 = 1
text="- AI :%d, juggle13=:%d, counter35=:%d, p2bodydistX=:%d, p2bodydistY=:%d"
params = var(59), var(13), var(35), floor(p2bodydist X), floor(p2bodydist Y)

[state -3, debug output]
type = AppendToClipboard
trigger1 = 1
text="\n- CM :%d, AM :%d"
params = var(6), var(7)


;ñ≥éÆ
[Statedef 975]
type    = S
movetype= I
physics = S
poweradd = -3000
ctrl = 0
velset = 0,0,0
anim = 975

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 975
flag = noFG
ignorehitpause = 1

[State 975]
type = PlaySnd
trigger1 = time = 0
value = 800,10

[State 975]
type = PlaySnd
trigger1 = time = 20
value = 800,3

[State 975]
type = PlaySnd
trigger1 = time = 30
value = 800,5

[State 1000]
type = playsnd
trigger1 = time = 2
value = 800,4

[State 1000]
type = envcolor
trigger1 = animelem = 1,0
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 975]
type = Explod
trigger1 = time = 0
anim = 15400
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
bindtime = 1
ownpal = 1

[State 975]
type = Explod
trigger1 = time = 0
anim = 15401
postype = p1
pos = 0,-90
sprpriority = 2
supermove = 1
bindtime = 1
ownpal = 1

[State 975]
type = envcolor
trigger1 = time = 0
time = 60
under = 1
value = 0, 0, 0

[state 975]
type = superpause
trigger1 = time = 0
anim = -1
movetime = 41
time = 41

[state 975]
type = changestate
trigger1 = animtime = 0
value = 976

;---------------------
[statedef 976]
type = S
movetype = A
physics = S
anim = 976
ctrl = 0
velset = 0, 0, 0

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 976
flag = noFG
ignorehitpause = 1

;[state 13502]
;type = afterimage
;trigger1 = time = 0
;time = 100
;palbright = 68,68,68

[State 3800, 1]
type = explod
;trigger1 = facing = 1
trigger1 = time = 1
ID = 13200
pos = 0,0
postype = LEFT
anim = 13201
bindtime = 235
removetime = 29
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 999
scale = 1.09,1.09

[state 13501]
type = changestate
trigger1 = animtime = 0
value = 0
velset = 0, 0, 0
ctrl = 1

[state 13502]
type = HitDef
trigger1 = animelem = 3
persistent = 0
attr = S, HA
animtype  = hard
damage    = 25
givepower = 12,6
;hitflag = HMAL
hitflag = MAF
;guardflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-90
hitsound   = S230,0
guard.sparkno = s8056
ground.type = Low
ground.velocity = 0,0
ground.hittime = 160
velset = 0, 0, 0
kill = 0
p2facing = 1
p2stateno = 979

[state 13503]
type = envcolor
trigger1 = movehit
value = 240,240,240
time = 1
under = 0

[state 13503]
type = envshake
trigger1 = movehit
ampl = -4
time = 20

[State 3800, 1]
type = explod
;trigger1 = facing = 1
trigger1 = time = 1
ID = 13200
pos = 0,0
postype = LEFT
anim = 13201
bindtime = 235
removetime = 29
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 999
scale = 1.09,1.09


[state 976]
type = changestate
trigger1 = movehit
value = 977

;---------------------
[statedef 977]
type = S
movetype = A
physics = S
anim = 977
ctrl = 0
velset = 0, 0, 0

[State 3000, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 83

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 977
flag = noFG
ignorehitpause = 1

[State 3215]
type = pause
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 1 >= 0
trigger1 = Timemod = 2,0
time = 3

[State 1500, 6]
type = Explod
trigger1 = animelem = 8
anim = 2208
postype = p1
pos = 6,-85
ID = 1500
sprpriority = 3
ignorehitpause = 0
bindtime = 1
ownpal = 1

[State 1500, 6]
type = Explod
trigger1 = animelem = 20
anim = 2201
postype = p1
pos = 6,-110
ID = 1500
sprpriority = 3
ignorehitpause = 0
bindtime = 1
ownpal = 1
scale = 1.6,1.6

[State 3800, 1]
type = explod
;trigger1 = facing = 1
trigger1 = time = 1
ID = 13200
pos = 0,0
postype = LEFT
anim = 13201
bindtime = 235
removetime = 42
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 999
scale = 1.09,1.09

[state 13501]
type = changestate
trigger1 = animtime = 0
value = 0
velset = 0, 0, 0
ctrl = 1

[state 13502]
type = HitDef
trigger1 = animelem = 3
persistent = 0
attr = S, HA
animtype  = hard
damage    = 25
givepower = 12,6
;hitflag = HML
hitflag = MAF
;guardflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-90
hitsound   = S240,0
guard.sparkno = s8056
ground.type = High
ground.velocity = -4,0
ground.hittime = 160
velset = 0, 0, 0
kill = 0
p2stateno = 980

[state 13503]
type = envcolor
trigger1 = animelem = 2
trigger2 = animelem = 9
trigger3 = animelem = 11
trigger4 = animelem = 12
trigger5 = animelem = 14
trigger6 = animelem = 16
trigger7 = animelem = 19
trigger8 = animelem = 20
value = 240,240,240
time = 2
under = 0

[state 13503]
type = envshake
trigger1 = animelem = 2
trigger2 = animelem = 20
ampl = -6
time = 40

[State 3800, 1]
type = explod
;trigger1 = facing = 1
trigger1 = time = 1
ID = 13200
pos = 0,0
postype = LEFT
anim = 13201
bindtime = 235
removetime = 100
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 999
scale = 1.09,1.09

[state 4100 , playsnd]
type = PlaySnd
trigger1 = animelem = 4
value = 221,26
persistent = 2

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = animelem = 13
ampl = -2
time = 50

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 14
trigger2 = AnimElem = 15
trigger3 = AnimElem = 16
ampl = -3
time = 50

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 17
trigger2 = AnimElem = 18
trigger3 = AnimElem = 19
ampl = -4
time = 50

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 8
value = 221,27

[state 977]
type = changestate
trigger1 = animelem = 20
value = 978


[Statedef 978]
type = S
movetype = A
physics = N
anim = 978

[State 3000, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 215

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 978
flag = noFG
ignorehitpause = 1

[State 3215]
type = pause
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 1 <= 38
trigger1 = Timemod = 2,0
time = 2

[state 4100 , playsnd]
type = PlaySnd
trigger1 = animelem = 1
value = 221,25
persistent = 3

[state 4100 , playsnd]
type = PlaySnd
trigger1 = animelem = 1
value = 2200,1
persistent = 4

[State 3800, 1]
type = explod
;trigger1 = facing = 1
trigger1 = time = 1
ID = 13200
pos = 0,0
postype = LEFT
anim = 13201
bindtime = 310
removetime = 300
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 999
scale = 1.09,1.09

[State 100, 3]
type = PlaySnd
trigger1 = Time = 1
value = 215,2
persistent = 3


[State 13505]
type = PlaySnd
trigger1 = animelem = 3
value = 1500,1
persistent = 4

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype = Hard
damage = 25
getpower  = 40
givepower = 20
pausetime = 16,28
guard.pausetime = 0,4
sparkno = s8035
sparkxy = 0,-60
hitsound = S221,52
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -2,0
guard.hittime = 30
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 979

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Hard
damage = 50
getpower  = 20
givepower = 20
pausetime = 18,28
guard.pausetime = 0,4
sparkno = s8035
sparkxy = 0,-60
hitsound = S221,52
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -1,0
guard.hittime = 30
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0
p2stateno = 980

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = diagup
damage = 50
getpower  = 40
givepower = 20
pausetime = 10,12
guard.pausetime = 0,4
sparkno = s8035
sparkxy = 0,-60
hitsound = S240,0
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -4,-8
guard.hittime = 30
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 7
value = 221,56
persistent = 2

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 7
value = 1500,0
persistent = 3

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 7
value = 1300,0
persistent = 4

[State 1270, 6]
type = VelSet
trigger1 = animelem = 1
x = 1
[State 1270, 6]
type = VelSet
trigger1 = animelem = 3
x = 2
[State 1270, 6]
type = VelSet
trigger1 = animelem = 4
x = 3
[State 1270, 6]
type = VelSet
trigger1 = animelem = 5
x = 0
[State 1270, 6]
type = VelSet
trigger1 = animelem = 5,14
x = 2
[State 1270, 6]
type = VelSet
trigger1 = animelem = 6
x = 0
[State 1270, 6]
type = VelSet
trigger1 = animelem = 6,26
x = 2
[State 1270, 6]
type = VelSet
trigger1 = animelem = 8
x = 1
[State 1270, 6]
type = VelSet
trigger1 = animelem = 9
x = 2
[State 1270, 6]
type = VelSet
trigger1 = animelem = 10
x = 1
[State 1270, 6]
type = VelSet
trigger1 = animelem = 13
x = 0

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 10
trigger3 = AnimElem = 12
trigger4 = AnimElem = 14
trigger5 = AnimElem = 16
trigger6 = AnimElem = 17
trigger7 = AnimElem = 18
trigger8 = AnimElem = 18,2
trigger9 = AnimElem = 19
trigger10 = AnimElem = 19,2
attr = S, HA
animtype = diagup
damage = 25
pausetime = 10,12
guard.pausetime = 0,4
sparkno = -1
;sparkxy = 0,-60
hitsound = S2100,0
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -4,-5
guard.hittime = 30
air.type = Low
air.slidetime = 30
air.hittime = 17
air.velocity = -2,-6
air.hittime = 30
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
kill = 0

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 21
attr = S, HA
animtype = diagup
damage = 500
getpower  = 40
givepower = 20
pausetime = 10,12
guard.pausetime = 0,4
sparkno = -1
sparkxy = 0,-60
hitsound = S2200,0
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -4,-18
guard.hittime = 30
air.type = Low
air.slidetime = 30
air.hittime = 17
air.velocity = -2,-12
air.hittime = 30
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 25 
envshake.ampl = 7
envshake.freq = 160
fall.envshake.ampl = 6 
fall.envshake.freq = 180
fall.envshake.time = 15

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 21
value = 2200,1
persistent = 2

[State 1500, 5]
type = Explod
trigger1 = animelem = 2, = 0
anim = 1530
postype = p1
pos = -10,-26
sprpriority = -2
bindtime = 1
ownpal = 1

[State 1500, 6]
type = Explod
trigger1 = animelem = 6
anim = 1520
postype = p1
pos = -20,-34
ID = 1500
sprpriority = 3
ignorehitpause = 0
bindtime = 1
ownpal = 1

[State 1500, 5]
type = Explod
trigger1 = animelem = 7
anim = 1510
postype = p1
pos = 24,-36
ID = 1500
shadow = 64,64,64
sprpriority = 2
ignorehitpause = 0
bindtime = 22
ownpal = 1

[State 7002]
type = Explod
trigger1 = animelem = 6
anim = 2200
postype = p2
pos = 0,-60
sprpriority = 3
bindtime = 1
ownpal = 1

[State 8110, 11]
type = Explod
trigger1 = movehit
trigger1 = Time < 50
trigger1 = Random < 100
anim = 2201
ID = 1005
sprpriority = 5
postype = p2
pos = 10,-30
random = 40,30
bindtime = 1
ignorehitpause = 1

[State 1500, 6]
type = Explod
trigger1 = animelem = 8
trigger2 = AnimElem = 10
trigger3 = AnimElem = 12
trigger4 = AnimElem = 14
trigger5 = AnimElem = 16
trigger6 = AnimElem = 18
trigger7 = AnimElem = 20
anim = 13204
postype = p1
pos = 80,-42
ID = 1500
sprpriority = 3
ignorehitpause = 0
bindtime = 1
ownpal = 1
scale = 1.6,1.6

[State 1500, 6]
type = Explod
trigger1 = animelem = 9
trigger2 = AnimElem = 11
trigger3 = AnimElem = 13
trigger4 = AnimElem = 15
trigger5 = AnimElem = 17
trigger6 = AnimElem = 19
trigger7 = AnimElem = 21
anim = 13204
postype = p1
pos = 120,-42
ID = 1500
sprpriority = 3
ignorehitpause = 0
bindtime = 1
ownpal = 1
scale = 1.6,1.6

[State 3901 , 9]
type = Explod
trigger1 = animelem = 12
trigger2 = AnimElem = 13,2
trigger3 = AnimElem = 14
trigger4 = AnimElem = 15,3
anim = 936
ID = 930
ownpal = 1
sprpriority = 5
postype = p2
pos = -80,-40
bindtime = 1
random = 20,20
ignorehitpause = 2

[State 3901 , 9]
type = Explod
trigger1 = animelem = 15
trigger2 = AnimElem = 15,2
trigger3 = AnimElem = 16
trigger4 = AnimElem = 17,3
trigger5 = AnimElem = 18
trigger6 = AnimElem = 19
trigger7 = AnimElem = 20
anim = 936
ID = 930
ownpal = 1
sprpriority = 5
postype = p2
pos = -80,-40
bindtime = 1
random = 40,40
ignorehitpause = 2
scale = 1.6,1.6


[State 3901 , 9]
type = Explod
trigger1 = animelem = 21
trigger2 = animelem = 23
trigger3 = animelem = 25
trigger4 = animelem = 26
anim = 936
ID = 930
ownpal = 1
sprpriority = 5
postype = p2
pos = -80,80
bindtime = 1
random = 10,10
ignorehitpause = 2
scale = 2.2,2.2

[state 13101]
type = envcolor
trigger1 = animelem = 14
trigger2 = AnimElem = 15,2
trigger3 = AnimElem = 16
trigger4 = AnimElem = 17,3
trigger5 = AnimElem = 18
trigger6 = AnimElem = 19
trigger7 = AnimElem = 20
value = 240,240,240
time = 2

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 1
ampl = -8
time = 50

;[state 3901 ,shake]
;type = envshake
;trigger1 = animelem = 5
;trigger2 = AnimElem = 6
;trigger3 = AnimElem = 7
;trigger4 = AnimElem = 9
;trigger5 = AnimElem = 11
;trigger6 = AnimElem = 12
;trigger7 = AnimElem = 13
;trigger8 = animelem = 14
;trigger9 = AnimElem = 15,2
;trigger10 = AnimElem = 16
;trigger11 = AnimElem = 17,3
;trigger12 = AnimElem = 18
;trigger13 = AnimElem = 19
;trigger14 = AnimElem = 20
;trigger15 = AnimElem = 6,24
;trigger16 = AnimElem = 6,23
;ampl = -5
;time = 50


[state 3901 ,shake]
type = envshake
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 1 >= 0
ampl = -5
time = 50

[state 3901 ,shake]
type = envshake
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 5 >= 0
ampl = -7
time = 50

[state 3901 ,shake]
type = envshake
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 7 >= 0
ampl = -5
time = 50

[state 3901 ,shake]
type = envshake
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 11 >= 0
ampl = -8
time = 50

[state 3901 ,shake]
type = envshake
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 21 >= 0
ampl = -4
time = 40

[state 3901 ,shake]
type = envshake
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 26 >= 0
ampl = -2
time = 30

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 21
value = 2200,0
persistent = 3

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
trigger8 = animelem = 14
trigger9 = AnimElem = 15,2
trigger10 = AnimElem = 16
trigger11 = AnimElem = 17,3
trigger12 = AnimElem = 18
trigger13 = AnimElem = 19
trigger14 = AnimElem = 20
trigger15 = AnimElem = 6,26
value = 2100,0
persistent = 4

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 21
ampl = -8
time = 50

[state 4100 , playsnd]
type = PlaySnd
trigger1 = animelem = 6
value = 2200,0
persistent = 0

[state 4100 , playsnd]
type = PlaySnd
trigger1 = animelem = 34
value = 221,19
persistent = 0

[state 13101]
type = envcolor
trigger1 = animelem = 6
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 14
trigger8 = animelem = 17
trigger9 = AnimElem = 18
trigger10 = AnimElem = 20
trigger11 = AnimElem = 21
trigger12 = AnimElem = 23
trigger13 = AnimElem = 24
trigger14 = AnimElem = 26
trigger15 = AnimElem = 28
value = 240,240,240
time = 1
under = 0

[State 3215]
type = pause
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 1 >= 0
trigger1 = Timemod = 4,0
time = 3

[State 3215]
type = pause
trigger1 = Enemy,Alive = 1
trigger1 = Animelem = 21 >= 0
trigger1 = Timemod = 4,0
time = 1

[State 1270, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;ñ≥éÆÅ@ëäéËÅ@ÇkÇèÇó
[Statedef 979]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 979

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

;ñ≥éÆÅ@ëäéËÅ@ÇgÇâÇáÇà
[Statedef 980]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 980

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100






;ÉNÉäÉÄÉ]Éì
[Statedef 13501]
type    = S
movetype= A
physics = S
poweradd = -2000
ctrl = 0
velset = 0,0,0
anim = 13502
juggle = 0

[State -2,ãÛíÜÉRÉìÉ{êßå¿âèú]
Type = AssertSpecial
Trigger1 = 1
flag = nojugglecheck

[State 3000]
Type = AttackDist
Trigger1 = 1
Value = 0

[State 1000]
type = playsnd
trigger1 = time = 5
value = 1700,2
volume = 255
ignorehitpause = 1

[State 3000]
type = NotHitBy
Trigger1 = Time = 0
value = SCA,AA,AT,AP
time = 5

[State 0, VarSet]
type = VarSet
triggerall = animelem = 3
trigger1 = (prevstateno = 3202 || prevstateno = 2506 || prevstateno = 3205)
trigger2 = prevstateno = 3102
v = 56    ;fv = 10
value = 1
ignorehitpause = 1



[State 3000]
type = posadd
Trigger1 = AnimElem = 2,> 0 && AnimElem = 5,< 0
x = 3.3

[State 3000]
type = AfterImage
Trigger1 = AnimElem = 2
time = 50
length = 10
framegap = 3
palcontrast = 32,32,32
paladd = 0,0,0
palmul = 1,1,1

[State 3000]
type = HitDef
Trigger1 = AnimElem = 3,>0
attr = S, HA
givepower = 40
hitflag = MAF
priority = 4, hit
pausetime = 0,0
sparkno =  -1
numhits = 0
p2facing = 1
p1stateno = 13502
p2stateno = 13510
guard.dist = 0

[State 3000]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------
[statedef 13502]
type = S
movetype = A
physics = N
anim = 13503
ctrl = 0
velset = 0, 0, 0

[state -2]
type = BGPalFX
Trigger1 = time =5
time = 4
add = -64,-64,-64
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=9
time = 4
add = -96,-96,-96
invertall = 0
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = 0
;ignorehitpause =
;persistent =


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =


[state -2]
type = BGPalFX
Trigger1 = time=13
time = 4
add = -128,-128,-128
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=17
time = 4
add = -160,-160,-160
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=21
time = 4
add = -192,-192,-192
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=25
time = 400
add = -204,-204,-204
invertall = 0
color = 256

[state 1000]
type = playsnd
trigger1 = time = 0
value = 6867,0
volume = 100
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 15
value = 221,4
volume = 255
ignorehitpause = 1

[State 3001]
type = SuperPause
Trigger1 = animelem = 3
time = 50
anim = -1
p2defmul = 1
movetime = 50
darken = 0

[State 3001]
Type = AttackDist
Trigger1 = 1
Value = 0

[State 3001]
type = AssertSpecial
Trigger1 = Time = [0,168]
flag = NoBarDisplay
flag2 = nofg
ignorehitpause = 1

[State 3001]
type = Envcolor
Trigger1 = time =0
time = 2
value = 255,255,255
under = 0

[State 3001]
type = Width
Trigger1 = 1
edge = 30,0

[State 3001]
type = posadd
Trigger1 = time = 1
x = P2dist X

[State 3001]
type = posadd
Trigger1 = animelem = 1,>0 && animelem = 1,<25
x = 1.5

[State 3001]
type = posadd
Trigger1 = animelem = 1,>25 && animelem = 2,<0
x = 1

[State 3001]
type = posadd
Trigger1 = animelem = 2,>0 && animelem = 3,<0
x = .5

[State 3001]
type = AfterImage
Trigger1 = AnimElem = 1
time = 70
length = 10
framegap = 3
palcontrast = 32,32,32
paladd = 0,0,0
palmul = 1,1,1

[State 1000]
type = Explod
triggerall = animelem = 3
trigger1 = prevstateno = 1503
trigger2 = prevstateno = 13505
trigger3 = prevstateno = 1201 || prevstateno = 1204
anim = 6200
sprpriority = 50
postype = left
pos = 160,97
ownpal = 1
bindtime = -1
supermove = 1
ontop = 1
scale = 0.7,0.7

[State 9090]
type = Explod
trigger1 = animelem = 3 && prevstateno = 1503
trigger2 = animelem = 3 && prevstateno = 13505
trigger3 = animelem = 3 && prevstateno = 1201 || prevstateno = 1204
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State ]
type = Explod
triggerall = var(56) = 1
trigger1 = animelem = 3
anim = 6201
sprpriority = 50
postype = left
pos = 160,100
bindtime = -1
supermove = 1
ontop = 1
scale = 0.5,0.5

[State ]
type = Explod
triggerall = var(56) = 1
trigger1 = animelem = 3
anim = 6202
sprpriority = 49
postype = left
pos = 160,100
bindtime = -1
supermove = 1
under = 0
ownpal = 1
removetime = 56
trans = addalpha
alpha = 340-120,120
scale = 1.0,1.2

[State ]
type = Explod
trigger1 = animelem = 3
anim = 6112
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "Sparklvl2'1"
ID = 9012
stateno = 9012
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3,20
helpertype = normal
name = "Sparklvl2'2"
ID = 9002
stateno = 9002
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 800,10
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 3,20
value = 800,1
volume = 100
ignorehitpause = 1

[State 54321]
type = trans
trigger1 = time >= 80
trans = addalpha
alpha = 256 - ((time-80)*5), ((time-80)*5)
time = -1
ignorehitpause = 1
persistent = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 13504
ignorehitpause = 1







;-----------
[statedef 13503]
type = S
movetype= I
physics = S
ctrl = 0
anim = 13503
;velset = 15, 0, 0

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 13503
flag = noFG
ignorehitpause = 1

[State 110, Vel Y]
type = VelSet
trigger1 = Time >= 0
x = 5

[State 110, 3]
type = VelSet
trigger1 = Time >= 24
x = 0

[state 13503]
type = changestate
trigger1 = animtime = 0
value = 13504

[Statedef 3550]
type = S
movetype = A
physics = N
anim = 999999
velset = 0,0,0

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1000]
type = envcolor
trigger1 = time = 0
value = 240,240,240
time = 3
under = 0
ignorehitpause = 1


[State 1000]
type = explod
trigger1 = time = 0
anim = 885
bindtime = 1
removetime = -2
facing = -1
supermovetime = 99999
ownpal = 1
sprpriority = 3
scale = .5,.5
ignorehitpause = 1
pos = 0,0
postype = p1

[State 1000]
type = explod
trigger1 = time = 0
anim = 885
bindtime = 1
removetime = -2
facing = 1
supermovetime = 99999
ownpal = 1
sprpriority = 3
ignorehitpause = 1
scale = .5,.5
pos = 0,0
postype = p1

[state 13504]
type = HitDef
trigger1 = animelem = 1
attr = S, HP
animtype  = up
damage    = 10
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S2200,1
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 12
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3372


[State 1000]
type = playsnd
trigger1 = time = 0
value = 245,0
volume = -150
ignorehitpause = 1

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 1000]
type = destroyself
trigger1 = time = 40
ignorehitpause = 1
persistent = 1

[Statedef 13514]
type = S
movetype = A
physics = N
anim = 887
velset = 0,0
ctrl = 0
sprpriority = 4


[State 1000]
type = envcolor
trigger1 = time = 0
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 96
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[statedef 13504]
type = S
movetype = A
physics = S
ctrl = 0
anim = 13512
velset = 0, 0, 0

[State 0, TargetBind]
type = bindtotarget
trigger1 = time = 0
time = 1
pos = 0,0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 56    ;fv = 10
value = 0
;ignorehitpause =
;persistent =

[State 0, VarSet]
type = VarSet
triggerall = time >= 0
trigger1 = command = "lvl 3 EXTINCTION YA"
trigger1 = power >= 1000
v = 9    ;fv = 10
value = 1
;ignorehitpause =
;persistent =

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 2,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = 5,0
random = 90,10
bindtime = 1
vel = 0,-5
ignorehitpause = 1
scale = .5,.5
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = -2
postype = p1
pos = 5,0
random = 90,10
bindtime = 1
vel = 0,-7
ignorehitpause = 1
scale = .5,.5
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 3,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = 0,0
random = 90,10
bindtime = 1
vel = 0,-.3
ignorehitpause = 1
scale = .7,.7
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 3,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,0
random = 90,10
bindtime = 1
vel = 0,-.6
ignorehitpause = 1
scale = .7,.7
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
sprpriority = 5
postype = p1
pos = 0,-20
random = 90,50
bindtime = 1
vel = 0,-2
ownpal = 1
ignorehitpause = 1
scale = .8,.8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 6867,1
volume = 255
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 6865,53
volume = 255
ignorehitpause = 1

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 13504
flag = nofg
flag2 = NoBarDisplay
ignorehitpause = 1
persistent = 1

[State 3000, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 102

[state 13504]
type = HitDef
trigger1 = time = 12
trigger2 = time = 18
trigger3 = time = 24
trigger4 = time = 30
trigger5 = time = 36
trigger6 = time = 42
trigger7 = time = 48
trigger8 = time = 54
trigger9 = time = 60
trigger10 = time = 66
trigger11 = time = 72
trigger12 = time = 78
trigger13 = time = 84
trigger14 = time = 90
trigger15 = time = 96
attr = S, HP
animtype  = up
damage    = 10
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[state 13504]
type = HitDef
triggerall = !var(9)
trigger1 = time = 102
attr = S, HP
animtype  = up
damage    = 0
givepower = 24,6
guardflag = M
pausetime = 0,1
sparkno = -1
sparkxy = -10,-60
guard.sparkno = s8056
hitsound   = S2200,2
ground.velocity = .3,-24
ground.hittime = 20
envshake.time = 25
envshake.ampl = 12
envshake.freq = 75
fall = 1
kill = 1
fall.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 20
envshake.ampl = 12
fall.damage = 20
p2stateno = 3010

[State 1000]
type = targetlifeadd
triggerall = !var(9)
trigger1 = time = 102
value = -150
ignorehitpause = 1
absolute = 1
persistent = 0

[State 0, Helper]
type = Helper
triggerall = !var(9)
trigger1 = time = 102
helpertype = normal
name = "Burst"
ID = 13514
stateno = 13514
pos = 0,0
postype = p2
size.xscale = 1.2
size,yscale = 1.2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1


[State 1000]
type = playsnd
triggerall = !var(9)
trigger1 = time = 102
value = 6865,51
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
triggerall = !var(9)
trigger1 = time = 102
value = 2200,8
volume = 255
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

;[state 13504]
;type = explod
;trigger1 = movehit
;anim = 2204
;postype = p2
;pos = 10,-20
;removetime = 1

[state 13501]
type = changestate
triggerall = !var(9)
trigger1 = animtime = 0
value = 13515
ctrl = 1

[state 13501]
type = changestate
triggerall = var(9) = 1
trigger1 = time = 102
value = 3500
ctrl = 1

[Statedef 13515]
type = S
movetype = A
physics = N
ctrl = 0
anim = 13515

[state -2]
type = BGPalFX
Trigger1 = time=33
time = 4
add = -16,-16,-16
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=29
time = 4
add = -32,-32,-32
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=25
time = 4
add = -64,-64,-64
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=21
time = 4
add = -96,-96,-96
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=17
time = 4
add = -128,-128,-128
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=13
time = 4
add = -160,-160,-160
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=9
time = 4
add = -192,-192,-192
invertall = 0
color = 256

[state -2]
type = BGPalFX
Trigger1 = time=5
time = 4
add = -204,-204,-204
invertall = 0
color = 256

[State 1000]
type = velset
trigger1 = time = 0
x = 7
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time >= 0
trigger1 = time <= 47
x = -.149
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = time = 10
value = 6865,65
volume = -200
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 48
x = 0
ignorehitpause = 1


[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;ÉNÉäÉÄÉ]ÉìÅ@ëäéË
[Statedef 13510]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 3002]
type = Width
Trigger1 = Time = 0
edge = 120,120

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 13510

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

[Statedef 13511]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = -2

[State 2205, 2]
type = posset
trigger1 = 1
y = 0

[State 3002]
type = Width
Trigger1 = Time = 0
value = 0,120

[State 2006]
type= Changeanim2
trigger1 =Time=0
value= 13511

[State 2006]
type = SelfState
trigger1 = animtime = 0
value = 5100

;ÉNÉäÉÄÉ]ÉìÅ@ÇdÇmÇc



; ÉiÉçÉEÉXÉpÉCÉN
[Statedef 13505]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0,0
anim = 13505

[State 1000]
Type = AttackDist
Trigger1 = AnimElem = 7,>= 0 || MoveGuarded
Value = 0

[State 2100]
type = Width
Trigger1 = (animelem = 2,>=0 && animelem = 10,<0)
edge = 20,0

;[state 13505]
;type = velset
;trigger1 = time = 0
;Y = 10

[state 13505]
type = posset
trigger1 = time = 0
Y = 0

[state 13505]
type = velset
trigger1 = pos Y >= 0
Y = 0

[state 13505]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S, NA
animtype  = diagup
damage    = 50
givepower = 12,6
hitflag = HML
guardflag = ML
pausetime = 8,10
sparkno = s8035
guard.sparkno = s8056
guardsound =s150,0
sparkxy = -10,-40
hitsound   = S230,0
ground.velocity = -5,-6
ground.hittime = 180
ground.cornerpush.veloff = -12
guard.cornerpush.veloff = -12
air.cornerpush.veloff = 0
velset = 0, 0, 0
fall = 1
fall.recover = 0

[State 13505]
type = PlaySnd
trigger1 = Time = 0
value = 1300,1
volume = 255

[State 13505]
type = PlaySnd
trigger1 = Time = 2
value = 221,66

[State 1450]
type = VelSet
triggerall = PrevStateNo= [1300,1301]
Trigger1 = AnimElem = 1;Time = 0
x = 12
y = 0

[State 1450]
type = VelSet
triggerall = PrevStateNo=[1305,1306]
Trigger1 = AnimElem = 1;Time = 0
x = 16
y = 0

[state 1450]
type = veladd
Trigger1 = AnimElem = 1,>=0
x = -0.45

[State 1450]
type = StateTypeSet
Trigger1 = AnimElem = 7
movetype = I

[State 1450]
type = AfterImage
trigger1 = AnimElem = 1
time = 27
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = -50, -50, -50
PalMul = 1,1,1
Length = 4
FrameGap = 1
TimeGap = 4
Trans = add1

[state 13505]
type = changestate
triggerall = var(59) != 1
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 13505]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 1301
triggerall = power <= 1000
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "heavensdrive"
triggerall = power >= 1000
trigger1 = time >= 5
value = 3340

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "heavensdriveSDM"
triggerall = power >= 2000
trigger1 = time >= 5
value = 3390

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "chaindriver"
triggerall = power >= 1000
trigger1 = time >= 5
value = 3200

[State 1000]
type = changestate
triggerall = command = "heatdriver"
triggerall = power >= 1000
trigger1 = time >= 5
value = 3100

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "heatdriver2"
triggerall = power >= 1000
trigger1 = time >= 5
value = 3100

[State 1000]
type = changestate
triggerall = !var(59)
triggerall = command = "b_c"
triggerall = power >= 1000
trigger1 = time >= 5
value = 3600

[State 1000]
type = changestate
triggerall = prevstateno = 1301
triggerall = var(59) = 1
triggerall = power <= 1000
trigger1 = animtime = 0
value = ifelse(p2bodydist x >= 0,0,1500)

[State 1000]
type = changestate
triggerall = prevstateno = 1301
triggerall = var(59) = 1
triggerall = power >= 1000
trigger1 = ifelse(p2bodydist x >= 0,animtime = 0,time = 20)
value = ifelse(p2bodydist x >= 0,0,3600)
ctrl = ifelse(p2bodydist x >= 0,1,0)

[state 13505]
type = changestate
triggerall = var(59) = 1
triggerall = prevstateno = 1306
trigger1 = animtime = 0
value = ifelse(p2bodydist x <= -20,2997,1500)
ctrl = 0

[Statedef 3500]
type = S
movetype = A
physics = N
anim = 3600
ctrl = 0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
persistent = 1

[state -2]
type = BGPalFX
Trigger1 = time = 0
time = 170
add = -204,-204,-204
invertall = 0
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = 0
ignorehitpause = 1
;persistent =

[State 1000]
type = assertspecial
trigger1 = 1
flag = nobg
flag2 = nofg
flag3 = nobardisplay
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = animelem = 5
time = 2
pos = -90,0
ignorehitpause = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nobg
flag2 = nofg
flag3 = nobardisplay
ignorehitpause = 1

[State 1000]
type = posset
triggerall = facing = 1
trigger1 = animelem = 5
x = 90
y = 0
ignorehitpause = 1

[State 1000]
type = posset
triggerall = facing = -1
trigger1 = animelem = 5
x = -90
y = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Firebash"
ID = 3503
stateno = 3550
pos = 0,-60
postype = p2
size.xscale = .6
size,yscale = .4
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = time = 0
anim = 2014
bindtime = 1
removetime = -2
facing = 1
supermovetime = 99999
ownpal = 1
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
pos = 0,-60
postype = p1

[State 54321]
type = trans
trigger1 = time >= 0 && time <= 35
trans = addalpha
alpha = 0 + ((time-15)*13),256 - ((time-15)*13)
time = 20
ignorehitpause = 1
persistent = 1

[State 54321]
type = trans
trigger1 = time >= 103
trans = addalpha
alpha = 256 - ((time-103)*9),((time-103)*9)
time = -1
ignorehitpause = 1
persistent = 1

[State 1000]
type = posadd
trigger1 = time >= 0 && time <= 35
x = 2
y = 0
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = time >= 35 && time <= 50
x = 1
y = 0
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 15
value = 1700,3
volume = 255
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = animelem = 10
trigger2 = animelem = 14
value = 221,19
volume = 255
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = animelem = 10
trigger2 = animelem = 14
value = 221,19
volume = 255
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = !numhelper(100094)
trigger1 = animelem = 5
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 9023
pos = -20,67
postype = Left
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 9024
pos = 0,60
postype = Left
sprpriority = 6
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 9025
pos = 0,65
postype = Left
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9013
sprpriority = 5
postype = p1
pos = -10,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9013
sprpriority = 5
postype = p1
pos = -10,0
bindtime = 1
facing = -1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 9003
sprpriority = 4
postype = p1
pos = 0,-65
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
scale = 1,1
ownpal = 1

[State 2500,2]
type = PlaySnd
trigger1 = animelem = 5
value = 800,10
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 5,2
value = 800,4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7,11
value = 800,3
volume = 255

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 5
time = 79
anim = -1
movetime = 79
poweradd = -1000
unhittable = 1
ignorehitpause = 1
darken = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3501

[Statedef 3501]
type = S
movetype = A
physics = N
anim = 3601
velset = 0,0,0

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time = 0
time = 2
pos = 0,0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 20
v = 3    ;fv = 10
value = 1
ignorehitpause = 1
;persistent =

[State 1000]
type = assertspecial
trigger1 = 1
flag = nobg
flag2 = nofg
flag3 = nobardisplay
ignorehitpause = 1

[State 1000]
type = posset
trigger1 = time = 0
x = 0
y = 0
ignorehitpause = 1


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 6865,37
volume = 255
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 6865,62
volume = 255
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 6867,1
volume = 255
ignorehitpause = 1

[State ]
type = Explod
trigger1 = time = 0
anim = 14500
ID = 14500
pos = -10,0
postype = p2
scale = .8,.8
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
ontop = 1
ownpal = 1
ignorehitpause = 1
removeongethit = 1

[State ]
type = Explod
trigger1 = time = 304
anim = 14501
ID = 14501
pos = -10,0
postype = p2
scale = .8,.8
bindtime = -1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
ontop = 1
ownpal = 1
ignorehitpause = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 304
id = 14500
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "HSDM Portrait"
ID = 6133
stateno = 6133
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 20
trigger2 = time = 133
trigger3 = time = 189
trigger4 = time = 248
value = 6865,25
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 42
trigger2 = time = 205
trigger3 = time = 238
trigger4 = time = 258
value = 6865,26
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 68
trigger2 = time = 88
trigger3 = time = 148
trigger4 = time = 228
trigger5 = time = 268
trigger6 = time = 278
trigger7 = time = 288
trigger8 = time = 298
value = 2200,18
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 108
trigger2 = time = 170
trigger3 = time = 218
value = 2200,19
volume = 255
ignorehitpause = 1

[state 13504]
type = HitDef
trigger1 = time = 30
trigger2 = time = 52
trigger3 = time = 76
trigger4 = time = 96
trigger5 = time = 116
trigger6 = time = 141
trigger7 = time = 156
trigger8 = time = 172
trigger9 = time = 188
trigger10 = time = 201
trigger11 = time = 214
trigger12 = time = 224
trigger13 = time = 234
trigger14 = time = 244
trigger15 = time = 254
trigger16 = time = 264
trigger17 = time = 274
trigger18 = time = 284
trigger19 = time = 294
attr = S, HP
animtype  = up
damage    = 10
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -70+(random%60),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 6
envshake.ampl = 4
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3370+(random%2)

[state 13504]
type = HitDef
trigger1 = time = 304
attr = S, HP
animtype  = up
damage    = 10
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = 0,-50
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 180
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 20
envshake.ampl = 12
numhits = 2
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3372

[state 1000]
type = playsnd
trigger1 = time = 304
value = 6865,38
volume = 100
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 304
value = 2200,1
volume = 100
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 294
value = 2200,20
volume = 100
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 294
value = 2200,20
volume = 100
ignorehitpause = 1

[State 3000]
type = Projectile
trigger1 = time = 20
projanim = 3609
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 0,-60
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 42
projanim = 3610
velocity = 0,0
postype = p1
projremove = 0
supermovetime = 99999
bindtime = 1
offset = 0,-60
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 66
projanim = 3611
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 0,-10
projremove = 0
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 86
projanim = 36115
velocity = 0,0
postype = p1
supermovetime = 99999
projremove = 0
bindtime = 1
offset = 0,-100
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 106
projanim = 3612
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 15,10
projscale = .8,1
afterimage.time = 32
projremove = 0
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 131
projanim = 36095
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = 0,-70
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 146
projanim = 36116
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = 60,-10
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 162
projanim = 3612
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = 10,10
projscale = .8,1
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 178
projanim = 36095
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 0,-50
projremove = 0
facing = -1
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 191
projanim = 3610
velocity = 0,0
postype = p1
supermovetime = 99999
projremove = 0
bindtime = 1
offset = 0,-60
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 204
projanim = 3612
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 25,15
projscale = .8,1
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 214
projanim = 3611
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
offset = 0,-10
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 224
projanim = 3610
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = -5,-60
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 234
projanim = 3609
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
vfacing = -1
offset = 0,-70
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 244
projanim = 36105
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = 0,-60
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 254
projanim = 3611
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = 0,-10
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 264
projanim = 36115
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = 0,-90
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 32

[State 3000]
type = Projectile
trigger1 = time = 274
projanim = 3612
velocity = 0,0
postype = p1
supermovetime = 99999
facing = -1
bindtime = 1
projremove = 0
offset = 10,-10
projscale = .7,.7
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = time = 284
projanim = 36115
velocity = 0,0
postype = p1
supermovetime = 99999
bindtime = 1
projremove = 0
offset = 0,-85
facing = 1
projscale = .7,.7
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 10
projremovetime = 30

[State 3000]
type = Projectile
trigger1 = time = 294
projanim = 36116
velocity = 0,0
postype = p1
facing = -1
supermovetime = 99999
bindtime = 1
offset = 110,-15
projscale = 1.5,1.5
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 20
projremovetime = 47

[State 3000]
type = Projectile
trigger1 = time = 294
projanim = 36117
velocity = 0,0
postype = p1
facing = -1
supermovetime = 99999
bindtime = 1
offset = -90,-15
projscale = 1.5,1.5
afterimage.time = 32
afterimage.length = 3
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 20
projremovetime = 47


[State 0, Helper]
type = Helper
trigger1 = time = 304
helpertype = normal
name = "burst"
ID = 3503
stateno = 936
pos = 0,-10
postype = p1
size.xscale = .8
size.yscale = .8
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = changestate
trigger1 = time = 324
value = 3502
ctrl = 0

[Statedef 3502]
type = S
movetype = A
physics = N
anim = 3602

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 1700,2
volume = 255
ignorehitpause = 1

[State 1000]
type = assertspecial
trigger1 = animelem = 17,<= 3
flag = nobg
flag2 = nofg
flag3 = nobardisplay
ignorehitpause = 1

[state 1000]
type = targetstate
trigger1 = animelem = 10,10
value = 2610
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall= animelem = 17,3 && numtarget && numhelper(1234567)!=1
trigger1 = p2movetype = H
helpertype = normal ;player
name = "Burning"
ID = 1234567
stateno = 1234567
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3280 , 5]
type = Explod
triggerall = animelem = 17, >= 3 && animelem = 18,<= 80
trigger1 = timemod = 2,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = -120,0
random = 180,10
bindtime = 1
vel = 0,-5
ignorehitpause = 1
scale = .7,.7
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 17, >= 3 && animelem = 20,<= 6
trigger1 = timemod = 3,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = -2
postype = p1
pos = -120,0
random = 180,10
bindtime = 1
vel = 0,-7
ignorehitpause = 1
scale = .7,.7
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 17, >= 3 && animelem = 20,<= 6
trigger1 = timemod = 2,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = -120,0
random = 180,10
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .7,.7
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 17, >= 3 && animelem = 20,<= 6
trigger1 = timemod = 2,0
anim = 2211
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = -120,0
random = 180,10
bindtime = 1
vel = 0,-4
ignorehitpause = 1
scale = .8,.8
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 17, >= 3 && animelem = 18,<= 50
trigger1 = timemod = 3,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = -120,0
random = 180,10
bindtime = 1
vel = 0,-1
ignorehitpause = 1
scale = .7,.7
supermovetime = 99999
pausemovetime = 99999

[State 3280 , 5]
type = Explod
triggerall = animelem = 17, >= 3 && animelem = 18,<= 50
trigger1 = timemod = 3,0
anim = 2200
ID = 2200
sprpriority = 5
postype = p1
pos = -150,-20
random = 180,50
bindtime = 1
vel = 0,-2
ownpal = 1
ignorehitpause = 1
scale = .8,.8

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 100
y = 0
ignorehitpause = 1
;persistent =

[State 0, PosAdd]
type = PosAdd
trigger1 = time >= 0 && time <= 15
x = 1.5
y = 0
ignorehitpause = 1
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
;persistent =

[State 3001]
type = VarRandom
Trigger1 = Time = 0
v = 14
range = 0,1

[State -2,ê^Ç¡çï]
Type = PlaySnd
TriggerAll = var(14) = 0
Trigger1 = AnimElem = 11,15
value = 3600,0
volume = 255
abspan = 256

[State -2,äDÇÃàÍåáï–Ç‡écÇ∑Ç©ÇÊÅcÅI]
Type = PlaySnd
TriggerAll = var(14) = 1
Trigger1 = AnimElem = 4
value = 3600,1
volume = 255

[State -2,ê^Ç¡çï]
Type = PlaySnd
TriggerAll = var(14) = 0
Trigger1 = AnimElem = 11,15
value = 3600,0
volume = 255
abspan = 256

[State -2,äDÇÃàÍåáï–Ç‡écÇ∑Ç©ÇÊÅcÅI]
Type = PlaySnd
TriggerAll = var(14) = 1
Trigger1 = AnimElem = 4
value = 3600,1
volume = 255


[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal
name = "burst"
ID = 3503
stateno = 3511
pos = 30,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 1000]
type = hitadd
triggerall = animelem = 14,>= 0 && animelem = 16,<= 2
trigger1 = timemod = 5,0
value = 1

[State 1000]
type = hitadd
trigger1 = animelem = 17,3
value = 1

[State 1000]
type = envcolor
trigger1 = animelem  = 14
value  =240,240,240
under = 0
time = 3
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem  = 17,3
value  = 240,240,240
under = 0
time = 3
ignorehitpause = 1

[State 3000]
type = Projectile
triggerall = animelem = 14,>= 0 && animelem = 16,<= 2
trigger1 = timemod = 5,0
projanim = 2572
postype = p2
supermovetime = 99999
bindtime = 1
offset = 55-(random%105),5-(random%20)
afterimage.time = 32
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 15
afterimage.trans = add
projsprpriority = 10
projremovetime = 27

[State 3000]
type = Projectile
trigger1 = animelem = 14
projanim = 2572
postype = p2
supermovetime = 99999
bindtime = 1
offset = 0,0
projscale = 1.3,1.3
afterimage.time = 32
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 15
afterimage.trans = add
projsprpriority = 10
projremovetime = 27

[State 3000]
type = Projectile
triggerall = animelem = 14,>= 0 && animelem = 16,<= 2
trigger1 = timemod = 5,0
projanim = 888
postype = p2
supermovetime = 99999
bindtime = 1
projscale = .6,.6
offset = 55-(random%135),15-(random%30)
afterimage.time = 66
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 15
afterimage.trans = add
projsprpriority = 10
projremovetime = 66

[State 3000]
type = Projectile
triggerall = animelem = 14,>= 0 && animelem = 16,<= 2
trigger1 = timemod = 5,0
projanim = 936
postype = p2
supermovetime = 99999
bindtime = 1
offset = -60+(random%95),-150+(random%150)
afterimage.time = 68
afterimage.length = 5
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 15
afterimage.trans = add
projsprpriority = 10
projremovetime = 68

[State 1000]
type = playsnd
triggerall = animelem = 14,>= 0 && animelem = 16,<= 0
trigger1 = timemod = 5,0
value = 2200,ifelse(random < 300,13,0+(random%3))
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 2200,1
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 245,0
volume = -100

[State 0, Helper]
type = Helper
trigger1 = animelem = 17,3
helpertype = normal
name = "burst"
ID = 3503
stateno = 3512
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
size.xscale = .8
size.yscale = .8
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, EnvShake]
type = envshake
trigger1 = animelem = 14
time = 112
freq = 75
ampl = 10
ignorehitpause = 1

[State 0, EnvShake]
type = envshake
trigger1 = animelem = 17,3
time = 30
freq = 75
ampl = 16
ignorehitpause = 1

[State 1000]
type = targetstate
trigger1 = animelem = 14,4
value = 35025

[State 1000]
type = targetstate
trigger1 = animelem = 17,3
value = 31105

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = animelem = 17,4
x = 0
y = -20
ignorehitpause = 1

[State 1000]
type = targetlifeadd
trigger1 = animelem = 17,3
value = -80
ignorehitpause = 1
kill = 1
absolute = 1

[State 1000]
type = envcolor
trigger1 = animelem = 17,3
value = 240,240,240
ontop = 1
time = 5
ignorehitpause = 1
pausemovetime = 99999

[State 0, Turn]
type = Turn
trigger1 = animelem = 23
ignorehitpause = 1
;persistent =


[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 35025];3310
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 36025

[State 2120]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 110
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1



[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = ANIMELEM = 3
x = 0
y = -.1

[State 820, 1]
type = selfstate
trigger1 = time = 200
value = 5050

[Statedef 3503]
type = S
movetype = A
physics = N
anim = 3609
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,25
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 32
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 6
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3504]
type = S
movetype = A
physics = N
anim = 3610
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,26
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 32
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 6
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3505]
type = S
movetype = A
physics = N
anim = 3611
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,19
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 32
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 6
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 35055]
type = S
movetype = A
physics = N
anim = 36115
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,19
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 32
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 6
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 35056]
type = S
movetype = A
physics = N
anim = 3611
velset = 0,0
ctrl = 0
sprpriority = 4


[State 1000]
type = envcolor
trigger1 = animelem = 6
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,20
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 32
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 35057]
type = S
movetype = A
physics = N
anim = 3611
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,20
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 32
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[state 13504]
type = HitDef
trigger1 = animelem = 6
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -30,-40
hitsound   = S2200,1
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3372

[State 1000]
type = playsnd
trigger1 = animelem = 6
value = 6865,38
volume = 200
ignorehitpause = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3506]
type = S
movetype = A
physics = N
anim = 3612
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,25
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 32
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 6
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3507]
type = S
movetype = A
physics = N
anim = 3605
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,26
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 24
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 4
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3508]
type = S
movetype = A
physics = N
anim = 3606
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,26
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 24
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 4
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3509]
type = S
movetype = A
physics = N
anim = 3607
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,26
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 4
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3510]
type = S
movetype = A
physics = N
anim = 3608
velset = 0,0
ctrl = 0
sprpriority = 4

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,26
volume = 255


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 13504]
type = HitDef
trigger1 = animelem = 4
attr = S, HP
animtype  = up
damage    = 20
givepower = 12,6
guardflag = M
pausetime = 0,0
sparkno = s8025
sparkxy = -50+(random%70),-80+(random%50)
hitsound   = S6865,35
ground.velocity = 0,-2
guard.sparkno = s8056
ground.hittime = 20
velset = 0, 0, 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 5
envshake.ampl = 3
fall = 0
kill = 0
fall.recover = 0
p2stateno = 3207+(random%2)

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3511]
type = S
movetype = A
physics = N
anim = 3617
velset = 0,0,0
sprpriority = 10

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 54321]
type = trans
trigger1 = time >= 48
trans = addalpha
alpha = 256 - ((time-48)*13),256
time = -1
ignorehitpause = 1
persistent = 1

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 73
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add

[State 3000]
type = Projectile
triggerall = time >= 30
trigger1 = timemod = 8,0
projanim = 3618
postype = p2
supermovetime = 99999
bindtime = 1
offset = 0,0
projscale = .65,.65
afterimage.time = 16
afterimage.length = 6
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = -2
afterimage.trans = add
projsprpriority = -2
projremovetime = 16



[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,53
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 20
value = 6865,65
volume = -100
ignorehitpause = 1

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 1000]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 3512]
type = S
movetype = A
physics = N
anim = 26007
velset = 0,0,0
sprpriority = 10

[State 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1000]
type = envcolor
trigger1 = time = 0
value = 240,240,240
time = 5
ontop = 1
ignorehitpause = 1


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 75
length = 3
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,67
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,67
volume = 100
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 10
value = 2200,12
volume = 100
ignorehitpause = 1

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[state 1000]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

;åhà”
[Statedef 970]
type = S
movetype = I
physics = S
anim = 970
velset = 0
ctrl = 0

[State 970]
type = PlaySnd
trigger1 = Time = 5
value = 5210,4
channel = 3

[State 970]
type = CtrlSet
trigger1 = time >= 30
value = 1

[State 970]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;ÉoÅ[ÉjÉìÉOÉRÉçÉi
[Statedef 990]
type    = S
movetype= I
physics = S
poweradd = -1000
ctrl = 0
velset = 0,0,0
anim = 990

[State 13501]
type = PlaySnd
trigger1 = time = 0
value = 800,2

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6102
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
ownpal = 1
ontop = 1
trans = add

[State 1000]
type = playsnd
trigger1 = time = 20
value = 800,6

[State 13501]
type = PlaySnd
trigger1 = time = 2
value = 221,6
channel = 2


[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
anim = 6200
pos = 160,97
postype = Left
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .7,.7
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparklvl1'1"
ID = 9011
stateno = 9011
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Sparklvl1'2"
ID = 9001
stateno = 9001
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 9899, BGcolor]
type = envcolor
trigger1 = time = 0
time = 45
under = 1
value = 0, 0, 0

[state 13501]
type = superpause
trigger1 = time = 0
anim = -1
movetime = 45
time = 45

[state 13501]
type = changestate
trigger1 = animtime = 0
value = 991

[Statedef 991]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 991
velset = 0,0,0

[State 1006, var-reset]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1006, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1000,1

[State 1006, 0] ;flame burst
type = PlaySnd
trigger1 = AnimElem = 3, = 1
value = 1000,0
volume = 40

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype = Hard
damage = 40,5
getpower  = 40
givepower = 20
pausetime = 10,12
guard.pausetime = 0,4
sparkno = -1
sparkxy = 0,-60
hitsound = S221,25
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -4,-0
guard.hittime = 30
air.type = Low
air.slidetime = 30
air.hittime = 17
air.velocity = -2,-4
air.hittime = 30
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
animtype = Hard
damage = 60,15
getpower  = 40
givepower = 20
pausetime = 10,12
guard.pausetime = 0,4
sparkno = -1
sparkxy = 0,-60
hitsound = S221,25
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0,-0
guard.hittime = 30
air.type = Low
air.slidetime = 30
air.hittime = 17
air.velocity = -2,-6
air.hittime = 30
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1270, 7]
type = HitDef
trigger1 = AnimElem = 4;3,5
attr = S, HA
animtype = diagup
damage = 150,20
getpower  = 40
givepower = 20
pausetime = 10,12
guard.pausetime = 0,4
sparkno = s937
sparkxy = -20,-90
hitsound = S2200,0
hitflag = MAF
guardflag = M
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -3,-8
guard.hittime = 30
air.type = Low
air.slidetime = 30
air.hittime = 17
air.velocity = -3,-6
air.hittime = 30
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1010, 5]
type = Projectile
trigger1 = AnimElem = 11
ProjAnim = 13205
projhitanim = 13205
;projcancelanim = 13205
;projremanim = 13205
projremovetime = 1
ProjID = 1020
projhits = 2
offset = -10,-65
velocity = 0,0
accel = 0, 0
attr = S, SP
projshadow = 68,68,68
damage = 120,10
animtype = Hard
getpower = 42
givepower = 50
hitflag = MAFD
guardflag = MA,L
pausetime = 0,16
guard.pausetime = 0,7
guard.sparkno = s8056
sparkno = s8035
sparkxy = 40,0
hitsound = S2000,0
guardsound = S150,1
ground.type = High
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -2,0
guard.velocity = -4 ; -4
airguard.velocity = -4.0,-3.0
air.velocity = -2.5,-5.5
;air.juggle = 1 ;+ var(12)
air.animtype = Back
air.recover = 0
fall.recover = 0 
palfx.time = 19
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
projscale = 1.5,1.5

[State 1010, 5]
type = Projectile
trigger1 = AnimElem = 14
ProjAnim = 13206
projcancelanim = 13206
;projremanim = 13205
projremovetime = 5
ProjID = 1021
projhits = 1
offset = -10,-65
velocity = 0,0
accel = 0, 0
attr = S, SP
projshadow = 68,68,68
damage = 120,10
animtype = diagup
getpower = 42
givepower = 50
hitflag = MAFD
guardflag = MA,L
pausetime = 8,10
guard.pausetime = 0,7
guard.sparkno = s8056
sparkno = s937
sparkxy = 40,-50
hitsound = S2000,0
guardsound = S150,1
ground.type = High
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -3,-8
guard.velocity = -3 ; -4
airguard.velocity = -4.0,-3.0
air.velocity = -2.5,-5.5
;air.juggle = 1 ;+ var(12)
air.animtype = Back
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 19
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
projscale = 1.5,1.5


[State 9989, flash2]
type = Explod
trigger1 = animelem = 1
trigger1 = anim = 991
anim = 13205
postype = p1
pos = -2,-65
sprpriority = 1
supermove = 1
bindtime = 1
ownpal = 1
scale = 1.5,1.5

[State 1006, 4]
type = ChangeState
triggerall = var(59) = 1
triggerall = Animtime = 0
trigger1 = P2statetype = C
trigger2 = p2bodydist X >= 60
value = 3700
ctrl = 0

[State 1006, 0]
type = PlaySnd
trigger1 = Time = 0
value = 1040,0
channel = 1

[State 1006, 0]
type = PlaySnd
trigger1 = time = 0
value = 3300,0
channel = 2

[State 1006, 0]
type = PlaySnd
trigger1 = time = 0
value = 221,8
channel = 3

[state 13101]
type = envcolor
trigger1 = animelem = 1
trigger1 = movehit
trigger2 = AnimElem = 2
trigger2 = movehit
trigger3 = AnimElem = 3,2
trigger3 = movehit
trigger4 = AnimElem = 3,4
trigger4 = movehit
trigger5 = AnimElem = 3,6
trigger5 = movehit
value = 240,240,240
time = 2
under = 0

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 4
ampl = -3
time = 15

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 5
ampl = -2
time = 10

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 2
trigger1 = movehit
ampl = -4
time = 30

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 4
trigger1 = movehit
ampl = -5
time = 40

[State 3215]
type = pause
trigger1 = Enemy,Alive = 1
trigger1 = movehit
trigger1 = Timemod = 2,0
time = 2

[State 3215]
type = pause
trigger1 = Enemy,Alive = 1
trigger1 = movehit
trigger1 = Timemod = 2,0
time = 1


[State 3280 , 7]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 549
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2202
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 599
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2203
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 120,120
bindtime = 1
ignorehitpause = 1

[State 3280 , 9]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 599
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2204
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 150,150
bindtime = 1
ignorehitpause = 1

[State 3280 , 10]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 599
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 80,80
bindtime = 1
ignorehitpause = 1

[State 3901 , 9]
type = Explod
trigger1 = animelem = 1
trigger1 = movehit
trigger2 = animelem = 2
trigger2 = movehit
trigger3 = animelem = 3
trigger3 = movehit
anim = 2200
ID = 930
ownpal = 1
sprpriority = 5
postype = p2
pos = -60,-50
bindtime = 1
random = 10,10
ignorehitpause = 2
scale = 1.2,1.2

;[State 3901 , 9]
;type = Explod
;trigger1 = animelem = 4
;trigger1 = movehit
;anim = 936
;ID = 930
;ownpal = 1
;sprpriority = 5
;postype = p1
;pos = 55,-50
;bindtime = 1
;ignorehitpause = 3


[State 1270, 6]
type = VelSet
trigger1 = animelem = 4
x = -5


[State 970]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;É`ÉFÅ[ÉìÉhÉâÉCÉu2003
[Statedef 3300]
type    = S
movetype= I
physics = S
anim = 3200
ctrl = 0
poweradd = -4000
velset = 0,0,0

[State 9899, BGcolor]
type = envcolor
trigger1 = time = 0
time = 65
under = 1
value = 0, 0, 0

[State 1000]
type = powerset
trigger1 = anim = 3200
value = 0

[State 3250, 0]
type = PlaySnd
trigger1 = animelem = 4
value = 221,6
volume = 255

[state 3900]
type = playsnd
trigger1 = time = 0
value = 800,3
volume = 255

[State 3900]
type = playsnd
trigger1 = time = 1
value = 800,5
volume = 255

[State 3900]
type = playsnd
trigger1 = time = 2
value = 800,4
volume = 255

[State 3900]
type = playsnd
trigger1 = time = 20
value = 800,6
volume = 255

[State 3290]
type = playsnd
trigger1 = time = 30
value = 800,8
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = 6865,3
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = 6865,3
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 6865,5
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = 6865,4
volume = 255

[State 3250, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30  ;25 is all pause time

[State 3250, 2]
type = SuperPause
trigger1 = time = 2
time = 65
anim = -1
movetime = 30
darken = 0

[State 3800, flash1]
type = Explod
trigger1 = time = 0
trigger1 = stateno = 3300
anim = 7120
postype = p1
pos = 0,-110
sprpriority = -3
supermove = 1
bindtime = 1
color = A
ownpal = 1

[State 3800, flash2]
type = Explod
trigger1 = time = 10
trigger1 = stateno = 3300
anim = 7125
postype = p1
pos = 0,-110
sprpriority = -2
scale = .8,.8
supermove = 1
bindtime = 1
ownpal = 1
color = A

[State 1000]
type = explod
trigger1 = time = 20
trigger1 = stateno = 3300
anim = 9001
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -2
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 1000]
type = explod
trigger1 = time = 0
trigger1 = stateno = 3300
anim = 9011
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -1
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 1000]
type = explod
trigger1 = time = 0
trigger1 = stateno = 3300
anim = 13500
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -1
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 1000]
type = explod
trigger1 = time = 0
trigger1 = stateno = 3300
anim = 13000
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -1
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 3250 , 2]  ;sun glasses
type = Projectile
trigger1 = AnimElem = 6, =1
ProjAnim = 2020
ProjID = 2020
ProjHitAnim = 2021
projedgebound = 320
projstagebound = 320
projheightbound = -300,0
offset = 26,-90
hitflag = MAFP
guardflag = MA
accel = 0, 0.3
velocity = 14, -3
attr = S, HP
projshadow = 68,68,68
damage = 30,4
animtype = hard
air.animtype = up
givepower = 50
pausetime = 0,20
sparkno = s8035
hitsound = S210,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 36
ground.hittime = 36
ground.velocity = -5
guard.hittime = 24
guard.slidetime = 24
guard.pausetime = 8,10
guard.velocity = -1
air.velocity = -4,-4
fall = 0
air.fall = 0
fall.recover = 0
air.juggle = 2 ; gogo
air.animtype = Back

[State 3250, end1]
type = changestate
trigger1 = projcontact2020 = 1
trigger2 = NumProjID(2020) = 0
trigger2 = AnimElemTime (6) > 1
trigger2 = time <= 77
value = 3301
ctrl = 0

[State 3250, end2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------
; 3251 SDM chain drive attack success
[Statedef 3301]
type    = S
movetype= A
physics = N
anim = 3202
ctrl = 0
velset = 0,0,0

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 3301
flag = noFG
ignorehitpause = 1

[State 1000]
type = turn
triggerall = p2bodydist x < 0
triggerall = prevstateno = 3354
trigger1 = animelem = 1
value = 1
persistent = 0





[State 1000]
type = targetbind
trigger1 = movehit
pos = 60,0
ignorehitpause = 1

[State 1000]
type = powerset
trigger1 = anim = 3200
value = 0

[State 3252, 0]
type = playerpush
trigger1 = time >= 0
value = 1

[State 3251, shadow]
type = explod
trigger1 = projcontact2020 = 1
trigger2 = NumProjID(2020) = 0
anim = 3201
pos = 0,0
postype = P1
velset = 0,0
sprpriority = 2
ownpal = 1
bindtime = 1
persistent = 0
shadow = 80,80,80

[State 3251, 1]
type = posadd
trigger1 = time = 12
x = 20

[State 3251, 1]
type = PlaySnd
trigger1 = time = 16
value = 3200,0

[State 3251, 2]
type = velset
trigger1 = time = 16
x = 34 ; 16

[State 3201, 3]
type = veladd
trigger1 = time >= 18 ;20
x = -0.4

[State 3201, 4]
type = VelSet
trigger1 = Vel X <= 0
x = 1 ;1

[State 3251, 5]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = (AnimElem = 5) && (!movecontact)
p2facing = 1
attr = S, HA
animtype = hard
damage = 40,0
sparkno = s8035
sparkxy = 0,-60
pausetime = 20,6
hitflag = MAF
;guardflag = MA

forcestand = 1
hitsound = s240,0
fall.recover = 0
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3, 0
guard.slidetime = 17
guard.velocity = -10
envshake.time = 10
envshake.ampl = 20
envshake.freq = 75
envshake.phase = 75
p2stateno = 3208
kill = 0

[State 3251, sunglass]
type = envcolor
trigger1 = movehit
time = 1
under = 1
value = 240,240,240

[State 3251, end1]
type = changestate
triggerall = prevstateno != 3354
trigger1 = movehit
value = 3202
ctrl = 1

[State 3251, end1]
type = changestate
triggerall = prevstateno = 3354
trigger1 = movehit
value = 3668
ctrl = 1

[State 3201, end1]
type = changestate
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3260
ctrl = 0

;----------------------
; 3253 SDM chain drive attack success when body dist <= 30
[Statedef 3302]
type    = S
movetype= A
physics = N
anim = 3204
ctrl = 0
velset = 0,0,0

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = stateno = 3302
flag = noFG
ignorehitpause = 1

[State 3252, 0]
type = playerpush
trigger1 = time >= 0
value = 1

[State 3251, 1]
type = PlaySnd
trigger1 = time = 16
value = 3200,0

[State 3253, shadow]
type = explod
trigger1 = projcontact2020 = 1
anim = 3203
sprpriority = 2
ownpal = 1
shadow = 80,80,80

[State 3253, 2]
type = velset
trigger1 = time = 28
x = 16

[State 3253, 3]
type = veladd
trigger1 = time >= 28
x = -0.4

[State 3203, 4]
type = VelSet
trigger1 = Vel X <= 0
x = 1

[State 3253, 5]
type = HitDef
trigger1 = AnimElem = 1;4
trigger2 = (AnimElem = 5) && (!movecontact)
attr = S, HA
animtype = hard
p2facing = 1
damage = 0,0
sparkno = s8035
sparkxy = 0,-60
pausetime = 6,6
hitflag = MAF
forcestand = 1
;guardflag = MA
hitsound = 5,2
fall.recover = 0
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3, 0

[State 3253, sunglass]
type = envcolor
trigger1 = movehit
time = 1
under = 1
value = 240,240,240

[State 3251, end1]
type = changestate
trigger1 = movehit
value = 3202
ctrl = 1

[State 3253, end1]
type = changestate
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3260
ctrl = 0

;------------------------
; 3260 guarded
[Statedef 3260]
type    = S
movetype= I
physics = S
anim = 3210
ctrl = 0

[State 3210, 1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1000]
type = pause
trigger1 = time >= 0
trigger1 = time <= 15
time = 10
movetime = 2
ignorehitpause = 1
persistent = 1

[Statedef 3370]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1000]
type = PosSet
Trigger1 = Time = 0
y = 0

[State 1000]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3370

[State 1000]
type = SelfState
Trigger1 = Animtime = 0
value = 0
ctrl = 1

[Statedef 3371]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3510]
type = PosSet
Trigger1 = Time = 0
y = 0

[State 3510]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3371

[State 3510]
type = SelfState
Trigger1 = Animtime = 0
value = 0
ctrl = 1


[Statedef 3310]
type = S
movetype = A
physics = N
anim = 3280
velset = 1,0,0
ctrl = 0

[State 1000]
type = assertspecial
trigger1 = gametime != 0
flag = nobg
flag2 = nofg
flag3 = nobardisplay
persistent = 1
pausemove = 1
supermove = 1
pausemovetime = 9999999
supermovetime = 9999999
priority = 5
ignorehitpause = 1
absolute = 1



[State 1000]
type = helper
trigger1 = alive && Roundstate = 2
trigger1 = time = 0
trigger1 = numhelper(99999) = 0
helpertype = normal
name = "Slow_Motion"
ID = 99999
stateno = 99999
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ignorehitpause = 1
persistent = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 0
trigger1 = time <= 35
time = 5
freq = 30
ampl = 40
phase = 90
ignorehitpause = 1
persistent = 1


[State 1000]
type = pause
trigger1 = time >= 0
trigger1 = time <= 30
time = 5
movetime = 1
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = stateno = 3310
time = 250
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
ignorehitpause = 1
persistent = 1

[State 1000]
type = envcolor
trigger1 = time >= 0
trigger1 = time <= 40
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1
pausemovetime = 99999
supermove = 1
pausemove = 1

[State 1000]
type = explod
trigger1 = time = 0
anim = 3417
postype = p1
pos = 40,40
bindtime = 1
removetime = -2
scale = 1.6,1.3
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 1
sprpriority = 5
removeongethit = 0

[State 1000]
type = explod
trigger1 = time = 5
anim = 3510
postype = p1
pos = 40,0
bindtime = 1
removetime = -2
scale = 1.5,1.5
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 1
sprpriority = 4
removeongethit = 0

[State 1000]
type = targetlifeadd
trigger1 = time = 0
value = -250
kill = 0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,8
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6865,9
volume = -100

[State 1000]
type = powerset
trigger1 = anim = 3200
value = 0

[State 1000]
type = changeanim
triggerall = prevstateno = 3202
trigger1 = time = 0
elem = 1
value = 3280

[State 3800, 1]
type = explod
;trigger1 = facing = 1
trigger1 = !time
pos = 0,0
postype = BACK
anim = 10094
ID = 10094
bindtime = -1
removetime = -1
sprpriority = -5
ignorehitpause = 1
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 1000]
type = velset
triggerall = animelem != 131
trigger1 = time > 0
persistent = 1
x = 1
y = 0
ignorehitpause = 1


[State 3280, push]
type = playerpush
trigger1 = time >= 0
value = 1

[State 3280, muteki]
type = nothitby
trigger1 = time >= 0
value = SCA
time = 1

[State 3280, width]
type = Width
trigger1 = time >= 0
edge = 60,0

[State 3280, 0]
type = targetbind
trigger1 = time >= 0
pos = 60,0

[State 3280, 1]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 17
trigger6 = animelem = 21
trigger7 = animelem = 22
trigger8 = animelem = 27
trigger9 = animelem = 30
trigger10 = animelem = 34
trigger11 = animelem = 41
trigger12 = animelem = 45
trigger13 = animelem = 48
trigger14 = animelem = 53
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
forcestand = 1
animtype  = hard
damage    = 0 ; 10
givepower = 15
;guardflag = MA
affectteam = E
pausetime = 2,2
sparkno = s8035
size.xscale = .7
size.yscale = .7
sparkxy = -40+(random%-30),-80+(random%40)
hitsound   = s222,0+(random%4)
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
palfx.time = 150
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
kill = 0
p2stateno = 3207

[State 3280, 1]
type = HitDef
trigger1 = animelem = 73
trigger2 = animelem = 76
trigger3 = animelem = 84
trigger4 = animelem = 89
trigger5 = animelem = 90
trigger6 = animelem = 103
trigger7 = animelem = 108
trigger8 = animelem = 136
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
forcestand = 1
animtype  = hard
damage    = 10 ; 10
givepower = 15
;guardflag = MA
pausetime = 3,2
affectteam = E
sparkno = s8035
scale = .8,.8
sparkxy = -20,-40+(random%3)
hitsound   = s221,52
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
p2stateno = 3207

[State 3280, 1]
type = HitDef
trigger1 = animelem = 70
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
forcestand = 1
animtype  = hard
damage    = 13 ; 10
givepower = 15
;guardflag = MA
pausetime = 3,2
affectteam = E
sparkno = s8035
scale = .8,.8
sparkxy = -20,-40+(random%3)
hitsound   = s221,52
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
palfx.time = 150
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
kill = 0
p2stateno = 3207

[State 3280, 2]
type = HitDef
trigger1 = animelem = 59
trigger2 = animelem = 61
trigger3 = animelem = 68
trigger4 = animelem = 92
trigger5 = animelem = 95
trigger6 = animelem = 100
trigger7 = animelem = 113
trigger8 = animelem = 122
trigger9 = animelem = 126
trigger10 = animelem = 132
trigger11 = animelem = 138
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = hard
damage    = 10 ; 10
givepower = 15
pausetime = 3,2
;guardflag = MA
forcestand = 1
affectteam = E
sparkno = s8035
scale = .8,.8
sparkxy = -15,-70
hitsound   = s230,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
p2stateno = 3208

[State 3280, 3]
type = HitDef
trigger1 = animelem = 143
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = hard
damage    = 45 ; 15
givepower = 15
;guardflag = MA
pausetime = 15,15
forcestand = 1
sparkno = s8035
sparkxy = -15,-70
affectteam = E
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
palfx.time = 100
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
p2stateno = 3207
envshake.time = 15
envshake.ampl = 2

[State 3280, 3]
type = HitDef
trigger1 = animelem = 151
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = hard
damage    = 45 ; 15
givepower = 15
;guardflag = MA
pausetime = 5,7
forcestand = 1
sparkno = s8035
sparkxy = -15,-70
hitsound   = s240,0
affectteam = E
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
palfx.time = 100
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
p2stateno = 3208
envshake.time = 15
envshake.ampl = 2

[State 3280, 3]
type = HitDef
trigger1 = animelem = 155
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = hard
damage    = 20 ; 15
givepower = 15
;guardflag = MA
pausetime = 10,4
forcestand = 1
sparkno = s8035
sparkxy = -15,-70
affectteam = E
hitsound   = s221,52
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
palfx.time = 100
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
p2stateno = 3208
envshake.time = 15
envshake.ampl = 2

[State 3280, 3]
type = HitDef
trigger1 = animelem = 158
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = hard
damage    = 45 ; 15
givepower = 15
;guardflag = MA
pausetime = 5,7
forcestand = 1
sparkno = s8035
affectteam = E
sparkxy = -15,-100
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
palfx.time = 100
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
p2stateno = 3207
envshake.time = 15
envshake.ampl = 2

[State 3280, 3]
type = HitDef
trigger1 = animelem = 164
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = hard
damage    = 45 ; 15
givepower = 15
;guardflag = MA
pausetime = 4,2
forcestand = 1
sparkno = s8035
affectteam = E
sparkxy = -15,-30
hitsound   = s230,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
palfx.time = 100
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
p2stateno = 3208
envshake.time = 15
envshake.ampl = 2

[State 3280, 3]
type = HitDef
trigger1 = animelem = 170
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = hard
damage    = 45 ; 15
givepower = 15
;guardflag = MA
pausetime = 10,7
forcestand = 1
sparkno = s8035
sparkxy = -15,-70
affectteam = E
hitsound   = s240,0
guardsound = S150,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.3
kill = 0
palfx.time = 100
palfx.mul = 240,220,128
palfx.sinadd = 32,128,220,16
palfx.add = 190,180,84
p2stateno = 3208
envshake.time = 15
envshake.ampl = 2

[State 1000]
type = changeanim
trigger1 = time <= 280
trigger1 = animelemtime(55) = 0
elem = 1
value = 3280

[State 1000]
type = changeanim2
trigger1 = time >= 340
trigger1 = time <= 500
trigger1 = animelemtime(55) = 0
elem = 1
value = 3280

[State 1000]
type = changeanim
triggerall = time >= 200
triggerall = time <= 350
trigger1 = animelem = 55
elem = 140
value = 3280

[State 1000]
type = changeanim2
trigger1 = animtime = 0
elem = 1
value = 3280

[State 1000]
type = changestate
trigger1 = animelem = 139
value = 3315


[State 1000]
type = targetlifeadd ;To reinforce damage against high defence chars
triggerall = movehit
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 17
trigger4 = animelem = 19
trigger5 = animelem = 36
trigger6 = animelem = 38
trigger7 = animelem = 41
trigger8 = animelem = 43
trigger9 = animelem = 70
trigger10 = animelem = 75
trigger11 = animelem = 76
trigger12 = animelem = 84
trigger13 = animelem = 89
trigger14 = animelem = 100
trigger15 = animelem = 127
trigger16 = animelem = 129
trigger17 = animelem = 27
trigger18 = animelem = 9
trigger19 = animelem = 13
trigger20 = animelem = 22
trigger21 = animelem = 31
trigger22 = animelem = 50
trigger23 = animelem = 57
trigger24 = animelem = 60
trigger25 = animelem = 64
trigger26 = animelem = 92
trigger27 = animelem = 98
trigger28 = animelem = 115
trigger29 = animelem = 122
value = -5
ignorehitpause = 1
absolute = 1
kill = 0


[State 3280, envcolor]
type = envcolor
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 17
trigger4 = animelem = 19
trigger5 = animelem = 36
trigger6 = animelem = 38
trigger7 = animelem = 41
trigger8 = animelem = 43
trigger9 = animelem = 70
trigger10 = animelem = 75
trigger11 = animelem = 76
trigger12 = animelem = 84
trigger13 = animelem = 89
trigger14 = animelem = 100
trigger15 = animelem = 127
trigger16 = animelem = 129
trigger17 = animelem = 27
trigger18 = animelem = 9
trigger19 = animelem = 13
trigger20 = animelem = 22
trigger21 = animelem = 31
trigger22 = animelem = 50
trigger23 = animelem = 57
trigger24 = animelem = 60
trigger25 = animelem = 64
trigger26 = animelem = 92
trigger27 = animelem = 98
trigger28 = animelem = 115
trigger29 = animelem = 122
trigger30 = animelem = 127
trigger31 = animelem = 129
trigger32 = animelem = 134
trigger33 = animelem = 143
trigger34 = animelem = 148
trigger35 = animelem = 151
trigger36 = animelem = 163
trigger37 = animelem = 172
time = 1
ontop = 1
ignorehitpause = 1
value = 240,240,240



[State 3280 , 5]
type = Explod
triggerall = time >= 125
triggerall = NumExplod(2200) < 3
triggerall = Random < 499
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 120,120
bindtime = 1
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = time >= 125
triggerall = NumExplod(2200) < 4
triggerall = Random < 499
trigger1 = (AnimElemTime(27) >= 10)
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 120,120
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = time >= 125
triggerall = NumExplod(2200) < 4
triggerall = Random < 399
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = time >= 125
triggerall = NumExplod(2200) < 4
triggerall = Random < 399
trigger1 = (AnimElemTime(27) >= 10)
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1


[State 3280 , 7]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 549
trigger1 = (AnimElemTime(27) >= 5)
anim = 2202
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 599
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2203
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 120,120
bindtime = 1
ignorehitpause = 1

[State 3280 , 9]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 599
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2204
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 150,150
bindtime = 1
ignorehitpause = 1

[State 3280 , 10]
type = Explod
triggerall = NumExplod(2200) < 4
triggerall = Random < 599
trigger1 = (AnimElemTime(27) >= 0) && (movehit)
anim = 2205
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1


[state 3901 ,shake]
type = envshake
triggerall = movehit
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 17
trigger6 = animelem = 19
trigger7 = animelem = 22
trigger8 = animelem = 27
trigger9 = animelem = 31
trigger10 = animelem = 36
ampl = -2
time = 10

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 38
trigger2 = animelem = 41
trigger3 = animelem = 43
trigger4 = animelem = 48
trigger5 = animelem = 52
trigger6 = animelem = 56
trigger7 = animelem = 58
trigger8 = animelem = 61
trigger9 = animelem = 66
trigger10 = animelem = 70
trigger11 = animelem = 75
trigger12 = animelem = 77
ampl = -3
time = 15


[State 3280, end1]
type = ChangeState
trigger1 = AnimTime = 0
value = 3315
ctrl = 0


;-------------------------
[Statedef 3315]
type = S
movetype = A
physics = N
anim = 3315
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1


[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "HSDM Portrait"
ID = 6133
stateno = 6133
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1


[State 1000, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 9013
sprpriority = 5
postype = p1
pos = -10,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 9013
sprpriority = 5
postype = p1
pos = -10,0
bindtime = 1
facing = -1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 9003
sprpriority = 4
postype = p1
pos = -30,-95
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
scale = 1,1
ownpal = 1

[State 2500,2]
type = PlaySnd
trigger1 = time = 0
value = 800,10
volume = 255

[State 1000]
type = playsnd
trigger1 = time = 2
value = 800,4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 800,3
volume = 255

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
anim = -1
movetime = 50
poweradd = -1000
unhittable = 1
ignorehitpause = 1



[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 6865,45
volume = 255
channel = -1
ignorehitpause = 1

[State 1000]
type = velset
trigger1 = time = 60
y = -12
ignorehitpause = 1

[State 1000]
type = posadd
trigger1 = time >= 60
x = .5
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time >= 60
y = .4
ignorehitpause = 1





[State 1000]
type = targetbind
trigger1 = animelem = 1
pos = 40,0
time = 60
ignorehitpause = 1
persistent = 1

[State 1000]
type = width
trigger1 = animelem = 2
ignorehitpause = 1
edge = 220,0

[State 3290, muteki]
type = nothitby
trigger1 = time >= 0
value = SCA
time = 1



;[State 3290, 1]
;type = velset
;trigger1 = animelem = 11
;x = 6

[State 1000]
type = envcolor
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 5
ignorehitpause = 1
time = 3
ontop = 1
value = 240,240,240

[State 3290, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 10
givepower = 15
;guardflag = MA
pausetime = 40,40
sparkno = s8035
sparkxy = -15,-60
hitsound   = S240,0
guard.sparkno = s8056
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
envshake.time = 30
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90
fall = 0
ground.velocity = 0
kill = 0
p2stateno = 3370

[State 3290, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = Hard
damage    = 10
givepower = 15
;guardflag = MA
pausetime = 45,50
sparkno = s8035
sparkxy = -15,-60
hitsound   = S240,0
guard.sparkno = s8056
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
fall = 0
ground.velocity = 0
envshake.time = 30
envshake.freq = 75
envshake.ampl = 12
envshake.phase = 90
kill = 0
p2stateno = 3371

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 5, >=0
statetype = A
movetype = A
physics = N
ignorehitpause = 1

[State 3290, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = up
damage    = 20
givepower = 15
;guardflag = MA
sparkno = s8035
pausetime = 0,0
sparkxy = -15,-60
hitsound   = S240,0
guardsound = S150,1
ground.type = hard
ground.slidetime = 20
guard.sparkno = s8056
ground.hittime  = 20
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0
ground.velocity = -.7,-12
air.velocity = -.7,-12
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 3312
kill = 0
yaccel = 0.22

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 69
time = 20
freq = 75
ampl = 12
phase = 90
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = animelem = 5,0
value = 2200,2
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 5,0
value = 3300,0
volume = 255
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
triggerall= animelem = 5 && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 123456
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000]
type = helper
trigger1 = animelem = 5,3
name = "erupt"
id = 3317
stateno = 3317
helpertype = normal
postype = p1
pos = 0,0
bindtime = 1
pausemovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1

[State 1000]
type = helper
trigger1 = animelem = 5,3
name = "erupt2"
id = 14503
stateno = 14503
helpertype = normal
postype = p1
pos = 60,10
bindtime = 1
pausemovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1
;--------------------------


[State 3290, end1]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3316
ctrl = 0

[Statedef 3316]
type = S
movetype = A
physics = N
anim = 3316
velset = 0,0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelem = 12, <= 0
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze
ignorehitpause = 1
persistent = 1

[State 1000]
type = envcolor
trigger1 = animelem = 12
value = 240,240,240
ontop = 1
time = 5
ignorehitpause = 1
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time >= 0
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 1
value = 47,0
volume = 100

[State 1000]
type = playsnd
trigger1 = animelem = 5
value = 221,67
volume = 255

[State 1000]
type = explod
trigger1 = animelem = 6
anim = 3318
ID = 3318
pos = 0,0
postype = p1
sprpriority = 2
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 1000]
type = explod
trigger1 = animelem = 12
anim = 3319
ID = 3319
pos = 0,0
postype = p1
shadow = 64,64,64
sprpriority = 2
bindtime = -1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 12
id = 3318
ignorehitpause = 1
persistent = 1


[State 1000]
type = pause
trigger1 = animelem = 12
time = 42
poweradd = -2000
movetime = 42
darken = 0

[State 1000]
type = playsnd
trigger1 = animelem = 12,10
value = 221,63

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3320

[Statedef 3317]
type = S
movetype = I
physics = N
anim = 3317

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "burst1"
ID = 936
stateno = 936
pos = 50,-50
vel = -.25,-.75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "burst3"
ID = 936
stateno = 936
pos = 50,-50
vel = .25,-.75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 3
helpertype = normal ;player
name = "burst2"
ID = 937
stateno = 936
pos = 70,-70
vel = -.25,-.75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0

[State 3290, 3]
type = explod
trigger1 = time = 0
Anim = 2206
pos = 60,-110
shadow = 64,64,64
sprpriority = 7
postype = p1
bindtime = 1
ownpal = 1

[State 3290, 4]
type = explod
trigger1 = time = 0
Anim = 2206
pos = 60,-70
shadow = 64,64,64
sprpriority = 7
postype = p1
bindtime = 1
ownpal = 1

[State 3290, 5]
type = explod
trigger1 = time = 0
Anim = 2206
pos = 20,-60
shadow = 64,64,64
sprpriority = 7
postype = p1
bindtime = 1
ownpal = 1

[State 3290, 6]
type = explod
trigger1 = time = 0
Anim = 2207
pos = 16,-120
shadow = 64,64,64
sprpriority = 7
postype = p1
bindtime = 1
ownpal = 1

[State 3290, 7]
type = explod
trigger1 = time = 0
Anim = 2207
pos = 40,-60
shadow = 64,64,64
sprpriority = 8
postype = p1
bindtime = 1
ownpal = 1

[State 1000]
type = destroyself
trigger1 = time >= 50
ignorehitpause = 1
persistent = 1

[Statedef 3312]
type    = A
movetype= H
physics = S
velset  = 0,0

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3312

[State 3512]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 3512]
type = VelSet
Trigger1 = animelem = 2
y = -17

[State 3512]
type = VelSet
Trigger1 = animelem = 2,>= 0
x = -.9

[State 3512]
type = VelAdd
Trigger1 = Animelem = 2,>= 0
y = .2415

[State 3512]
type = SelfState
Trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

[Statedef 3313]
type    = A
movetype= H
physics = N
anim = 5030

[State 1000]
type = turn
trigger1 = time = 0
value = 1
ignorehitpause = 1

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
elem = 2
value = 3312

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 7]
type = posadd
trigger1 = time = 0
persistent = 0
y = -15

[State 3010, 10]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 3010, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.15

[State 3010, 12]
type = SelfState
triggerall = Anim = 3312
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

[Statedef 3314]
type    = A
movetype= H
physics = N
anim = 5030

[State 3512]
type = ChangeAnim2
Trigger1 = Time = 0
elem = 2
value = 3312

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent =  1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =

[State 3010, 7]
type = posadd
trigger1 = time = 0
persistent = 0
y = -15

[State 3010, 10]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 3010, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.42

[State 3010, 12]
type = SelfState
triggerall = Anim = 3312
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100




[Statedef 3320]
type = S
movetype = A
physics = N
ctrl = 0
anim = 3320
velset = 0,0,0



[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 5
movetime = 5
pausebg = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(123456)!=1
trigger1= !(target,time) && (target,movetype=H)
helpertype = normal ;player
name = "Burning"
ID = 123456
stateno = 1234567
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State AssertSpecial] 
type = AssertSpecial 
trigger1 = anim = 3320
flag = noFG
ignorehitpause = 1
persistent = 1
absolute = 1

[State 3002, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 6

[state 3901 ,shake]
type = envshake
trigger1 = animelem = 2
ampl = -12
freq = 75
phase = 90
time = 50

[State 3002, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 3002, 1.5]
type = PlaySnd
trigger1 = time = 0
value = 3000,2
volume = 2555

[State 3002, 6]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
persistent = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype = up
damage = 0
sparkno = s937
sparkxy = 0,-60
priority = 6
pausetime = 2,0
hitflag = MAF
;guardflag = MA
hitsound = -1
guardsound = S150,1
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 1,-22
guard.sparkno = s8056
air.velocity = 0,-22
air.juggle = 9
air.animtype = Back
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0
palfx.time = 140
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 3110
envshake.time = 30
envshake.ampl = 14
envshake.freq = 20
fall.envshake.ampl = 6 
fall.envshake.freq = 180
fall.envshake.time = 15
mindist = 50,-100 
maxdist = 100,-10
yaccel = .5

[State 1000]
type = targetlifeadd
trigger1 = enemy,stateno = 3110
value = -160
ignorehitpause = 1
persistent = 0
absolute = 1

[State 3002, 1.5]
type = PlaySnd
triggerall = enemy,life < 1
trigger1 = movehit
value = 6865,23
ignorehitpause = 1
persistent = 0
volume = 255
priority = 5

[State 3002, 1.5]
type = PlaySnd
triggerall = enemy,life < 1
trigger1 = time = 13
value = 221,64
ignorehitpause = 1
persistent = 0
volume = 255
priority = 5

[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 6865,38
ignorehitpause = 1
persistent = 0
volume = 255

[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 2200,2
ignorehitpause = 1
persistent = 0

[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 3300,0
ignorehitpause = 1
persistent = 0
channel = 2

[State 3002, 1.5]
type = PlaySnd
trigger1 = movehit
value = 2200,14
volume = 255
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "burst3"
ID = 936
stateno = 936
pos = -70,-35
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0

[State 3505]
type = Explod
Trigger1 = time = 15
anim = 3301
sprpriority = 3
postype = p1
pos = -200,10
bindtime = 1
supermove = 1
pausemovetime = 99999
under = 0
ownpal = 1
scale = 1.2,1.2

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "burst1"
ID = 936
stateno = 936
pos = 20,-40
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "burst2"
ID = 937
stateno = 936
pos = -40,-20
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
persistent = 0

;[State 3102, afterimage]
;type = AfterImage
;trigger1 = time = 0
;time = 16
;trans = add1
;FrameGap = 4
;length = 12

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
value = 255,255,255
time = 3
ontop = 1
ignorehitpause = 1
persistent = 0


[State 3505]
type = posadd
Trigger1 = (animelem=1,>0 && animelem=5,<0)
x = 32
ignorehitpause = 0

;[State 3280, envcolor]
;type = envcolor
;trigger1 = Enemy,Alive = 1
;trigger1 = Animelem = 2 >= 0
;trigger1 = Timemod = 2,0
;time = 1
;under = 1
;value = 240,240,240

[State 3104, end1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;ÉwÉîÉìÉYÉhÉâÉCÉu
[Statedef 3340]
type	= S
movetype= A
physics = S
poweradd = -1000
ctrl = 0
velset = 0,0,0
anim = 3340
;juggle = 4 + var(13)

[State ]
type = Explod
trigger1 = animelem = 1
anim = 6102
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 3000, 1] ;flash sound
type = PlaySnd
trigger1 = time = 0
value = 800,0
volume = -50

[State 1000]
type = playsnd
trigger1 = time = 20
value = 800,6
volume = -50

[State 13501]
type = PlaySnd
trigger1 = animelem = 3
value = 400,1
channel = 3


[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
anim = 6200
pos = 160,97
postype = Left
sprpriority = 50
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .7,.7
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = !time && prevstateno = 1503
trigger2 = !time && prevstateno = 13505
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparklvl1'1"
ID = 9011
stateno = 9011
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Sparklvl1'2"
ID = 9001
stateno = 9001
pos = 0,-90
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 9899, BGcolor]
type = envcolor
trigger1 = time = 0
time = 40
under = 1
value = 0, 0, 0

[state 13501]
type = superpause
trigger1 = time = 0
anim = -1
movetime = 40
time = 40
darken = 0

;[State 1503, 0]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1500,1

[State 1503, 0]
type = PlaySnd
trigger1 = animelem = 5
value = 1500,0
persistent = 0

[State 1503, 1]
type = HitBy
trigger1 = Time = 3
value = SCA, SA,HA,AP
time = 13

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1210, 1]
type = VelSet
trigger1 = animelem = 3
x = 2
[State 1210, 1]
type = VelSet
trigger1 = animelem = 6
trigger2 = animelem = 14
x = 4

[State 1503, 2]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = animelem = 17
trigger6 = animelem = 18
trigger7 = animelem = 19
x = 5

[State 1503, 2]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 15
x = 10

[State 1000]
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 13
ignorehitpause = 1
value = 6865,26
volume = 255

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = animelem = 5
attr = S, SA
animtype = Medium
damage = 17,9
getpower = 0
hitflag = MAF
guardflag = MA ; MA
sparkno = s8035
sparkxy = -10,-55
pausetime = 7,12
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 24
ground.velocity = -5   ;,-6   no Y velocity on firsrt hit
air.velocity = -5,-6
air.animtype = Back
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15 
envshake.ampl = 2

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 14
trigger2 = AnimElem = 15
trigger3 = animelem = 16
attr = S, SA
animtype = Medium
damage = 17,9
getpower = 0
hitflag = MAF
guardflag = MA ; MA
sparkno = s8035
sparkxy = -10,-55
pausetime = 7,12
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 24
ground.velocity = -5   ;,-6   no Y velocity on firsrt hit
air.velocity = -5,-6
air.animtype = Back
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15 
envshake.ampl = 2

[State 1503, 3]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 6
attr = S, SA
animtype = Medium
damage = 24,9
getpower = 0
hitflag = MAF
guardflag = MA ; MA
sparkno = s8035
sparkxy = -10,-55
pausetime = 7,6
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -5 ; X -4 Y  -6
air.velocity = -5,-6
air.animtype = Back
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15 
envshake.ampl = 3

[State 1503, 3]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 6
attr = S, SA
animtype = Medium
damage = 24,9
getpower = 0
hitflag = MAF
guardflag = MA ; MA
sparkno = s8035
sparkxy = -10,-55
pausetime = 7,0
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -5 ; X -4 Y  -6
air.velocity = -2,-4
air.animtype = Back
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 3
yaccel = .3

[State 1503]
type = playsnd
trigger1 = time = 10
value = 221,51

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 17
attr = S, SA
animtype = Medium
damage = 30,9
getpower = 0
hitflag = MAF
guardflag = MA ; MA
sparkno = s8035
sparkxy = -10,-55
pausetime = 5,6
hitsound = S220,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -2 ,-8 ; X -4 Y  -6
air.velocity = -2,-7
air.animtype = Back
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15 
envshake.ampl = 3

[State 1110, 1]
type = HELPER
trigger1 = animelem = 3, = 2
name = "fire"
ID = 1520
pos = 20,-34
postype = P1
stateno = 1520
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1110, 1]
type = HELPER
trigger1 = animelem = 14, = 2
name = "fire"
ID = 1521
pos = -20,-34
postype = P1
stateno = 1521
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1


;[State 1503, 5]
;type = Explod
;trigger1 = animelem = 5, = 1
;anim = 1510
;postype = p1
;pos = 24,-36
;ID = 1500
;shadow = 64,64,64
;sprpriority = 2
;ignorehitpause = 0
;bindtime = 22
;ownpal = 1

[State 1110, 1]
type = HELPER
trigger1 = animelem = 5, = 1
trigger2 = animelem = 15, = 1
name = "fire"
ID = 1510
pos = 0,-10
postype = P1
stateno = 1510
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

;[State 1503, 5]
;type = Explod
;trigger1 = animelem = 16, = 1
;anim = 1510
;postype = p1
;pos = 24,-36
;ID = 1500
;shadow = 64,64,64
;sprpriority = 2
;ignorehitpause = 0
;bindtime = 22
;ownpal = 1

[State 3280, envcolor]
type = envcolor
triggerall = movehit
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 15
trigger4 = animelem = 16
time = 1
under = 1
value = 240,240,240

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = movehit
value = 2100,0

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 16
trigger1 = movehit
value = 2100,0

[State 1000]
type = changestate
trigger1 = !movehit
trigger1 = animelem = 25
value = 0
ctrl = 1

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3350

[Statedef 3390]
type	= S
movetype= A
physics = S
poweradd = -2000
ctrl = 0
velset = 0,0,0
anim = 3360
;juggle = 4 + var(13)

[State ]
type = Explod
trigger1 = animelem = 5
anim = 6112
sprpriority = 50
postype = back
pos = 0,0
bindtime = -1
supermove = 1
under = 0
ownpal = 1
ontop = 1
trans = add

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 5,0
value = 800,10
volume = -50

[State 1000]
type = playsnd
trigger1 = animelem = 5,20
value = 800,6
volume = -50

[State 9090]
type = Explod
trigger1 = animelem = 5 && prevstateno = 1503
trigger2 = animelem = 5 && prevstateno = 13505
anim = 6200
pos = 160,97
postype = Left
sprpriority = 50
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .7,.7
pausemovetime = 9999999
supermovetime = 9999999

[State 9090]
type = Explod
trigger1 = animelem = 5 && prevstateno = 1503
trigger2 = animelem = 5 && prevstateno = 13505
anim = 9994
pos = 0,75
postype = Left
sprpriority = 2
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .6,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Sparklvl2'1"
ID = 9012
stateno = 9012
pos = -26,-95
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 5,20
helpertype = normal
name = "Sparklvl2'2"
ID = 9002
stateno = 9002
pos = -26,-95
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 9899, BGcolor]
type = envcolor
trigger1 = animelem = 5
time = 50
under = 1
value = 0, 0, 0

[State 1000]
type = velset
trigger1 = animelem = 17
trigger2 = animelem = 29
x = 0

[state 13501]
type = superpause
trigger1 = animelem = 5
anim = -1
movetime = 50
time = 50
darken = 0

[State 1503, 0]
type = PlaySnd
trigger1 = animelem = 10
value = 1500,0
persistent = 0

[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1210, 1]
type = VelSet
trigger1 = animelem = 8
x = 2
[State 1210, 1]
type = VelSet
trigger1 = animelem = 11
trigger2 = animelem = 20
trigger3 = animelem = 23
trigger4 = animelem = 31
x = 4

[State 1503, 2]
type = PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 10
trigger3 = AnimElem = 19
trigger4 = AnimElem = 21
trigger5 = animelem = 22
trigger6 = animelem = 23
trigger7 = animelem = 24
x = 5

[State 1503, 2]
type = PosAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 20
x = 10

[State 1000]
type = playsnd
trigger1 = animelem = 7
trigger2 = animelem = 18
ignorehitpause = 1
value = 6865,26
volume = 255

[State 1503, 2]
type = PosAdd
trigger1 = AnimElem = 32
trigger2 = AnimElem = 34
trigger3 = AnimElem = 36
trigger4 = AnimElem = 37
trigger5 = animelem = 38
trigger6 = animelem = 39
x = 5

[State 1000]
type = velset
trigger1 = animelem = 40
x = 2
ignorehitpause = 1

[State 1503, 2]
type = PosAdd
trigger1 = AnimElem = 33
trigger2 = animelem = 35
x = 10

[State 1000]
type = playsnd
trigger1 = animelem = 7
trigger2 = animelem = 18
trigger3 = animelem = 31
ignorehitpause = 1
value = 6865,26
volume = 255

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = animelem = 10
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 63
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 7,12
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 18
ground.hittime = 24
ground.velocity = -5
air.velocity = -5,-6
air.animtype = Back
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 2
kill = 0

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 20
trigger2 = AnimElem = 21
trigger3 = animelem = 22
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 63
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 7,12
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 18
ground.hittime = 24
ground.velocity = -5
air.velocity = -5,-6
air.animtype = Back
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 2
kill = 0

[State 1503, 3]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 11
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 12
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 3,5
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -5 ; X -4 Y  -6
air.velocity = -5,-6
air.animtype = hard
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 3
kill = 0

[State 1503, 3]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 11
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 12
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 4,0
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -5 ; X -4 Y  -6
air.velocity = -2,-4
air.animtype = medium
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 3
yaccel = .3
kill = 0

[State 1503]
type = playsnd
trigger1 = time = 10
value = 221,51

[State 1503, 3]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 23
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 12
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 3,5
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -5 ; X -4 Y  -6
air.velocity = -5,-6
air.animtype = Back
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 3
kill = 0

[State 1503, 3]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 23
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 12
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 4,0
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -5 ; X -4 Y  -6
air.velocity = -2,-4
air.animtype = hard
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 3
yaccel = .3
kill = 0

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 32
trigger2 = AnimElem = 33
trigger3 = animelem = 34
trigger4 = animelem = 35
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 63
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 7,13
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 18
ground.hittime = 24
ground.velocity = -5
air.velocity = -5,-6
air.animtype = Back
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 2
kill = 0

[State 1503, 3]
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 36
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 12
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 0,10
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 13
ground.hittime = 48
ground.velocity = -5 ; X -4 Y  -6
air.velocity = -5,-6
air.animtype = diagup
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 3
kill = 0

[State 1503, 3]
type = HitDef
triggerall = p2statetype = A
trigger1 = AnimElem = 36
attr = S, SA
animtype = Medium
damage = 8,9
getpower = 12
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -10,-55
pausetime = 0,4
hitsound = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = high
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -4,-6 ; X -4 Y  -6
air.velocity = -1,-5.5
air.animtype = diagup
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 15
envshake.ampl = 3
yaccel = .3
kill = 0

[State 1110, 1]
type = HELPER
trigger1 = animelem = 8, = 2
name = "fire"
ID = 1520
pos = 20,-34
postype = P1
stateno = 1520
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1110, 1]
type = HELPER
trigger1 = animelem = 21, = 2
name = "fire"
ID = 1521
pos = -20,-34
postype = P1
stateno = 1521
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1


;[State 1503, 5]
;type = Explod
;trigger1 = animelem = 5, = 1
;anim = 1510
;postype = p1
;pos = 24,-36
;ID = 1500
;shadow = 64,64,64
;sprpriority = 2
;ignorehitpause = 0
;bindtime = 22
;ownpal = 1

[State 1110, 1]
type = HELPER
trigger1 = animelem = 10, = 1
trigger2 = animelem = 22, = 1
name = "fire"
ID = 1510
pos = 0,-10
postype = P1
stateno = 1510
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

;[State 1503, 5]
;type = Explod
;trigger1 = animelem = 16, = 1
;anim = 1510
;postype = p1
;pos = 24,-36
;ID = 1500
;shadow = 64,64,64
;sprpriority = 2
;ignorehitpause = 0
;bindtime = 22
;ownpal = 1

[State 3280, envcolor]
type = envcolor
triggerall = movehit
trigger1 = animelem = 9
trigger2 = animelem = 10
trigger3 = animelem = 20
trigger4 = animelem = 21
time = 1
under = 1
value = 240,240,240

[State 1110, 1]
type = HELPER
trigger1 = animelem = 34, = 1
name = "fire"
ID = 1520
pos = 20,-34
postype = P1
stateno = 1520
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1110, 1]
type = HELPER
trigger1 = animelem = 35, = 0
name = "fire"
ID = 1510
pos = 0,-10
postype = P1
stateno = 1510
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 3280, envcolor]
type = envcolor
triggerall = movehit
trigger1 = animelem = 32
trigger2 = animelem = 33
trigger3 = animelem = 34
trigger4 = animelem = 35
trigger5 = animelem = 36
time = 1
under = 1
value = 240,240,240


[State 1000]
type = changestate
triggerall = movehit
trigger1 = animtime = 0
value = 3391

[State 1000]
type = changestate
triggerall = !movehit
trigger1 = animtime = 0
value = 33915

[Statedef 3391]
type = S
movetype = A
physics = N
anim = 3361

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
triggerall = p2bodydist X < 40
triggerall = p2bodydist Y > -80
triggerall = p2statetype = A
triggerall = p2movetype = H
trigger1 = animelem = 8
time = 1
id = -1
pos = 50,-10
;ignorehitpause =
;persistent =

[State 0, TargetBind]
type = TargetBind
triggerall = p2bodydist X < 40
triggerall = p2statetype = S
triggerall = p2movetype = H
trigger1 = animelem = 8
time = 1
id = -1
pos = 40,0
;ignorehitpause =
;persistent =


[State 1000]
type = posadd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
x = 5
ignorehitpause = 1

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype = Medium
damage = 10,9
getpower = 63
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -15,-35
pausetime = 24,37
hitsound = s290
guardsound = S150,1
ground.type = low
ground.slidetime = 18
ground.hittime = 24
ground.velocity = -1
air.velocity = -0,-6
air.animtype = Back
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 20
envshake.ampl = 12
kill = 0

[State 1503, 3]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
animtype = Medium
damage = 10,9
getpower = 63
hitflag = MAF
guardflag = MA ; MA
sparkno = s8025
sparkxy = -15,-75
pausetime = 25,37
hitsound = s290
guardsound = S150,1
ground.type = high
ground.slidetime = 18
ground.hittime = 24
ground.velocity = -1
air.velocity = -0,-6
air.animtype = Back
fall.recover = 0
air.fall = 1
air.recover = 0
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 20
envshake.ampl = 12
kill = 0

[State 1000]
type = changestate
triggerall = p2movetype = H
triggerall = movehit
trigger1 = animtime = 0
value = 3392
ctrl = 0

[State 1000]
type = changestate
triggerall = p2movetype != H
triggerall = !movehit
trigger1 = animtime = 0
value = 3393
ctrl = 0

[Statedef 3393]
type = S
movetype = A
physics = N
anim = 3360

[State 1000]
type = nothitby
trigger1 = time < 30
value = SCA
ignorehitpause = 1

[State 1000]
type = changeanim
trigger1 = time = 0
elem = 36
value = 3360
ignorehitpause = 1

[State 1110, 1]
type = HELPER
trigger1 = animelem = 1
name = "fire"
ID = 1520
pos = 20,-34
postype = P1
stateno = 1520
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000]
type = playsnd
trigger1 = animelem = 1
ignorehitpause = 1
value = 6865,26
volume = 255

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 33915
ignorehitpause = 1

[Statedef 33915]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 33615
velset = 0,0,0

[State 1000]
type = changeanim
triggerall = prevstateno = 391
trigger1 = time = 0
elem = 3
value = 33615
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255

[State 312 , 3]
type = posset
trigger1 = time = 0
y = 0

[State 312, 3]
type = VarSet
trigger1 = AnimTime = 0
var(2) = 0

[State 312 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3392]
type = A
movetype = A
physics = N
anim = 3362

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,14
volume = 255
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = time <= 52
triggerall = power >= 1000
triggerall = !var(59) >= 1
trigger1 = command = "lvl 3 EXTINCTION AB"
v = 9    ;fv = 10
value = 1
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = time <= 30
trigger1 = timemod = 5,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 20,-130
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = time <= 30
trigger1 = random < 699
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 20,-130
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = animelem = 2,>= 0 && animelem = 2, <= 6
trigger1 = timemod = 5,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 10,-125
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = animelem = 2,>= 0 && animelem = 2, <= 6
trigger1 = random < 699
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 10,-125
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = animelem = 3,>= 0 && animelem = 3, <= 6
trigger1 = timemod = 5,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = -25,-110
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = animelem = 3,>= 0 && animelem = 3, <= 6
trigger1 = random < 699
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = -25,-110
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 3280 , 5]
type = Explod
triggerall = animelem = 4,>= 0 && animelem = 4, <= 3
trigger1 = timemod = 5,0
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = -30,-100
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = animelem = 4,>= 0 && animelem = 4, <= 3
trigger1 = random < 699
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 2
postype = p1
pos = 10,-110
random = 15,15
bindtime = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal
name = "flame"
ID = 1031
stateno = 1031
unhittable = 1
pos = 20,-80
postype = p1    ;p2,front,back,left,right
facing = 1
size.xscale = 1
size.yscale = 1
ownpal = 1
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 56
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,20
invertall = 0
color = 250
ignorehitpause = 1


[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(1234567)!=1
trigger1 = p2statetype = L
trigger1 = p2movetype = H
helpertype = normal ;player
name = "Burning"
ID = 1234567
stateno = 1234567
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
triggerall= movehit && numtarget && numhelper(3368)!=1
trigger1 = animelem = 11
helpertype = normal
name = "Fireball"
ID = 3368
stateno = 3368
pos = -10,-60
postype = p2
bindtime = -1
unhittable = 1
facing = 1
ownpal = 1
keyctrl = 0
supermovetime = 99999
pausetime = 99999
size.xscale = .9
size.yscale = .9
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 11
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 5
ignorehitpause = 1
scale = .5,.5
postype = p2
pos = -20,-20

[State 1000]
type = playsnd
triggerall = movehit
trigger1 = animelem = 11
value = 2200,1
persistent = 0
ignorehitpause = 1
volume = 255

[State 1000]
type = playsnd
triggerall = movehit
trigger1 = animelem = 11
value = 2200,14
persistent = 0
ignorehitpause = 1
volume = 255

[State 1000]
type = playsnd
triggerall = movehit
trigger1 = animelem = 11
value = 6865,38
persistent = 0
ignorehitpause = 1
volume = 255

[state 100]
type = pause
triggerall = time = [74,94]
trigger1 = timemod = 2,0
time = 2
movetime = 1
ignorehitpause = 1


[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,5
volume = 255
ignorehitpause = 1

[State 1000]
type = targetbind
trigger1 = time <= 40
pos = 40,-20

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,2
volume = -200
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "burstpillar"
ID = 3363
stateno = 3363
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1.5
ignorehitpause = 1

[state 1000]
type = hitadd
trigger1 = p2statetype = L
trigger1 = p2movetype = H
value = 1
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = p2statetype = L
trigger1 = p2movetype = H
helpertype = normal
name = "Explode"
ID = 3363
stateno = 3366
pos = 0,0
postype = p2
bindtime = 1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1
persistent = 0


[state 1000]
type = velset
trigger1 = animelem = 1,0
x = 0
y = -7
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 = time <= 74
y = .14
x = 0

[State 1000]
type = veladd
trigger1 = time >= 74
y = .38
x = 0

[state 1000]
type = velset
trigger1 = animelem = 12
x = -1.8
y = -7
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = animelem = 7
value = 1010,1
volume = 255
ignorehitpause = 1

[State 1056, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 1,6
trigger3 = AnimElem = 1,12
trigger4 = AnimElem = 1,18
trigger5 = AnimElem = 1,24
trigger6 = AnimElem = 1,30
trigger7 = AnimElem = 2
trigger8 = AnimElem = 3
trigger9 = animelem = 4
attr = A, HA
animtype  = hard
getpower  = 0
damage    = 5,0
priority  = 5
guardflag = M
pausetime = 2,5
sparkno = s8025
guard.sparkno = s4120
sparkxy = 0,-90
hitsound = S2200,6
guardsound = S4,10
air.animtype = back
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -0,-4
air.velocity = -0,-4
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
p2stateno = 33924
palfx.color = 250
fall = 1
fall.recover = 0
envshake.time = 5
envshake.ampl = 8
kill = 0







[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
damage = 10, 4
getpower = 0
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2, 3
sparkno = s8025
guard.sparkno = s4120
sparkxy = -40, -55
hitsound = s240,0
guardsound = s150,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -5,8
guard.velocity = -8
air.velocity = -5,8
air.hittime = 12
fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = 12
fall.envshake.ampl = 5
fall.envshake.freq = 100
fall.envshake.time = 10
palfx.time = 50
p2stateno = 33925
p2facing = 1
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 20
envshake.ampl = 16
kill = 0

[State 1505 , 10]
type = ChangeState
triggerall = !var(9)
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 33915
ctrl = 0

[State 1505 , 10]
type = ChangeState
triggerall = var(9)
trigger1 = animelem = 6
value = 3380
ctrl = 0

[Statedef 33924];3320
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
triggerall = hitpausetime = 0
Trigger1 = Time = 0
value = 2575

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 70
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 2100, à⁄ìÆèIóπ]
type = VelSet
trigger1 = AnimElem = 2
x = 0
y = -4

[State 2100, à⁄ìÆèIóπ]
type = Veladd
trigger1 = AnimElemtime(1) >= 0
y = .4

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

[Statedef 33925]
type = A
movetype = H
physics = N
ctrl = 0
facing = 1

[State 3010, 2]
type = NotHitBy
trigger1 = time >= 0
value = SCA


[State 1000]
type = posadd
trigger1 = time = 0
y = -70
ignorehitpause = 1


[state a]
type = velset
trigger1 = animelem = 2
x = -6
y = 8

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 50
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 3010, 11]
type = VelAdd
trigger1 = TIME >= 1
y = .5

[State 3010, 9]
type = ChangeAnim2
trigger1 = TIME = 0
value = 50700

[State 1250, 0]
type = Envcolor
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 255, 255, 255
time = 4
under = 0
supermove = 1

[State 3010, 4]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 30
ampl = 8
freq = 100

[State 1510, e]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 33926


---------------------------

[Statedef 33926]
type     = L
movetype = H
physics  = N
ctrl = 0
faceP2 = 1

[State 3010, 11]
type = Velset
trigger1 = TIME = 0
y = -14
x = -1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA
;value2 = S,NA
time = 100
ignorehitpause = 1


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
;ignorehitpause =
;persistent =


[state 1000]
type = lifeadd
triggerall = enemy,stateno != 3388
trigger1 = time = 0
value = -130
ignorehitpause = 1
kill = 1

[state 1000]
type = lifeadd
triggerall = enemy,stateno = 3388
trigger1 = time = 0
value = -60
ignorehitpause = 1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 90
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1
;persistent =



[State 3010, 4]
type = EnvShake
trigger1 = time = 0
trigger2 = (Anim = 3603) && (Vel Y > 0) && (Pos Y >= 0)
time = 20
ampl = 15

[State 1000]
type = envcolor
trigger1 = time = 0
ontop = 1
time = 3
value = 240,240,240
ignorehitpause = 1

[State 3010, 7]
type = posadd
trigger1 = time = 0
y = -5

[State 3010, 9]
type = ChangeAnim2
trigger1 = time = 0
persistent = 0
value = 3010

[State 3010, 11]
type = VelAdd
trigger1 = time >= 0
y = 0.4

[State 3010, 12]
type = SelfState
triggerall = Anim = 3010
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

[Statedef 3363]
type = S
movetype = A
physics = N
anim = 2572
velset = 0,0
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1



[State 1000]
type = envcolor
trigger1 = time = 0
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 60
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
ontop = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "burst2"
ID = 2555
stateno = 2556
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

[Statedef 3365]
type = S
movetype = A
physics = N
anim = 3363
velset = 0,0
ctrl = 0
sprpriority = -2


[State 1000]
type = envcolor
trigger1 = time = 0
time = 3
ontop = 1
value = 240,240,240
ignorehitpause = 1


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 40
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "burst2"
ID = 2555
stateno = 2556
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

[Statedef 3364]
type = S
movetype = A
physics = N
anim = 3364
velset = 0,0
ctrl = 0
sprpriority = -2

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 58
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3366]
type = S
movetype = A
physics = N
anim = 888
velset = 0,0
ctrl = 0
sprpriority = 2

[state 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,8
ignorehitpause = 1
volume = -200

[state 1000]
type = playsnd
trigger1 = time = 0
value = 2200,2
volume = 255

[State 0, Helper]
type = Helper
trigger1 = p2statetype = L
trigger1 = p2movetype = H
helpertype = normal
name = "Explode2"
ID = 3363
stateno = 3367
pos = 30,0
postype = p2
bindtime = 1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
size.xscale = .8
size.yscale = .8
ignorehitpause = 1
persistent = 0

[state 1000]
type = playsnd
trigger1 = time = 0
value = 2200,16
volume = -254


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 66
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3367]
type = S
movetype = A
physics = N
anim = 3230
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[state 1000]
type = posset
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,8
ignorehitpause = 1
volume = -200

[state 1000]
type = playsnd
trigger1 = time = 0
value = 2200,1
volume = 255

[state 1000]
type = playsnd
trigger1 = time = 0
value = 2200,16
volume = -254


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 40
length = 2
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0

[Statedef 3368]
movetype = I
physics = N
anim = 9999
ctrl = 0
sprpriority = 5

[State 0, BindToParent]
type = BindTotarget
trigger1 = time = 0
time = -1
ignorehitpause = 1
persistent = 1

[State 3280 , 5]
type = Explod
trigger1 = time = 0
anim = 3365
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -10,-20
bindtime = -1
removetime = 50
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1


[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -5,-20
random = 30,30
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = Random < 699
trigger1 = time >= 0
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -5,-20
random = 20,20
bindtime = 1
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = Random < 549
trigger1 = time >= 0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -5,-20
random = 30,30
bindtime = 1
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = Random < 599
trigger1 = time >= 0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -5,-20
random = 40,40
bindtime = 1
ignorehitpause = 1


[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 66
length = 6
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 15
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
triggerall = p2statetype = L
trigger1 = time >= 0
ignorehitpause = 1
persistent = 1

[Statedef 3380]
type = A
movetype = A
physics = N
anim = 3380
velset = 0,0,0

[State 1000]
type = posset
triggerall = facing = 1
trigger1 = animelem = 9
x = -120
y = -80
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9    ;fv = 10
value = 0
ignorehitpause = 1


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal ;player
name = "HSDM Portrait"
ID = 6133
stateno = 6133
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1


[State 1000]
type = posset
triggerall = facing = -1
trigger1 = animelem = 9
x = 120
y = -80
ignorehitpause = 1

[state 1000]
type = targetbind
trigger1 = animelem = 9
pos = 50,-10
ignorehitpause = 1

[State 1000]
type = envcolor
trigger1 = animelem = 9
time = 2
value = 240,240,240
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1000]
type = superpause
trigger1 = animelem = 2
time = 65
movetime = 65
darken = 0
anim = -1
poweradd = -1000
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "NEOMAX BG"
ID = 100094
stateno = 100094
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 2
anim = 9023
pos = -20,67
postype = Left
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.6
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 2
anim = 9024
pos = 0,60
postype = Left
sprpriority = 6
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.55
pausemovetime = 9999999
supermovetime = 9999999

[State 1000]
type = explod
trigger1 = animelem = 2
anim = 9025
pos = 0,65
postype = Left
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1
persistent = 0
scale = .5,.5
pausemovetime = 9999999
supermovetime = 9999999

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 9013
sprpriority = 5
postype = p1
pos = -10,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 9013
sprpriority = 5
postype = p1
pos = -10,0
bindtime = 1
facing = -1
supermovetime = 99999
pausemovetime = 99999
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 9003
sprpriority = 4
postype = p1
pos = -30,-95
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
scale = 1,1
ownpal = 1

[State 2500,2]
type = PlaySnd
trigger1 = animelem = 2
value = 800,10
volume = 255

[State 1000]
type = playsnd
trigger1 = animelem = 2,2
value = 800,4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8,6
value = 800,3
volume = 255

[State 210, 2]
type = HitDef
trigger1 = Animelem = 10
attr = S, HA
damage = 10,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkxy = -22,-61
sparkno = s8035
guard.sparkno = 6
hitsound = S240,0
guardsound = S6,0
pausetime = 0,15
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -7,-1
air.velocity = -7,-1
kill = 0
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .1
getpower = 0
envshake.time = 15
envshake.ampl = 10

[State 1000]
type = Helper
trigger1 = AnimElem = 11
stateno = 19960
ID = 19960
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 3381
ctrl = 0

[Statedef 3381]
type = S
movetype = A
physics = S
anim = 3381
poweradd = 0
velset = 0
ctrl = 0

[State 3009, pause]
type = Turn
trigger1 = Animelem = 1

[State 3009, pause]
type = Posadd
trigger1 = animelem = 1
x = p2bodydist X - 70

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  22
length  = 15
TimeGap = 1
FrameGap = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State 3009, pause]
type = Posset
trigger1 = Animelem = 1
trigger1 = enemy,pos Y < -30
y = enemy, pos Y

[State 210, 2]
type = HitDef
trigger1 = Animelem = 4
attr = S, HA
damage = 10,10
animtype = low
hitflag = MAF
guardflag = MA
sparkxy = -25,-77
sparkno = s8025
guard.sparkno = 6
hitsound = S230,0
guardsound = S6,0
pausetime = 2,8
ground.hittime = 20
ground.type = low
ground.slidetime = 20
ground.velocity = -10,4
air.velocity = -10,4
kill = 0
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .1
p2facing = 1
getpower = 0
envshake.time = 10
envshake.ampl = 5

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3382


-------------------------------------------------
[Statedef 3382]
type = S
movetype = A
physics = S
anim = 3382
poweradd = 0
velset = 0
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  22
length  = 15
TimeGap = 1
FrameGap = 1

[State 1000]
type = Helper
trigger1 = AnimElem = 1
stateno = 33801
ID = 33801
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 3009, pause]
type = Turn
trigger1 = Animelem = 2

[State 3009, pause]
type = Posadd
trigger1 = Animelem = 1
x = p2bodydist X + 140

[State 3009, pause]
type = Posset
trigger1 = Animelem = 1
y = 0

[State 210, 2]
type = HitDef
trigger1 = Animelem = 4
attr = A, HA
damage = 10,10
animtype = hard
hitflag = MAFD
guardflag = MA
sparkxy = -25,-77
sparkno = s8025
guard.sparkno = 6
hitsound = S230,0
guardsound = S6,0
pausetime = 2,8
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -8,-2
air.velocity = -8,-2
kill = 0
fall = 1
fall.recover = 0
air.juggle = 10
p2facing = 1
yaccel = .1
getpower = 0
envshake.time = 10
envshake.ampl = 5

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3383

[Statedef 3383]
type = S
movetype = A
physics = S
anim = 3383
poweradd = 0
velset = 0
ctrl = 0

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  22
length  = 15
TimeGap = 1
FrameGap = 1

[State 1000]
type = Helper
trigger1 = AnimElem = 1
stateno = 33801
ID = 33801
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 3009, pause]
type = Turn
trigger1 = Animelem = 2

[State 3009, pause]
type = Posadd
trigger1 = Animelem = 1
x = p2bodydist X + 150

[State 3009, pause]
type = Posset
trigger1 = ANIMELEM = 1
trigger1 = enemy,pos Y < -30
y = 0

[State 210, 2]
type = HitDef
trigger1 = Animelem = 4
attr = A, HA
damage = 10,10
animtype = hard
hitflag = MAFD
guardflag = MA
sparkxy = -25,-77
sparkno = s8025
guard.sparkno = 6
hitsound = S230,0
guardsound = S6,0
pausetime = 2,8
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -8,-2
air.velocity = -8,-2
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
air.juggle = 10
yaccel = .1
getpower = 0
envshake.time = 10
envshake.ampl = 5

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3384

[Statedef 3384]
type = S
movetype = A
physics = S
anim = 3384
poweradd = 0
velset = 0
ctrl = 0

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  22
length  = 15
TimeGap = 1
FrameGap = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State 3009, pause]
type = Turn
trigger1 = Animelem = 2

[State 3009, pause]
type = Posadd
trigger1 = Animelem = 1
x = p2bodydist X + 130

;[State 3009, pause]
;type = Posset
;trigger1 = Animelem = 1
;trigger1 = enemy,pos Y < -30
;y = enemy, pos Y

[State 3009, pause]
type = Posset
trigger1 = Animelem = 1
y = 0

[State 210, 2]
type = HitDef
trigger1 = Animelem = 5
attr = A, HA
damage = 10,10
animtype = up
hitflag = MAF
guardflag = MA
sparkxy = -25,-77
sparkno = s8025
guard.sparkno = 6
hitsound = S220,0
guardsound = S6,0
pausetime = 2,10
ground.hittime = 25
ground.type = high
ground.slidetime = 25
ground.velocity = 0,-9
air.velocity = 0,-9
kill = 0
fall = 1
air.fall = 1
fall.recover = 0
p2facing = 1
air.juggle = 10
yaccel = .6
getpower = 0
envshake.time = 10
envshake.ampl = 5

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 1000]
type = Helper
trigger1 = AnimElem = 1
stateno = 33801
ID = 33801
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3385

[Statedef 3385]
type = S
movetype = A
physics = S
anim = 3385
poweradd = 0
velset = 0
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  22
length  = 15
TimeGap = 1
FrameGap = 1

[State 1000]
type = Helper
trigger1 = AnimElem = 1
stateno = 33801
ID = 33801
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 3009, pause]
type = Posadd
trigger1 = time = 0
x = p2bodydist X - 10

[State 3009, pause]
type = Posset
trigger1 = time = 0
trigger1 = enemy,pos Y < -30
y = enemy, pos Y

[State 210, 2]
type = HitDef
trigger1 = Animelem = 4
attr = A, HA
damage = 10,10
animtype = hard
hitflag = MAFD
guardflag = MA
sparkxy = -25,-77
sparkno = s8025
guard.sparkno = 6
hitsound = S230,0
guardsound = S6,0
pausetime = 2,8
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -8,-.5
air.velocity = -8,-.5
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
air.juggle = 10
yaccel = .1
getpower = 0
envshake.time = 10
envshake.ampl = 5

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3386

[Statedef 3386]
type = S
movetype = A
physics = S
anim = 3386
poweradd = 0
velset = 0
ctrl = 0

[State 3009, pause]
type = Turn
trigger1 = Animelem = 2

[State 3009, pause]
type = Posadd
trigger1 = animelem = 1
x = p2bodydist X + 130

[State 3009, pause]
type = Posset
trigger1 = Animelem = 1
trigger1 = enemy,pos Y < -30
y = enemy, pos Y

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  22
length  = 15
TimeGap = 1
FrameGap = 1

[State 1000]
type = Helper
trigger1 = AnimElem = 1
stateno = 33801
ID = 33801
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = Animelem = 4
attr = S, HA
damage = 10,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkxy = -25,-77
sparkno = s8025
guard.sparkno = 6
hitsound = S220,0
guardsound = S6,0
pausetime = 2,8
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -.3,4
air.velocity = -.3,4
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
air.juggle = 10
yaccel = .3
getpower = 0
envshake.time = 10
envshake.ampl = 5

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3387

[Statedef 3387]
type = S
movetype = A
physics = S
anim = 3387
poweradd = 0
velset = 0
ctrl = 0

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  22
length  = 15
TimeGap = 1
FrameGap = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State 3009, pause]
type = Posadd
trigger1 = Animelem = 1
x = p2bodydist X - 70

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

;[State 3009, pause]
;type = Posset
;trigger1 = Animelem = 1
;trigger1 = enemy,pos Y < -30
;y = enemy, pos Y

[State 3009, pause]
type = Posset
trigger1 = Animelem = 1
y = 0

[State 210, 2]
type = HitDef
trigger1 = Animelem = 4
attr = A, HA
damage = 10,10
animtype = diagup
hitflag = MAF
guardflag = MA
sparkxy = -25,-77
sparkno = s8025
guard.sparkno = 6
hitsound = S230,0
guardsound = S6,0
pausetime = 2,6
ground.hittime = 25
ground.type = high
ground.slidetime = 25
ground.velocity = -8,-10
air.velocity = -8,-10
kill = 0
fall = 1
air.fall = 1
fall.recover = 0
air.juggle = 10
p2facing = 1
yaccel = .4
getpower = 0
envshake.time = 10
envshake.ampl = 5

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 1000]
type = Helper
trigger1 = AnimElem = 1
stateno = 33801
ID = 33801
helpertype = normal
pos = 40,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3388

[Statedef 3388]
type = S
movetype = A
physics = N
anim = 3388
poweradd = 0
velset = 0
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelem = 21,<= 0
value = 1
movecamera = 0,0
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelem = 21,<= 0
value = 1
movecamera = 1,0
ignorehitpause = 1
persistent = 1

[State 1000]
type = assertspecial
trigger1 = 1
flag = nofg
flag2 = nobg
flag3 = nobardisplay
ignorehitpause = 1

[State 1017]
type = helper
trigger1 = time = 0
name = "slowmo"
stateno = 999998
helpertype = normal
postype = p1
pos = 0,0
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
unhittable = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000]
type = posadd
trigger1 = animelem = 1, >= 0 && animelem = 4, <= 0
x = 1
y = 0

[State 1000]
type = posadd
trigger1 = animelem = 5, >= 0 && animelem = 12, <= 0
x = 1
y = 0

[State 1000]
type = velset
trigger1 = time = 0
y = -1
x = .3

[State 1000]
type = veladd
triggerall = vel y < 0
trigger1 = time >= 0
y = .02

[State 1000]
type = velset
triggerall = vel y < 0
trigger1 = time <= 50
y = 0
x = 0

[State 3009, pause]
type = Turn
trigger1 = Animelem = 1

[State 3009, pause]
type = Posadd
trigger1 = animelem = 1
x = p2bodydist X - 110

[State 3009, pause]
type = Posset
trigger1 = Animelem = 1
trigger1 = enemy,pos Y < -30
y = enemy, pos Y - 10

[State a]
type = Afterimage
trigger1 = animelem = 2
trans = add
paladd = 50,10,-50
palbright = 40,-50,-100
sprpriority = -2
time    =  23
length  = 15
TimeGap = 1
FrameGap = 2

[State 1000]
type = targetbind
trigger1 = animelem = 4
time = 30
pos = 30,-15
ignorehitpause = 1

[State 1000]
type = Helper
trigger1 = AnimElem = 1
stateno = 33801
ID = 33801
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 100]
type = pause
triggerall = animelem = 17,>= 0 && animelem = 21,<= 0
trigger1 = timemod = 2,0
time = 2
movetime = 2
ignorehitpause = 1



[State 210, 2]
type = HitDef
trigger1 = Animelem = 4
attr = S, HA
damage = 15,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkxy = -25,-50
sparkno = s8025
guard.sparkno = 6
hitsound = S240,0
guardsound = S6,0
pausetime = 0,1
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -14,6
air.velocity = -14,6
kill = 0
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .1
p2stateno = 8025
p2facing = 1
getpower = 0
envshake.time = 10
envshake.ampl = 12

[State 210, 2]
type = HitDef
trigger1 = Animelem = 12
attr = S, HA
damage = 15,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkxy = -15,-50
sparkno = s8025
guard.sparkno = 6
hitsound = S240,0
guardsound = S6,0
pausetime = 0,1
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -14,6
air.velocity = -14,6
kill = 0
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .1
p2stateno = 8023
p2facing = 1
getpower = 0
envshake.time = 15
envshake.ampl = 12

[State 210, 2]
type = HitDef
trigger1 = Animelem = 21
attr = S, HA
damage = 10,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkxy = -15,-50
sparkno = s8025
guard.sparkno = 6
hitsound = S240,0
guardsound = S6,0
pausetime = 0,1
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -14,9
air.velocity = -14,9
kill = 0
fall = 1
fall.recover = 0
air.juggle = 10
p2facing = 1
getpower = 0
envshake.time = 20
envshake.ampl = 12
p2stateno = 33898

[state 1000]
type = velset
trigger1 = animelem = 21
x = -1.2
y = -6
ignorehitpause = 1

[State 1000]
type = veladd
trigger1 =  animelem = 21,>= 0
y = .28
x = 0

[State 1000]
type = explod
trigger1 = animelem = 19,>= 5 && animelem = 20,<= 0
trigger1 = timemod = 5,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 3
postype = p1
pos = -33+(random%25),-8-(random%20)
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 2900, 1];
type = helper
trigger1 = Animelem = 21
persistent = 0
name = "Final-Fireball"
pos = 10,-60
postype = P1
stateno = 33895
size.xscale = .7
size.yscale = .7
helpertype = normal
keyctrl = 0
ownpal = 1

[state 1000]
type = playsnd
trigger1 = animelem = 19,5
value = 3220,1
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 19,10
value = 6867,1
volume = 50
channel = 2
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 19,10
value = 6867,1
volume = 50
channel = 1
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = animelem = 19,10
value = 3380,0
volume = 255
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = animelem = 19,10
value = 3380,0
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 19,25
value = 3150,3
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = animelem = 19,25
value = 3150,3
volume = 255
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 21
channel = 2
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 21
channel = 1
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 19,>= 5 && animelem = 21,<= 0
trigger1 = timemod = 5,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 3
postype = p1
pos = -5+(random%25),-50-(random%20)
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 19,>= 5 && animelem = 19,<= 45
trigger1 = timemod = 5,0
anim = 8855
removetime = -2
bindtime = 1
vel = 0,0
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = -5+(random%25),-50-(random%20)
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 19,>= 5 && animelem = 19,<= 45
trigger1 = timemod = 5,0
anim = 8855
removetime = -2
bindtime = 1
vel = 0,0
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = -33+(random%25),-8-(random%20)
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 19,>= 5 && animelem = 21,<= 0
trigger1 = timemod = 5,0
anim = 2200
removetime = -2
bindtime = 1
vel = 0,-.5
scale = .7,.7
supermovetime = 99999
ownpal = 1
sprpriority = 3
postype = p1
pos = -22+(random%25),-30-(random%20)
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 1000]
type = explod
trigger1 = animelem = 19,>= 5 && animelem = 19,<= 45
trigger1 = timemod = 5,0
anim = 8855
removetime = -2
bindtime = 1
vel = 0,0
scale = .2,.2
supermovetime = 99999
ownpal = 1
sprpriority = 2
postype = p1
pos = -22+(random%25),-30-(random%20)
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 300, 1]
type = BGPalFX
trigger1 = MoveHit
time = 3
add = 255,255,255
persistent = 0
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,26
volume = 255
ignorehitpause = 1

[State 182, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6865,46
volume = -100
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = vel Y > 0 && pos y >= 0
value = 3389

[Statedef 3389]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 3389
velset = 0,0,0

[State 1000]
type = changeanim
triggerall = prevstateno = 391
trigger1 = time = 0
elem = 3
value = 33615
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelem = 1,>= 0
value = 1
movecamera = 1,0
ignorehitpause = 1
persistent = 1

[State 0, Helper]
type = Helper
triggerall= numtarget && numhelper(1234567)!=1
trigger1 = !time
helpertype = normal ;player
name = "Burning"
ID = 1234567
stateno = 1234567
postype = p2    ;p2,front,back,left,right
facing = -1
unhittable = 1
bindtime = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 1000]
type = playsnd
trigger1 = time = 0
value = 47,0
volume = 255

[State 312 , 3]
type = posset
trigger1 = time = 0
y = 0

[State 312, 3]
type = VarSet
trigger1 = AnimTime = 0
var(2) = 0

[State 312 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 33801]
type = S
movetype = A
physics = N
anim = 33801
velset = 0,0
ctrl = 0
sprpriority = 4

[state 1050,BIND]
type = BINDTOROOT
trigger1 = TIME <= 8
pos = 0,0

[state 1050,Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 255,255

[State 4900, 6]
type = AfterImage
trigger1 = Time = 0
time = 30
length = 5
paladd = 50,10,-50
palbright = 40,-50,-100
timegap = 1
framegap = 1
sprpriority = 5
trans = add
sprpriority = 15

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA

[State 1010]
type = DestroySelf
trigger1 = ANIMtime = 0
trigger2 = ROOT,MOVETYPE = H

[Statedef 33895]
type = S
movetype = A
physics = N
anim = 33895
velset = 8,7
ctrl = 0
sprpriority = 2

[State 0, BindToTarget]
type = bindtotarget
trigger1 = time = 0
time = 90
pos = 10,-20
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 6867,3
volume = 255
ignorehitpause = 1

[State 1000]
type = playsnd
trigger1 = time = 0
value = 2200,9
volume = 255
ignorehitpause = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State a]
type = Angleset
trigger1 = 1
value = -45

[State a]
type = AngleDraw
trigger1 = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1010]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,ST,HP


[State 901, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA
slot = 0
stateno = -1
time = -1
ignorehitpause = 1

[State 1320, 2]
type = HitDef
trigger1 = (gametime%4) = 1
priority = 10
attr = S, SA
animtype  = up
damage    = 5,5
hitflag = MAFD
numhits = 1
getpower = 50,50
pausetime = 0,3
sparkxy = 20,0
fall= 1
fall.recover = 0
air.recover = 0
sparkno = -1
guard.sparkno = -1
hitsound = S2200,6
guardsound = S200,5
ground.type = High
ground.slidetime = 24
ground.hittime = 20
ground.velocity = -1.-5
air.velocity = -2,-5.8
guard.hittime = 25
guard.velocity = -13
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 40
envshake.ampl = -3
envshake.freq = 90
envshake.phase = -2

[State 1065]
type = Explod
triggerall = time >= 0
trigger1 = (GameTime%2) = 1
anim = 2200
sprpriority = 10
postype = p1
pos = 10,-10
random = 20,70
bindtime = 1
under = 0
ownpal = 1
persistent = 1
ignorehitpause = 1
vel = -5,-2 - (random%3)
PauseMoveTime = 9999

[State 3280 , 5]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 5,0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,-20
random = 30,30
bindtime = 1
ignorehitpause = 1

[State 3280 , 6]
type = Explod
triggerall = Random < 699
trigger1 = time >= 0
anim = 2206
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = 0,-20
random = 20,20
bindtime = 1
ignorehitpause = 1

[State 3280 , 7]
type = Explod
triggerall = Random < 549
trigger1 = time >= 0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = -30,-15
random = 30,30
bindtime = 1
ignorehitpause = 1

[State 3280, 8]
type = Explod
triggerall = Random < 599
trigger1 = time >= 0
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p1
pos = -10,-15
random = 40,40
bindtime = 1
ignorehitpause = 1

[State 1010]
type = ChangeState
trigger1 = Pos Y >= 0
value = 33896

;=================
[Statedef 33896]
type = S
movetype = I
physics = N
anim = 33896
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1108, Explod]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 5,0
anim = 8167
pos = 30,0
postype = p1
removetime = -2
scale = 1.3,1.3
sprpriority = 5
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999


[State a]
type = Angleset
trigger1 = 1
value = -45

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State a]
type = AngleDraw
trigger1 = 1

[State 2900, 1];
type = helper
trigger1 = Animelem = 1
persistent = 0
name = "Inferno"
pos = 30,0
postype = P1
stateno = 33897
helpertype = normal
keyctrl = 0
ownpal = 1

[State 1010]
type = DestroySelf
trigger1 = animtime = 0

;====================

[Statedef 33897]
type = S
movetype = A
physics = N
anim = 9741
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0000,000]
type = Varrandom
trigger1 = 1
v = 6
range = 0, -80

[state 100]
type = pause
triggerall = time >= 0
trigger1 = timemod = 2,0
time = 2
movetime = 1
ignorehitpause = 1

[State 1341, shake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = 13
freq = 75
phase = 95

[State 1341, shake]
type = EnvShake
trigger1 = time = 20
time = 140
ampl = 7
freq = 75
phase = 95

[State 1108, Explod]
type = Explod
triggerall = AnimElemtime(1) <= 80
trigger1 = timemod = 7,0
anim = 33897
pos = var(6), 0
bindtime = 1
removetime = -2
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 1108, Explod]
type = Explod
triggerall = AnimElemtime(1) <= 90
trigger1 = timemod = 7,0
anim = 8166
pos = var(6), 0
postype = p1
removetime = -2
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 1108, Explod]
type = Explod
trigger1 =  animelem = 1,90
anim = 8167
pos = -40, 0
postype = p1
sprpriority = 5
ownpal = 1
scale = 1.3,1.3
ignorehitpause = 1

[State 1320, 1]
type = playsnd
trigger1 = animelem = 1
value = 2200,1
volume = 200

[State 1320, 1]
type = playsnd
triggerall = time >= 0
triggerall = timemod = 3,0
trigger1 = random <= 400
value = 3300,0
volume = -50

[State 1320, 1]
type = playsnd
trigger1 = animelem = 1
value = 2200,171
volume = 255

[State 800, 2.1]
type = Projectile
triggerall = time <= 80
trigger1 = timemod = 7,0
projanim = 3601
projremovetime = 20
projpriority = 99
projsprpriority = 5
pausemovetime = 99999
supermovetime = 99999
offset = var(6), 0
postype = p1
attr = S, SP
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 8,3
pausetime = 0, 6
guard.pausetime = 0, 6
sparkno = s937
guard.sparkno = S8056
hitsound = S2200,6
guardsound = S200,5
sparkxy = -60+(random%100), -98+(random%98)
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10
ground.velocity = 0, -2
air.velocity = 0, -2
sprpriority = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
persistent = 1
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 3010

[State 800, 2.1]
type = Projectile
triggerall = time >= 80
trigger1 = timemod = 7,0
projanim = 3601
projremovetime = 20
projpriority = 99
projsprpriority = 5
pausemovetime = 99999
supermovetime = 99999
offset = var(6), 0
postype = p1
attr = S, SP
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 12,3
pausetime = 0, 2
guard.pausetime = 0, 6
sparkno = s937
guard.sparkno = S8056
hitsound = S2200,6
guardsound = S200,5
sparkxy = -60+(random%100), -78+(random%78)
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10
ground.velocity = 0, -14
air.velocity = 0, -14
sprpriority = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
persistent = 1
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
p2stateno = 3010
yaccel = .4

[State 1010]
type = DestroySelf
trigger1 = time = 107

[Statedef 33898]
type = A
movetype = H
physics = N
ctrl = 0
facing = 1

[State 3010, 2]
type = NotHitBy
trigger1 = time >= 0
value = SCA


[State 1000]
type = posadd
trigger1 = time = 0
y = -70
x = -30
ignorehitpause = 1


[state a]
type = velset
trigger1 = animelem = 2
x = -8
y = 7

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 50
add = 250,-100,-250
mul = 256,256,256
sinadd = 60,60,50,10
invertall = 1
color = 250
ignorehitpause = 1

[State 3010, 11]
type = VelAdd
trigger1 = TIME >= 1
y = .5

[State 3010, 9]
type = ChangeAnim2
trigger1 = TIME = 0
value = 50700

[State 1250, 0]
type = Envcolor
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 255, 255, 255
time = 2
under = 0
supermove = 1

[State 3010, 4]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 30
ampl = 8
freq = 100

[State 1510, e]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 20
value = 3010


[Statedef 3350]
type = A
movetype = A
physics = N
anim = 15045
;juggle = 2

[State 810, ï®óùìIÇ»ÉLÉÉÉâÇÃïù]
type = Width
trigger1 = 1
edge = 15,0

[State 1000]
type = playsnd
trigger1 = time = 0
value = 40,0
volume = 255



[State 440,]
type = PosAdd
trigger1 = AnimElem = 1
x = 5
y = 15

[State 440,]
type = Velset
trigger1 = AnimElem = 1
x = 3
y = -8

[State 1100,]
type = Helper
trigger1 = AnimElem = 14
stateno = 1165
ID = 1165
helpertype = normal
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 440,]
type = Veladd
trigger1 = AnimElemtime(1) >= 0
x = -.03
y = .25

[State -3, ê¨å˜ÇµÇΩÇ∆Ç´ÇÃécëú]
type = AfterImage
trigger1 = time = 0
time = 50
trans = add1
timegap = 4
framegap = 1
length = 3
palbright = 50,50,50
palcontrast = 0,0,0

[State 2000]
type = HitDef
trigger1 = AnimElem = 1
attr = A, HA
damage = 10, 2
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2, 5
sparkno = s8035
guard.sparkno = s4120
sparkxy = -15, -50
hitsound = s230,0
guardsound = s150,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -2,-5
guard.velocity = -5
air.type = High
air.velocity = -2,-5
air.hittime = 12
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0

[State 1000]
type = explod
triggerall = movehit
trigger1 = animelem = 15
anim = 2013
removetime = -2
bindtime = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 5
ignorehitpause = 1
postype = p1
pos = 40,-55

[State 1000]
type = playsnd
triggerall = movehit
trigger1 = animelem = 15
value = 6865,35
volume = -100

[State 1000]
type = playsnd
trigger1 = animelem = 14
value = 221,57
volume = 255

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
damage = 10, 2
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 6, 9
sparkno = s8035
guard.sparkno = s4120
sparkxy = -20, -50
hitsound = s230,0
guardsound = s150,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -2,-5
guard.velocity = -5
air.velocity = -2,-5
air.hittime = 12
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
damage = 30*(Ceil(fvar(16))), 4
getpower = 0
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 18, 20
sparkno = s8025
guard.sparkno = s4120
sparkxy = -40, -55
hitsound = s240,0
guardsound = s150,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -10,18
guard.velocity = -8
air.velocity = -10,18
air.hittime = 12
fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = 12
fall.envshake.ampl = 5
fall.envshake.freq = 100
fall.envshake.time = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 1

[State 1505 , 10]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

;--------------------
;1505 fwd_D in air
[Statedef 3360]
type = A
movetype = A
physics = N
anim = 3360
poweradd = 42
;juggle = 2

[State 2004]
type = pause
trigger1 = Enemy,Alive = 1
trigger1 = time < 15
trigger1 = Timemod = 2,0
time = 1

[State 1505 , 4]
type = VelAdd
trigger1 = Time > 0
y = .55

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -12
;ignorehitpause =
;persistent =


[State 1500, burn]
type = varset
trigger1 = movehit
var(3) = 1

;[State 1000, 0]
;type = PlaySnd
;trigger1 = Time = 3
;value = 400,1

[State 1505 , 5]
type = explod
trigger1 = animelem = 4, = 1
Anim = 1540
pos = 20,-80
sprpriority = 2
shadow = 64,64,64
postype = p1
bindtime = 13
ownpal = 1

[State 1505 , 6]
type = HitDef
trigger1 = AnimElem = 7
;trigger2 = (AnimElem = 5) && (!movecontact)
;trigger3 = (AnimElem = 6) && (!movecontact)
attr = A, SA
animtype = back
damage = 40,9
getpower = 42
sparkno = s8035
hitflag = MAF
guardflag = MA
sparkxy = 0,-60
pausetime = 5,30
hitsound = S230,0
guardsound = S150,1
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0,7
air.velocity = -2,3
;air.animtype = Back
air.hittime = 30
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5

[State 1505 , 6]
type = HitDef
trigger1 = AnimElem = 12
;trigger2 = (AnimElem = 5) && (!movecontact)
;trigger3 = (AnimElem = 6) && (!movecontact)
attr = A, SA
animtype = up
damage = 40,9
getpower = 42
sparkno = s8035
hitflag = MAF
guardflag = MA
sparkxy = 0,-60
pausetime = 5,30
hitsound = S230,0
guardsound = S150,1
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0,7
air.velocity = -2,3
;air.animtype = Back
air.hittime = 30
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5

[State 1505 , 6]
type = HitDef
trigger1 = AnimElem = 21
;trigger2 = (AnimElem = 5) && (!movecontact)
;trigger3 = (AnimElem = 6) && (!movecontact)
attr = A, SA
animtype = hard
damage = 40,9
getpower = 42
sparkno = s8035
hitflag = MAF
guardflag = MA
sparkxy = 0,-60
pausetime = 5,8
hitsound = S240,0
guardsound = S150,1
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0,7
air.velocity = -4,14
;air.animtype = Back
air.hittime = 30
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 20
envshake.ampl = 4
envshake.freq = 160
fall.envshake.ampl = 4
fall.envshake.freq = 180
fall.envshake.time = 15
mindist = 50,-100
maxdist = 100,-10
palfx.time = 90
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
yaccel = 1

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 8
value = 221,53

[State 3280, envcolor]
type = envcolor
trigger1 = animelem = 7
time = 3
under = 1
value = 240,240,240

[State 1505 , 10]
type = ChangeState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 312
ctrl = 0

[Statedef 3811]
type = A
movetype = H
physics = N
ctrl = 0
anim = 5030

[State -2]
type = PlaySnd
Trigger1 = Alive
Trigger1 = Time = 0
Trigger1 = Random < 500
value = 5000,8+(Random % 3)
volume = 255

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 3010, 4]
type = EnvShake
trigger1 = time = 0
trigger2 = (Anim = 3603) && (Vel Y > 0) && (Pos Y >= 0)
time = 20
ampl = 5


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1
persistent = 1

[State 3010, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 3010, 6]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square

[State 3010, 7]
type = posadd
trigger1 = HitShakeOver = 1
persistent = 0
y = -35

[State 3010, 8]
type = EnvColor
trigger1 = (time = 0) && (life > 0)
time = 2
value = 240,240,240
under = 1
ignorepausetime = 1

[State 3010, 9]
type = ChangeAnim2
trigger1 = HitShakeOver = 1
persistent = 0
value = 3811

[State 3010, 10]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1

[State 3010, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.54

[State 3010, 12]
type = SelfState
triggerall = Anim = 3811
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100


;ÉGÉAÉgÉäÉKÅ[Å@é„
[Statedef 963]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 967
sprpriority = 2
juggle = 0

[State 0, Gravity]
type = Gravity
trigger1 = 1
;ignorehitpause =
;persistent =


[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 6
value = 221,59

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 6
value = 1500,0
channel = 2

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 7
value = 1010,0
channel = 3

[STate 968]
type=statetypeset
trigger1=Animelem=6
value=A

;[State 1505 , 5]
;type = explod
;trigger1 = animelem = 5
;Anim = 965
;pos = 10,-70
;sprpriority = 3
;shadow = 64,64,64
;postype = p1
;bindtime = 6
;ownpal = 1


[State 1000, 1]
type = Projectile
trigger1 = animelem = 5
ProjAnim = 965
ProjID = 965
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 14
offset = 7,-73

[State 1000, 1]
type = Projectile
trigger1 = animelem = 6
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 15
offset = -22,-43
velocity = 2.5,2

[State 1010, 5]
type = Projectile
triggerall = prevstateno != 1010
triggerall = prevstateno != 1011
trigger1 = AnimElem = 6
ProjAnim = 964
projcancelanim = 966
projremanim = 966
ProjID = 1020
offset = 49,-25
velocity = 3,2.4
accel = 0, 0
attr = S, SP
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
damage = 70,10
animtype = Hard
getpower = 42
givepower = 50
hitflag = MAFD
guardflag = MA,L
pausetime = 0,8
guard.pausetime = 0,7
sparkno = s8025
sparkxy = -1
hitsound = S6865,19
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -9
guard.velocity = -8 ; -4
airguard.velocity = -4.0,-3.0
air.velocity = -2.5,-5.5
air.animtype = Back
air.recover = 0
fall.recover = 0
palfx.time = 25
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1010, 5]
type = Projectile
triggerall = prevstateno = 1010
trigger1 = AnimElem = 6
ProjAnim = 1020
offset = 80,-65
velocity = 5,0
accel = 0, 0
attr = S, SP
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
damage = 30,5
animtype = Hard
getpower = 42
givepower = 50
guardflag = MA,L
guard.sparkno = s8056
pausetime = 0,8
guard.pausetime = 0,7
sparkno = s8035
sparkxy = -1
hitsound = S2000,0
guardsound = S150,1
ground.type = High
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -9
guard.velocity = -8 ; -4
airguard.velocity = -4.0,-3.0
air.velocity = -2.5,-5.5
air.juggle = 1 ;+ var(12)
air.animtype = Back
air.recover = 0
fall.recover = 0
palfx.time = 19
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 12
envshake.ampl = 3

[State 1010, 5]
type = Projectile
triggerall = prevstateno = 1011
trigger1 = AnimElem = 6
ProjAnim = 1020
offset = 80,-65
velocity = 5,0
accel = 0, 0
attr = S, SP
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
damage = 30,5
animtype = Hard
getpower = 42
givepower = 50
guardflag = MA,L
guard.sparkno = s8056
pausetime = 0,8
guard.pausetime = 0,7
sparkno = s8035
sparkxy = -1
hitsound = S2000,0
guardsound = S150,1
ground.type = High
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -9
guard.velocity = -8 ; -4
airguard.velocity = -4.0,-3.0
air.velocity = -2.5,-5.5
air.juggle = 1 ;+ var(12)
air.animtype = Back
air.recover = 0
fall.recover = 0
palfx.time = 19
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250
envshake.time = 12
envshake.ampl = 3

[State 968]
type = ChangeState
trigger1 = pos Y>=0&&vel Y>0
value = 312


;ÉGÉAÉgÉäÉKÅ[Å@ã≠
[Statedef 964]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 963
sprpriority = 2
juggle = 0

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 1
value = 221,58

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 6
value = 1500,0
channel = 2

[State 1504, 0]
type = PlaySnd
trigger1 = animelem = 7
value = 1010,0
channel = 3

[STate 968]
type=VelSet
trigger1=Animelem=6
x=-4
y=-5

[STate 968]
type=Veladd
trigger1=Animelem=6,>=0
x=-.4

[STate 968]
type=Veladd
trigger1=Animelem=6,>=0
y=.2

[STate 968]
type=Veladd
trigger1=Animelem=8,>=0
y=.3

[STate 968]
type=statetypeset
trigger1=Animelem=6
value=A


;[State 1505 , 5]
;type = explod
;trigger1 = animelem = 5,1
;Anim = 965
;pos = 10,-70
;sprpriority = 3
;shadow = 64,64,64
;postype = p1
;bindtime = 6
;ownpal = 1


[State 1000, 1]
type = Projectile
trigger1 = animelem = 5,1
ProjAnim = 965
ProjID = 965
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 14
offset = 7,-73

[State 1000, 1]
type = Projectile
trigger1 = animelem = 6
ProjAnim = 1002
ProjID = 1002
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
ProjRemoveTime = 15
offset = -23,-43
velocity = 4.5,3

[State 1010, 5]
type = Projectile
triggerall = prevstateno != 1010
triggerall = prevstateno != 1011
trigger1 = AnimElem = 6
ProjAnim = 964
projcancelanim = 966
projremanim = 966
ProjID = 1020
offset = 49,-25
velocity = 4.5,3
accel = 0, 0
attr = S, SP
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
damage = 100,10
animtype = Hard
guard.sparkno = s8056
getpower = 42
givepower = 50
hitflag = MAFD
guardflag = MA,L
pausetime = 0,8
guard.pausetime = 0,7
sparkno = s8025
sparkxy = -1
hitsound = S6865,19
guardsound = S150,1
ground.type = High
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -9
guard.velocity = -8 ; -4
airguard.velocity = -4.0,-3.0
air.velocity = -2.5,-5.5
air.juggle = 0 ;+ var(12)
air.animtype = Back
air.recover = 0
fall.recover = 0
palfx.time = 25
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1010, 5]
type = Projectile
triggerall = prevstateno = 1010
trigger1 = animelem = 6
projID = 1025
projanim = 1025
projremove = 1
projpriority = 1
projscale = 0.45,0.35
projhitanim = 1026
projremanim = 1026
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = -1
getpower = 50
ownpal = 0
offset = 12,-30
guard.sparkno = s8056
velocity = 8, 0
attr = S, SP
animtype = Hard
damage = 60 ,6
hitflag = MAF
guardflag = M
hitsound = s6865,19
guardsound = s150,1
pausetime = 0,10
sparkno = s8025
guard.sparkno = 6
sparkxy = 25,-30
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
fall.recovertime = 30
palfx.time = 35
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 1010, 5]
type = Projectile
triggerall = prevstateno = 1011
trigger1 = animelem = 6
projID = 1025
projanim = 1025
projremove = 1
projpriority = 1
projscale = 0.45,0.35
projhitanim = 1026
projremanim = 1026
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 50,10,-50
afterimage.palbright = 40,-50,-100
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add
projsprpriority = 5
projremovetime = -1
getpower = 50
ownpal = 0
offset = 12,-30
velocity = 8, 0
attr = S, SP
animtype = Hard
damage = 60 ,6
hitflag = MAF
guardflag = M
hitsound = s6865,19
guard.sparkno = s8056
guardsound = s2,1
pausetime = 0,10
sparkno = s8025
guard.sparkno = 6
sparkxy = 25,-30
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
fall.recovertime = 30
palfx.time = 35
palfx.mul = 256,256,256
palfx.sinadd = 60,60,50,10
palfx.add = 250,-100,-250
palfx.invertall = 1
palfx.color = 250

[State 968]
type = ChangeState
trigger1 = pos Y>=0&&vel Y>0
value = 312


;ÉXÉiÉCÉpÅ[ÉTÉCÉh
[Statedef 11610]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 11610
juggle  = 9 + var(13)

[State 270, 1]
type = PlaySnd
trigger1 = animelem = 6
value = 400,0

[State 270, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 300 , 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype  = Medium
damage    = 70
getpower  = 150
givepower = 25
guardflag = M
pausetime = 15,15
sparkxy = -20,-90
sparkno = s8035
hitsound   = S240,0
guardsound = S150,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5.5,-5
guard.cornerpush.veloff = -14
air.velocity = -5.5,-5
air.animtype = Back
yaccel = .66
fall = 1
air.fall = 1
fall.recover = 0
P2stateno = 305
envshake.time = 10 
envshake.ampl = 3

[State 1000, 0]
type = Width
trigger1 = time = 1
trigger2 = time = 10
value = 20,0

[State 1000, 0]
type = posadd
trigger1 = animelem = 1
x = 15
[State 1000, 0]
type = posadd
trigger1 = animelem = 2
x = 5
[State 1000, 0]
type = posadd
trigger1 = animelem = 3
x = 5
[State 1210, 1]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 1000, 0]
type = posadd
trigger1 = animtime = 0
x = 20
[State 270 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;ÉXÉiÉCÉpÅ[ÉTÉCÉhÅ@ÉLÉÉÉìÉZÉãî≈
[Statedef 11615]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 11615
juggle  = 9 + var(13)

[State 270, 1]
type = PlaySnd
trigger1 = animelem = 6
value = 400,0

[State 270, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 270 , 2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Medium
damage    = 40
getpower  = 120
givepower = 20
hitflag = MA
guardflag = M
pausetime = 10,10   ;12,12
sparkxy = -25,-90
sparkno = s8035
hitsound   = S230,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5
ground.cornerpush.veloff = -10
air.velocity = -5,-2
air.juggle = 9 + var(13)
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 
envshake.time = 10 
envshake.ampl = 3

[State 1000, 0]
type = Width
trigger1 = time = 1
trigger2 = time = 7
value = 20,0

[State 1000, 0]
type = posadd
trigger1 = animelem = 1
x = 15
[State 1000, 0]
type = posadd
trigger1 = animelem = 2
x = 5
[State 1000, 0]
type = posadd
trigger1 = animelem = 3
x = 5
[State 1210, 1]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 1000, 0]
type = posadd
trigger1 = animtime = 0
x = 20

[State 1000]
type = changestate
triggerall = var(59) >= 1
triggerall = power <= 1000
trigger1 = movehit
trigger1 = random <= 300
value = 1050

[State 1000]
type = changestate
triggerall = var(59) >= 1
triggerall = power >= 1000
trigger1 = movehit
trigger1 = random <= 300
value = 1050

[State 1000]
type = changestate
triggerall = var(59) >= 1
triggerall = power <= 1000
trigger1 = movehit
trigger1 = random <= 700
value = ifelse(random < 700,1006,1503)

[State 1000]
type = changestate
triggerall = var(59) >= 1
triggerall = power >= 1000
trigger1 = movehit
trigger1 = random <= 700
value = ifelse(random < 700,1006,1503)


[State 270 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;========================================
; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[Ég
;========================================
; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇ`Å@ÇPíiñ⁄
[Statedef 11500]
type = S
movetype = A
physics = S
anim = 220
velset = 2
ctrl = 0
juggle = 1

[State 220, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 220, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 220 , 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = (AnimElem = 6) && (!movecontact)
attr = S, NA
animtype = Med
getpower = 80
givepower = 60
damage = 30
guardflag = M
hitflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-80
hitsound = S220,0
guardsound = S150,1
ground.type = High
ground.slidetime = 17
guard.sparkno = s8056
ground.hittime = 17
ground.velocity = -2
guard.velocity = -3
air.velocity = -5,-1
airguard.velocity = -5,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 1210, 1]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "D"
triggerall = Enemy,Alive = 1
triggerall = var(20) = 0
trigger1 = Time > 12
trigger1 = Time < 30
trigger2 = movehit
value = 11501
ctrl = 0

[State 11504]
type = varset
trigger1 = animtime = 0
var(20) = 0

[State 220, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇ`Å@ÇQíiñ⁄
[Statedef 11501]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 3,0,0
anim = 11501
juggle  = 2;9 + var(13)

[State 270, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 270, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 270 , 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Medium
damage    = 15
getpower  = 60
givepower = 40
hitflag = MA
guardflag = M
pausetime = 10,10   ;12,12
sparkxy = -10,-60
sparkno = s8035
hitsound   = S220,0
guardsound = S150,1
ground.type = High
ground.slidetime = 10
guard.sparkno = s8056
ground.hittime  = 15 ;17
ground.velocity = 0
ground.cornerpush.veloff = -7
air.velocity = -2,-3
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 270 , 4]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Medium
damage    = 15
getpower  = 60
givepower = 40
hitflag = MA
guardflag = M
pausetime = 11,11    ;12,12
sparkxy = -10,-70
sparkno = s8035
hitsound   = S220,0
guard.sparkno = s8056
guardsound = S150,1
ground.type = High
ground.slidetime = 17 ; 17
ground.hittime  = 15 ;17
ground.velocity = -4
ground.cornerpush.veloff = -14
air.velocity = -2,-3
air.cornerpush = 1
;air.juggle = 9 + var(13)
air.animtype = Back

[State 1000, 0]
type = posadd
trigger1 = animelem = 3
x = 22
[State 1210, 1]
type = VelSet
trigger1 = animelem = 3,1
x = 0

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "B"
triggerall = Enemy,Alive = 1
trigger1 = Time > 10
trigger1 = Time < 20
trigger2 = movehit
value = 11502
ctrl = 0

[State 270 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇ`Å@ÇRíiñ⁄
[Statedef 11502]
type = S
movetype = A
physics = S
anim = 11502
velset = 5
ctrl = 0
juggle = 4;9

[State 230, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 700,0

[State 230, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 260, 1]
type = PlaySnd
trigger1 = animelem = 9
value = 47,0
channel = 2

[State 330 , 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = diagup
damage    = 40
getpower  = 100
givepower = 80
pausetime = 20,20
sparkxy = -10,-74
sparkno = s8035
hitflag = MA
guardflag = MA
hitsound   = S240,0
guard.sparkno = s8056
guardsound = S150,1
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -4,-5
air.velocity = -5,-4
fall = 1
fall.recover = 0
envshake.time = 15 
envshake.ampl = 3

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇaÅ@ÇPíiñ⁄
[Statedef 11503]
type = S
movetype = A
physics = S
anim = 210
velset = 0,0
ctrl = 0
juggle = 1;9

[State 210, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 400)
value = 400,0

[State 210, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 210, 3]
type = HitDef
trigger1 = time = 0
persistent = 0
attr = S, NA
animtype  = Light
damage    = 15
getpower = 40
givepower = 20
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-46
hitsound   = S210,0
guardsound = S150,0
ground.type = Low
ground.slidetime = 9
guard.sparkno = s8056
ground.hittime  = 15
ground.velocity = -5
ground.cornerpush = 1
air.velocity = -3,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "A"
triggerall = Enemy,Alive = 1
trigger1 = Time > 8
trigger1 = Time < 20
trigger2 = movehit
value = 11504
ctrl = 0
[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "B"
triggerall = Enemy,Alive = 1
trigger1 = Time > 8
trigger1 = Time < 20
trigger2 = movehit
value = 11505
ctrl = 0

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇaÅ@ÇQíiñ⁄
[Statedef 11504]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 4,0
anim = 11504
juggle  = 2;9

[State 260, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,0

[State 260, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 260, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 47,0
channel = 2

[State 260 , 3]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Light
damage    = 33
getpower = 40
givepower = 20
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -16,-30
hitsound   = S210,0
guardsound = S150,0
guard.sparkno = s8056
ground.type = Low
ground.slidetime = 9
ground.hittime  = 15 ; 9 KOF99 default
ground.velocity = -5
ground.cornerpush = 1
air.velocity = -3,-2
air.cornerpush = 1
air.juggle = 9
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 1000, 0]
type = posadd
trigger1 = animelem = 4
x = 15
[State 1210, 1]
type = VelSet
trigger1 = animelem = 4,1
x = 0

[State 11504]
type = varset
trigger1 = animelem = 1
var(20) = 1

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "D"
triggerall = Enemy,Alive = 1
trigger1 = Time > 15
trigger1 = Time < 30
trigger2 = movehit
value = 11500
ctrl = 0

[State 11504]
type = varset
trigger1 = animtime = 0
var(20) = 0

[State 260 , 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇbÅ@ÇQíiñ⁄
[Statedef 11505]
type = S
movetype = A
physics = S
anim = 11505
velset = 0
ctrl = 0
juggle = 2;9

[State 230, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 400,1

[State 230, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,1

[State 230, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = Med
getpower = 80
givepower = 60
damage = 30
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = s8035
sparkxy = -10,-80
hitsound = S230,0
guardsound = S150,1
ground.type = High
guard.sparkno = s8056
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -4
guard.velocity = -5
air.velocity = -5,-3
airguard.velocity = -4,-1
air.cornerpush = 1
air.animtype = Back
air.fall = 1
fall.recover = 0 

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "C"
triggerall = Enemy,Alive = 1
trigger1 = Time > 10
trigger1 = Time < 30
trigger2 = movehit
value = 11506
ctrl = 0

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇbÅ@ÇRíiñ⁄
[Statedef 11506]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 6,0,0
anim = 301
juggle  = 3;9 + var(13)

[State 270, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 221,13

[State 270, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 270 , 4]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Medium
damage    = 30
getpower  = 80
givepower = 60
hitflag = MA
guardflag = MA
pausetime = 11,11    ;12,12
sparkxy = -10,-70
sparkno = s8035
hitsound   = S220,0
guardsound = S150,1
guard.sparkno = s8056
ground.type = High
ground.slidetime = 17 ; 17
ground.hittime  = 15 ;17
ground.velocity = -4
ground.cornerpush.veloff = -14
air.velocity = -2,-3
air.cornerpush = 1
;air.juggle = 9 + var(13)
air.animtype = Back

[State 301, 3]
type = EnvShake
trigger1 = AnimElem = 6
ampl = -5
time = 10

;[State 1000, 0]
;type = posadd
;trigger1 = animelem = 3
;x = 20
[State 1210, 1]
type = VelSet
trigger1 = animelem = 4,1
x = 0

[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "B"
triggerall = Enemy,Alive = 1
trigger1 = Time > 15
trigger1 = Time < 50
trigger2 = movehit
value = 11502
ctrl = 0
[State 310]
type = ChangeState
triggerall = command = "holdback" && command = "D"
triggerall = Enemy,Alive = 1
trigger1 = Time > 15
trigger1 = Time < 50
trigger2 = movehit
value = 11600
ctrl = 0

[State 270 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ÉXÉ^ÉCÉäÉbÉVÉÖÉAÅ[ÉgÇbÅ@ÇSíiñ⁄
[Statedef 11600]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0,0
anim = 11600
juggle  = 4;9 + var(13)

[State 1210, 1]
type = VelSet
trigger1 = animelem = 1
x = 0
[State 1210, 1]
type = VelSet
trigger1 = animelem = 1,1
x = 8

[State 270, 1]
type = PlaySnd
trigger1 = (Time = 0) && (random < 800)
value = 221,13

[State 270, 2]
type = PlaySnd
trigger1 = Time = 0
value = 600,0

[State 330 , 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = up
damage    = 60
getpower  = 100
givepower = 80
pausetime = 20,20
sparkxy = -10,-74
sparkno = s8035
hitflag = MA
guardflag = MA
hitsound   = S240,0
guardsound = S150,1
guard.sparkno = s8056
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -2,-10
air.velocity = -3,-8
fall = 1
fall.recover = 0
envshake.time = 15 
envshake.ampl = 3

[State 301, 3]
type = EnvShake
trigger1 = AnimElem = 6
ampl = -5
time = 10

[State 1000, 0]
type = posadd
trigger1 = animelem = 3
x = 20
[State 1210, 1]
type = VelSet
trigger1 = animelem = 3,1
x = 0

[State 270 , 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3352]
type = S
movetype = A
physics
anim = 3302
velset = 0,0
poweradd = -3000
ctrl = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time >= 8
time = 20
length = 10
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,220
palpostbright = 0,0,0
paladd = 10,10,25
palmul = .65,.65,.75
timegap = 1
framegap = 4
trans = "add" ;"none","add1","sub"
ignorehitpause = 1
persistent = 1


[State 1000]
type = nothitby
trigger1 = 1
value = SCA

[State 1000]
type = superpause
trigger1 = animelem = 5,0
time = 75
movetime = 75
darken = 2
anim = -1

[state 3900]
type = playsnd
trigger1 = time = 0
value = 800,3
volume = 255

[State 3900]
type = playsnd
trigger1 = time = 1
value = 800,5
volume = 255

[State 3900]
type = playsnd
trigger1 = time = 2
value = 800,4
volume = 255

[State 3900]
type = playsnd
trigger1 = time = 20
value = 800,6
volume = 255

[State 3290]
type = playsnd
trigger1 = time = 30
value = 800,8
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = 6865,3
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = 6865,3
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 6865,5
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = 6865,4
volume = 255

[State 1000]
type = envcolor
trigger1 = animelem = 5,0
time = 2
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 3800, flash1]
type = Explod
trigger1 = time = 0
anim = 7120
postype = p1
pos = 0,-110
sprpriority = -3
supermove = 1
bindtime = 1
color = A
ownpal = 1

[State 3800, flash2]
type = Explod
trigger1 = animelem = 5,10
anim = 7125
postype = p1
pos = 0,-110
sprpriority = -2
scale = .8,.8
supermove = 1
bindtime = 1
ownpal = 1
color = A

[State 1000]
type = explod
trigger1 = animelem = 5,20
anim = 9001
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -2
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 9011
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -1
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 13500
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -1
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 1000]
type = explod
trigger1 = animelem = 5
anim = 13000
postype = p1
pos = 0,-110
scale = 2,2
sprpriority = -1
supermove = 1
pausemove = 1
color = A
bindtime = 1

[State 1000]
type = explod
trigger1 = animelem = 9
anim = 3301
postype = p1
pos = 40,0
sprpriority = -1
ownpal = 1
removetime = -2
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 975]
type = envcolor
trigger1 = animelem = 5,0
time = 75
under = 1
value = 0, 0, 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 9
x = 15
y = 0
ignorehitpause = 1
persistent = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 9
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
air.animtype = hard
damage = 50
pausetime = 0 ,30
sparkno = S8030
guard.sparkno = S2201
sparkxy = 0,-60
hitsound = S240,0
guardsound = S6865,16      ;Low,Trip,None
ground.slidetime = 10
;guard.slidetime = 0
ground.hittime = 24
;guard.hittime = 0
air.hittime = 20
ground.velocity = 3,0
;guard.velocity = 0
;air.juggle = 0
sprpriority = 2
p1facing = 1
p1getp2facing = 0
p1stateno = 3354
p2stateno = 3208
forcestand = 1
fall = 0
kill = 0
guard.kill = 0
numhits = 1
givepower = 30,0
envshake.time = 10
envshake.freq = 50
envshake.ampl = 40
envshake.phase = 90
ignorehitpause = 1
persistent = 0

[State 1000]
type = envcolor
trigger1 = movehit
time = 5
ontop = 1
value = 240,240,240
ignorehitpause = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 9
value = 6865,15
volume = 255

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 3353

[Statedef 3353]
type = S
movetype = A
physics = N
anim = 3303
velset = 5,0,0
ctrl = 0
sprpriority = 2

[State 1000]
type = nothitby
trigger1 = time >= 20
value = SCA

[State 0, VelAdd]
type = VelAdd
trigger1 = time <= 35
x = -.1
ignorehitpause = 1
persistent =  1

[State 0, VelSet]
type = VelSet
trigger1 = time = 35
x = 0
ignorehitpause = 1
persistent = 0

[State 1000]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3354]
type = S
movetype = A
physics = N
anim = 3304
ctrl = 0
sprpriority = 2

[State 3800, 1]
type = explod
;trigger1 = facing = 1
trigger1 = !time
pos = 0,0
postype = BACK
anim = 10094
ID = 10094
bindtime = -1
removetime = -1
sprpriority = -5
ignorehitpause = 1
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, AttackMulSet]
type = AttackMulSet
triggerall = prevstateno = 3290
trigger1 = stateno = 3354
value = .8
ignorehitpause = 1
persistent = 1


[State 1000]
type = posadd
trigger1 = time <= 20
x = 10
ignorehitpause = 1
persistent = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time <= 20
x = -.5
ignorehitpause = 1
persistent = 1

[State 1000]
type = velset
trigger1 = time = 20
x = 0
ignorehitpause = 1
persistent = 1

[State 1000]
type = turn
trigger1 = animelem = 1
value = 1
persistent = 0

[State 1000]
type = playsnd
trigger1 = animelem = 2
value = 6865,17
volume = 255
priority = 5


[State 1000]
type = playsnd
trigger1 = animelem = 3
value = 6865,13
priority = 5
volume = 255

[State 0, Explod]
type = Explod
triggerall = time >= 300
triggerall = time <= 378
trigger1  = timemod = 5,0
anim = 2201
pos = -50+(random%100),-100+(random%80)
postype = p2  ;p2,front,back,left,right
bindtime = 1
removetime = -2
sprpriority = 9
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermove = 1

[State 0, BindToTarget]
type = BindToTarget
trigger1 = animelem = 17
time = 1
ID = -1
pos = 120,0
ignorehitpause = 1
persistent = 1

[State 2900, 1];
type = helper
trigger1 = time = 133
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 143
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 153
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 163
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 173
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 183
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 193
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 203
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3663
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 213
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 223
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 233
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 243
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 253
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 263
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 273
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 283
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 293
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 303
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3692
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 1000]
type = playsnd
triggerall = time >= 300
triggerall = time <= 378
trigger1 = timemod = 8,0
value = 6865,19
ignorehitpause = 1

[State 2900, 1];
type = helper
trigger1 = time = 313
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 323
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 333
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 338
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 343
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 348
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 353
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 358
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 363
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 368
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 373
persistent = 0
name = "Shadow"
pos = 60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 378
persistent = 0
name = "Shadow"
pos = -60,30-(random%80)
postype = P2
stateno = 3660+(random%6)
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 378
persistent = 0
name = "Shadow"
pos = -60,0
postype = P2
stateno = 3691
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 418
persistent = 0
name = "Shadow"
pos = 60,-40
postype = P2
stateno = 3666
helpertype = normal
keyctrl = 0
facing = -1
ownpal = 1

[State 2900, 1];
type = helper
trigger1 = time = 443
persistent = 0
name = "Shadow"
pos = -60,-50
postype = P2
stateno = 3667
helpertype = normal
keyctrl = 0
facing = 1
ownpal = 1

[State 1000]
type = changestate
trigger1 = time = 470
value = 3301
